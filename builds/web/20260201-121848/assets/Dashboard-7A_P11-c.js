const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DvoX4KWS.js","assets/index-waDy5pC-.css"])))=>i.map(i=>d[i]);
import{_ as sg,a as iW,b as aW,d as oW,r as Pn,I as wB,g as bB,e as se,f as sW,h as ee,i as lt,j as Vt,k as ut,l as Xt,m as Et,n as AW,o as hh,p as m_,q as va,s as cL,u as cW,t as Ft,v as lW,w as uW,x as fW,S as dW,y as fm,C as Zl}from"./index-DvoX4KWS.js";import{E as w_}from"./EmptyState-CMF6F_bM.js";import{C as b_,O as hW,a as pW}from"./index-CVB0USnY.js";import{d as B_}from"./Pagination-C9k_HsGX.js";import{R as gW}from"./ClockCircleOutlined-BZDhDpjQ.js";import{C as Jl}from"./index-Cpj4FwQo.js";import{P as vW}from"./progress-BlanDxPG.js";import{F as yW}from"./Table-ClhJkhx_.js";import{T as mW}from"./index-CqbZCbjk.js";import"./Skeleton-DJqBIV4h.js";import"./PlusOutlined-DIcF2SQF.js";function ne(t,n,e){return n=sg(n),iW(t,aW()?Reflect.construct(n,e||[],sg(t).constructor):n.apply(t,e))}function wW(t,n){if(t==null)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;e[r]=t[r]}return e}function za(t,n){if(t==null)return{};var e,r,i=wW(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)===-1&&{}.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}function As(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=oW(t))||n){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{o||e.return==null||e.return()}finally{if(s)throw a}}}}var bW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},sw.apply(this,arguments)}const BW=(t,n)=>Pn.createElement(wB,sw({},t,{ref:n,icon:bW})),x_=Pn.forwardRef(BW);var xW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Aw.apply(this,arguments)}const CW=(t,n)=>Pn.createElement(wB,Aw({},t,{ref:n,icon:xW})),C_=Pn.forwardRef(CW);var OW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"};function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},cw.apply(this,arguments)}const EW=(t,n)=>Pn.createElement(wB,cw({},t,{ref:n,icon:OW})),_W=Pn.forwardRef(EW);var dm={exports:{}},O_;function SW(){return O_||(O_=1,(function(t){var n=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function i(A,c,l){this.fn=A,this.context=c,this.once=l||!1}function a(A,c,l,u,f){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new i(l,u||A,f),h=e?e+c:c;return A._events[h]?A._events[h].fn?A._events[h]=[A._events[h],d]:A._events[h].push(d):(A._events[h]=d,A._eventsCount++),A}function o(A,c){--A._eventsCount===0?A._events=new r:delete A._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],l,u;if(this._eventsCount===0)return c;for(u in l=this._events)n.call(l,u)&&c.push(e?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(l)):c},s.prototype.listeners=function(c){var l=e?e+c:c,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,d=u.length,h=new Array(d);f<d;f++)h[f]=u[f].fn;return h},s.prototype.listenerCount=function(c){var l=e?e+c:c,u=this._events[l];return u?u.fn?1:u.length:0},s.prototype.emit=function(c,l,u,f,d,h){var p=e?e+c:c;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,m,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,l),!0;case 3:return v.fn.call(v.context,l,u),!0;case 4:return v.fn.call(v.context,l,u,f),!0;case 5:return v.fn.call(v.context,l,u,f,d),!0;case 6:return v.fn.call(v.context,l,u,f,d,h),!0}for(b=1,m=new Array(y-1);b<y;b++)m[b-1]=arguments[b];v.fn.apply(v.context,m)}else{var B=v.length,x;for(b=0;b<B;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,l);break;case 3:v[b].fn.call(v[b].context,l,u);break;case 4:v[b].fn.call(v[b].context,l,u,f);break;default:if(!m)for(x=1,m=new Array(y-1);x<y;x++)m[x-1]=arguments[x];v[b].fn.apply(v[b].context,m)}}return!0},s.prototype.on=function(c,l,u){return a(this,c,l,u,!1)},s.prototype.once=function(c,l,u){return a(this,c,l,u,!0)},s.prototype.removeListener=function(c,l,u,f){var d=e?e+c:c;if(!this._events[d])return this;if(!l)return o(this,d),this;var h=this._events[d];if(h.fn)h.fn===l&&(!f||h.once)&&(!u||h.context===u)&&o(this,d);else{for(var p=0,v=[],y=h.length;p<y;p++)(h[p].fn!==l||f&&!h[p].once||u&&h[p].context!==u)&&v.push(h[p]);v.length?this._events[d]=v.length===1?v[0]:v:o(this,d)}return this},s.prototype.removeAllListeners=function(c){var l;return c?(l=e?e+c:c,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=e,s.EventEmitter=s,t.exports=s})(dm)),dm.exports}var FW=SW();const lL=bB(FW);var pn=1e-6,qn=typeof Float32Array<"u"?Float32Array:Array,MW="zyx";function El(){var t=new qn(9);return qn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function kW(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function TW(t){var n=new qn(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function IW(t,n,e,r,i,a,o,s,A){var c=new qn(9);return c[0]=t,c[1]=n,c[2]=e,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=A,c}function LW(t,n){var e=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],A=n[6],c=n[7],l=n[8],u=l*o-s*c,f=-l*a+s*A,d=c*a-o*A,h=e*u+r*f+i*d;return h?(h=1/h,t[0]=u*h,t[1]=(-l*r+i*c)*h,t[2]=(s*r-i*o)*h,t[3]=f*h,t[4]=(l*e-i*A)*h,t[5]=(-s*e+i*a)*h,t[6]=d*h,t[7]=(-c*e+r*A)*h,t[8]=(o*e-r*a)*h,t):null}function QW(t,n,e){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],A=n[5],c=n[6],l=n[7],u=n[8],f=e[0],d=e[1],h=e[2],p=e[3],v=e[4],y=e[5],m=e[6],b=e[7],B=e[8];return t[0]=f*r+d*o+h*c,t[1]=f*i+d*s+h*l,t[2]=f*a+d*A+h*u,t[3]=p*r+v*o+y*c,t[4]=p*i+v*s+y*l,t[5]=p*a+v*A+y*u,t[6]=m*r+b*o+B*c,t[7]=m*i+b*s+B*l,t[8]=m*a+b*A+B*u,t}function UW(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function PW(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function RW(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}var NW=QW;function Ne(){var t=new qn(16);return qn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function BB(t){var n=new qn(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function il(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function uL(t,n,e,r,i,a,o,s,A,c,l,u,f,d,h,p){var v=new qn(16);return v[0]=t,v[1]=n,v[2]=e,v[3]=r,v[4]=i,v[5]=a,v[6]=o,v[7]=s,v[8]=A,v[9]=c,v[10]=l,v[11]=u,v[12]=f,v[13]=d,v[14]=h,v[15]=p,v}function lw(t,n,e,r,i,a,o,s,A,c,l,u,f,d,h,p,v){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=A,t[8]=c,t[9]=l,t[10]=u,t[11]=f,t[12]=d,t[13]=h,t[14]=p,t[15]=v,t}function _s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fL(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],a=n[6],o=n[7],s=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=a,t[11]=n[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function ya(t,n){var e=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],A=n[6],c=n[7],l=n[8],u=n[9],f=n[10],d=n[11],h=n[12],p=n[13],v=n[14],y=n[15],m=e*s-r*o,b=e*A-i*o,B=e*c-a*o,x=r*A-i*s,C=r*c-a*s,O=i*c-a*A,_=l*p-u*h,S=l*v-f*h,F=l*y-d*h,M=u*v-f*p,T=u*y-d*p,k=f*y-d*v,L=m*k-b*T+B*M+x*F-C*S+O*_;return L?(L=1/L,t[0]=(s*k-A*T+c*M)*L,t[1]=(i*T-r*k-a*M)*L,t[2]=(p*O-v*C+y*x)*L,t[3]=(f*C-u*O-d*x)*L,t[4]=(A*F-o*k-c*S)*L,t[5]=(e*k-i*F+a*S)*L,t[6]=(v*B-h*O-y*b)*L,t[7]=(l*O-f*B+d*b)*L,t[8]=(o*T-s*F+c*_)*L,t[9]=(r*F-e*T-a*_)*L,t[10]=(h*C-p*B+y*m)*L,t[11]=(u*B-l*C-d*m)*L,t[12]=(s*S-o*M-A*_)*L,t[13]=(e*M-r*S+i*_)*L,t[14]=(p*b-h*x-v*m)*L,t[15]=(l*x-u*b+f*m)*L,t):null}function DW(t,n){var e=n[0],r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],A=n[6],c=n[7],l=n[8],u=n[9],f=n[10],d=n[11],h=n[12],p=n[13],v=n[14],y=n[15],m=e*s-r*o,b=e*A-i*o,B=e*c-a*o,x=r*A-i*s,C=r*c-a*s,O=i*c-a*A,_=l*p-u*h,S=l*v-f*h,F=l*y-d*h,M=u*v-f*p,T=u*y-d*p,k=f*y-d*v;return t[0]=s*k-A*T+c*M,t[1]=i*T-r*k-a*M,t[2]=p*O-v*C+y*x,t[3]=f*C-u*O-d*x,t[4]=A*F-o*k-c*S,t[5]=e*k-i*F+a*S,t[6]=v*B-h*O-y*b,t[7]=l*O-f*B+d*b,t[8]=o*T-s*F+c*_,t[9]=r*F-e*T-a*_,t[10]=h*C-p*B+y*m,t[11]=u*B-l*C-d*m,t[12]=s*S-o*M-A*_,t[13]=e*M-r*S+i*_,t[14]=p*b-h*x-v*m,t[15]=l*x-u*b+f*m,t}function dL(t){var n=t[0],e=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],A=t[7],c=t[8],l=t[9],u=t[10],f=t[11],d=t[12],h=t[13],p=t[14],v=t[15],y=n*o-e*a,m=n*s-r*a,b=e*s-r*o,B=c*h-l*d,x=c*p-u*d,C=l*p-u*h,O=n*C-e*x+r*B,_=a*C-o*x+s*B,S=c*b-l*m+u*y,F=d*b-h*m+p*y;return A*O-i*_+v*S-f*F}function Tr(t,n,e){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],A=n[5],c=n[6],l=n[7],u=n[8],f=n[9],d=n[10],h=n[11],p=n[12],v=n[13],y=n[14],m=n[15],b=e[0],B=e[1],x=e[2],C=e[3];return t[0]=b*r+B*s+x*u+C*p,t[1]=b*i+B*A+x*f+C*v,t[2]=b*a+B*c+x*d+C*y,t[3]=b*o+B*l+x*h+C*m,b=e[4],B=e[5],x=e[6],C=e[7],t[4]=b*r+B*s+x*u+C*p,t[5]=b*i+B*A+x*f+C*v,t[6]=b*a+B*c+x*d+C*y,t[7]=b*o+B*l+x*h+C*m,b=e[8],B=e[9],x=e[10],C=e[11],t[8]=b*r+B*s+x*u+C*p,t[9]=b*i+B*A+x*f+C*v,t[10]=b*a+B*c+x*d+C*y,t[11]=b*o+B*l+x*h+C*m,b=e[12],B=e[13],x=e[14],C=e[15],t[12]=b*r+B*s+x*u+C*p,t[13]=b*i+B*A+x*f+C*v,t[14]=b*a+B*c+x*d+C*y,t[15]=b*o+B*l+x*h+C*m,t}function jc(t,n,e){var r=e[0],i=e[1],a=e[2],o,s,A,c,l,u,f,d,h,p,v,y;return n===t?(t[12]=n[0]*r+n[4]*i+n[8]*a+n[12],t[13]=n[1]*r+n[5]*i+n[9]*a+n[13],t[14]=n[2]*r+n[6]*i+n[10]*a+n[14],t[15]=n[3]*r+n[7]*i+n[11]*a+n[15]):(o=n[0],s=n[1],A=n[2],c=n[3],l=n[4],u=n[5],f=n[6],d=n[7],h=n[8],p=n[9],v=n[10],y=n[11],t[0]=o,t[1]=s,t[2]=A,t[3]=c,t[4]=l,t[5]=u,t[6]=f,t[7]=d,t[8]=h,t[9]=p,t[10]=v,t[11]=y,t[12]=o*r+l*i+h*a+n[12],t[13]=s*r+u*i+p*a+n[13],t[14]=A*r+f*i+v*a+n[14],t[15]=c*r+d*i+y*a+n[15]),t}function hL(t,n,e){var r=e[0],i=e[1],a=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=n[11]*a,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function HW(t,n,e,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),A,c,l,u,f,d,h,p,v,y,m,b,B,x,C,O,_,S,F,M,T,k,L,U;return s<pn?null:(s=1/s,i*=s,a*=s,o*=s,A=Math.sin(e),c=Math.cos(e),l=1-c,u=n[0],f=n[1],d=n[2],h=n[3],p=n[4],v=n[5],y=n[6],m=n[7],b=n[8],B=n[9],x=n[10],C=n[11],O=i*i*l+c,_=a*i*l+o*A,S=o*i*l-a*A,F=i*a*l-o*A,M=a*a*l+c,T=o*a*l+i*A,k=i*o*l+a*A,L=a*o*l-i*A,U=o*o*l+c,t[0]=u*O+p*_+b*S,t[1]=f*O+v*_+B*S,t[2]=d*O+y*_+x*S,t[3]=h*O+m*_+C*S,t[4]=u*F+p*M+b*T,t[5]=f*F+v*M+B*T,t[6]=d*F+y*M+x*T,t[7]=h*F+m*M+C*T,t[8]=u*k+p*L+b*U,t[9]=f*k+v*L+B*U,t[10]=d*k+y*L+x*U,t[11]=h*k+m*L+C*U,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function pL(t,n,e){var r=Math.sin(e),i=Math.cos(e),a=n[4],o=n[5],s=n[6],A=n[7],c=n[8],l=n[9],u=n[10],f=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=a*i+c*r,t[5]=o*i+l*r,t[6]=s*i+u*r,t[7]=A*i+f*r,t[8]=c*i-a*r,t[9]=l*i-o*r,t[10]=u*i-s*r,t[11]=f*i-A*r,t}function gL(t,n,e){var r=Math.sin(e),i=Math.cos(e),a=n[0],o=n[1],s=n[2],A=n[3],c=n[8],l=n[9],u=n[10],f=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*i-c*r,t[1]=o*i-l*r,t[2]=s*i-u*r,t[3]=A*i-f*r,t[8]=a*r+c*i,t[9]=o*r+l*i,t[10]=s*r+u*i,t[11]=A*r+f*i,t}function jW(t,n,e){var r=Math.sin(e),i=Math.cos(e),a=n[0],o=n[1],s=n[2],A=n[3],c=n[4],l=n[5],u=n[6],f=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*i+c*r,t[1]=o*i+l*r,t[2]=s*i+u*r,t[3]=A*i+f*r,t[4]=c*i-a*r,t[5]=l*i-o*r,t[6]=u*i-s*r,t[7]=f*i-A*r,t}function Oo(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function cs(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vL(t,n,e){var r=e[0],i=e[1],a=e[2],o=Math.sqrt(r*r+i*i+a*a),s,A,c;return o<pn?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(n),A=Math.cos(n),c=1-A,t[0]=r*r*c+A,t[1]=i*r*c+a*s,t[2]=a*r*c-i*s,t[3]=0,t[4]=r*i*c-a*s,t[5]=i*i*c+A,t[6]=a*i*c+r*s,t[7]=0,t[8]=r*a*c+i*s,t[9]=i*a*c-r*s,t[10]=a*a*c+A,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function yL(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mL(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function uw(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function wL(t,n,e){var r=n[0],i=n[1],a=n[2],o=n[3],s=r+r,A=i+i,c=a+a,l=r*s,u=r*A,f=r*c,d=i*A,h=i*c,p=a*c,v=o*s,y=o*A,m=o*c;return t[0]=1-(d+p),t[1]=u+m,t[2]=f-y,t[3]=0,t[4]=u-m,t[5]=1-(l+p),t[6]=h+v,t[7]=0,t[8]=f+y,t[9]=h-v,t[10]=1-(l+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function $W(t,n){var e=new qn(3),r=-n[0],i=-n[1],a=-n[2],o=n[3],s=n[4],A=n[5],c=n[6],l=n[7],u=r*r+i*i+a*a+o*o;return u>0?(e[0]=(s*o+l*r+A*a-c*i)*2/u,e[1]=(A*o+l*i+c*r-s*a)*2/u,e[2]=(c*o+l*a+s*i-A*r)*2/u):(e[0]=(s*o+l*r+A*a-c*i)*2,e[1]=(A*o+l*i+c*r-s*a)*2,e[2]=(c*o+l*a+s*i-A*r)*2),wL(t,n,e),t}function Ag(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function al(t,n){var e=n[0],r=n[1],i=n[2],a=n[4],o=n[5],s=n[6],A=n[8],c=n[9],l=n[10];return t[0]=Math.sqrt(e*e+r*r+i*i),t[1]=Math.sqrt(a*a+o*o+s*s),t[2]=Math.sqrt(A*A+c*c+l*l),t}function cg(t,n){var e=new qn(3);al(e,n);var r=1/e[0],i=1/e[1],a=1/e[2],o=n[0]*r,s=n[1]*i,A=n[2]*a,c=n[4]*r,l=n[5]*i,u=n[6]*a,f=n[8]*r,d=n[9]*i,h=n[10]*a,p=o+l+h,v=0;return p>0?(v=Math.sqrt(p+1)*2,t[3]=.25*v,t[0]=(u-d)/v,t[1]=(f-A)/v,t[2]=(s-c)/v):o>l&&o>h?(v=Math.sqrt(1+o-l-h)*2,t[3]=(u-d)/v,t[0]=.25*v,t[1]=(s+c)/v,t[2]=(f+A)/v):l>h?(v=Math.sqrt(1+l-o-h)*2,t[3]=(f-A)/v,t[0]=(s+c)/v,t[1]=.25*v,t[2]=(u+d)/v):(v=Math.sqrt(1+h-o-l)*2,t[3]=(s-c)/v,t[0]=(f+A)/v,t[1]=(u+d)/v,t[2]=.25*v),t}function GW(t,n,e,r){n[0]=r[12],n[1]=r[13],n[2]=r[14];var i=r[0],a=r[1],o=r[2],s=r[4],A=r[5],c=r[6],l=r[8],u=r[9],f=r[10];e[0]=Math.sqrt(i*i+a*a+o*o),e[1]=Math.sqrt(s*s+A*A+c*c),e[2]=Math.sqrt(l*l+u*u+f*f);var d=1/e[0],h=1/e[1],p=1/e[2],v=i*d,y=a*h,m=o*p,b=s*d,B=A*h,x=c*p,C=l*d,O=u*h,_=f*p,S=v+B+_,F=0;return S>0?(F=Math.sqrt(S+1)*2,t[3]=.25*F,t[0]=(x-O)/F,t[1]=(C-m)/F,t[2]=(y-b)/F):v>B&&v>_?(F=Math.sqrt(1+v-B-_)*2,t[3]=(x-O)/F,t[0]=.25*F,t[1]=(y+b)/F,t[2]=(C+m)/F):B>_?(F=Math.sqrt(1+B-v-_)*2,t[3]=(C-m)/F,t[0]=(y+b)/F,t[1]=.25*F,t[2]=(x+O)/F):(F=Math.sqrt(1+_-v-B)*2,t[3]=(y-b)/F,t[0]=(C+m)/F,t[1]=(x+O)/F,t[2]=.25*F),t}function KW(t,n,e,r){var i=n[0],a=n[1],o=n[2],s=n[3],A=i+i,c=a+a,l=o+o,u=i*A,f=i*c,d=i*l,h=a*c,p=a*l,v=o*l,y=s*A,m=s*c,b=s*l,B=r[0],x=r[1],C=r[2];return t[0]=(1-(h+v))*B,t[1]=(f+b)*B,t[2]=(d-m)*B,t[3]=0,t[4]=(f-b)*x,t[5]=(1-(u+v))*x,t[6]=(p+y)*x,t[7]=0,t[8]=(d+m)*C,t[9]=(p-y)*C,t[10]=(1-(u+h))*C,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Gu(t,n,e,r,i){var a=n[0],o=n[1],s=n[2],A=n[3],c=a+a,l=o+o,u=s+s,f=a*c,d=a*l,h=a*u,p=o*l,v=o*u,y=s*u,m=A*c,b=A*l,B=A*u,x=r[0],C=r[1],O=r[2],_=i[0],S=i[1],F=i[2],M=(1-(p+y))*x,T=(d+B)*x,k=(h-b)*x,L=(d-B)*C,U=(1-(f+y))*C,N=(v+m)*C,P=(h+b)*O,Q=(v-m)*O,R=(1-(f+p))*O;return t[0]=M,t[1]=T,t[2]=k,t[3]=0,t[4]=L,t[5]=U,t[6]=N,t[7]=0,t[8]=P,t[9]=Q,t[10]=R,t[11]=0,t[12]=e[0]+_-(M*_+L*S+P*F),t[13]=e[1]+S-(T*_+U*S+Q*F),t[14]=e[2]+F-(k*_+N*S+R*F),t[15]=1,t}function xB(t,n){var e=n[0],r=n[1],i=n[2],a=n[3],o=e+e,s=r+r,A=i+i,c=e*o,l=r*o,u=r*s,f=i*o,d=i*s,h=i*A,p=a*o,v=a*s,y=a*A;return t[0]=1-u-h,t[1]=l+y,t[2]=f-v,t[3]=0,t[4]=l-y,t[5]=1-c-h,t[6]=d+p,t[7]=0,t[8]=f+v,t[9]=d-p,t[10]=1-c-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zW(t,n,e,r,i,a,o){var s=1/(e-n),A=1/(i-r),c=1/(a-o);return t[0]=a*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*A,t[6]=0,t[7]=0,t[8]=(e+n)*s,t[9]=(i+r)*A,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function bL(t,n,e,r,i){var a=1/Math.tan(n/2);if(t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var o=1/(r-i);t[10]=(i+r)*o,t[14]=2*i*r*o}else t[10]=-1,t[14]=-2*r;return t}var WW=bL;function VW(t,n,e,r,i){var a=1/Math.tan(n/2);if(t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var o=1/(r-i);t[10]=i*o,t[14]=i*r*o}else t[10]=-1,t[14]=-r;return t}function YW(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),a=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),s=Math.tan(n.rightDegrees*Math.PI/180),A=2/(o+s),c=2/(i+a);return t[0]=A,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((o-s)*A*.5),t[9]=(i-a)*c*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function BL(t,n,e,r,i,a,o){var s=1/(n-e),A=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*A,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+e)*s,t[13]=(i+r)*A,t[14]=(o+a)*c,t[15]=1,t}var xL=BL;function CL(t,n,e,r,i,a,o){var s=1/(n-e),A=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*A,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(n+e)*s,t[13]=(i+r)*A,t[14]=a*c,t[15]=1,t}function OL(t,n,e,r){var i,a,o,s,A,c,l,u,f,d,h=n[0],p=n[1],v=n[2],y=r[0],m=r[1],b=r[2],B=e[0],x=e[1],C=e[2];return Math.abs(h-B)<pn&&Math.abs(p-x)<pn&&Math.abs(v-C)<pn?_s(t):(l=h-B,u=p-x,f=v-C,d=1/Math.sqrt(l*l+u*u+f*f),l*=d,u*=d,f*=d,i=m*f-b*u,a=b*l-y*f,o=y*u-m*l,d=Math.sqrt(i*i+a*a+o*o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=u*o-f*a,A=f*i-l*o,c=l*a-u*i,d=Math.sqrt(s*s+A*A+c*c),d?(d=1/d,s*=d,A*=d,c*=d):(s=0,A=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=a,t[5]=A,t[6]=u,t[7]=0,t[8]=o,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*h+a*p+o*v),t[13]=-(s*h+A*p+c*v),t[14]=-(l*h+u*p+f*v),t[15]=1,t)}function XW(t,n,e,r){var i=n[0],a=n[1],o=n[2],s=r[0],A=r[1],c=r[2],l=i-e[0],u=a-e[1],f=o-e[2],d=l*l+u*u+f*f;d>0&&(d=1/Math.sqrt(d),l*=d,u*=d,f*=d);var h=A*f-c*u,p=c*l-s*f,v=s*u-A*l;return d=h*h+p*p+v*v,d>0&&(d=1/Math.sqrt(d),h*=d,p*=d,v*=d),t[0]=h,t[1]=p,t[2]=v,t[3]=0,t[4]=u*v-f*p,t[5]=f*h-l*v,t[6]=l*p-u*h,t[7]=0,t[8]=l,t[9]=u,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function qW(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function ZW(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8]+t[9]*t[9]+t[10]*t[10]+t[11]*t[11]+t[12]*t[12]+t[13]*t[13]+t[14]*t[14]+t[15]*t[15])}function JW(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function EL(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function tV(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function eV(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function fw(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function nV(t,n){var e=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],A=t[6],c=t[7],l=t[8],u=t[9],f=t[10],d=t[11],h=t[12],p=t[13],v=t[14],y=t[15],m=n[0],b=n[1],B=n[2],x=n[3],C=n[4],O=n[5],_=n[6],S=n[7],F=n[8],M=n[9],T=n[10],k=n[11],L=n[12],U=n[13],N=n[14],P=n[15];return Math.abs(e-m)<=pn*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(r-b)<=pn*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-B)<=pn*Math.max(1,Math.abs(i),Math.abs(B))&&Math.abs(a-x)<=pn*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-C)<=pn*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(s-O)<=pn*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(A-_)<=pn*Math.max(1,Math.abs(A),Math.abs(_))&&Math.abs(c-S)<=pn*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(l-F)<=pn*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(u-M)<=pn*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(f-T)<=pn*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-k)<=pn*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(h-L)<=pn*Math.max(1,Math.abs(h),Math.abs(L))&&Math.abs(p-U)<=pn*Math.max(1,Math.abs(p),Math.abs(U))&&Math.abs(v-N)<=pn*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(y-P)<=pn*Math.max(1,Math.abs(y),Math.abs(P))}var CB=Tr,rV=EL;const iV=Object.freeze(Object.defineProperty({__proto__:null,add:JW,adjoint:DW,clone:BB,copy:il,create:Ne,decompose:GW,determinant:dL,equals:nV,exactEquals:fw,frob:ZW,fromQuat:xB,fromQuat2:$W,fromRotation:vL,fromRotationTranslation:wL,fromRotationTranslationScale:KW,fromRotationTranslationScaleOrigin:Gu,fromScaling:cs,fromTranslation:Oo,fromValues:uL,fromXRotation:yL,fromYRotation:mL,fromZRotation:uw,frustum:zW,getRotation:cg,getScaling:al,getTranslation:Ag,identity:_s,invert:ya,lookAt:OL,mul:CB,multiply:Tr,multiplyScalar:tV,multiplyScalarAndAdd:eV,ortho:xL,orthoNO:BL,orthoZO:CL,perspective:WW,perspectiveFromFieldOfView:YW,perspectiveNO:bL,perspectiveZO:VW,rotate:HW,rotateX:pL,rotateY:gL,rotateZ:jW,scale:hL,set:lw,str:qW,sub:rV,subtract:EL,targetTo:XW,translate:jc,transpose:fL},Symbol.toStringTag,{value:"Module"}));function ce(){var t=new qn(3);return qn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Co(t){var n=new qn(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function Eo(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function Se(t,n,e){var r=new qn(3);return r[0]=t,r[1]=n,r[2]=e,r}function Ha(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function kr(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function bs(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function dw(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function aV(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function oV(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function sV(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function lg(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function AV(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(e*e+r*r+i*i)}function CA(t,n){var e=n[0],r=n[1],i=n[2],a=e*e+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t}function ja(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Np(t,n,e){var r=n[0],i=n[1],a=n[2],o=e[0],s=e[1],A=e[2];return t[0]=i*A-a*s,t[1]=a*o-r*A,t[2]=r*s-i*o,t}function hw(t,n,e,r){var i=n[0],a=n[1],o=n[2];return t[0]=i+r*(e[0]-i),t[1]=a+r*(e[1]-a),t[2]=o+r*(e[2]-o),t}function Fn(t,n,e){var r=n[0],i=n[1],a=n[2],o=e[3]*r+e[7]*i+e[11]*a+e[15];return o=o||1,t[0]=(e[0]*r+e[4]*i+e[8]*a+e[12])/o,t[1]=(e[1]*r+e[5]*i+e[9]*a+e[13])/o,t[2]=(e[2]*r+e[6]*i+e[10]*a+e[14])/o,t}function _L(t,n,e){var r=n[0],i=n[1],a=n[2];return t[0]=r*e[0]+i*e[3]+a*e[6],t[1]=r*e[1]+i*e[4]+a*e[7],t[2]=r*e[2]+i*e[5]+a*e[8],t}function cV(t,n,e){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],A=n[1],c=n[2],l=i*c-a*A,u=a*s-r*c,f=r*A-i*s;return l=l+l,u=u+u,f=f+f,t[0]=s+o*l+i*f-a*u,t[1]=A+o*u+a*l-r*f,t[2]=c+o*f+r*u-i*l,t}function tu(t,n){var e=t[0],r=t[1],i=t[2],a=n[0],o=n[1],s=n[2];return Math.abs(e-a)<=pn*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-o)<=pn*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=pn*Math.max(1,Math.abs(i),Math.abs(s))}var SL=dw,E_=AV,FL=Eo;(function(){var t=ce();return function(n,e,r,i,a,o){var s,A;for(e||(e=3),r||(r=0),i?A=Math.min(i*e+r,n.length):A=n.length,s=r;s<A;s+=e)t[0]=n[s],t[1]=n[s+1],t[2]=n[s+2],a(t,t,o),n[s]=t[0],n[s+1]=t[1],n[s+2]=t[2];return n}})();function $a(){var t=new qn(4);return qn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function mu(t,n,e,r){var i=new qn(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function lV(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function uV(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function fV(t,n){var e=n[0],r=n[1],i=n[2],a=n[3],o=e*e+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=e*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function Ga(t,n,e){var r=n[0],i=n[1],a=n[2],o=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*a+e[12]*o,t[1]=e[1]*r+e[5]*i+e[9]*a+e[13]*o,t[2]=e[2]*r+e[6]*i+e[10]*a+e[14]*o,t[3]=e[3]*r+e[7]*i+e[11]*a+e[15]*o,t}(function(){var t=$a();return function(n,e,r,i,a,o){var s,A;for(e||(e=4),r||(r=0),i?A=Math.min(i*e+r,n.length):A=n.length,s=r;s<A;s+=e)t[0]=n[s],t[1]=n[s+1],t[2]=n[s+2],t[3]=n[s+3],a(t,t,o),n[s]=t[0],n[s+1]=t[1],n[s+2]=t[2],n[s+3]=t[3];return n}})();function ir(){var t=new qn(4);return qn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function us(t,n,e){e=e*.5;var r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function Bs(t,n,e){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],A=e[1],c=e[2],l=e[3];return t[0]=r*l+o*s+i*c-a*A,t[1]=i*l+o*A+a*s-r*c,t[2]=a*l+o*c+r*A-i*s,t[3]=o*l-r*s-i*A-a*c,t}function hm(t,n,e,r){var i=n[0],a=n[1],o=n[2],s=n[3],A=e[0],c=e[1],l=e[2],u=e[3],f,d,h,p,v;return d=i*A+a*c+o*l+s*u,d<0&&(d=-d,A=-A,c=-c,l=-l,u=-u),1-d>pn?(f=Math.acos(d),h=Math.sin(f),p=Math.sin((1-r)*f)/h,v=Math.sin(r*f)/h):(p=1-r,v=r),t[0]=p*i+v*A,t[1]=p*a+v*c,t[2]=p*o+v*l,t[3]=p*s+v*u,t}function pm(t,n){var e=n[0],r=n[1],i=n[2],a=n[3],o=e*e+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-e*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function dV(t,n){var e=n[0]+n[4]+n[8],r;if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(n[i*3+i]-n[a*3+a]-n[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(n[a*3+o]-n[o*3+a])*r,t[a]=(n[a*3+i]+n[i*3+a])*r,t[o]=(n[o*3+i]+n[i*3+o])*r}return t}function ph(t,n,e,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:MW,a=Math.PI/360;n*=a,r*=a,e*=a;var o=Math.sin(n),s=Math.cos(n),A=Math.sin(e),c=Math.cos(e),l=Math.sin(r),u=Math.cos(r);switch(i){case"xyz":t[0]=o*c*u+s*A*l,t[1]=s*A*u-o*c*l,t[2]=s*c*l+o*A*u,t[3]=s*c*u-o*A*l;break;case"xzy":t[0]=o*c*u-s*A*l,t[1]=s*A*u-o*c*l,t[2]=s*c*l+o*A*u,t[3]=s*c*u+o*A*l;break;case"yxz":t[0]=o*c*u+s*A*l,t[1]=s*A*u-o*c*l,t[2]=s*c*l-o*A*u,t[3]=s*c*u+o*A*l;break;case"yzx":t[0]=o*c*u+s*A*l,t[1]=s*A*u+o*c*l,t[2]=s*c*l-o*A*u,t[3]=s*c*u-o*A*l;break;case"zxy":t[0]=o*c*u-s*A*l,t[1]=s*A*u+o*c*l,t[2]=s*c*l+o*A*u,t[3]=s*c*u-o*A*l;break;case"zyx":t[0]=o*c*u-s*A*l,t[1]=s*A*u+o*c*l,t[2]=s*c*l-o*A*u,t[3]=s*c*u+o*A*l;break;default:throw new Error("Unknown angle order "+i)}return t}var hV=mu,gh=lV,ML=uV,__=Bs,ug=fV;(function(){var t=ce(),n=Se(1,0,0),e=Se(0,1,0);return function(r,i,a){var o=ja(i,a);return o<-.999999?(Np(t,n,i),FL(t)<1e-6&&Np(t,e,i),CA(t,t),us(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Np(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,ug(r,r))}})();(function(){var t=ir(),n=ir();return function(e,r,i,a,o,s){return hm(t,r,o,s),hm(n,i,a,s),hm(e,t,n,2*s*(1-s)),e}})();(function(){var t=El();return function(n,e,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],ug(n,dV(n,t))}})();function OB(){var t=new qn(2);return qn!=Float32Array&&(t[0]=0,t[1]=0),t}function pV(t,n){return t[0]=n[0],t[1]=n[1],t}function gV(t,n,e){return t[0]=n,t[1]=e,t}function vV(t,n){var e=n[0],r=n[1],i=e*e+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=n[0]*i,t[1]=n[1]*i,t}function yV(t,n){return t[0]*n[0]+t[1]*n[1]}function mV(t,n){return t[0]===n[0]&&t[1]===n[1]}(function(){var t=OB();return function(n,e,r,i,a,o){var s,A;for(e||(e=2),r||(r=0),i?A=Math.min(i*e+r,n.length):A=n.length,s=r;s<A;s+=e)t[0]=n[s],t[1]=n[s+1],a(t,t,o),n[s]=t[0],n[s+1]=t[1];return n}})();var kA=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},kL=function(t,n){if(!kA(t))return t;for(var e=[],r=0;r<t.length;r++){var i=t[r];n(i,r)&&e.push(i)}return e};function or(t){return typeof t=="function"}function Rt(t){return t==null}function Nn(t){return Array.isArray(t)}const qf=(function(t){var n=typeof t;return t!==null&&n==="object"||n==="function"});function EB(t,n){if(t){var e;if(Nn(t))for(var r=0,i=t.length;r<i&&(e=n(t[r],r),e!==!1);r++);else if(qf(t)){for(var a in t)if(t.hasOwnProperty(a)&&(e=n(t[a],a),e===!1))break}}}var R0=Object.keys?function(t){return Object.keys(t)}:function(t){var n=[];return EB(t,function(e,r){or(t)&&r==="prototype"||n.push(r)}),n};function wV(t,n){var e=R0(n),r=e.length;if(Rt(t))return!r;for(var i=0;i<r;i+=1){var a=e[i];if(n[a]!==t[a]||!(a in t))return!1}return!0}var pw=function(t){return typeof t=="object"&&t!==null},bV={}.toString,TL=function(t,n){return bV.call(t)==="[object "+n+"]"},Uo=function(t){if(!pw(t)||!TL(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n};function ol(t,n){if(!Nn(t))return null;var e;if(or(n)&&(e=n),Uo(n)&&(e=function(i){return wV(i,n)}),e){for(var r=0;r<t.length;r+=1)if(e(t[r]))return t[r]}return null}var BV=function(t){if(!Nn(t))return[];for(var n=[],e=0;e<t.length;e++)n=n.concat(t[e]);return n};function fg(t){if(!Array.isArray(t))return-1/0;var n=t.length;if(!n)return-1/0;for(var e=t[0],r=1;r<n;r++)e=Math.max(e,t[r]);return e}const dg=(function(t){if(Nn(t))return t.reduce(function(n,e){return Math.min(n,e)},t[0])});var IL=function(t,n,e){if(!Nn(t)&&!Uo(t))return t;var r=e;return EB(t,function(i,a){r=n(r,i,a)}),r};function sn(t){return typeof t=="string"}function xV(t){if(kA(t))return t[0]}function mi(t){if(kA(t)){var n=t;return n[n.length-1]}}var In=function(t,n,e){return t<n?n:t>e?e:t};function rn(t){return typeof t=="number"}var CV=1e-5;function $c(t,n,e){return e===void 0&&(e=CV),t===n||Math.abs(t-n)<e}const OV=(function(t,n){if(Nn(t)){for(var e,r=-1/0,i=0;i<t.length;i++){var a=t[i],o=or(n)?n(a):a[n];o>r&&(e=a,r=o)}return e}}),EV=(function(t,n){if(Nn(t)){for(var e,r=1/0,i=0;i<t.length;i++){var a=t[i],o=or(n)?n(a):a[n];o<r&&(e=a,r=o)}return e}});var LL=function(t,n){return(t%n+n)%n};const QL=(function(t){return Rt(t)?"":t.toString()});var UL=function(t){var n=QL(t);return n.charAt(0).toLowerCase()+n.substring(1)};function _V(t,n){return!t||!n?t:t.replace(/\\?\{([^{}]+)\}/g,function(e,r){return e.charAt(0)==="\\"?e.slice(1):n[r]===void 0?"":n[r]})}var Qs=function(t){var n=QL(t);return n.charAt(0).toUpperCase()+n.substring(1)},S_=function(t){return TL(t,"Boolean")};function PL(t){return t===null}var We=function(t){return t===void 0};function SV(t){return t instanceof Element||t instanceof Document}function F_(t,n){for(var e in n)n.hasOwnProperty(e)&&e!=="constructor"&&n[e]!==void 0&&(t[e]=n[e])}function RL(t,n,e,r){return n&&F_(t,n),e&&F_(t,e),t}var uf=function(t){if(typeof t!="object"||t===null)return t;var n;if(Nn(t)){n=[];for(var e=0,r=t.length;e<r;e++)typeof t[e]=="object"&&t[e]!=null?n[e]=uf(t[e]):n[e]=t[e]}else{n={};for(var i in t)typeof t[i]=="object"&&t[i]!=null?n[i]=uf(t[i]):n[i]=t[i]}return n};function NL(t,n,e){var r;return function(){var i=this,a=arguments,o=function(){r=null,t.apply(i,a)};clearTimeout(r),r=setTimeout(o,n)}}function FV(t){var n,e,r,i=t;function a(s,A){++n>i&&(r=e,o(1),++n),e[s]=A}function o(s){n=0,e=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return e[s]!==void 0||r[s]!==void 0},get:function(s){var A=e[s];if(A!==void 0)return A;if((A=r[s])!==void 0)return a(s,A),A},set:function(s,A){e[s]!==void 0?e[s]=A:a(s,A)}}}var gm=new Map;function MV(t,n,e){var r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=n?n.apply(this,i):i[0];gm.has(t)||gm.set(t,FV(e));var s=gm.get(t);if(s.has(o))return s.get(o);var A=t.apply(this,i);return s.set(o,A),A};return r}var kV=5;function TV(t,n){if(Object.hasOwn)return Object.hasOwn(t,n);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),n)}function DL(t,n,e,r){e=e||0,r=r||kV;for(var i in n)if(TV(n,i)){var a=n[i];a!==null&&Uo(a)?(Uo(t[i])||(t[i]={}),e<r?DL(t[i],a,e+1,r):t[i]=n[i]):Nn(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var at=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r+=1)DL(t,n[r]);return t},HL=function(t,n){if(!kA(t))return-1;var e=Array.prototype.indexOf;if(e)return e.call(t,n);for(var r=-1,i=0;i<t.length;i++)if(t[i]===n){r=i;break}return r},ff=function(t,n){if(t===n)return!0;if(!t||!n||sn(t)||sn(n))return!1;if(kA(t)||kA(n)){if(t.length!==n.length)return!1;for(var e=!0,r=0;r<t.length&&(e=ff(t[r],n[r]),!!e);r++);return e}if(pw(t)||pw(n)){var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var e=!0,r=0;r<i.length&&(e=ff(t[i[r]],n[i[r]]),!!e);r++);return e}return!1},IV=function(t){return t};const LV=(function(t,n){n===void 0&&(n=IV);var e={};return qf(t)&&!Rt(t)&&Object.keys(t).forEach(function(r){e[r]=n(t[r],r)}),e}),$t=(function(t,n,e){for(var r=0,i=sn(n)?n.split("."):n;t&&r<i.length;)t=t[i[r++]];return t===void 0||r<i.length?e:t}),N0=(function(t,n,e){var r=t,i=sn(n)?n.split("."):n;return i.forEach(function(a,o){o<i.length-1?(qf(r[a])||(r[a]=rn(i[o+1])?[]:{}),r=r[a]):r[a]=e}),t});var QV=Object.prototype.hasOwnProperty;const Zf=(function(t,n){if(t===null||!Uo(t))return{};var e={};return EB(n,function(r){QV.call(t,r)&&(e[r]=t[r])}),e}),_B=(function(t,n){return IL(t,function(e,r,i){return n.includes(i)||(e[i]=r),e},{})}),TA=(function(t,n,e){var r,i,a,o,s=0;e||(e={});var A=function(){s=e.leading===!1?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},c=function(){var l=Date.now();!s&&e.leading===!1&&(s=l);var u=n-(l-s);return i=this,a=arguments,u<=0||u>n?(r&&(clearTimeout(r),r=null),s=l,o=t.apply(i,a),r||(i=a=null)):!r&&e.trailing!==!1&&(r=setTimeout(A,u)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c}),vm=(function(){}),Za=(function(t){return t});function df(t){return Rt(t)?0:kA(t)?t.length:Object.keys(t).length}var gw=function(t,n){return gw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},gw(t,n)};function dn(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");gw(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var dt=function(){return dt=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},dt.apply(this,arguments)};function Xn(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function Jf(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a}function UV(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var a=arguments[n],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function Ut(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))}function ym(t,n,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!r:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(t):r?r.value:n.get(t)}var jL={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function PV(t,n,e){if(t[e].length>7){t[e].shift();for(var r=t[e],i=e;r.length;)n[e]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(e,1)}}var Ku={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function $L(t){return Array.isArray(t)&&t.every(function(n){var e=n[0].toLowerCase();return Ku[e]===n.length-1&&"achlmqstvz".includes(e)})}function GL(t){return $L(t)&&t.every(function(n){var e=n[0];return e===e.toUpperCase()})}function KL(t){return GL(t)&&t.every(function(n){var e=n[0];return"ACLMQZ".includes(e)})}function M_(t){for(var n=t.pathValue[t.segmentStart],e=n.toLowerCase(),r=t.data;r.length>=Ku[e]&&(e==="m"&&r.length>2?(t.segments.push([n].concat(r.splice(0,2))),e="l",n=n==="m"?"l":"L"):t.segments.push([n].concat(r.splice(0,Ku[e]))),!!Ku[e]););}function RV(t){var n=t.index,e=t.pathValue,r=e.charCodeAt(n);if(r===48){t.param=0,t.index+=1;return}if(r===49){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'.concat(e[n],'", expecting 0 or 1 at index ').concat(n)}function NV(t){return t>=48&&t<=57||t===43||t===45||t===46}function vc(t){return t>=48&&t<=57}function DV(t){var n=t.max,e=t.pathValue,r=t.index,i=r,a=!1,o=!1,s=!1,A=!1,c;if(i>=n){t.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(c=e.charCodeAt(i),(c===43||c===45)&&(i+=1,c=e.charCodeAt(i)),!vc(c)&&c!==46){t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" is not a number');return}if(c!==46){if(a=c===48,i+=1,c=e.charCodeAt(i),a&&i<n&&c&&vc(c)){t.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(e[r],'" illegal number');return}for(;i<n&&vc(e.charCodeAt(i));)i+=1,o=!0;c=e.charCodeAt(i)}if(c===46){for(A=!0,i+=1;vc(e.charCodeAt(i));)i+=1,s=!0;c=e.charCodeAt(i)}if(c===101||c===69){if(A&&!o&&!s){t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" invalid float exponent');return}if(i+=1,c=e.charCodeAt(i),(c===43||c===45)&&(i+=1),i<n&&vc(e.charCodeAt(i)))for(;i<n&&vc(e.charCodeAt(i));)i+=1;else{t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" invalid integer exponent');return}}t.index=i,t.param=+t.pathValue.slice(r,i)}function HV(t){var n=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return t===10||t===13||t===8232||t===8233||t===32||t===9||t===11||t===12||t===160||t>=5760&&n.includes(t)}function Dp(t){for(var n=t.pathValue,e=t.max;t.index<e&&HV(n.charCodeAt(t.index));)t.index+=1}function jV(t){switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function $V(t){return(t|32)===97}function GV(t){var n=t.max,e=t.pathValue,r=t.index,i=e.charCodeAt(r),a=Ku[e[r].toLowerCase()];if(t.segmentStart=r,!jV(i)){t.err='[path-util]: Invalid path value "'.concat(e[r],'" is not a path command');return}if(t.index+=1,Dp(t),t.data=[],!a){M_(t);return}for(;;){for(var o=a;o>0;o-=1){if($V(i)&&(o===3||o===4)?RV(t):DV(t),t.err.length)return;t.data.push(t.param),Dp(t),t.index<n&&e.charCodeAt(t.index)===44&&(t.index+=1,Dp(t))}if(t.index>=t.max||!NV(e.charCodeAt(t.index)))break}M_(t)}var KV=(function(){function t(n){this.pathValue=n,this.segments=[],this.max=n.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t})();function zV(t){if($L(t))return[].concat(t);var n=new KV(t);for(Dp(n);n.index<n.max&&!n.err.length;)GV(n);return n.err?n.err:n.segments}function WV(t){if(GL(t))return[].concat(t);var n=zV(t),e=0,r=0,i=0,a=0;return n.map(function(o){var s=o.slice(1).map(Number),A=o[0],c=A.toUpperCase();if(A==="M")return e=s[0],r=s[1],i=e,a=r,["M",e,r];var l;if(A!==c)switch(c){case"A":l=[c,s[0],s[1],s[2],s[3],s[4],s[5]+e,s[6]+r];break;case"V":l=[c,s[0]+r];break;case"H":l=[c,s[0]+e];break;default:{var u=s.map(function(d,h){return d+(h%2?r:e)});l=[c].concat(u)}}else l=[c].concat(s);var f=l.length;switch(c){case"Z":e=i,r=a;break;case"H":e=l[1];break;case"V":r=l[1];break;default:e=l[f-2],r=l[f-1],c==="M"&&(i=e,a=r)}return l})}function VV(t,n){var e=t[0],r=n.x1,i=n.y1,a=n.x2,o=n.y2,s=t.slice(1).map(Number),A=t;if("TQ".includes(e)||(n.qx=null,n.qy=null),e==="H")A=["L",t[1],i];else if(e==="V")A=["L",r,t[1]];else if(e==="S"){var c=r*2-a,l=i*2-o;n.x1=c,n.y1=l,A=["C",c,l].concat(s)}else if(e==="T"){var u=r*2-n.qx,f=i*2-n.qy;n.qx=u,n.qy=f,A=["Q",u,f].concat(s)}else if(e==="Q"){var d=s[0],h=s[1];n.qx=d,n.qy=h}return A}function hg(t){if(KL(t))return[].concat(t);for(var n=WV(t),e=dt({},jL),r=0;r<n.length;r+=1){n[r]=VV(n[r],e);var i=n[r],a=i.length;e.x1=+i[a-2],e.y1=+i[a-1],e.x2=+i[a-4]||e.x1,e.y2=+i[a-3]||e.y1}return n}function YV(t){return KL(t)&&t.every(function(n){var e=n[0];return"MC".includes(e)})}function vh(t,n,e){var r=t*Math.cos(e)-n*Math.sin(e),i=t*Math.sin(e)+n*Math.cos(e);return{x:r,y:i}}function SB(t,n,e,r,i,a,o,s,A,c){var l=t,u=n,f=e,d=r,h=s,p=A,v=Math.PI*120/180,y=Math.PI/180*(+i||0),m=[],b,B,x,C,O;if(c)B=c[0],x=c[1],C=c[2],O=c[3];else{b=vh(l,u,-y),l=b.x,u=b.y,b=vh(h,p,-y),h=b.x,p=b.y;var _=(l-h)/2,S=(u-p)/2,F=_*_/(f*f)+S*S/(d*d);F>1&&(F=Math.sqrt(F),f*=F,d*=F);var M=f*f,T=d*d,k=(a===o?-1:1)*Math.sqrt(Math.abs((M*T-M*S*S-T*_*_)/(M*S*S+T*_*_)));C=k*f*S/d+(l+h)/2,O=k*-d*_/f+(u+p)/2,B=Math.asin(((u-O)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),x=Math.asin(((p-O)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),B=l<C?Math.PI-B:B,x=h<C?Math.PI-x:x,B<0&&(B=Math.PI*2+B),x<0&&(x=Math.PI*2+x),o&&B>x&&(B-=Math.PI*2),!o&&x>B&&(x-=Math.PI*2)}var L=x-B;if(Math.abs(L)>v){var U=x,N=h,P=p;x=B+v*(o&&x>B?1:-1),h=C+f*Math.cos(x),p=O+d*Math.sin(x),m=SB(h,p,f,d,i,0,o,N,P,[x,U,C,O])}L=x-B;var Q=Math.cos(B),R=Math.sin(B),H=Math.cos(x),G=Math.sin(x),K=Math.tan(L/4),W=4/3*f*K,X=4/3*d*K,Y=[l,u],et=[l+W*R,u-X*Q],nt=[h+W*G,p-X*H],Z=[h,p];if(et[0]=2*Y[0]-et[0],et[1]=2*Y[1]-et[1],c)return et.concat(nt,Z,m);m=et.concat(nt,Z,m);for(var ot=[],ct=0,vt=m.length;ct<vt;ct+=1)ot[ct]=ct%2?vh(m[ct-1],m[ct],y).y:vh(m[ct],m[ct+1],y).x;return ot}function XV(t,n,e,r,i,a){var o=.3333333333333333,s=2/3;return[o*t+s*e,o*n+s*r,o*i+s*e,o*a+s*r,i,a]}function is(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return[r+(a-r)*e,i+(o-i)*e]}var k_=function(t,n,e,r){var i=.5,a=is([t,n],[e,r],i);return Ut(Ut([],a,!0),[e,r,e,r],!1)};function qV(t,n){var e=t[0],r=t.slice(1).map(Number),i=r[0],a=r[1],o,s=n.x1,A=n.y1,c=n.x,l=n.y;switch("TQ".includes(e)||(n.qx=null,n.qy=null),e){case"M":return n.x=i,n.y=a,t;case"A":return o=[s,A].concat(r),["C"].concat(SB(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return n.qx=i,n.qy=a,o=[s,A].concat(r),["C"].concat(XV(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(k_(s,A,i,a));case"Z":return s===c&&A===l?["C",s,A,c,l,c,l]:["C"].concat(k_(s,A,c,l))}return t}function vw(t,n){if(n===void 0&&(n=!1),YV(t)){var e=[].concat(t);return n?[e,[]]:e}for(var r=hg(t),i=dt({},jL),a=[],o="",s=r.length,A,c,l=[],u=0;u<s;u+=1){r[u]&&(o=r[u][0]),a[u]=o;var f=qV(r[u],i);r[u]=f,PV(r,a,u),s=r.length,o==="Z"&&l.push(u),A=r[u],c=A.length,i.x1=+A[c-2],i.y1=+A[c-1],i.x2=+A[c-4]||i.x1,i.y2=+A[c-3]||i.y1}return n?[r,l]:r}function ZV(t){return t.map(function(n){return Array.isArray(n)?[].concat(n):n})}function JV(t){var n=t.slice(1).map(function(e,r,i){return r?i[r-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))}).map(function(e){return e.map(function(r,i){return e[e.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(n[0].slice(0,2))].concat(n.map(function(e){return["C"].concat(e.slice(2))}))}function ti(t,n){return Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1]))}function yw(t,n,e,r,i){var a=ti([t,n],[e,r]),o={x:0,y:0};if(typeof i=="number")if(i<=0)o={x:t,y:n};else if(i>=a)o={x:e,y:r};else{var s=is([t,n],[e,r],i/a),A=s[0],c=s[1];o={x:A,y:c}}return{length:a,point:o,min:{x:Math.min(t,e),y:Math.min(n,r)},max:{x:Math.max(t,e),y:Math.max(n,r)}}}function T_(t,n){var e=t.x,r=t.y,i=n.x,a=n.y,o=e*i+r*a,s=Math.sqrt((Math.pow(e,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(a,2))),A=e*a-r*i<0?-1:1,c=A*Math.acos(o/s);return c}function tY(t,n,e,r,i,a,o,s,A,c){var l=Math.abs,u=Math.sin,f=Math.cos,d=Math.sqrt,h=Math.PI,p=l(e),v=l(r),y=(i%360+360)%360,m=y*(h/180);if(t===s&&n===A)return{x:t,y:n};if(p===0||v===0)return yw(t,n,s,A,c).point;var b=(t-s)/2,B=(n-A)/2,x={x:f(m)*b+u(m)*B,y:-u(m)*b+f(m)*B},C=Math.pow(x.x,2)/Math.pow(p,2)+Math.pow(x.y,2)/Math.pow(v,2);C>1&&(p*=d(C),v*=d(C));var O=Math.pow(p,2)*Math.pow(v,2)-Math.pow(p,2)*Math.pow(x.y,2)-Math.pow(v,2)*Math.pow(x.x,2),_=Math.pow(p,2)*Math.pow(x.y,2)+Math.pow(v,2)*Math.pow(x.x,2),S=O/_;S=S<0?0:S;var F=(a!==o?1:-1)*d(S),M={x:F*(p*x.y/v),y:F*(-(v*x.x)/p)},T={x:f(m)*M.x-u(m)*M.y+(t+s)/2,y:u(m)*M.x+f(m)*M.y+(n+A)/2},k={x:(x.x-M.x)/p,y:(x.y-M.y)/v},L=T_({x:1,y:0},k),U={x:(-x.x-M.x)/p,y:(-x.y-M.y)/v},N=T_(k,U);!o&&N>0?N-=2*h:o&&N<0&&(N+=2*h),N%=2*h;var P=L+N*c,Q=p*f(P),R=v*u(P),H={x:f(m)*Q-u(m)*R+T.x,y:u(m)*Q+f(m)*R+T.y};return H}function eY(t,n,e,r,i,a,o,s,A,c,l){var u,f=l.bbox,d=f===void 0?!0:f,h=l.length,p=h===void 0?!0:h,v=l.sampleSize,y=v===void 0?30:v,m=typeof c=="number",b=t,B=n,x=0,C=[b,B,x],O=[b,B],_=0,S={x:0,y:0},F=[{x:b,y:B}];m&&c<=0&&(S={x:b,y:B});for(var M=0;M<=y;M+=1){if(_=M/y,u=tY(t,n,e,r,i,a,o,s,A,_),b=u.x,B=u.y,d&&F.push({x:b,y:B}),p&&(x+=ti(O,[b,B])),O=[b,B],m&&x>=c&&c>C[2]){var T=(x-c)/(x-C[2]);S={x:O[0]*(1-T)+C[0]*T,y:O[1]*(1-T)+C[1]*T}}C=[b,B,x]}return m&&c>=x&&(S={x:s,y:A}),{length:x,point:S,min:{x:Math.min.apply(null,F.map(function(k){return k.x})),y:Math.min.apply(null,F.map(function(k){return k.y}))},max:{x:Math.max.apply(null,F.map(function(k){return k.x})),y:Math.max.apply(null,F.map(function(k){return k.y}))}}}function nY(t,n,e,r,i,a,o,s,A){var c=1-A;return{x:Math.pow(c,3)*t+3*Math.pow(c,2)*A*e+3*c*Math.pow(A,2)*i+Math.pow(A,3)*o,y:Math.pow(c,3)*n+3*Math.pow(c,2)*A*r+3*c*Math.pow(A,2)*a+Math.pow(A,3)*s}}function zL(t,n,e,r,i,a,o,s,A,c){var l,u=c.bbox,f=u===void 0?!0:u,d=c.length,h=d===void 0?!0:d,p=c.sampleSize,v=p===void 0?10:p,y=typeof A=="number",m=t,b=n,B=0,x=[m,b,B],C=[m,b],O=0,_={x:0,y:0},S=[{x:m,y:b}];y&&A<=0&&(_={x:m,y:b});for(var F=0;F<=v;F+=1){if(O=F/v,l=nY(t,n,e,r,i,a,o,s,O),m=l.x,b=l.y,f&&S.push({x:m,y:b}),h&&(B+=ti(C,[m,b])),C=[m,b],y&&B>=A&&A>x[2]){var M=(B-A)/(B-x[2]);_={x:C[0]*(1-M)+x[0]*M,y:C[1]*(1-M)+x[1]*M}}x=[m,b,B]}return y&&A>=B&&(_={x:o,y:s}),{length:B,point:_,min:{x:Math.min.apply(null,S.map(function(T){return T.x})),y:Math.min.apply(null,S.map(function(T){return T.y}))},max:{x:Math.max.apply(null,S.map(function(T){return T.x})),y:Math.max.apply(null,S.map(function(T){return T.y}))}}}function rY(t,n,e,r,i,a,o){var s=1-o;return{x:Math.pow(s,2)*t+2*s*o*e+Math.pow(o,2)*i,y:Math.pow(s,2)*n+2*s*o*r+Math.pow(o,2)*a}}function iY(t,n,e,r,i,a,o,s){var A,c=s.bbox,l=c===void 0?!0:c,u=s.length,f=u===void 0?!0:u,d=s.sampleSize,h=d===void 0?10:d,p=typeof o=="number",v=t,y=n,m=0,b=[v,y,m],B=[v,y],x=0,C={x:0,y:0},O=[{x:v,y}];p&&o<=0&&(C={x:v,y});for(var _=0;_<=h;_+=1){if(x=_/h,A=rY(t,n,e,r,i,a,x),v=A.x,y=A.y,l&&O.push({x:v,y}),f&&(m+=ti(B,[v,y])),B=[v,y],p&&m>=o&&o>b[2]){var S=(m-o)/(m-b[2]);C={x:B[0]*(1-S)+b[0]*S,y:B[1]*(1-S)+b[1]*S}}b=[v,y,m]}return p&&o>=m&&(C={x:i,y:a}),{length:m,point:C,min:{x:Math.min.apply(null,O.map(function(F){return F.x})),y:Math.min.apply(null,O.map(function(F){return F.y}))},max:{x:Math.max.apply(null,O.map(function(F){return F.x})),y:Math.max.apply(null,O.map(function(F){return F.y}))}}}function WL(t,n,e){for(var r,i,a,o,s,A,c=hg(t),l=typeof n=="number",u,f=[],d,h=0,p=0,v=0,y=0,m,b=[],B=[],x=0,C={x:0,y:0},O=C,_=C,S=C,F=0,M=0,T=c.length;M<T;M+=1)m=c[M],d=m[0],u=d==="M",f=u?f:[h,p].concat(m.slice(1)),u?(v=m[1],y=m[2],C={x:v,y},O=C,x=0,l&&n<.001&&(S=C)):d==="L"?(r=yw(f[0],f[1],f[2],f[3],(n||0)-F),x=r.length,C=r.min,O=r.max,_=r.point):d==="A"?(i=eY(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],(n||0)-F,e||{}),x=i.length,C=i.min,O=i.max,_=i.point):d==="C"?(a=zL(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],(n||0)-F,e||{}),x=a.length,C=a.min,O=a.max,_=a.point):d==="Q"?(o=iY(f[0],f[1],f[2],f[3],f[4],f[5],(n||0)-F,e||{}),x=o.length,C=o.min,O=o.max,_=o.point):d==="Z"&&(f=[h,p,v,y],s=yw(f[0],f[1],f[2],f[3],(n||0)-F),x=s.length,C=s.min,O=s.max,_=s.point),l&&F<n&&F+x>=n&&(S=_),B.push(O),b.push(C),F+=x,A=d!=="Z"?m.slice(-2):[v,y],h=A[0],p=A[1];return l&&n>=F&&(S={x:h,y:p}),{length:F,point:S,min:{x:Math.min.apply(null,b.map(function(k){return k.x})),y:Math.min.apply(null,b.map(function(k){return k.y}))},max:{x:Math.max.apply(null,B.map(function(k){return k.x})),y:Math.max.apply(null,B.map(function(k){return k.y}))}}}function aY(t,n){return WL(t,void 0,dt(dt({},n),{bbox:!1,length:!0})).length}function oY(t){var n=t.length,e=n-1;return t.map(function(r,i){return t.map(function(a,o){var s=i+o,A;return o===0||t[s]&&t[s][0]==="M"?(A=t[s],["M"].concat(A.slice(-2))):(s>=n&&(s-=e),t[s])})})}function sY(t,n){var e=t.length-1,r=[],i=0,a=0,o=oY(t);return o.forEach(function(s,A){t.slice(1).forEach(function(c,l){a+=ti(t[(A+l)%e].slice(-2),n[l%e].slice(-2))}),r[A]=a,a=0}),i=r.indexOf(Math.min.apply(null,r)),o[i]}function AY(t,n,e,r,i,a,o,s){return 3*((s-n)*(e+i)-(o-t)*(r+a)+r*(t-i)-e*(n-a)+s*(i+t/3)-o*(a+n/3))/20}function cY(t){var n=0,e=0,r=0;return vw(t).map(function(i){var a;if(i[0]==="M")return n=i[1],e=i[2],0;var o=i.slice(1),s=o[0],A=o[1],c=o[2],l=o[3],u=o[4],f=o[5];return r=AY(n,e,s,A,c,l,u,f),a=i.slice(-2),n=a[0],e=a[1],r}).reduce(function(i,a){return i+a},0)}function I_(t){return cY(t)>=0}function lY(t,n,e){return WL(t,n,dt(dt({},e),{bbox:!1,length:!0})).point}var uY=50;function fY(t,n){n===void 0&&(n=.5);var e=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),a=t.slice(6,8),o=is(e,r,n),s=is(r,i,n),A=is(i,a,n),c=is(o,s,n),l=is(s,A,n),u=is(c,l,n);return[["C"].concat(o,c,u),["C"].concat(l,A,a)]}function L_(t){return t.map(function(n,e,r){var i=e&&r[e-1].slice(-2).concat(n.slice(1)),a=e?zL(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,o;return e?o=a?fY(i):[n,n]:o=[n],{s:n,ss:o,l:a}})}function VL(t,n,e,r){if(r===void 0&&(r=0),r>uY)return console.warn("Maximum recursion depth reached in equalizeSegments"),[t,n];var i=L_(t),a=L_(n),o=i.length,s=a.length,A=i.filter(function(y){return y.l}).length,c=a.filter(function(y){return y.l}).length,l=i.filter(function(y){return y.l}).reduce(function(y,m){var b=m.l;return y+b},0)/A||0,u=a.filter(function(y){return y.l}).reduce(function(y,m){var b=m.l;return y+b},0)/c||0,f=e||Math.max(o,s),d=[l,u],h=[f-o,f-s],p=0,v=[i,a].map(function(y,m){return y.l===f?y.map(function(b){return b.s}):y.map(function(b,B){return p=B&&h[m]&&b.l>=d[m],h[m]-=p?1:0,p?b.ss:[b.s]}).flat()});return v[0].length===v[1].length?v:VL(v[0],v[1],f,r+1)}function Q_(t){var n=document.createElement("div");n.innerHTML=t;var e=n.childNodes[0];return e&&n.contains(e)&&n.removeChild(e),e}function dY(t,n){for(;!{}.hasOwnProperty.call(t,n)&&(t=sg(t))!==null;);return t}function mw(){return mw=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,n,e){var r=dY(t,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?t:e):i.value}},mw.apply(null,arguments)}function pg(t,n,e,r){var i=mw(sg(t.prototype),n,e);return typeof i=="function"?function(a){return i.apply(e,a)}:i}function ko(t,n,e,r){var i=t-e,a=n-r;return Math.sqrt(i*i+a*a)}function YL(t,n){var e=Math.min.apply(Math,se(t)),r=Math.min.apply(Math,se(n)),i=Math.max.apply(Math,se(t)),a=Math.max.apply(Math,se(n));return{x:e,y:r,width:i-e,height:a-r}}function hY(t,n,e){return Math.atan(-n/t*Math.tan(e))}function pY(t,n,e){return Math.atan(n/(t*Math.tan(e)))}function gY(t,n,e,r,i,a){return e*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+t}function vY(t,n,e,r,i,a){return e*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+n}function yY(t,n,e,r,i,a,o){for(var s=hY(e,r,i),A=1/0,c=-1/0,l=[a,o],u=-Math.PI*2;u<=Math.PI*2;u+=Math.PI){var f=s+u;a<o?a<f&&f<o&&l.push(f):o<f&&f<a&&l.push(f)}for(var d=0;d<l.length;d++){var h=gY(t,n,e,r,i,l[d]);h<A&&(A=h),h>c&&(c=h)}for(var p=pY(e,r,i),v=1/0,y=-1/0,m=[a,o],b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var B=p+b;a<o?a<B&&B<o&&m.push(B):o<B&&B<a&&m.push(B)}for(var x=0;x<m.length;x++){var C=vY(t,n,e,r,i,m[x]);C<v&&(v=C),C>y&&(y=C)}return{x:A,y:v,width:c-A,height:y-v}}var mY=1e-4;function XL(t,n,e,r,i,a){var o=-1,s=1/0,A=[e,r],c=20;a&&a>200&&(c=a/10);for(var l=1/c,u=l/10,f=0;f<=c;f++){var d=f*l,h=[i.apply(void 0,se(t.concat([d]))),i.apply(void 0,se(n.concat([d])))],p=ko(A[0],A[1],h[0],h[1]);p<s&&(o=d,s=p)}if(o===0)return{x:t[0],y:n[0]};if(o===1){var v=t.length;return{x:t[v-1],y:n[v-1]}}s=1/0;for(var y=0;y<32&&!(u<mY);y++){var m=o-u,b=o+u,B=[i.apply(void 0,se(t.concat([m]))),i.apply(void 0,se(n.concat([m])))],x=ko(A[0],A[1],B[0],B[1]);if(m>=0&&x<s)o=m,s=x;else{var C=[i.apply(void 0,se(t.concat([b]))),i.apply(void 0,se(n.concat([b])))],O=ko(A[0],A[1],C[0],C[1]);b<=1&&O<s?(o=b,s=O):u*=.5}}return{x:i.apply(void 0,se(t.concat([o]))),y:i.apply(void 0,se(n.concat([o])))}}function qL(t,n,e,r){return ko(t,n,e,r)}function ZL(t,n,e,r,i){return{x:(1-i)*t+i*e,y:(1-i)*n+i*r}}function wY(t,n,e,r,i,a){var o=[e-t,r-n];if(mV(o,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-n)*(a-n));var s=[-o[1],o[0]];vV(s,s);var A=[i-t,a-n];return Math.abs(yV(A,s))}function ww(t,n,e,r,i){var a=1-i;return a*a*a*t+3*n*i*a*a+3*e*i*i*a+r*i*i*i}function U_(t,n,e,r){var i=-3*t+9*n-9*e+3*r,a=6*t-12*n+6*e,o=3*n-3*t,s=[],A,c,l;if($c(i,0))$c(a,0)||(A=-o/a,A>=0&&A<=1&&s.push(A));else{var u=a*a-4*i*o;$c(u,0)?s.push(-a/(2*i)):u>0&&(l=Math.sqrt(u),A=(-a+l)/(2*i),c=(-a-l)/(2*i),A>=0&&A<=1&&s.push(A),c>=0&&c<=1&&s.push(c))}return s}function bY(t,n,e,r,i,a,o,s){for(var A=[t,o],c=[n,s],l=U_(t,e,i,o),u=U_(n,r,a,s),f=0;f<l.length;f++)A.push(ww(t,e,i,o,l[f]));for(var d=0;d<u.length;d++)c.push(ww(n,r,a,s,u[d]));return YL(A,c)}function BY(t,n,e,r,i,a,o,s,A,c,l){return XL([t,e,i,o],[n,r,a,s],A,c,ww,l)}function P_(t,n,e,r,i,a,o,s,A,c,l){var u=BY(t,n,e,r,i,a,o,s,A,c,l);return ko(u.x,u.y,A,c)}function xY(t){if(t.length<2)return 0;for(var n=0,e=0;e<t.length-1;e++){var r=t[e],i=t[e+1];n+=ko(r[0],r[1],i[0],i[1])}return n}function CY(t){return xY(t)}function bw(t,n,e,r){var i=1-r;return i*i*t+2*r*i*n+r*r*e}function R_(t,n,e){var r=t+e-2*n;if($c(r,0))return[.5];var i=(t-n)/r;return i<=1&&i>=0?[i]:[]}function OY(t,n,e,r,i,a){var o=R_(t,e,i)[0],s=R_(n,r,a)[0],A=[t,i],c=[n,a];return o!==void 0&&A.push(bw(t,e,i,o)),s!==void 0&&c.push(bw(n,r,a,s)),YL(A,c)}function EY(t,n,e,r,i,a,o,s){return XL([t,e,i],[n,r,a],o,s,bw)}function _Y(t,n,e,r,i,a,o,s){var A=EY(t,n,e,r,i,a,o,s);return ko(A.x,A.y,o,s)}function JL(t,n){this.v=t,this.k=n}function Sr(t,n,e,r){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}Sr=function(o,s,A,c){function l(u,f){Sr(o,u,function(d){return this._invoke(u,f,d)})}s?i?i(o,s,{value:A,enumerable:!c,configurable:!c,writable:!c}):o[s]=A:(l("next",0),l("throw",1),l("return",2))},Sr(t,n,e,r)}function FB(){var t,n,e=typeof Symbol=="function"?Symbol:{},r=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function a(d,h,p,v){var y=h&&h.prototype instanceof s?h:s,m=Object.create(y.prototype);return Sr(m,"_invoke",(function(b,B,x){var C,O,_,S=0,F=x||[],M=!1,T={p:0,n:0,v:t,a:k,f:k.bind(t,4),d:function(U,N){return C=U,O=0,_=t,T.n=N,o}};function k(L,U){for(O=L,_=U,n=0;!M&&S&&!N&&n<F.length;n++){var N,P=F[n],Q=T.p,R=P[2];L>3?(N=R===U)&&(_=P[(O=P[4])?5:(O=3,3)],P[4]=P[5]=t):P[0]<=Q&&((N=L<2&&Q<P[1])?(O=0,T.v=U,T.n=P[1]):Q<R&&(N=L<3||P[0]>U||U>R)&&(P[4]=L,P[5]=U,T.n=R,O=0))}if(N||L>1)return o;throw M=!0,U}return function(L,U,N){if(S>1)throw TypeError("Generator is already running");for(M&&U===1&&k(U,N),O=U,_=N;(n=O<2?t:_)||!M;){C||(O?O<3?(O>1&&(T.n=-1),k(O,_)):T.n=_:T.v=_);try{if(S=2,C){if(O||(L="next"),n=C[L]){if(!(n=n.call(C,_)))throw TypeError("iterator result is not an object");if(!n.done)return n;_=n.value,O<2&&(O=0)}else O===1&&(n=C.return)&&n.call(C),O<2&&(_=TypeError("The iterator does not provide a '"+L+"' method"),O=1);C=t}else if((n=(M=T.n<0)?_:b.call(B,T))!==o)break}catch(P){C=t,O=1,_=P}finally{S=1}}return{value:n,done:M}}})(d,p,v),!0),m}var o={};function s(){}function A(){}function c(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(Sr(n={},r,function(){return this}),n),u=c.prototype=s.prototype=Object.create(l);function f(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,c):(d.__proto__=c,Sr(d,i,"GeneratorFunction")),d.prototype=Object.create(u),d}return A.prototype=c,Sr(u,"constructor",c),Sr(c,"constructor",A),A.displayName="GeneratorFunction",Sr(c,i,"GeneratorFunction"),Sr(u),Sr(u,i,"Generator"),Sr(u,r,function(){return this}),Sr(u,"toString",function(){return"[object Generator]"}),(FB=function(){return{w:a,m:f}})()}function gg(t,n){function e(i,a,o,s){try{var A=t[i](a),c=A.value;return c instanceof JL?n.resolve(c.v).then(function(l){e("next",l,o,s)},function(l){e("throw",l,o,s)}):n.resolve(c).then(function(l){A.value=l,o(A)},function(l){return e("throw",l,o,s)})}catch(l){s(l)}}var r;this.next||(Sr(gg.prototype),Sr(gg.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Sr(this,"_invoke",function(i,a,o){function s(){return new n(function(A,c){e(i,o,A,c)})}return r=r?r.then(s,s):s()},!0)}function tQ(t,n,e,r,i){return new gg(FB().w(t,n,e,r),i||Promise)}function SY(t,n,e,r,i){var a=tQ(t,n,e,r,i);return a.next().then(function(o){return o.done?o.value:a.next()})}function FY(t){var n=Object(t),e=[];for(var r in n)e.unshift(r);return function i(){for(;e.length;)if((r=e.pop())in n)return i.value=r,i.done=!1,i;return i.done=!0,i}}function N_(t){if(t!=null){var n=t[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],e=0;if(n)return n.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length))return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}throw new TypeError(sW(t)+" is not iterable")}function gr(){var t=FB(),n=t.m(gr),e=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function r(o){var s=typeof o=="function"&&o.constructor;return!!s&&(s===e||(s.displayName||s.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function a(o){var s,A;return function(c){s||(s={stop:function(){return A(c.a,2)},catch:function(){return c.v},abrupt:function(u,f){return A(c.a,i[u],f)},delegateYield:function(u,f,d){return s.resultName=f,A(c.d,N_(u),d)},finish:function(u){return A(c.f,u)}},A=function(u,f,d){c.p=s.prev,c.n=s.next;try{return u(f,d)}finally{s.next=c.n}}),s.resultName&&(s[s.resultName]=c.v,s.resultName=void 0),s.sent=c.v,s.next=c.n;try{return o.call(this,s)}finally{c.p=s.prev,c.n=s.next}}}return(gr=function(){return{wrap:function(A,c,l,u){return t.w(a(A),c,l,u&&u.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(A,c){return new JL(A,c)},AsyncIterator:gg,async:function(A,c,l,u,f){return(r(c)?tQ:SY)(a(A),c,l,u,f)},keys:FY,values:N_}})()}function D_(t,n,e,r,i,a,o){try{var s=t[a](o),A=s.value}catch(c){return void e(c)}s.done?n(A):Promise.resolve(A).then(r,i)}function Ss(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var a=t.apply(n,e);function o(A){D_(a,r,i,o,s,"next",A)}function s(A){D_(a,r,i,o,s,"throw",A)}o(void 0)})}}var it=(function(t){return t.GROUP="g",t.FRAGMENT="fragment",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh",t})({}),Hp=(function(t){return t[t.ZERO=0]="ZERO",t[t.NEGATIVE_ONE=1]="NEGATIVE_ONE",t})({}),Us=(function(){function t(){ut(this,t),this.plugins=[]}return lt(t,[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach(function(r){var i=e.context.renderingPlugins.indexOf(r);i>=0&&e.context.renderingPlugins.splice(i,1)})}}])})(),MY=(function(){function t(n){ut(this,t),this.clipSpaceNearZ=Hp.NEGATIVE_ONE,this.plugins=[],this.config=Vt({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},n)}return lt(t,[{key:"registerPlugin",value:function(e){var r=this.plugins.findIndex(function(i){return i===e});r===-1&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var r=this.plugins.findIndex(function(i){return i===e});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find(function(r){return r.name===e})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])})(),mm=bs,yc=Ha,kY=sV,TY=oV,H_=lg,wm=SL,nr=(function(){function t(){ut(this,t),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return lt(t,[{key:"update",value:function(e,r){yc(this.center,e),yc(this.halfExtents,r),wm(this.min,this.center,this.halfExtents),mm(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,r){mm(this.center,r,e),H_(this.center,this.center,.5),wm(this.halfExtents,r,e),H_(this.halfExtents,this.halfExtents,.5),yc(this.min,e),yc(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){if(!t.isEmpty(e)){if(t.isEmpty(this)){this.setMinMax(e.getMin(),e.getMax());return}var r=this.center,i=r[0],a=r[1],o=r[2],s=this.halfExtents,A=s[0],c=s[1],l=s[2],u=i-A,f=i+A,d=a-c,h=a+c,p=o-l,v=o+l,y=e.center,m=y[0],b=y[1],B=y[2],x=e.halfExtents,C=x[0],O=x[1],_=x[2],S=m-C,F=m+C,M=b-O,T=b+O,k=B-_,L=B+_;S<u&&(u=S),F>f&&(f=F),M<d&&(d=M),T>h&&(h=T),k<p&&(p=k),L>v&&(v=L),r[0]=(u+f)*.5,r[1]=(d+h)*.5,r[2]=(p+v)*.5,s[0]=(f-u)*.5,s[1]=(h-d)*.5,s[2]=(v-p)*.5,this.min[0]=u,this.min[1]=d,this.min[2]=p,this.max[0]=f,this.max[1]=h,this.max[2]=v}}},{key:"setFromTransformedAABB",value:function(e,r){var i=this.center,a=this.halfExtents,o=e.center,s=e.halfExtents,A=r[0],c=r[4],l=r[8],u=r[1],f=r[5],d=r[9],h=r[2],p=r[6],v=r[10],y=Math.abs(A),m=Math.abs(c),b=Math.abs(l),B=Math.abs(u),x=Math.abs(f),C=Math.abs(d),O=Math.abs(h),_=Math.abs(p),S=Math.abs(v);i[0]=r[12]+A*o[0]+c*o[1]+l*o[2],i[1]=r[13]+u*o[0]+f*o[1]+d*o[2],i[2]=r[14]+h*o[0]+p*o[1]+v*o[2],a[0]=y*s[0]+m*s[1]+b*s[2],a[1]=B*s[0]+x*s[1]+C*s[2],a[2]=O*s[0]+_*s[1]+S*s[2],wm(this.min,i,a),mm(this.max,i,a)}},{key:"intersects",value:function(e){var r=this.getMax(),i=this.getMin(),a=e.getMax(),o=e.getMin();return i[0]<=a[0]&&r[0]>=o[0]&&i[1]<=a[1]&&r[1]>=o[1]&&i[2]<=a[2]&&r[2]>=o[2]}},{key:"intersection",value:function(e){if(!this.intersects(e))return null;var r=new t,i=kY([0,0,0],this.getMin(),e.getMin()),a=TY([0,0,0],this.getMax(),e.getMax());return r.setMinMax(i,a),r}},{key:"getNegativeFarPoint",value:function(e){return e.pnVertexFlag===273?yc([0,0,0],this.min):e.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:e.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return e.pnVertexFlag===273?yc([0,0,0],this.max):e.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:e.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||e.halfExtents[0]===0&&e.halfExtents[1]===0&&e.halfExtents[2]===0}}])})(),IY=(function(){function t(n,e){ut(this,t),this.distance=n||0,this.normal=e||Se(0,1,0),this.updatePNVertexFlag()}return lt(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return ja(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/FL(this.normal);lg(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,r,i){var a=this.distanceToPoint(e),o=this.distanceToPoint(r),s=a/(a-o),A=s>=0&&s<=1;return A&&i&&hw(i,e,r,s),A}}])})(),mc=(function(t){return t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE",t})({}),LY=(function(){function t(n){if(ut(this,t),this.planes=[],n)this.planes=n;else for(var e=0;e<6;e++)this.planes.push(new IY)}return lt(t,[{key:"extractFromVPMatrix",value:function(e){var r=Xt(e,16),i=r[0],a=r[1],o=r[2],s=r[3],A=r[4],c=r[5],l=r[6],u=r[7],f=r[8],d=r[9],h=r[10],p=r[11],v=r[12],y=r[13],m=r[14],b=r[15];kr(this.planes[0].normal,s-i,u-A,p-f),this.planes[0].distance=b-v,kr(this.planes[1].normal,s+i,u+A,p+f),this.planes[1].distance=b+v,kr(this.planes[2].normal,s+a,u+c,p+d),this.planes[2].distance=b+y,kr(this.planes[3].normal,s-a,u-c,p-d),this.planes[3].distance=b-y,kr(this.planes[4].normal,s-o,u-l,p-h),this.planes[4].distance=b-m,kr(this.planes[5].normal,s+o,u+l,p+h),this.planes[5].distance=b+m,this.planes.forEach(function(B){B.normalize(),B.updatePNVertexFlag()})}}])})(),wr=(function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ut(this,t),this.x=0,this.y=0,this.x=n,this.y=e}return lt(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])})(),sl=(function(){function t(n,e,r,i){ut(this,t),this.x=n,this.y=e,this.width=r,this.height=i,this.left=n,this.right=n+r,this.top=e,this.bottom=e+i}return lt(t,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(e){return new t(e.x,e.y,e.width,e.height)}},{key:"applyTransform",value:function(e,r){var i=mu(e.x,e.y,0,1),a=mu(e.x+e.width,e.y,0,1),o=mu(e.x,e.y+e.height,0,1),s=mu(e.x+e.width,e.y+e.height,0,1),A=$a(),c=$a(),l=$a(),u=$a();Ga(A,i,r),Ga(c,a,r),Ga(l,o,r),Ga(u,s,r);var f=Math.min(A[0],c[0],l[0],u[0]),d=Math.min(A[1],c[1],l[1],u[1]),h=Math.max(A[0],c[0],l[0],u[0]),p=Math.max(A[1],c[1],l[1],u[1]);return t.fromRect({x:f,y:d,width:h-f,height:p-d})}}])})(),qe="Method not implemented.",wc="Use document.documentElement instead.",QY="Cannot append a destroyed element.";function Gc(t){return t===void 0?0:t>360||t<-360?t%360:t}var bm=ce();function Hr(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(t)&&t.length===3?r?Co(t):Ha(bm,t):rn(t)?r?Se(t,n,e):kr(bm,t,n,e):r?Se(t[0],t[1]||n,t[2]||e):kr(bm,t[0],t[1]||n,t[2]||e)}var UY=Math.PI/180;function De(t){return t*UY}var PY=180/Math.PI;function Ni(t){return t*PY}function RY(t){return 360*t}var vg=Math.PI/2;function NY(t,n){var e=n[0],r=n[1],i=n[2],a=n[3],o=e*e,s=r*r,A=i*i,c=a*a,l=o+s+A+c,u=e*a-r*i;return u>.499995*l?(t[0]=vg,t[1]=2*Math.atan2(r,e),t[2]=0):u<-.499995*l?(t[0]=-vg,t[1]=2*Math.atan2(r,e),t[2]=0):(t[0]=Math.asin(2*(e*i-a*r)),t[1]=Math.atan2(2*(e*a+r*i),1-2*(A+c)),t[2]=Math.atan2(2*(e*r+i*a),1-2*(s+A))),t}function DY(t,n){var e,r,i=al(ce(),n),a=Xt(i,3),o=a[0],s=a[1],A=a[2],c=Math.asin(-n[2]/o);return c<vg?c>-vg?(e=Math.atan2(n[6]/s,n[10]/A),r=Math.atan2(n[1]/o,n[0]/o)):(r=0,e=-Math.atan2(n[4]/s,n[5]/s)):(r=0,e=Math.atan2(n[4]/s,n[5]/s)),t[0]=e,t[1]=c,t[2]=r,t}function Bm(t,n){return n.length===16?DY(t,n):NY(t,n)}function HY(t,n,e,r,i){var a=Math.cos(t),o=Math.sin(t);return IW(r*a,i*o,0,-r*o,i*a,0,n,e,1)}function jY(t,n,e,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,A=2*a,c=e-n,l=r-i,u=A/c,f=A/l,d=(e+n)/c,h=(r+i)/l,p,v,y=o-a,m=o*a;return s?(p=-o/y,v=-m/y):(p=-(o+a)/y,v=-2*m/y),t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=d,t[9]=h,t[10]=p,t[11]=-1,t[12]=0,t[13]=0,t[14]=v,t[15]=0,t}function j_(t){var n=t[0],e=t[1],r=t[3],i=t[4],a=Math.sqrt(n*n+e*e),o=Math.sqrt(r*r+i*i),s=n*i-e*r;if(s<0&&(n<i?a=-a:o=-o),a){var A=1/a;n*=A,e*=A}if(o){var c=1/o;r*=c,i*=c}var l=Math.atan2(e,n),u=Ni(l);return[t[6],t[7],a,o,u]}var Sa=Ne(),la=Ne(),eu=$a(),zt=[ce(),ce(),ce()],$_=ce();function $Y(t,n,e,r,i,a){if(!GY(Sa,t)||(il(la,Sa),la[3]=0,la[7]=0,la[11]=0,la[15]=1,Math.abs(dL(la))<1e-8))return!1;var o=Sa[3],s=Sa[7],A=Sa[11],c=Sa[12],l=Sa[13],u=Sa[14],f=Sa[15];if(o!==0||s!==0||A!==0){eu[0]=o,eu[1]=s,eu[2]=A,eu[3]=f;var d=ya(la,la);if(!d)return!1;fL(la,la),Ga(i,eu,la)}else i[0]=i[1]=i[2]=0,i[3]=1;if(n[0]=c,n[1]=l,n[2]=u,KY(zt,Sa),e[0]=Eo(zt[0]),CA(zt[0],zt[0]),r[0]=ja(zt[0],zt[1]),xm(zt[1],zt[1],zt[0],1,-r[0]),e[1]=Eo(zt[1]),CA(zt[1],zt[1]),r[0]/=e[1],r[1]=ja(zt[0],zt[2]),xm(zt[2],zt[2],zt[0],1,-r[1]),r[2]=ja(zt[1],zt[2]),xm(zt[2],zt[2],zt[1],1,-r[2]),e[2]=Eo(zt[2]),CA(zt[2],zt[2]),r[1]/=e[2],r[2]/=e[2],Np($_,zt[1],zt[2]),ja(zt[0],$_)<0)for(var h=0;h<3;h++)e[h]*=-1,zt[h][0]*=-1,zt[h][1]*=-1,zt[h][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+zt[0][0]-zt[1][1]-zt[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-zt[0][0]+zt[1][1]-zt[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-zt[0][0]-zt[1][1]+zt[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+zt[0][0]+zt[1][1]+zt[2][2],0)),zt[2][1]>zt[1][2]&&(a[0]=-a[0]),zt[0][2]>zt[2][0]&&(a[1]=-a[1]),zt[1][0]>zt[0][1]&&(a[2]=-a[2]),!0}function GY(t,n){var e=n[15];if(e===0)return!1;for(var r=1/e,i=0;i<16;i++)t[i]=n[i]*r;return!0}function KY(t,n){t[0][0]=n[0],t[0][1]=n[1],t[0][2]=n[2],t[1][0]=n[4],t[1][1]=n[5],t[1][2]=n[6],t[2][0]=n[8],t[2][1]=n[9],t[2][2]=n[10]}function xm(t,n,e,r,i){t[0]=n[0]*r+e[0]*i,t[1]=n[1]*r+e[1]*i,t[2]=n[2]*r+e[2]*i}var Xe=(function(t){return t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING",t})({}),Bw=(function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC",t})({}),Li=(function(t){return t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE",t})({}),eQ={UPDATED:"updated"},G_=2e-4,nQ=(function(){function t(){ut(this,t),this.clipSpaceNearZ=Hp.NEGATIVE_ONE,this.eventEmitter=new lL,this.matrix=Ne(),this.right=Se(1,0,0),this.up=Se(0,1,0),this.forward=Se(0,0,1),this.position=Se(0,0,1),this.focalPoint=Se(0,0,0),this.distanceVector=Se(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=Ne(),this.projectionMatrixInverse=Ne(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Xe.EXPLORING,this.trackingMode=Bw.DEFAULT,this.projectionMode=Li.PERSPECTIVE,this.frustum=new LY,this.orthoMatrix=Ne()}return lt(t,[{key:"isOrtho",value:function(){return this.projectionMode===Li.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,r){return this.type=e,this.type===Xe.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Xe.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==Xe.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return ya(Ne(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,r){var i=Oo(Ne(),[e,r,0]);this.jitteredProjectionMatrix=Tr(Ne(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===Li.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===Li.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,r,i,a,o,s){return this.aspect=e/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.projectionMode===Li.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Li.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===Li.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Li.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),a=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(a,o),this.setFocalPoint(a,o),this.setZoom(e),this.rotate(0,0,s);var A=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=A.x,l=A.y,u=Se(c-a,l-o,0),f=ja(u,this.right)/Eo(this.right),d=ja(u,this.up)/Eo(this.up),h=this.getPosition(),p=Xt(h,2),v=p[0],y=p[1],m=this.getFocalPoint(),b=Xt(m,2),B=b[0],x=b[1];return this.setPosition(v-f,y-d),this.setFocalPoint(B-f,x-d),this}},{key:"setPerspective",value:function(e,r,i,a){var o;this.projectionMode=Li.PERSPECTIVE,this.fov=i,this.near=e,this.far=r,this.aspect=a;var s=this.near*Math.tan(De(.5*this.fov))/this.zoom,A=2*s,c=this.aspect*A,l=-.5*c;if((o=this.view)!==null&&o!==void 0&&o.enabled){var u=this.view.fullWidth,f=this.view.fullHeight;l+=this.view.offsetX*c/u,s-=this.view.offsetY*A/f,c*=this.view.width/u,A*=this.view.height/f}return jY(this.projectionMatrix,l,l+c,s-A,s,e,this.far,this.clipSpaceNearZ===Hp.ZERO),ya(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,r,i,a,o,s){var A;this.projectionMode=Li.ORTHOGRAPHIC,this.rright=r,this.left=e,this.top=i,this.bottom=a,this.near=o,this.far=s;var c=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,d=u-c,h=u+c,p=f+l,v=f-l;if((A=this.view)!==null&&A!==void 0&&A.enabled){var y=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=y*this.view.offsetX,h=d+y*this.view.width,p-=m*this.view.offsetY,v=p-m*this.view.height}return this.clipSpaceNearZ===Hp.NEGATIVE_ONE?xL(this.projectionMatrix,d,h,p,v,o,s):CL(this.projectionMatrix,d,h,p,v,o,s),ya(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=Hr(e,r,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=Se(0,1,0);if(this.focalPoint=Hr(e,r,i),this.trackingMode===Bw.CINEMATIC){var o=dw(ce(),this.focalPoint,this.position);e=o[0],r=o[1],i=o[2];var s=Eo(o),A=Ni(Math.asin(r/s)),c=90+Ni(Math.atan2(i,e)),l=Ne();gL(l,l,De(c)),pL(l,l,De(A)),a=Fn(ce(),[0,1,0],l)}return ya(this.matrix,OL(Ne(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<G_&&(this.distance=G_),this.dollyingStep=this.distance/100;var r=ce();e=this.distance;var i=this.forward,a=this.focalPoint;return r[0]=e*i[0]+a[0],r[1]=e*i[1]+a[1],r[2]=e*i[2]+a[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=Gc(e),this.computeMatrix(),this._getAxes(),this.type===Xe.ORBITING||this.type===Xe.EXPLORING?this._getPosition():this.type===Xe.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Gc(e),this.computeMatrix(),this._getAxes(),this.type===Xe.ORBITING||this.type===Xe.EXPLORING?this._getPosition():this.type===Xe.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=Gc(e),this.computeMatrix(),this._getAxes(),this.type===Xe.ORBITING||this.type===Xe.EXPLORING?this._getPosition():this.type===Xe.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=us(ir(),[0,0,1],De(this.roll));_s(this.matrix);var r=us(ir(),[1,0,0],De((this.rotateWorld&&this.type!==Xe.TRACKING||this.type===Xe.TRACKING?1:-1)*this.elevation)),i=us(ir(),[0,1,0],De((this.rotateWorld&&this.type!==Xe.TRACKING||this.type===Xe.TRACKING?1:-1)*this.azimuth)),a=Bs(ir(),i,r);a=Bs(ir(),a,e);var o=xB(Ne(),a);this.type===Xe.ORBITING||this.type===Xe.EXPLORING?(jc(this.matrix,this.matrix,this.focalPoint),Tr(this.matrix,this.matrix,o),jc(this.matrix,this.matrix,[0,0,this.distance])):this.type===Xe.TRACKING&&(jc(this.matrix,this.matrix,this.position),Tr(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(e,r,i){this.position=Hr(e,r,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Ha(this.right,Hr(Ga($a(),[1,0,0,0],this.matrix))),Ha(this.up,Hr(Ga($a(),[0,1,0,0],this.matrix))),Ha(this.forward,Hr(Ga($a(),[0,0,1,0],this.matrix))),CA(this.right,this.right),CA(this.up,this.up),CA(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],a=Eo(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===Xe.TRACKING?(this.elevation=Ni(Math.asin(r/a)),this.azimuth=Ni(Math.atan2(-e,-i))):this.rotateWorld?(this.elevation=Ni(Math.asin(r/a)),this.azimuth=Ni(Math.atan2(-e,-i))):(this.elevation=-Ni(Math.asin(r/a)),this.azimuth=-Ni(Math.atan2(-e,-i)))}},{key:"_getPosition",value:function(){Ha(this.position,Hr(Ga($a(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){_L(this.distanceVector,[0,0,-this.distance],kW(El(),this.matrix)),bs(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=dw(ce(),this.focalPoint,this.position),this.distance=Eo(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Li.ORTHOGRAPHIC){var e=this.position,r=us(ir(),[0,0,1],-this.roll*Math.PI/180);Gu(this.orthoMatrix,r,Se((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),Se(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),r=Tr(Ne(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(eQ.UPDATED)}}},{key:"rotate",value:function(e,r,i){throw new Error(qe)}},{key:"pan",value:function(e,r){throw new Error(qe)}},{key:"dolly",value:function(e){throw new Error(qe)}},{key:"createLandmark",value:function(e,r){throw new Error(qe)}},{key:"gotoLandmark",value:function(e,r){throw new Error(qe)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(qe)}}])})(),zY=(function(t){return t[t.Standard=0]="Standard",t})({}),yg=(function(t){return t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",t})({}),WY=ce(),nu=Ne(),VY=ir();function K_(t){if(t.localDirtyFlag){var n=t.localSkew[0]!==0||t.localSkew[1]!==0;if(n){Gu(t.localTransform,t.localRotation,t.localPosition,Se(1,1,1),t.origin),(t.localSkew[0]!==0||t.localSkew[1]!==0)&&(_s(nu),nu[4]=Math.tan(t.localSkew[0]),nu[1]=Math.tan(t.localSkew[1]),Tr(t.localTransform,t.localTransform,nu));var e=Gu(nu,ML(VY,0,0,0,1),kr(WY,1,1,1),t.localScale,t.origin);Tr(t.localTransform,t.localTransform,e)}else{var r=t.localTransform,i=t.localPosition,a=t.localRotation,o=t.localScale,s=t.origin,A=i[0]!==0||i[1]!==0||i[2]!==0,c=a[3]!==1||a[0]!==0||a[1]!==0||a[2]!==0,l=o[0]!==1||o[1]!==1||o[2]!==1,u=s[0]!==0||s[1]!==0||s[2]!==0;!c&&!l&&!u?A?Oo(r,i):_s(r):Gu(r,a,i,o,s)}t.localDirtyFlag=!1}}function YY(t,n){t.dirtyFlag&&(n?Tr(t.worldTransform,n.worldTransform,t.localTransform):il(t.worldTransform,t.localTransform),t.dirtyFlag=!1)}var rQ={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new sl(0,0,0,0)},mt=(function(t){return t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>",t})({});function MB(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function iQ(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function td(){}var hf=.7,mg=1/hf,Kc="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XY=/^#([0-9a-f]{3,8})$/,qY=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),ZY=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),JY=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${pf}\\)$`),tX=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${pf}\\)$`),eX=new RegExp(`^hsl\\(${pf},${Wa},${Wa}\\)$`),nX=new RegExp(`^hsla\\(${pf},${Wa},${Wa},${pf}\\)$`),z_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MB(td,D0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:W_,formatHex:W_,formatHex8:rX,formatHsl:iX,formatRgb:V_,toString:V_});function W_(){return this.rgb().formatHex()}function rX(){return this.rgb().formatHex8()}function iX(){return aQ(this).formatHsl()}function V_(){return this.rgb().formatRgb()}function D0(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=XY.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Y_(n):e===3?new ri(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?yh(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?yh(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=qY.exec(t))?new ri(n[1],n[2],n[3],1):(n=ZY.exec(t))?new ri(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=JY.exec(t))?yh(n[1],n[2],n[3],n[4]):(n=tX.exec(t))?yh(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=eX.exec(t))?Z_(n[1],n[2]/100,n[3]/100,1):(n=nX.exec(t))?Z_(n[1],n[2]/100,n[3]/100,n[4]):z_.hasOwnProperty(t)?Y_(z_[t]):t==="transparent"?new ri(NaN,NaN,NaN,0):null}function Y_(t){return new ri(t>>16&255,t>>8&255,t&255,1)}function yh(t,n,e,r){return r<=0&&(t=n=e=NaN),new ri(t,n,e,r)}function aX(t){return t instanceof td||(t=D0(t)),t?(t=t.rgb(),new ri(t.r,t.g,t.b,t.opacity)):new ri}function oX(t,n,e,r){return arguments.length===1?aX(t):new ri(t,n,e,r??1)}function ri(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}MB(ri,oX,iQ(td,{brighter(t){return t=t==null?mg:Math.pow(mg,t),new ri(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hf:Math.pow(hf,t),new ri(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ri(OA(this.r),OA(this.g),OA(this.b),wg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X_,formatHex:X_,formatHex8:sX,formatRgb:q_,toString:q_}));function X_(){return`#${vA(this.r)}${vA(this.g)}${vA(this.b)}`}function sX(){return`#${vA(this.r)}${vA(this.g)}${vA(this.b)}${vA((isNaN(this.opacity)?1:this.opacity)*255)}`}function q_(){const t=wg(this.opacity);return`${t===1?"rgb(":"rgba("}${OA(this.r)}, ${OA(this.g)}, ${OA(this.b)}${t===1?")":`, ${t})`}`}function wg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function OA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vA(t){return t=OA(t),(t<16?"0":"")+t.toString(16)}function Z_(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new pa(t,n,e,r)}function aQ(t){if(t instanceof pa)return new pa(t.h,t.s,t.l,t.opacity);if(t instanceof td||(t=D0(t)),!t)return new pa;if(t instanceof pa)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,A=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=A<.5?a+i:2-a-i,o*=60):s=A>0&&A<1?0:o,new pa(o,s,A,t.opacity)}function AX(t,n,e,r){return arguments.length===1?aQ(t):new pa(t,n,e,r??1)}function pa(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}MB(pa,AX,iQ(td,{brighter(t){return t=t==null?mg:Math.pow(mg,t),new pa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hf:Math.pow(hf,t),new pa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ri(Cm(t>=240?t-240:t+120,i,r),Cm(t,i,r),Cm(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pa(J_(this.h),mh(this.s),mh(this.l),wg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wg(this.opacity);return`${t===1?"hsl(":"hsla("}${J_(this.h)}, ${mh(this.s)*100}%, ${mh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function J_(t){return t=(t||0)%360,t<0?t+360:t}function mh(t){return Math.max(0,Math.min(1,t||0))}function Cm(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function Zn(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var e=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=n?n.apply(this,a):a[0],A=e.cache;if(A.has(s))return A.get(s);var c=t.apply(this,a);return e.cache=A.set(s,c)||A,c};return e.cache=new(Zn.Cache||Map),Zn.cacheList.push(e.cache),e}Zn.Cache=Map;Zn.cacheList=[];Zn.clearCache=function(){Zn.cacheList.forEach(function(t){return t.clear()})};var xt=(function(t){return t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger",t})({}),ha=(function(t){return t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther",t})({}),cX=(function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t})({}),lX=(function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t})({}),uX=[{name:"em",unit_type:xt.kEms},{name:"px",unit_type:xt.kPixels},{name:"deg",unit_type:xt.kDegrees},{name:"rad",unit_type:xt.kRadians},{name:"grad",unit_type:xt.kGradians},{name:"ms",unit_type:xt.kMilliseconds},{name:"s",unit_type:xt.kSeconds},{name:"rem",unit_type:xt.kRems},{name:"turn",unit_type:xt.kTurns}],Al=(function(t){return t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType",t})({}),fX=function(n){return uX.find(function(e){return e.name===n}).unit_type},dX=function(n){return n?n==="number"?xt.kNumber:n==="percent"||n==="%"?xt.kPercentage:fX(n):xt.kUnknown},hX=function(n){switch(n){case xt.kNumber:case xt.kInteger:return ha.kUNumber;case xt.kPercentage:return ha.kUPercent;case xt.kPixels:return ha.kULength;case xt.kMilliseconds:case xt.kSeconds:return ha.kUTime;case xt.kDegrees:case xt.kRadians:case xt.kGradians:case xt.kTurns:return ha.kUAngle;default:return ha.kUOther}},pX=function(n){switch(n){case ha.kUNumber:return xt.kNumber;case ha.kULength:return xt.kPixels;case ha.kUPercent:return xt.kPercentage;case ha.kUTime:return xt.kSeconds;case ha.kUAngle:return xt.kDegrees;default:return xt.kUnknown}},tS=function(n){var e=1;switch(n){case xt.kPixels:case xt.kDegrees:case xt.kSeconds:break;case xt.kMilliseconds:e=.001;break;case xt.kRadians:e=180/Math.PI;break;case xt.kGradians:e=.9;break;case xt.kTurns:e=360;break}return e},xw=function(n){switch(n){case xt.kNumber:case xt.kInteger:return"";case xt.kPercentage:return"%";case xt.kEms:return"em";case xt.kRems:return"rem";case xt.kPixels:return"px";case xt.kDegrees:return"deg";case xt.kRadians:return"rad";case xt.kGradians:return"grad";case xt.kMilliseconds:return"ms";case xt.kSeconds:return"s";case xt.kTurns:return"turn"}return""},H0=(function(){function t(){ut(this,t)}return lt(t,[{key:"toString",value:function(){return this.buildCSSText(cX.kNo,lX.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Al.kUnitType&&this.getType()<=Al.kClampType}}],[{key:"isAngle",value:function(e){return e===xt.kDegrees||e===xt.kRadians||e===xt.kGradians||e===xt.kTurns}},{key:"isLength",value:function(e){return e>=xt.kEms&&e<xt.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===xt.kPercentage||e===xt.kEms||e===xt.kRems}},{key:"isTime",value:function(e){return e===xt.kSeconds||e===xt.kMilliseconds}}])})(),gX=(function(t){function n(e){var r;return ut(this,n),r=ne(this,n),r.colorSpace=e,r}return ee(n,t),lt(n,[{key:"getType",value:function(){return Al.kColorType}},{key:"to",value:function(r){return this}}])})(H0),fs=(function(t){return t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient",t})({}),wh=(function(t){function n(e,r){var i;return ut(this,n),i=ne(this,n),i.type=e,i.value=r,i}return ee(n,t),lt(n,[{key:"clone",value:function(){return new n(this.type,this.value)}},{key:"buildCSSText",value:function(r,i,a){return a}},{key:"getType",value:function(){return Al.kColorType}}])})(H0),ta=(function(t){function n(e){var r;return ut(this,n),r=ne(this,n),r.value=e,r}return ee(n,t),lt(n,[{key:"clone",value:function(){return new n(this.value)}},{key:"getType",value:function(){return Al.kKeywordType}},{key:"buildCSSText",value:function(r,i,a){return a+this.value}}])})(H0),vX=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(n)?r="NaN":n>0?r="infinity":r="-infinity",r+=e},Cw=function(n){return pX(hX(n))},Ze=(function(t){function n(e){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt.kNumber;ut(this,n),r=ne(this,n);var a;return typeof i=="string"?a=dX(i):a=i,r.unit=a,r.value=e,r}return ee(n,t),lt(n,[{key:"clone",value:function(){return new n(this.value,this.unit)}},{key:"equals",value:function(r){var i=r;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return Al.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new n(this.value,this.unit);var i=Cw(this.unit);if(i!==Cw(r)||i===xt.kUnknown)return null;var a=tS(this.unit)/tS(r);return new n(this.value*a,r)}},{key:"buildCSSText",value:function(r,i,a){var o;switch(this.unit){case xt.kUnknown:break;case xt.kInteger:o=Number(this.value).toFixed(0);break;case xt.kNumber:case xt.kPercentage:case xt.kEms:case xt.kRems:case xt.kPixels:case xt.kDegrees:case xt.kRadians:case xt.kGradians:case xt.kMilliseconds:case xt.kSeconds:case xt.kTurns:{var s=-999999,A=999999,c=this.value,l=xw(this.unit);if(c<s||c>A){var u=xw(this.unit);!Number.isFinite(c)||Number.isNaN(c)?o=vX(c,u):o=c+(u||"")}else o="".concat(c).concat(l)}}return a+=o,a}}])})(H0),da=new Ze(0,"px");new Ze(1,"px");var IA=new Ze(0,"deg"),kB=(function(t){function n(e,r,i){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return ut(this,n),a=ne(this,n,["rgb"]),a.r=e,a.g=r,a.b=i,a.alpha=o,a.isNone=s,a}return ee(n,t),lt(n,[{key:"clone",value:function(){return new n(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])})(gX),eS=new ta("unset"),yX=new ta("initial"),mX=new ta("inherit"),Om={"":eS,unset:eS,initial:yX,inherit:mX},wX=function(n){return Om[n]||(Om[n]=new ta(n)),Om[n]},oQ=new kB(0,0,0,0,!0),sQ=new kB(0,0,0,0),bX=Zn(function(t,n,e,r){return new kB(t,n,e,r)},function(t,n,e,r){return"rgba(".concat(t,",").concat(n,",").concat(e,",").concat(r,")")}),vn=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt.kNumber;return new Ze(n,e)};new Ze(50,"%");function BX(t){var n=t.type,e=t.value;return n==="hex"?"#".concat(e):n==="literal"?e:n==="rgb"?"rgb(".concat(e.join(","),")"):"rgba(".concat(e.join(","),")")}var xX=(function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},n="";function e(P){throw new Error("".concat(n,": ").concat(P))}function r(){var P=i();return n.length>0&&e("Invalid input not EOF"),P}function i(){return b(a)}function a(){return o("linear-gradient",t.linearGradient,A)||o("repeating-linear-gradient",t.repeatingLinearGradient,A)||o("radial-gradient",t.radialGradient,u)||o("repeating-radial-gradient",t.repeatingRadialGradient,u)||o("conic-gradient",t.conicGradient,u)}function o(P,Q,R){return s(Q,function(H){var G=R();return G&&(U(t.comma)||e("Missing comma before color stops")),{type:P,orientation:G,colorStops:b(B)}})}function s(P,Q){var R=U(P);if(R){U(t.startCall)||e("Missing (");var H=Q(R);return U(t.endCall)||e("Missing )"),H}}function A(){return c()||l()}function c(){return L("directional",t.sideOrCorner,1)}function l(){return L("angular",t.angleValue,1)}function u(){var P,Q=f(),R;return Q&&(P=[],P.push(Q),R=n,U(t.comma)&&(Q=f(),Q?P.push(Q):n=R)),P}function f(){var P=d()||h();if(P)P.at=v();else{var Q=p();if(Q){P=Q;var R=v();R&&(P.at=R)}else{var H=y();H&&(P={type:"default-radial",at:H})}}return P}function d(){var P=L("shape",/^(circle)/i,0);return P&&(P.style=k()||p()),P}function h(){var P=L("shape",/^(ellipse)/i,0);return P&&(P.style=M()||p()),P}function p(){return L("extent-keyword",t.extentKeywords,1)}function v(){if(L("position",/^at/,0)){var P=y();return P||e("Missing positioning value"),P}}function y(){var P=m();if(P.x||P.y)return{type:"position",value:P}}function m(){return{x:M(),y:M()}}function b(P){var Q=P(),R=[];if(Q)for(R.push(Q);U(t.comma);)Q=P(),Q?R.push(Q):e("One extra comma");return R}function B(){var P=x();return P||e("Expected color definition"),P.length=M(),P}function x(){return O()||S()||_()||C()}function C(){return L("literal",t.literalColor,0)}function O(){return L("hex",t.hexColor,1)}function _(){return s(t.rgbColor,function(){return{type:"rgb",value:b(F)}})}function S(){return s(t.rgbaColor,function(){return{type:"rgba",value:b(F)}})}function F(){return U(t.number)[1]}function M(){return L("%",t.percentageValue,1)||T()||k()}function T(){return L("position-keyword",t.positionKeywords,1)}function k(){return L("px",t.pixelValue,1)||L("em",t.emValue,1)}function L(P,Q,R){var H=U(Q);if(H)return{type:P,value:H[R]}}function U(P){var Q=/^[\n\r\t\s]+/.exec(n);Q&&N(Q[0].length);var R=P.exec(n);return R&&N(R[0].length),R}function N(P){n=n.substring(P)}return function(P){return n=P,r()}})();function CX(t,n,e,r){var i=De(r.value),a=0,o=0,s=a+n/2,A=o+e/2,c=Math.abs(n*Math.cos(i))+Math.abs(e*Math.sin(i)),l=t[0]+s-Math.cos(i)*c/2,u=t[1]+A-Math.sin(i)*c/2,f=t[0]+s+Math.cos(i)*c/2,d=t[1]+A+Math.sin(i)*c/2;return{x1:l,y1:u,x2:f,y2:d}}function OX(t,n,e,r,i,a){var o=r.value,s=i.value;r.unit===xt.kPercentage&&(o=r.value/100*n),i.unit===xt.kPercentage&&(s=i.value/100*e);var A=Math.max(ti([0,0],[o,s]),ti([0,e],[o,s]),ti([n,e],[o,s]),ti([n,0],[o,s]));return a&&(a instanceof Ze?A=a.value:a instanceof ta&&(a.value==="closest-side"?A=Math.min(o,n-o,s,e-s):a.value==="farthest-side"?A=Math.max(o,n-o,s,e-s):a.value==="closest-corner"&&(A=Math.min(ti([0,0],[o,s]),ti([0,e],[o,s]),ti([n,e],[o,s]),ti([n,0],[o,s]))))),{x:o+t[0],y:s+t[1],r:A}}var EX=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,_X=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,SX=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,AQ=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function FX(t){var n,e=t.length;if(t[e-1].length=(n=t[e-1].length)!==null&&n!==void 0?n:{type:"%",value:"100"},e>1){var r;t[0].length=(r=t[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var i=0,a=Number(t[0].length.value),o=1;o<e;o++){var s,A=(s=t[o].length)===null||s===void 0?void 0:s.value;if(!Rt(A)&&!Rt(a)){for(var c=1;c<o-i;c++)t[i+c].length={type:"%",value:"".concat(a+(Number(A)-a)*c/(o-i))};i=o,a=Number(A)}}}var MX={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},kX=Zn(function(t){var n;return t.type==="angular"?n=Number(t.value):n=MX[t.value]||0,vn(n,"deg")}),TX=Zn(function(t){var n=50,e=50,r="%",i="%";if(t?.type==="position"){var a=t.value,o=a.x,s=a.y;o?.type==="position-keyword"&&(o.value==="left"?n=0:o.value==="center"?n=50:o.value==="right"?n=100:o.value==="top"?e=0:o.value==="bottom"&&(e=100)),s?.type==="position-keyword"&&(s.value==="left"?n=0:s.value==="center"?e=50:s.value==="right"?n=100:s.value==="top"?e=0:s.value==="bottom"&&(e=100)),(o?.type==="px"||o?.type==="%"||o?.type==="em")&&(r=o?.type,n=Number(o.value)),(s?.type==="px"||s?.type==="%"||s?.type==="em")&&(i=s?.type,e=Number(s.value))}return{cx:vn(n,r),cy:vn(e,i)}}),IX=Zn(function(t){if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var n=xX(t);return n.map(function(s){var A=s.type,c=s.orientation,l=s.colorStops;FX(l);var u=l.map(function(b){return{offset:vn(Number(b.length.value),"%"),color:BX(b)}});if(A==="linear-gradient")return new wh(fs.LinearGradient,{angle:c?kX(c):IA,steps:u});if(A==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var f=TX(c[0].at),d=f.cx,h=f.cy,p;if(c[0].style){var v=c[0].style,y=v.type,m=v.value;y==="extent-keyword"?p=wX(m):p=vn(m,y)}return new wh(fs.RadialGradient,{cx:d,cy:h,size:p,steps:u})}})}var e=t[0];if(t[1]==="("||t[2]==="("){if(e==="l"){var r=EX.exec(t);if(r){var i,a=((i=r[2].match(AQ))===null||i===void 0?void 0:i.map(function(s){return s.split(":")}))||[];return[new wh(fs.LinearGradient,{angle:vn(parseFloat(r[1]),"deg"),steps:a.map(function(s){var A=Xt(s,2),c=A[0],l=A[1];return{offset:vn(Number(c)*100,"%"),color:l}})})]}}else if(e==="r"){var o=LX(t);if(o)if(sn(o))t=o;else return[new wh(fs.RadialGradient,o)]}else if(e==="p")return QX(t)}});function LX(t){var n=_X.exec(t);if(n){var e,r=((e=n[4].match(AQ))===null||e===void 0?void 0:e.map(function(i){return i.split(":")}))||[];return{cx:vn(50,"%"),cy:vn(50,"%"),steps:r.map(function(i){var a=Xt(i,2),o=a[0],s=a[1];return{offset:vn(Number(o)*100,"%"),color:s}})}}return null}function QX(t){var n=SX.exec(t);if(n){var e=n[1],r=n[2];switch(e){case"a":e="repeat";break;case"x":e="repeat-x";break;case"y":e="repeat-y";break;case"n":e="no-repeat";break;default:e="no-repeat"}return{image:r,repetition:e}}return null}function LA(t){return t&&!!t.image}function bg(t){return t&&!Rt(t.r)&&!Rt(t.g)&&!Rt(t.b)}var xs=Zn(function(t){if(LA(t))return Vt({repetition:"repeat"},t);if(Rt(t)&&(t=""),t==="transparent")return sQ;if(t==="currentColor")t="black";else if(t==="none")return oQ;var n=IX(t);if(n)return n;var e=D0(t),r=[0,0,0,0];return e!==null&&(r[0]=e.r||0,r[1]=e.g||0,r[2]=e.b||0,r[3]=e.opacity),bX.apply(void 0,r)});function UX(t,n){if(!(!bg(t)||!bg(n)))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],function(e){var r=e.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(In(r[i],0,255));return r[3]=In(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function ed(t,n){if(Rt(n))return vn(0,"px");if(n="".concat(n).trim().toLowerCase(),isFinite(Number(n))){if("px".search(t)>=0)return vn(Number(n),"px");if("deg".search(t)>=0)return vn(Number(n),"deg")}var e=[];n=n.replace(t,function(i){return e.push(i),"U".concat(i)});var r="U(".concat(t.source,")");return e.map(function(i){return vn(Number(n.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var cQ=function(n){return ed(new RegExp("px","g"),n)},PX=Zn(cQ),RX=function(n){return ed(new RegExp("%","g"),n)};Zn(RX);var lQ=function(n){return rn(n)||isFinite(Number(n))?vn(Number(n)||0,"px"):ed(new RegExp("px|%|em|rem","g"),n)},Ow=Zn(lQ),uQ=function(n){return ed(new RegExp("deg|rad|grad|turn","g"),n)},NX=Zn(uQ);function DX(t,n,e,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",o=t.value||0,s=n.value||0,A=Cw(t.unit),c=t.convertTo(A),l=n.convertTo(A);return c&&l?(o=c.value,s=l.value,a=xw(t.unit)):(Ze.isLength(t.unit)||Ze.isLength(n.unit))&&(o=vi(t,i,e),s=vi(n,i,e),a="px"),[o,s,function(u){return u+a}]}function ei(t){var n=0;return t.unit===xt.kDegrees?n=t.value:t.unit===xt.kRadians?n=Ni(Number(t.value)):t.unit===xt.kTurns?n=RY(Number(t.value)):t.value&&(n=t.value),n}function nS(t,n){var e;return Array.isArray(t)?e=t.map(function(r){return Number(r)}):sn(t)?e=t.split(" ").map(function(r){return Number(r)}):rn(t)&&(e=[t]),n===2?e.length===1?[e[0],e[0]]:[e[0],e[1]]:n===4?e.length===1?[e[0],e[0],e[0],e[0]]:e.length===2?[e[0],e[1],e[0],e[1]]:e.length===3?[e[0],e[1],e[2],e[1]]:[e[0],e[1],e[2],e[3]]:n==="even"&&e.length%2===1?[].concat(se(e),se(e)):e}function vi(t,n,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.unit===xt.kPixels)return Number(t.value);if(t.unit===xt.kPercentage&&e){var i=e.nodeName===it.GROUP?e.getLocalBounds():e.getGeometryBounds();return(r?i.min[n]:0)+t.value/100*i.halfExtents[n]*2}return 0}var HX=function(n){return ed(/deg|rad|grad|turn|px|%/g,n)},jX=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function $X(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(t=t.toLowerCase().trim(),t==="none")return[];for(var n=/\s*([\w-]+)\(([^)]*)\)/g,e=[],r,i=0;r=n.exec(t);){if(r.index!==i)return[];if(i=r.index+r[0].length,jX.indexOf(r[1])>-1&&e.push({name:r[1],params:r[2].split(" ").map(function(a){return HX(a)||xs(a)})}),n.lastIndex===t.length)return e}return[]}function fQ(t){return t.toString()}var dQ=function(n){return typeof n=="number"?vn(n):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(n)?vn(Number(n)):vn(0)},Ew=Zn(dQ);Zn(function(t){return sn(t)?t.split(" ").map(Ew):t.map(Ew)});function TB(t,n){return[t,n,fQ]}function IB(t,n){return function(e,r){return[e,r,function(i){return fQ(In(i,t,n))}]}}function hQ(t,n){if(t.length===n.length)return[t,n,function(e){return e}]}function _w(t){return t.parsedStyle.d.totalLength===0&&(t.parsedStyle.d.totalLength=aY(t.parsedStyle.d.absolutePath)),t.parsedStyle.d.totalLength}function GX(t){return t.parsedStyle.points.totalLength===0&&(t.parsedStyle.points.totalLength=CY(t.parsedStyle.points.points)),t.parsedStyle.points.totalLength}function KX(t){for(var n=0;n<t.length;n++){var e=t[n-1],r=t[n],i=r[0];if(i==="M"&&e){var a=e[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[e[1],e[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[e[e.length-2],e[e.length-1]]),s&&Bg(o,s)&&(t.splice(n,1),n--)}}}function zX(t){for(var n=!1,e=t.length,r=0;r<e;r++){var i=t[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){n=!0;break}}return n}function WX(t){for(var n=[],e=[],r=[],i=0;i<t.length;i++){var a=t[i],o=a[0];o==="M"?(r.length&&(e.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(n.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&e.push(r),{polygons:n,polylines:e}}function Bg(t,n){return t[0]===n[0]&&t[1]===n[1]}function VX(t,n){for(var e=[],r=[],i=[],a=0;a<t.length;a++){var o=t[a],s=o.currentPoint,A=o.params,c=o.prePoint,l=void 0;switch(o.command){case"Q":l=OY(c[0],c[1],A[1],A[2],A[3],A[4]);break;case"C":l=bY(c[0],c[1],A[1],A[2],A[3],A[4],A[5],A[6]);break;case"A":var u=o.arcParams;l=yY(u.cx,u.cy,u.rx,u.ry,u.xRotation,u.startAngle,u.endAngle);break;default:e.push(s[0]),r.push(s[1]);break}l&&(o.box=l,e.push(l.x,l.x+l.width),r.push(l.y,l.y+l.height))}e=e.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0}),r=r.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0});var f=dg(e),d=dg(r),h=fg(e),p=fg(r);if(i.length===0)return{x:f,y:d,width:h-f,height:p-d};for(var v=0;v<i.length;v++){var y=i[v],m=y.currentPoint,b=void 0;m[0]===f?(b=bh(y,n),f-=b.xExtra):m[0]===h&&(b=bh(y,n),h+=b.xExtra),m[1]===d?(b=bh(y,n),d-=b.yExtra):m[1]===p&&(b=bh(y,n),p+=b.yExtra)}return{x:f,y:d,width:h-f,height:p-d}}function bh(t,n){var e=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2),A=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!A||Math.sin(A)===0||$c(A,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l;var u={xExtra:Math.cos(A/2-c)*(n/2*(1/Math.sin(A/2)))-n/2||0,yExtra:Math.cos(l-A/2)*(n/2*(1/Math.sin(A/2)))-n/2||0};return u}function rS(t,n){return[n[0]+(n[0]-t[0]),n[1]+(n[1]-t[1])]}var iS=function(n,e){var r=n.x*e.x+n.y*e.y,i=Math.sqrt((Math.pow(n.x,2)+Math.pow(n.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),a=n.x*e.y-n.y*e.x<0?-1:1,o=a*Math.acos(r/i);return o},aS=function(n,e,r,i,a,o,s,A){e=Math.abs(e),r=Math.abs(r),i=LL(i,360);var c=De(i);if(n.x===s.x&&n.y===s.y)return{x:n.x,y:n.y,ellipticalArcAngle:0};if(e===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var l=(n.x-s.x)/2,u=(n.y-s.y)/2,f={x:Math.cos(c)*l+Math.sin(c)*u,y:-Math.sin(c)*l+Math.cos(c)*u},d=Math.pow(f.x,2)/Math.pow(e,2)+Math.pow(f.y,2)/Math.pow(r,2);d>1&&(e*=Math.sqrt(d),r*=Math.sqrt(d));var h=Math.pow(e,2)*Math.pow(r,2)-Math.pow(e,2)*Math.pow(f.y,2)-Math.pow(r,2)*Math.pow(f.x,2),p=Math.pow(e,2)*Math.pow(f.y,2)+Math.pow(r,2)*Math.pow(f.x,2),v=h/p;v=v<0?0:v;var y=(a!==o?1:-1)*Math.sqrt(v),m={x:y*(e*f.y/r),y:y*(-(r*f.x)/e)},b={x:Math.cos(c)*m.x-Math.sin(c)*m.y+(n.x+s.x)/2,y:Math.sin(c)*m.x+Math.cos(c)*m.y+(n.y+s.y)/2},B={x:(f.x-m.x)/e,y:(f.y-m.y)/r},x=iS({x:1,y:0},B),C={x:(-f.x-m.x)/e,y:(-f.y-m.y)/r},O=iS(B,C);!o&&O>0?O-=2*Math.PI:o&&O<0&&(O+=2*Math.PI),O%=2*Math.PI;var _=x+O*A,S=e*Math.cos(_),F=r*Math.sin(_),M={x:Math.cos(c)*S-Math.sin(c)*F+b.x,y:Math.sin(c)*S+Math.cos(c)*F+b.y,ellipticalArcStartAngle:x,ellipticalArcEndAngle:x+O,ellipticalArcAngle:_,ellipticalArcCenter:b,resultantRx:e,resultantRy:r};return M};function YX(t){for(var n=[],e=null,r=null,i=null,a=0,o=t.length,s=0;s<o;s++){var A=t[s];r=t[s+1];var c=A[0],l={command:c,prePoint:e,params:A,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[A[1],A[2]],a=s;break;case"A":var u=XX(e,A);l.arcParams=u;break}if(c==="Z")e=i,r=t[a+1];else{var f=A.length;e=[A[f-2],A[f-1]]}r&&r[0]==="Z"&&(r=t[a],n[a]&&(n[a].prePoint=e)),l.currentPoint=e,n[a]&&Bg(e,n[a].currentPoint)&&(n[a].prePoint=l.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=d;var h=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[h[0]-e[0],h[1]-e[1]],l.endTangent=[e[0]-h[0],e[1]-h[1]];else if(c==="Q"){var p=[A[1],A[2]];l.startTangent=[h[0]-p[0],h[1]-p[1]],l.endTangent=[e[0]-p[0],e[1]-p[1]]}else if(c==="T"){var v=n[s-1],y=rS(v.currentPoint,h);v.command==="Q"?(l.command="Q",l.startTangent=[h[0]-y[0],h[1]-y[1]],l.endTangent=[e[0]-y[0],e[1]-y[1]]):(l.command="TL",l.startTangent=[h[0]-e[0],h[1]-e[1]],l.endTangent=[e[0]-h[0],e[1]-h[1]])}else if(c==="C"){var m=[A[1],A[2]],b=[A[3],A[4]];l.startTangent=[h[0]-m[0],h[1]-m[1]],l.endTangent=[e[0]-b[0],e[1]-b[1]],l.startTangent[0]===0&&l.startTangent[1]===0&&(l.startTangent=[m[0]-b[0],m[1]-b[1]]),l.endTangent[0]===0&&l.endTangent[1]===0&&(l.endTangent=[b[0]-m[0],b[1]-m[1]])}else if(c==="S"){var B=n[s-1],x=rS(B.currentPoint,h),C=[A[1],A[2]];B.command==="C"?(l.command="C",l.startTangent=[h[0]-x[0],h[1]-x[1]],l.endTangent=[e[0]-C[0],e[1]-C[1]]):(l.command="SQ",l.startTangent=[h[0]-C[0],h[1]-C[1]],l.endTangent=[e[0]-C[0],e[1]-C[1]])}else if(c==="A"){var O=oS(l,0),_=O.x,S=O.y,F=oS(l,1,!1),M=F.x,T=F.y;l.startTangent=[_,S],l.endTangent=[M,T]}n.push(l)}return n}function oS(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,A=r.xRotation,c=r.arcFlag,l=r.sweepFlag,u=aS({x:t.prePoint[0],y:t.prePoint[1]},a,s,A,!!c,!!l,{x:t.currentPoint[0],y:t.currentPoint[1]},n),f=aS({x:t.prePoint[0],y:t.prePoint[1]},a,s,A,!!c,!!l,{x:t.currentPoint[0],y:t.currentPoint[1]},e?n+.005:n-.005),d=f.x-u.x,h=f.y-u.y,p=Math.sqrt(d*d+h*h);return{x:-d/p,y:-h/p}}function Bh(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Sw(t,n){return Bh(t)*Bh(n)?(t[0]*n[0]+t[1]*n[1])/(Bh(t)*Bh(n)):1}function sS(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(Sw(t,n))}function XX(t,n){var e=n[1],r=n[2],i=LL(De(n[3]),Math.PI*2),a=n[4],o=n[5],s=t[0],A=t[1],c=n[6],l=n[7],u=Math.cos(i)*(s-c)/2+Math.sin(i)*(A-l)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(A-l)/2,d=u*u/(e*e)+f*f/(r*r);d>1&&(e*=Math.sqrt(d),r*=Math.sqrt(d));var h=e*e*(f*f)+r*r*(u*u),p=h?Math.sqrt((e*e*(r*r)-h)/h):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var v=r?p*e*f/r:0,y=e?p*-r*u/e:0,m=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(A+l)/2+Math.sin(i)*v+Math.cos(i)*y,B=[(u-v)/e,(f-y)/r],x=[(-1*u-v)/e,(-1*f-y)/r],C=sS([1,0],B),O=sS(B,x);return Sw(B,x)<=-1&&(O=Math.PI),Sw(B,x)>=1&&(O=0),o===0&&O>0&&(O-=2*Math.PI),o===1&&O<0&&(O+=2*Math.PI),{cx:m,cy:b,rx:Bg(t,[c,l])?0:e,ry:Bg(t,[c,l])?0:r,startAngle:C,endAngle:C+O,xRotation:i,arcFlag:a,sweepFlag:o}}function qX(t,n,e){return t.reduce(function(r,i){var a="";if(i[0]==="M"||i[0]==="L"){var o=Se(i[1],i[2],0);e&&Fn(o,o,e),a="".concat(i[0]).concat(o[0],",").concat(o[1])}else if(i[0]==="Z")a=i[0];else if(i[0]==="C"){var s=Se(i[1],i[2],0),A=Se(i[3],i[4],0),c=Se(i[5],i[6],0);e&&(Fn(s,s,e),Fn(A,A,e),Fn(c,c,e)),a="".concat(i[0]).concat(s[0],",").concat(s[1],",").concat(A[0],",").concat(A[1],",").concat(c[0],",").concat(c[1])}else if(i[0]==="A"){var l=Se(i[6],i[7],0);e&&Fn(l,l,e),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(l[0],",").concat(l[1])}else if(i[0]==="Q"){var u=Se(i[1],i[2],0),f=Se(i[3],i[4],0);e&&(Fn(u,u,e),Fn(f,f,e)),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return r+=a},"")}function ZX(t,n,e,r){return[["M",t,n],["L",e,r]]}function AS(t,n,e,r){var i=(-1+Math.sqrt(2))/3*4,a=t*i,o=n*i,s=e-t,A=e+t,c=r-n,l=r+n;return[["M",s,r],["C",s,r-o,e-a,c,e,c],["C",e+a,c,A,r-o,A,r],["C",A,r+o,e+a,l,e,l],["C",e-a,l,s,r+o,s,r],["Z"]]}function JX(t,n){var e=t.map(function(r,i){return[i===0?"M":"L",r[0],r[1]]});return n&&e.push(["Z"]),e}function tq(t,n,e,r,i){if(i){var a=Xt(i,4),o=a[0],s=a[1],A=a[2],c=a[3],l=t>0?1:-1,u=n>0?1:-1,f=l+u!==0?1:0;return[["M",l*o+e,r],["L",t-l*s+e,r],s?["A",s,s,0,0,f,t+e,u*s+r]:null,["L",t+e,n-u*A+r],A?["A",A,A,0,0,f,t+e-l*A,n+r]:null,["L",e+l*c,n+r],c?["A",c,c,0,0,f,e,n+r-u*c]:null,["L",e,u*o+r],o?["A",o,o,0,0,f,l*o+e,r]:null,["Z"]].filter(function(d){return d})}return[["M",e,r],["L",e+t,r],["L",e+t,r+n],["L",e,r+n],["Z"]]}function eq(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.getLocalTransform(),e=[];switch(t.nodeName){case it.LINE:var r=t.parsedStyle,i=r.x1,a=i===void 0?0:i,o=r.y1,s=o===void 0?0:o,A=r.x2,c=A===void 0?0:A,l=r.y2,u=l===void 0?0:l;e=ZX(a,s,c,u);break;case it.CIRCLE:{var f=t.parsedStyle,d=f.r,h=d===void 0?0:d,p=f.cx,v=p===void 0?0:p,y=f.cy,m=y===void 0?0:y;e=AS(h,h,v,m);break}case it.ELLIPSE:{var b=t.parsedStyle,B=b.rx,x=B===void 0?0:B,C=b.ry,O=C===void 0?0:C,_=b.cx,S=_===void 0?0:_,F=b.cy,M=F===void 0?0:F;e=AS(x,O,S,M);break}case it.POLYLINE:case it.POLYGON:var T=t.parsedStyle.points;e=JX(T.points,t.nodeName===it.POLYGON);break;case it.RECT:var k=t.parsedStyle,L=k.width,U=L===void 0?0:L,N=k.height,P=N===void 0?0:N,Q=k.x,R=Q===void 0?0:Q,H=k.y,G=H===void 0?0:H,K=k.radius,W=K&&K.some(function(Y){return Y!==0});e=tq(U,P,R,G,W&&K.map(function(Y){return In(Y,0,Math.min(Math.abs(U)/2,Math.abs(P)/2))}));break;case it.PATH:var X=t.parsedStyle.d.absolutePath;e=se(X);break}if(e.length)return qX(e,t,n)}var pQ=function(n){if(n===""||Array.isArray(n)&&n.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=hg(n)}catch{e=hg(""),console.error("[g]: Invalid SVG Path definition: ".concat(n))}KX(e);var r=zX(e),i=WX(e),a=i.polygons,o=i.polylines,s=YX(e),A=VX(s,0),c=A.x,l=A.y,u=A.width,f=A.height;return{absolutePath:e,hasArc:r,segments:s,polygons:a,polylines:o,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(l)?l:0,width:Number.isFinite(u)?u:0,height:Number.isFinite(f)?f:0}}},nq=Zn(pQ);function gQ(t){return sn(t)?nq(t):pQ(t)}function rq(t,n,e){var r=t.curve,i=n.curve;(!r||r.length===0)&&(r=vw(t.absolutePath,!1),t.curve=r),(!i||i.length===0)&&(i=vw(n.absolutePath,!1),n.curve=i);var a=[r,i];r.length!==i.length&&(a=VL(r,i));var o=I_(a[0])!==I_(a[1])?JV(a[0]):ZV(a[0]);return[o,sY(a[1],o),function(s){return s}]}function iq(t,n){var e;return sn(t)?e=t.split(" ").map(function(r){var i=r.split(","),a=Xt(i,2),o=a[0],s=a[1];return[Number(o),Number(s)]}):e=t,{points:e,totalLength:0,segments:[]}}function aq(t,n){return[t.points,n.points,function(e){return e}]}var On=null,zc=/\s*(\w+)\(([^)]*)\)/g;function qr(t){return function(n){var e=0;return t.map(function(r){return r===On?n[e++]:r})}}function nA(t){return t}var gf={matrix:["NNNNNN",[On,On,0,0,On,On,0,0,0,0,1,0,On,On,0,1],nA],matrix3d:["NNNNNNNNNNNNNNNN",nA],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",qr([On,On,new Ze(1)]),nA],scaleX:["N",qr([On,new Ze(1),new Ze(1)]),qr([On,new Ze(1)])],scaleY:["N",qr([new Ze(1),On,new Ze(1)]),qr([new Ze(1),On])],scaleZ:["N",qr([new Ze(1),new Ze(1),On])],scale3d:["NNN",nA],skew:["Aa",null,nA],skewX:["A",null,qr([On,IA])],skewY:["A",null,qr([IA,On])],translate:["Tt",qr([On,On,da]),nA],translateX:["T",qr([On,da,da]),qr([On,da])],translateY:["T",qr([da,On,da]),qr([da,On])],translateZ:["L",qr([da,da,On])],translate3d:["TTL",nA]};function vQ(t){for(var n=[],e=t.length,r=0;r<e;r++){var i=t[r],a=i[0],o=i.slice(1);a==="translate"||a==="skew"?o.length===1&&o.push(0):a==="scale"&&o.length===1&&o.push(o[0]);var s=gf[a];if(!s)return[];var A=o.map(function(c){return vn(c)});n.push({t:a,d:A})}return n}function yQ(t){if(Array.isArray(t))return vQ(t);if(t=(t||"none").trim(),t==="none")return[];var n=[],e,r=0;for(zc.lastIndex=0;e=zc.exec(t);){if(e.index!==r)return[];r=e.index+e[0].length;var i=e[1],a=gf[i];if(!a)return[];var o=e[2].split(","),s=a[0];if(s.length<o.length)return[];for(var A=[],c=0;c<s.length;c++){var l=o[c],u=s[c],f=void 0;if(l?f={A:function(h){return h.trim()==="0"?IA:NX(h)},N:Ew,T:Ow,L:PX}[u.toUpperCase()](l):f={a:IA,n:A[0],t:da}[u],f===void 0)return[];A.push(f)}if(n.push({t:i,d:A}),zc.lastIndex===t.length)return n}return[]}function oq(t){if(Array.isArray(t))return vQ(t);if(t=(t||"none").trim(),t==="none")return[];var n=[],e,r=0;for(zc.lastIndex=0;e=zc.exec(t);){if(e.index!==r)return[];r=e.index+e[0].length;var i=e[1],a=gf[i];if(!a)return[];var o=e[2].split(","),s=a[0];if(s.length<o.length)return[];for(var A=[],c=0;c<s.length;c++){var l=o[c],u=s[c],f=void 0;if(l?f={A:function(h){return h.trim()==="0"?IA:uQ(h)},N:dQ,T:lQ,L:cQ}[u.toUpperCase()](l):f={a:IA,n:A[0],t:da}[u],f===void 0)return[];A.push(f)}if(n.push({t:i,d:A}),zc.lastIndex===t.length)return n}return[]}function sq(t){var n,e,r,i;switch(t.t){case"rotateX":return i=De(ei(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=De(ei(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=De(ei(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":n=t.d[0].value,e=t.d[1].value,r=t.d[2].value,i=De(ei(t.d[3]));var a=n*n+e*e+r*r;if(a===0)n=1,e=0,r=0;else if(a!==1){var o=Math.sqrt(a);n/=o,e/=o,r/=o}var s=Math.sin(i/2),A=s*Math.cos(i/2),c=s*s;return[1-2*(e*e+r*r)*c,2*(n*e*c+r*A),2*(n*r*c-e*A),0,2*(n*e*c-r*A),1-2*(n*n+r*r)*c,2*(e*r*c+n*A),0,2*(n*r*c+e*A),2*(e*r*c-n*A),1-2*(n*n+e*e)*c,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var l=De(ei(t.d[0])),u=De(ei(t.d[1]));return[1,Math.tan(u),0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=De(ei(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=De(ei(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return n=vi(t.d[0],0,null)||0,e=vi(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,e,0,1];case"translateX":return n=vi(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,0,0,1];case"translateY":return e=vi(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,e,0,1];case"translateZ":return r=vi(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return n=vi(t.d[0],0,null)||0,e=vi(t.d[1],0,null)||0,r=vi(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,n,e,r,1];case"perspective":var f=vi(t.d[0],0,null)||0,d=f?-1/f:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map(function(h){return h.value})}}function Aq(t,n){return[t[0]*n[0]+t[4]*n[1]+t[8]*n[2]+t[12]*n[3],t[1]*n[0]+t[5]*n[1]+t[9]*n[2]+t[13]*n[3],t[2]*n[0]+t[6]*n[1]+t[10]*n[2]+t[14]*n[3],t[3]*n[0]+t[7]*n[1]+t[11]*n[2]+t[15]*n[3],t[0]*n[4]+t[4]*n[5]+t[8]*n[6]+t[12]*n[7],t[1]*n[4]+t[5]*n[5]+t[9]*n[6]+t[13]*n[7],t[2]*n[4]+t[6]*n[5]+t[10]*n[6]+t[14]*n[7],t[3]*n[4]+t[7]*n[5]+t[11]*n[6]+t[15]*n[7],t[0]*n[8]+t[4]*n[9]+t[8]*n[10]+t[12]*n[11],t[1]*n[8]+t[5]*n[9]+t[9]*n[10]+t[13]*n[11],t[2]*n[8]+t[6]*n[9]+t[10]*n[10]+t[14]*n[11],t[3]*n[8]+t[7]*n[9]+t[11]*n[10]+t[15]*n[11],t[0]*n[12]+t[4]*n[13]+t[8]*n[14]+t[12]*n[15],t[1]*n[12]+t[5]*n[13]+t[9]*n[14]+t[13]*n[15],t[2]*n[12]+t[6]*n[13]+t[10]*n[14]+t[14]*n[15],t[3]*n[12]+t[7]*n[13]+t[11]*n[14]+t[15]*n[15]]}function cq(t){return t.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(sq).reduce(Aq)}function cS(t){var n=[0,0,0],e=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return $Y(cq(t),n,e,r,i,a),[[n,e,r,a,i]]}var lq=(function(){function t(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var A=0;A<4;A++)a[o][s]+=i[o][A]*r[A][s];return a}function n(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function e(r,i,a,o,s){for(var A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)A[c][3]=s[c];for(var l=0;l<3;l++)for(var u=0;u<3;u++)A[3][l]+=r[u]*A[u][l];var f=o[0],d=o[1],h=o[2],p=o[3],v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];v[0][0]=1-2*(d*d+h*h),v[0][1]=2*(f*d-h*p),v[0][2]=2*(f*h+d*p),v[1][0]=2*(f*d+h*p),v[1][1]=1-2*(f*f+h*h),v[1][2]=2*(d*h-f*p),v[2][0]=2*(f*h-d*p),v[2][1]=2*(d*h+f*p),v[2][2]=1-2*(f*f+d*d),A=t(A,v);var y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(y[2][1]=a[2],A=t(A,y)),a[1]&&(y[2][1]=0,y[2][0]=a[0],A=t(A,y)),a[0]&&(y[2][0]=0,y[1][0]=a[0],A=t(A,y));for(var m=0;m<3;m++)for(var b=0;b<3;b++)A[m][b]*=i[m];return n(A)?[A[0][0],A[0][1],A[1][0],A[1][1],A[3][0],A[3][1]]:A[0].concat(A[1],A[2],A[3])}return e})();function uq(t){return t.toFixed(6).replace(".000000","")}function Em(t,n){var e,r;return t.decompositionPair!==n&&(t.decompositionPair=n,e=cS(t)),n.decompositionPair!==t&&(n.decompositionPair=t,r=cS(n)),e[0]===null||r[0]===null?[[!1],[!0],function(i){return i?n[0].d:t[0].d}]:(e[0].push(0),r[0].push(1),[e,r,function(i){var a=dq(e[0][3],r[0][3],i[5]),o=lq(i[0],i[1],i[2],a,i[4]),s=o.map(uq).join(",");return s}])}function fq(t,n){for(var e=0,r=0;r<t.length;r++)e+=t[r]*n[r];return e}function dq(t,n,e){var r=fq(t,n);r=In(r,-1,1);var i=[];if(r===1)i=t;else for(var a=Math.acos(r),o=Math.sin(e*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(e*a)-r*o)+n[s]*o);return i}function _m(t){return t.replace(/[XY]/,"")}function Sm(t){return t.replace(/(X|Y|Z|3d)?$/,"3d")}var hq=function(n,e){return n==="perspective"&&e==="perspective"||(n==="matrix"||n==="matrix3d")&&(e==="matrix"||e==="matrix3d")};function pq(t,n,e){var r=!1;if(!t.length||!n.length){t.length||(r=!0,t=n,n=[]);for(var i=function(){var M=t[a],T=M.t,k=M.d,L=T.substring(0,5)==="scale"?1:0;n.push({t:T,d:k.map(function(U){return typeof U=="number"?vn(L):vn(L,U.unit)})})},a=0;a<t.length;a++)i()}var o=[],s=[],A=[];if(t.length!==n.length){var c=Em(t,n);o=[c[0]],s=[c[1]],A=[["matrix",[c[2]]]]}else for(var l=0;l<t.length;l++){var u=t[l].t,f=n[l].t,d=t[l].d,h=n[l].d,p=gf[u],v=gf[f],y=void 0;if(hq(u,f)){var m=Em([t[l]],[n[l]]);o.push(m[0]),s.push(m[1]),A.push(["matrix",[m[2]]]);continue}else if(u===f)y=u;else if(p[2]&&v[2]&&_m(u)===_m(f))y=_m(u),d=p[2](d),h=v[2](h);else if(p[1]&&v[1]&&Sm(u)===Sm(f))y=Sm(u),d=p[1](d),h=v[1](h);else{var b=Em(t,n);o=[b[0]],s=[b[1]],A=[["matrix",[b[2]]]];break}for(var B=[],x=[],C=[],O=0;O<d.length;O++){var _=DX(d[O],h[O],e,!1,O);B[O]=_[0],x[O]=_[1],C.push(_[2])}o.push(B),s.push(x),A.push([y,C])}if(r){var S=o;o=s,s=S}return[o,s,function(F){return F.map(function(M,T){var k=M.map(function(L,U){return A[T][1][U](L)}).join(",");return A[T][0]==="matrix"&&k.split(",").length===16&&(A[T][0]="matrix3d"),A[T][0]==="matrix3d"&&k.split(",").length===6&&(A[T][0]="matrix"),"".concat(A[T][0],"(").concat(k,")")}).join(" ")}]}var gq=Zn(function(t){if(sn(t)){if(t==="text-anchor")return[vn(0,"px"),vn(0,"px")];var n=t.split(" ");return n.length===1&&(n[0]==="top"||n[0]==="bottom"?(n[1]=n[0],n[0]="center"):n[1]="center"),n.length!==2?null:[Ow(lS(n[0])),Ow(lS(n[1]))]}return[vn(t[0]||0,"px"),vn(t[1]||0,"px")]});function lS(t){return t==="center"?"50%":t==="left"||t==="top"?"0%":t==="right"||t==="bottom"?"100%":t}var LB=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:mt.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:mt.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:mt.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:mt.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:mt.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:mt.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:mt.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:mt.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:mt.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:mt.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:mt.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:mt.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:mt.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:mt.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:mt.FILTER},{n:"clipPath",syntax:mt.DEFINED_PATH},{n:"textPath",syntax:mt.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:mt.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:mt.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:mt.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:mt.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:mt.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:mt.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:mt.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:mt.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:mt.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:mt.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:mt.COORDINATE},{n:"y1",int:!0,l:!0,syntax:mt.COORDINATE},{n:"z1",int:!0,l:!0,syntax:mt.COORDINATE},{n:"x2",int:!0,l:!0,syntax:mt.COORDINATE},{n:"y2",int:!0,l:!0,syntax:mt.COORDINATE},{n:"z2",int:!0,l:!0,syntax:mt.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:mt.PATH,p:50},{n:"points",int:!0,l:!0,syntax:mt.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:mt.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:mt.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:mt.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:mt.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:mt.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:mt.NUMBER,d:function(n){return n===it.PATH||n===it.POLYGON||n===it.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:mt.MARKER},{n:"markerEnd",syntax:mt.MARKER},{n:"markerMid",syntax:mt.MARKER},{n:"markerStartOffset",syntax:mt.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:mt.LENGTH,l:!0,int:!0,d:"0"}],vq=new Set(LB.filter(function(t){return!!t.l}).map(function(t){return t.n})),mQ={},yq=(function(){function t(n){var e=this;ut(this,t),this.runtime=n,LB.forEach(function(r){e.registerMetadata(r)})}return lt(t,[{key:"registerMetadata",value:function(e){[e.n].concat(se(e.a||[])).forEach(function(r){mQ[r]=e})}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(e.attributes,r);var a=e.parsedStyle.clipPath,o=e.parsedStyle.offsetPath;mq(e,r);var s=!!i.forceUpdateGeometry;if(!s){for(var A in r)if(vq.has(A)){s=!0;break}}var c=wQ(e);c.has("fill")&&r.fill&&(e.parsedStyle.fill=xs(r.fill)),c.has("stroke")&&r.stroke&&(e.parsedStyle.stroke=xs(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(e.parsedStyle.shadowColor=xs(r.shadowColor)),c.has("filter")&&r.filter&&(e.parsedStyle.filter=$X(r.filter)),c.has("radius")&&!Rt(r.radius)&&(e.parsedStyle.radius=nS(r.radius,4)),c.has("lineDash")&&!Rt(r.lineDash)&&(e.parsedStyle.lineDash=nS(r.lineDash,"even")),c.has("points")&&r.points&&(e.parsedStyle.points=iq(r.points)),c.has("d")&&r.d===""&&(e.parsedStyle.d=Vt({},rQ)),c.has("d")&&r.d&&(e.parsedStyle.d=gQ(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[mt.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},e,null),c.has("clipPath")&&!We(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[mt.DEFINED_PATH].calculator("clipPath",a,r.clipPath,e,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[mt.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,e,this.runtime),c.has("transform")&&r.transform&&(e.parsedStyle.transform=yQ(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(e.parsedStyle.transformOrigin=gq(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[mt.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[mt.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[mt.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!Rt(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[mt.Z_INDEX].postProcessor(e),c.has("offsetDistance")&&!Rt(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[mt.OFFSET_DISTANCE].postProcessor(e),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[mt.TRANSFORM].postProcessor(e),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[mt.TRANSFORM_ORIGIN].postProcessor(e),s&&(e.dirty(!0,!0),i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(e))}},{key:"updateGeometry",value:function(e){var r=e.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var a=e.geometry;a.contentBounds||(a.contentBounds=new nr),a.renderBounds||(a.renderBounds=new nr);var o=e.parsedStyle,s=i.update(o,e),A=s.cx,c=A===void 0?0:A,l=s.cy,u=l===void 0?0:l,f=s.cz,d=f===void 0?0:f,h=s.hwidth,p=h===void 0?0:h,v=s.hheight,y=v===void 0?0:v,m=s.hdepth,b=m===void 0?0:m,B=[Math.abs(p),Math.abs(y),b],x=o.stroke,C=o.lineWidth,O=C===void 0?1:C,_=o.increasedLineWidthForHitTesting,S=_===void 0?0:_,F=o.shadowType,M=F===void 0?"outer":F,T=o.shadowColor,k=o.filter,L=k===void 0?[]:k,U=o.transformOrigin,N=[c,u,d];a.contentBounds.update(N,B);var P=r===it.POLYLINE||r===it.POLYGON||r===it.PATH?Math.SQRT2:.5,Q=x&&!x.isNone;if(Q){var R=((O||0)+(S||0))*P;B[0]+=R,B[1]+=R}if(a.renderBounds.update(N,B),T&&M&&M!=="inner"){var H=a.renderBounds,G=H.min,K=H.max,W=o.shadowBlur,X=o.shadowOffsetX,Y=o.shadowOffsetY,et=W||0,nt=X||0,Z=Y||0,ot=G[0]-et+nt,ct=K[0]+et+nt,vt=G[1]-et+Z,ht=K[1]+et+Z;G[0]=Math.min(G[0],ot),K[0]=Math.max(K[0],ct),G[1]=Math.min(G[1],vt),K[1]=Math.max(K[1],ht),a.renderBounds.setMinMax(G,K)}L.forEach(function(Ot){var _t=Ot.name,Lt=Ot.params;if(_t==="blur"){var de=Lt[0].value;a.renderBounds.update(a.renderBounds.center,bs(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[de,de,0]))}else if(_t==="drop-shadow"){var qt=Lt[0].value,Zt=Lt[1].value,Me=Lt[2].value,Ue=a.renderBounds,Ee=Ue.min,ge=Ue.max,ve=Ee[0]-Me+qt,ke=ge[0]+Me+qt,Jt=Ee[1]-Me+Zt,Kt=ge[1]+Me+Zt;Ee[0]=Math.min(Ee[0],ve),ge[0]=Math.max(ge[0],ke),Ee[1]=Math.min(Ee[1],Jt),ge[1]=Math.max(ge[1],Kt),a.renderBounds.setMinMax(Ee,ge)}}),e.geometry.dirty=!1;var bt=p<0,Bt=y<0,Ct=(bt?-1:1)*(U?vi(U[0],0,e,!0):0),kt=(Bt?-1:1)*(U?vi(U[1],1,e,!0):0);(Ct||kt)&&e.setOrigin(Ct,kt)}}},{key:"updateSizeAttenuation",value:function(e,r){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/r,e.nodeName===it.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/r)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===it.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])})();function mq(t,n){var e=wQ(t);for(var r in n)e.has(r)&&(t.parsedStyle[r]=n[r])}function wQ(t){return t.constructor.PARSED_STYLE_LIST}var wq=(function(){function t(){ut(this,t),this.mixer=TB}return lt(t,[{key:"calculator",value:function(e,r,i,a){return ei(i)}}])})(),bq=(function(){function t(){ut(this,t)}return lt(t,[{key:"calculator",value:function(e,r,i,a,o){return i instanceof ta&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(e,r,i,a),e==="clipPath"&&a.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtyToRoot(s)}),i}}])})(),Bq=(function(){function t(){ut(this,t),this.parser=xs,this.mixer=UX}return lt(t,[{key:"calculator",value:function(e,r,i,a){return i instanceof ta?i.value==="none"?oQ:sQ:i}}])})(),xq=(function(){function t(){ut(this,t)}return lt(t,[{key:"calculator",value:function(e,r,i){return i instanceof ta?[]:i}}])})();function uS(t){var n=t.parsedStyle,e=n.fontSize;return Rt(e)?null:e}var Fw=(function(){function t(){ut(this,t),this.mixer=TB}return lt(t,[{key:"calculator",value:function(e,r,i,a,o){if(rn(i))return i;if(Ze.isRelativeUnit(i.unit)){if(i.unit===xt.kPercentage)return 0;if(i.unit===xt.kEms){if(a.parentNode){var s=uS(a.parentNode);if(s)return s*=i.value,s}return 0}if(i.unit===xt.kRems){var A;if(a!=null&&(A=a.ownerDocument)!==null&&A!==void 0&&A.documentElement){var c=uS(a.ownerDocument.documentElement);if(c)return c*=i.value,c}return 0}}else return i.value}}])})(),Cq=(function(){function t(){ut(this,t),this.mixer=hQ}return lt(t,[{key:"calculator",value:function(e,r,i){return i.map(function(a){return a.value})}}])})(),Oq=(function(){function t(){ut(this,t),this.mixer=hQ}return lt(t,[{key:"calculator",value:function(e,r,i){return i.map(function(a){return a.value})}}])})(),Eq=(function(){function t(){ut(this,t)}return lt(t,[{key:"calculator",value:function(e,r,i,a){var o;i instanceof ta&&(i=null);var s=(o=i)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])})(),_q=(function(){function t(){ut(this,t),this.mixer=TB}return lt(t,[{key:"calculator",value:function(e,r,i){return i.value}}])})(),Sq=(function(){function t(){ut(this,t),this.mixer=IB(0,1)}return lt(t,[{key:"calculator",value:function(e,r,i){return i.value}},{key:"postProcessor",value:function(e){var r=e.parsedStyle,i=r.offsetPath,a=r.offsetDistance;if(i){var o=i.nodeName;if(o===it.LINE||o===it.PATH||o===it.POLYLINE){var s=i.getPoint(a);s&&e.setLocalPosition(s.x,s.y)}}}}])})(),Fq=(function(){function t(){ut(this,t),this.mixer=IB(0,1)}return lt(t,[{key:"calculator",value:function(e,r,i){return i.value}}])})(),Mq=(function(){function t(){ut(this,t),this.parser=gQ,this.mixer=rq}return lt(t,[{key:"calculator",value:function(e,r,i){return i instanceof ta&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new sl(0,0,0,0)}:i}}])})(),kq=lt(function t(){ut(this,t),this.mixer=aq}),Tq=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.mixer=IB(0,1/0),e}return ee(n,t),lt(n)})(Fw),Iq=(function(){function t(){ut(this,t)}return lt(t,[{key:"calculator",value:function(e,r,i,a){return i instanceof ta?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])})(),Lq=(function(){function t(){ut(this,t)}return lt(t,[{key:"calculator",value:function(e,r,i,a){var o=a.getAttribute("text");if(o){var s=o;i.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):i.value==="lowercase"?s=o.toLowerCase():i.value==="uppercase"&&(s=o.toUpperCase()),a.parsedStyle.text=s}return i.value}}])})(),Fm=new WeakMap;function Qq(t,n,e){if(t){var r=typeof t=="string"?document.getElementById(t):t;Fm.has(r)&&Fm.get(r).destroy(e),Fm.set(r,n)}}var QB=typeof window<"u"&&typeof window.document<"u";function Uq(t){return!!t.getAttribute}function Pq(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;bQ(t[i],n)<0?e=i+1:r=i}return e}function bQ(t,n){var e=Number(t.parsedStyle.zIndex||0),r=Number(n.parsedStyle.zIndex||0);if(e===r){var i=t.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(t)-a.indexOf(n)}}return e-r}function BQ(t){var n=t;do{var e,r=(e=n.parsedStyle)===null||e===void 0?void 0:e.clipPath;if(r)return n;n=n.parentElement}while(n!==null);return null}var fS="px";function Rq(t,n,e){QB&&t.style&&(t.style.width=n+fS,t.style.height=e+fS)}function xQ(t,n){if(QB)return document.defaultView.getComputedStyle(t,null).getPropertyValue(n)}function Nq(t){var n=xQ(t,"width");return n==="auto"?t.offsetWidth:parseFloat(n)}function Dq(t){var n=xQ(t,"height");return n==="auto"?t.offsetHeight:parseFloat(n)}var Hq=1,jq={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Mw=typeof performance=="object"&&performance.now?performance:Date;function xg(t){return t.nodeName===it.FRAGMENT?!0:t.getRootNode().nodeName===it.FRAGMENT}function KA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",n=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,a=!!n&&!n.isNone,o=!!e&&!e.isNone;return t==="visiblepainted"||t==="painted"||t==="auto"?(r=a,i=o):t==="visiblefill"||t==="fill"?r=!0:t==="visiblestroke"||t==="stroke"?i=!0:(t==="visible"||t==="all")&&(r=!0,i=!0),[r,i]}var $q=1,Gq=function(){return $q++},Va=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},Kq=Date.now(),zq=function(){return Va.performance&&typeof Va.performance.now=="function"?Va.performance.now():Date.now()-Kq},wu={},dS=Date.now(),Wq=function(n){if(typeof n!="function")throw new TypeError("".concat(n," is not a function"));var e=Date.now(),r=e-dS,i=r>16?0:16-r,a=Gq();return wu[a]=n,Object.keys(wu).length>1||setTimeout(function(){dS=e;var o=wu;wu={},Object.keys(o).forEach(function(s){return o[s](zq())})},i),a},Vq=function(n){delete wu[n]},Yq=["","webkit","moz","ms","o"],CQ=function(n){return typeof n!="string"?Wq:n===""?Va.requestAnimationFrame:Va["".concat(n,"RequestAnimationFrame")]},Xq=function(n){return typeof n!="string"?Vq:n===""?Va.cancelAnimationFrame:Va["".concat(n,"CancelAnimationFrame")]||Va["".concat(n,"CancelRequestAnimationFrame")]},qq=function(n,e){for(var r=0;n[r]!==void 0;){if(e(n[r]))return n[r];r+=1}},OQ=qq(Yq,function(t){return!!CQ(t)}),UB=CQ(OQ),EQ=Xq(OQ);Va.requestAnimationFrame=UB;Va.cancelAnimationFrame=EQ;var Zq=(function(){function t(){ut(this,t),this.callbacks=[]}return lt(t,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(e,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,r)}))}}])})(),Jq=(function(){function t(){ut(this,t),this.callbacks=[]}return lt(t,[{key:"tapPromise",value:function(e,r){this.callbacks.push(r)}},{key:"promise",value:(function(){var n=Ss(gr().mark(function r(){var i,a,o,s,A=arguments;return gr().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.callbacks.length){c.next=6;break}return c.next=1,(i=this.callbacks)[0].apply(i,A);case 1:a=c.sent,o=1;case 2:if(!(o<this.callbacks.length)){c.next=5;break}return s=this.callbacks[o],c.next=3,s(a);case 3:a=c.sent;case 4:o++,c.next=2;break;case 5:return c.abrupt("return",a);case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}},r,this)}));function e(){return n.apply(this,arguments)}return e})()}])})(),Nr=(function(){function t(){ut(this,t),this.callbacks=[]}return lt(t,[{key:"tap",value:function(e,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(o){o.apply(void 0,a)})}}])})(),Mm=(function(){function t(){ut(this,t),this.callbacks=[]}return lt(t,[{key:"tap",value:function(e,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,o=this.callbacks[0].apply(void 0,a),s=1;s<this.callbacks.length;s++){var A=this.callbacks[s];o=A(o)}return o}return null}}])})(),tZ=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],eZ=/([\"\'])[^\'\"]+\1/;function hS(t){var n=t.fontSize,e=n===void 0?16:n,r=t.fontFamily,i=r===void 0?"sans-serif":r,a=t.fontStyle,o=a===void 0?"normal":a,s=t.fontVariant,A=s===void 0?"normal":s,c=t.fontWeight,l=c===void 0?"normal":c;return{fontSize:e,fontFamily:i,fontStyle:o,fontVariant:A,fontWeight:l}}var pS=Zn(function(n){for(var e=hS(n),r=e.fontSize,i=e.fontFamily,a=e.fontStyle,o=e.fontVariant,s=e.fontWeight,A=rn(r)&&"".concat(r,"px")||"16px",c=i.split(","),l=c.length-1;l>=0;l--){var u=c[l].trim();!eZ.test(u)&&tZ.indexOf(u)<0&&(u='"'.concat(u,'"')),c[l]=u}return"".concat(a," ").concat(o," ").concat(s," ").concat(A," ").concat(c.join(","))},function(t){var n=hS(t),e=n.fontSize,r=n.fontFamily,i=n.fontStyle,a=n.fontVariant,o=n.fontWeight;return"".concat(i,"_").concat(a,"_").concat(o,"_").concat(e,"_").concat(r)}),nZ=1e-6,ru=function(n){return Math.max(n,nZ)};function km(t,n,e){return _s(t),t[4]=Math.tan(n),t[1]=Math.tan(e),t}var zn=Ne(),rZ=Ne(),iZ={scale:function(n){cs(zn,[n[0].value,n[1].value,1].map(function(e){return ru(e)}))},scaleX:function(n){cs(zn,[n[0].value,1,1].map(function(e){return ru(e)}))},scaleY:function(n){cs(zn,[1,n[0].value,1].map(function(e){return ru(e)}))},scaleZ:function(n){cs(zn,[1,1,n[0].value].map(function(e){return ru(e)}))},scale3d:function(n){cs(zn,[n[0].value,n[1].value,n[2].value].map(function(e){return ru(e)}))},translate:function(n){Oo(zn,[n[0].value,n[1].value,0])},translateX:function(n){Oo(zn,[n[0].value,0,0])},translateY:function(n){Oo(zn,[0,n[0].value,0])},translateZ:function(n){Oo(zn,[0,0,n[0].value])},translate3d:function(n){Oo(zn,[n[0].value,n[1].value,n[2].value])},rotate:function(n){uw(zn,De(ei(n[0])))},rotateX:function(n){yL(zn,De(ei(n[0])))},rotateY:function(n){mL(zn,De(ei(n[0])))},rotateZ:function(n){uw(zn,De(ei(n[0])))},rotate3d:function(n){vL(zn,De(ei(n[3])),[n[0].value,n[1].value,n[2].value])},skew:function(n){km(zn,De(n[0].value),De(n[1].value))},skewX:function(n){km(zn,De(n[0].value),0)},skewY:function(n){km(zn,0,De(n[0].value))},matrix:function(n){lw(zn,n[0].value,n[1].value,0,0,n[2].value,n[3].value,0,0,0,0,1,0,n[4].value,n[5].value,0,1)},matrix3d:function(n){lw.apply(iV,[zn].concat(se(n.map(function(e){return e.value}))))}},aZ=Se(1,1,1),oZ=ce(),gS={translate:function(n,e){gt.sceneGraphService.setLocalScale(n,aZ,!1),gt.sceneGraphService.setLocalEulerAngles(n,oZ,void 0,void 0,!1),gt.sceneGraphService.setLocalPosition(n,[e[0].value,e[1].value,0],!1),gt.sceneGraphService.dirtyLocalTransform(n,n.transformable)}};function _Q(t,n){if(t.length){if(t.length===1&&gS[t[0].t]){gS[t[0].t](n,t[0].d);return}for(var e=_s(rZ),r=0;r<t.length;r++){var i=t[r],a=i.t,o=i.d,s=iZ[a];s&&(s(o),CB(e,e,zn))}n.setLocalTransform(e)}else n.resetLocalTransform();return n.getLocalTransform()}var sZ=(function(){function t(){ut(this,t),this.parser=oq,this.mixer=pq}return lt(t,[{key:"calculator",value:function(e,r,i,a){return i instanceof ta?[]:i}},{key:"postProcessor",value:function(e){_Q(e.parsedStyle.transform,e)}}])})(),AZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"postProcessor",value:function(e){var r=e.parsedStyle.transformOrigin;r[0].unit===xt.kPixels&&r[1].unit===xt.kPixels?e.setOrigin(r[0].value,r[1].value):e.getGeometryBounds()}}])})(),cZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"calculator",value:function(e,r,i,a){return i.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var r=e.parentNode,i=r.renderable,a=r.sortable;i&&r.dirty(),a&&(a.dirty=!0,a.dirtyReason=yg.Z_INDEX_CHANGED)}}}])})(),lZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e,r){var i=e.cx,a=i===void 0?0:i,o=e.cy,s=o===void 0?0:o,A=e.r,c=A===void 0?0:A;return{cx:a,cy:s,hwidth:c,hheight:c}}}])})(),uZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e,r){var i=e.cx,a=i===void 0?0:i,o=e.cy,s=o===void 0?0:o,A=e.rx,c=A===void 0?0:A,l=e.ry,u=l===void 0?0:l;return{cx:a,cy:s,hwidth:c,hheight:u}}}])})(),fZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e){var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=Math.min(r,a),A=Math.max(r,a),c=Math.min(i,o),l=Math.max(i,o),u=A-s,f=l-c,d=u/2,h=f/2;return{cx:s+d,cy:c+h,hwidth:d,hheight:h}}}])})(),dZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e){var r=e.d,i=r.rect,a=i.x,o=i.y,s=i.width,A=i.height,c=s/2,l=A/2;return{cx:a+c,cy:o+l,hwidth:c,hheight:l}}}])})(),hZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e){if(e.points&&Nn(e.points.points)){var r=e.points.points,i=Math.min.apply(Math,se(r.map(function(f){return f[0]}))),a=Math.max.apply(Math,se(r.map(function(f){return f[0]}))),o=Math.min.apply(Math,se(r.map(function(f){return f[1]}))),s=Math.max.apply(Math,se(r.map(function(f){return f[1]}))),A=a-i,c=s-o,l=A/2,u=c/2;return{cx:i+l,cy:o+u,hwidth:l,hheight:u}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])})(),pZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e,r){var i=e.x,a=i===void 0?0:i,o=e.y,s=o===void 0?0:o,A=e.src,c=e.width,l=c===void 0?0:c,u=e.height,f=u===void 0?0:u,d=l,h=f;return A&&!sn(A)&&(d||(d=A.width,e.width=d),h||(h=A.height,e.height=h)),{cx:a+d/2,cy:s+h/2,hwidth:d/2,hheight:h/2}}}])})(),gZ=(function(){function t(n){ut(this,t),this.globalRuntime=n}return lt(t,[{key:"isReadyToMeasure",value:function(e,r){var i=e.text;return i}},{key:"update",value:function(e,r){var i,a=e.text,o=e.textAlign,s=o===void 0?"start":o,A=e.lineWidth,c=A===void 0?1:A,l=e.textBaseline,u=l===void 0?"alphabetic":l,f=e.dx,d=f===void 0?0:f,h=e.dy,p=h===void 0?0:h,v=e.x,y=v===void 0?0:v,m=e.y,b=m===void 0?0:m;if(!this.isReadyToMeasure(e,r))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var B=(r==null||(i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},x=B.offscreenCanvas,C=this.globalRuntime.textService.measureText(a,e,x);e.metrics=C;var O=C.width,_=C.height,S=O/2,F=_/2,M=y+S;s==="center"||s==="middle"?M+=c/2-S:(s==="right"||s==="end")&&(M+=c-S*2);var T=b-F;return u==="middle"?T+=F:u==="top"||u==="hanging"?T+=F*2:u==="alphabetic"||(u==="bottom"||u==="ideographic")&&(T+=0),d&&(M+=d),p&&(T+=p),{cx:M,cy:T,hwidth:S,hheight:F}}}])})(),vZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])})(),yZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"update",value:function(e,r){var i=e.x,a=i===void 0?0:i,o=e.y,s=o===void 0?0:o,A=e.width,c=A===void 0?0:A,l=e.height,u=l===void 0?0:l;return{cx:a+c/2,cy:s+u/2,hwidth:c/2,hheight:u/2}}}])})(),j0=(function(){function t(n){ut(this,t),this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new wr,this.page=new wr,this.canvas=new wr,this.viewport=new wr,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=n}return lt(t,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(qe)}}])})(),SQ=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.client=new wr,e.movement=new wr,e.offset=new wr,e.global=new wr,e.screen=new wr,e}return ee(n,t),lt(n,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(qe)}}])})(j0),kw=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.width=0,e.height=0,e.isPrimary=!1,e}return ee(n,t),lt(n,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])})(SQ),Tw=(function(t){function n(){return ut(this,n),ne(this,n,arguments)}return ee(n,t),lt(n,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])})(SQ),Ve=(function(t){function n(e,r){var i;return ut(this,n),i=ne(this,n,[null]),i.type=e,i.detail=r?.detail,r&&!("detail"in r)&&(i.detail=r),Object.assign(i,r),i}return ee(n,t),lt(n)})(j0),FQ=(function(){function t(){ut(this,t),this.emitter=new lL}return lt(t,[{key:"on",value:function(e,r,i){return this.addEventListener(e,r,i),this}},{key:"addEventListener",value:function(e,r,i){var a=!1,o=!1;if(S_(i))a=i;else if(i){var s=i.capture;a=s===void 0?!1:s;var A=i.once;o=A===void 0?!1:A}a&&(e+="capture"),r=or(r)?r:r.handleEvent;var c=or(r)?void 0:r;return o?this.emitter.once(e,r,c):this.emitter.on(e,r,c),this}},{key:"off",value:function(e,r,i){return e?this.removeEventListener(e,r,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;(e=this.emitter)===null||e===void 0||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,r,i){var a;if(!this.emitter)return this;var o=S_(i)?i:i?.capture;o&&(e+="capture"),r=or(r)?r:(a=r)===null||a===void 0?void 0:a.handleEvent;var s=or(r)?void 0:r;return this.emitter.off(e,r,s),this}},{key:"emit",value:function(e,r){this.dispatchEvent(new Ve(e,r))}},{key:"dispatchEventToSelf",value:function(e){e.target||(e.target=this),e.currentTarget=this,this.emitter.emit(e.type,e)}},{key:"dispatchEvent",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;if(i)return this.dispatchEventToSelf(e),!0;var a;if(this.document)a=this;else if(this.defaultView)a=this.defaultView;else{var o;a=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(a){if(e.manager=a.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],r||(e.target=this),e.manager.dispatchEvent(e,e.type,r)}else this.dispatchEventToSelf(e);return!e.defaultPrevented}}])})(),wn=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.mutations=void 0,e.parentNode=null,e.destroyed=!1,e}return ee(n,t),lt(n,[{key:"textContent",get:function(){var r="";this.nodeName===it.TEXT&&(r+=this.style.text);var i=As(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.nodeName===it.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){i.e(s)}finally{i.f()}return r},set:function(r){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===it.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(qe)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(qe)}},{key:"lookupPrefix",value:function(r){throw new Error(qe)}},{key:"normalize",value:function(){throw new Error(qe)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var i=r,a=this,o=[i],s=[a];(A=i.parentNode)!==null&&A!==void 0?A:a.parentNode;){var A;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a}if(i!==a)return n.DOCUMENT_POSITION_DISCONNECTED|n.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|n.DOCUMENT_POSITION_PRECEDING;var c=o.length>s.length?o:s,l=c===o?s:o;if(c[c.length-l.length]===l[0])return c===o?n.DOCUMENT_POSITION_CONTAINED_BY|n.DOCUMENT_POSITION_FOLLOWING:n.DOCUMENT_POSITION_CONTAINS|n.DOCUMENT_POSITION_PRECEDING;for(var u=c.length-l.length,f=l.length-1;f>=0;f--){var d=l[f],h=c[u+f];if(h!==d){var p=d.parentNode.childNodes;return p.indexOf(d)<p.indexOf(h)?l===o?n.DOCUMENT_POSITION_PRECEDING:n.DOCUMENT_POSITION_FOLLOWING:c===o?n.DOCUMENT_POSITION_PRECEDING:n.DOCUMENT_POSITION_FOLLOWING}}return n.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i}},{key:"forEach",value:function(r){for(var i=[this];i.length>0;){var a=i.pop(),o=r(a);if(o===!1)break;for(var s=a.childNodes.length-1;s>=0;s--)i.push(a.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])})(FQ);wn.DOCUMENT_POSITION_DISCONNECTED=1;wn.DOCUMENT_POSITION_PRECEDING=2;wn.DOCUMENT_POSITION_FOLLOWING=4;wn.DOCUMENT_POSITION_CONTAINS=8;wn.DOCUMENT_POSITION_CONTAINED_BY=16;wn.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var mZ=2048,wZ=(function(){function t(n,e){var r=this;ut(this,t),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=Ne(),this.tmpVec3=ce(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;r.dispatchEvent(a,o?"rightdown":"mousedown")}var s=r.trackingData(i.pointerId);s.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a=Mw.now(),o=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(o,"pointerup"),o.pointerType==="touch")r.dispatchEvent(o,"touchend");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;r.dispatchEvent(o,s?"rightup":"mouseup")}var A=r.trackingData(i.pointerId),c=r.findMountedTarget(A.pressTargetsByButton[i.button]),l=c;if(c&&!o.composedPath().includes(c)){for(var u=c;u&&!o.composedPath().includes(u);){if(o.currentTarget=u,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")r.notifyTarget(o,"touchendoutside");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var f=o.button===2;r.notifyTarget(o,f?"rightupoutside":"mouseupoutside")}wn.isNode(u)&&(u=u.parentNode)}delete A.pressTargetsByButton[i.button],l=u}if(l){var d,h=r.clonePointerEvent(o,"click");h.target=l,h.path=[],A.clicksByButton[i.button]||(A.clicksByButton[i.button]={clickCount:0,target:h.target,timeStamp:a});var p=r.context.renderingContext.root.ownerDocument.defaultView,v=A.clicksByButton[i.button];v.target===h.target&&a-v.timeStamp<p.getConfig().dblClickSpeed?++v.clickCount:v.clickCount=1,v.target=h.target,v.timeStamp=a,h.detail=v.clickCount,(d=o.detail)!==null&&d!==void 0&&d.preventClick||(!r.context.config.useNativeClickEvent&&(h.pointerType==="mouse"||h.pointerType==="touch")&&r.dispatchEvent(h,"click"),r.dispatchEvent(h,"pointertap")),r.freeEvent(h)}r.freeEvent(o)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.trackingData(i.pointerId),A=r.findMountedTarget(s.overTargets);if(s.overTargets&&A!==a.target){var c=i.type==="mousemove"?"mouseout":"pointerout",l=r.createPointerEvent(i,c,A||void 0);if(r.dispatchEvent(l,"pointerout"),o&&r.dispatchEvent(l,"mouseout"),!a.composedPath().includes(A)){var u=r.createPointerEvent(i,"pointerleave",A||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&!a.composedPath().includes(u.target);)u.currentTarget=u.target,r.notifyTarget(u),o&&r.notifyTarget(u,"mouseleave"),wn.isNode(u.target)&&(u.target=u.target.parentNode);r.freeEvent(u)}r.freeEvent(l)}if(A!==a.target){var f=i.type==="mousemove"?"mouseover":"pointerover",d=r.clonePointerEvent(a,f);r.dispatchEvent(d,"pointerover"),o&&r.dispatchEvent(d,"mouseover");for(var h=A&&wn.isNode(A)&&A.parentNode;h&&h!==(wn.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&h!==a.target;)h=h.parentNode;var p=!h||h===(wn.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(p){var v=r.clonePointerEvent(a,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==A&&v.target!==(wn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)v.currentTarget=v.target,r.notifyTarget(v),o&&r.notifyTarget(v,"mouseenter"),wn.isNode(v.target)&&(v.target=v.target.parentNode);r.freeEvent(v)}r.freeEvent(d)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),o&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),s.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.findMountedTarget(a.overTargets),A=r.createPointerEvent(i,"pointerout",s||void 0);r.dispatchEvent(A),o&&r.dispatchEvent(A,"mouseout");var c=r.createPointerEvent(i,"pointerleave",s||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(wn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),o&&r.notifyTarget(c,"mouseleave"),wn.isNode(c.target)&&(c.target=c.target.parentNode);a.overTargets=null,r.freeEvent(A),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),o=r.createPointerEvent(i),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var A=r.clonePointerEvent(o,"pointerenter");for(A.eventPhase=A.AT_TARGET;A.target&&A.target!==(wn.isNode(r.rootTarget)&&r.rootTarget.parentNode);)A.currentTarget=A.target,r.notifyTarget(A),s&&r.notifyTarget(A,"mouseenter"),wn.isNode(A.target)&&(A.target=A.target.parentNode);a.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(A)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),o=r.findMountedTarget(a.pressTargetsByButton[i.button]),s=r.createPointerEvent(i);if(o){for(var A=o;A;)s.currentTarget=A,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),wn.isNode(A)&&(A=A.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(s)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)},this.globalRuntime=n,this.context=e}return lt(t,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var e=this.context.contextService.getBoundingClientRect(),r=1,i=1,a=this.context.contextService.getDomElement();if(a&&e){var o=a.offsetWidth,s=a.offsetHeight;o&&s&&(r=e.width/o,i=e.height/s)}return{scaleX:r,scaleY:i,bbox:e}}},{key:"client2Viewport",value:function(e){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new wr((e.x-(o?.left||0))/i,(e.y-(o?.top||0))/a)}},{key:"viewport2Client",value:function(e){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new wr((e.x+(o?.left||0))*i,(e.y+(o?.top||0))*a)}},{key:"viewport2Canvas",value:function(e){var r=e.x,i=e.y,a=this.rootTarget.defaultView,o=a.getCamera(),s=this.context.config,A=s.width,c=s.height,l=o.getPerspectiveInverse(),u=o.getWorldTransform(),f=Tr(this.tmpMatrix,u,l),d=kr(this.tmpVec3,r/A*2-1,(1-i/c)*2-1,0);return Fn(d,d,f),new wr(d[0],d[1])}},{key:"canvas2Viewport",value:function(e){var r=this.rootTarget.defaultView,i=r.getCamera(),a=i.getPerspective(),o=i.getViewTransform(),s=Tr(this.tmpMatrix,a,o),A=kr(this.tmpVec3,e.x,e.y,0);Fn(this.tmpVec3,this.tmpVec3,s);var c=this.context.config,l=c.width,u=c.height;return new wr((A[0]+1)/2*l,(1-(A[1]+1)/2)*u)}},{key:"setPickHandler",value:function(e){this.pickHandler=e}},{key:"addEventMapping",value:function(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(e){if(this.rootTarget){var r=this.mappingTable[e.type];if(r)for(var i=0,a=r.length;i<a;i++)r[i].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}}},{key:"dispatchEvent",value:function(e,r,i){if(!i)e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r);else{e.eventPhase=e.AT_TARGET;var a=this.rootTarget.defaultView||null;e.currentTarget=a,this.notifyListeners(e,r)}}},{key:"propagate",value:function(e,r){if(e.target){var i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(e.currentTarget=i[a],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){var o=i.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var s=o+1;s<i.length;s++)if(e.currentTarget=i[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(e){var r=[e],i=this.rootTarget.defaultView||null;if(i&&i===e)return r.unshift(i.document),r;for(var a=0;a<mZ&&e!==this.rootTarget;a++)wn.isNode(e)&&e.parentNode&&(r.push(e.parentNode),e=e.parentNode);return i&&r.push(i),r}},{key:"hitTest",value:function(e){var r=e.viewportX,i=e.viewportY,a=this.context.config,o=a.width,s=a.height,A=a.disableHitTesting;return r<0||i<0||r>o||i>s?null:!A&&this.pickHandler(e)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(e,r){var i,a=r?.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=r.composedPath()[0]),a){if(a===e)return!0;if(e&&e.contains)return e.contains(a)}return r!=null&&r.composedPath?r.composedPath().indexOf(e)>-1:!1}},{key:"getExistedHTML",value:function(e){if(e.nativeEvent.composedPath)for(var r=0,i=e.nativeEvent.composedPath();r<i.length;r++){var a=i[r],o=this.nativeHTMLMap.get(a);if(o)return o}return null}},{key:"pickTarget",value:function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})}},{key:"createPointerEvent",value:function(e,r,i,a){var o=this.allocateEvent(kw);this.copyPointerData(e,o),this.copyMouseData(e,o),this.copyData(e,o),o.nativeEvent=e.nativeEvent,o.originalEvent=e;var s=this.getExistedHTML(o),A=this.context.contextService.getDomElement();return o.target=i??(s||this.isNativeEventFromCanvas(A,o.nativeEvent)&&this.pickTarget(o)||a),typeof r=="string"&&(o.type=r),o}},{key:"createWheelEvent",value:function(e){var r=this.allocateEvent(Tw);this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e;var i=this.getExistedHTML(r),a=this.context.contextService.getDomElement();return r.target=i||this.isNativeEventFromCanvas(a,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"cloneWheelEvent",value:function(e){var r=this.allocateEvent(Tw);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=e.type,r}},{key:"clonePointerEvent",value:function(e,r){var i=this.allocateEvent(kw);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r??i.type,i}},{key:"copyPointerData",value:function(e,r){r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist}},{key:"copyMouseData",value:function(e,r){r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.shiftKey=e.shiftKey,r.client.copyFrom(e.client),r.movement.copyFrom(e.movement),r.canvas.copyFrom(e.canvas),r.screen.copyFrom(e.screen),r.global.copyFrom(e.global),r.offset.copyFrom(e.offset)}},{key:"copyWheelData",value:function(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}},{key:"copyData",value:function(e,r){r.isTrusted=e.isTrusted,r.timeStamp=Mw.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.page.copyFrom(e.page),r.viewport.copyFrom(e.viewport)}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}},{key:"notifyTarget",value:function(e,r){r=r??e.type;var i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}},{key:"notifyListeners",value:function(e,r){var i=e.currentTarget.emitter,a=i._events[r];if(a)if("fn"in a)a.once&&i.removeListener(r,a.fn,void 0,!0),a.fn.call(e.currentTarget||a.context,e);else for(var o=0;o<a.length&&!e.propagationImmediatelyStopped;o++)a[o].once&&i.removeListener(r,a[o].fn,void 0,!0),a[o].fn.call(e.currentTarget||a[o].context,e)}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var r=e[e.length-1],i=e.length-2;i>=0;i--){var a=e[i];if(a===this.rootTarget||wn.isNode(a)&&a.parentNode===r)r=e[i];else break}return r}},{key:"getCursor",value:function(e){for(var r=e;r;){var i=Uq(r)&&r.getAttribute("cursor");if(i)return i;r=wn.isNode(r)&&r.parentNode}}}])})(),PB=(function(){function t(){ut(this,t)}return lt(t,[{key:"getOrCreateCanvas",value:function(e,r){if(this.canvas)return this.canvas;if(e||gt.offscreenCanvas)this.canvas=e||gt.offscreenCanvas,this.context=this.canvas.getContext("2d",Vt({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Vt({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Vt({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,r){return this.context?this.context:(this.getOrCreateCanvas(e,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])})(),Wc=(function(t){return t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE",t})({}),bZ=(function(){function t(n,e){ut(this,t),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new Nr,initAsync:new Zq,dirtycheck:new Mm,cull:new Mm,beginFrame:new Nr,beforeRender:new Nr,render:new Nr,afterRender:new Nr,endFrame:new Nr,destroy:new Nr,pick:new Jq,pickSync:new Mm,pointerDown:new Nr,pointerUp:new Nr,pointerMove:new Nr,pointerOut:new Nr,pointerOver:new Nr,pointerWheel:new Nr,pointerCancel:new Nr,click:new Nr},this.globalRuntime=n,this.context=e}return lt(t,[{key:"init",value:function(e){var r=this,i=Vt(Vt({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){r.inited=!0,e()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var e=this.context.config.renderer,r=e.getConfig(),i=r.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(Wc.CAMERA_CHANGED)}},{key:"render",value:function(e,r,i){var a=this,o=e.getConfig(),s=this.context.renderingContext;if(this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0,this.globalRuntime.sceneGraphService.syncHierarchy(s.root),this.globalRuntime.sceneGraphService.notifyMutationObservers(e),s.renderReasons.size&&this.inited){s.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var A=s.renderReasons.size===1&&s.renderReasons.has(Wc.CAMERA_CHANGED),c=!o.disableRenderHooks||!A;c&&this.renderDisplayObject(s.root,o,s),this.hooks.beginFrame.call(r),c&&s.renderListCurrentFrame.forEach(function(l){a.hooks.beforeRender.call(l),a.hooks.render.call(l),a.hooks.afterRender.call(l)}),this.hooks.endFrame.call(r),s.renderListCurrentFrame=[],s.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(e,r,i){var a=this,o=r.renderer.getConfig(),s=o.enableDirtyCheck,A=o.enableCulling;function c(p){var v=p.renderable,y=p.sortable,m=s?v.dirty||i.dirtyRectangleRenderingDisabled?p:null:p,b=null;m&&(b=A?a.hooks.cull.call(m,a.context.camera):m,b&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(b))),p.dirty(!1),y.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,y.dirty&&(a.sort(p,y),y.dirty=!1,y.dirtyChildren=[],y.dirtyReason=void 0)}for(var l=[e];l.length>0;){var u,f=l.pop();c(f);for(var d=((u=f.sortable)===null||u===void 0||(u=u.sorted)===null||u===void 0?void 0:u.length)>0?f.sortable.sorted:f.childNodes,h=d.length-1;h>=0;h--)l.push(d[h])}}},{key:"sort",value:function(e,r){var i,a;(r==null||(i=r.sorted)===null||i===void 0?void 0:i.length)>0&&r.dirtyReason!==yg.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(o){var s=r.sorted.indexOf(o);s>-1&&r.sorted.splice(s,1);var A=e.childNodes.indexOf(o);if(A>-1)if(r.sorted.length===0)r.sorted.push(o);else{var c=Pq(r.sorted,o);r.sorted.splice(c,0,o)}}):r.sorted=e.childNodes.slice().sort(bQ),((a=r.sorted)===null||a===void 0?void 0:a.length)>0&&e.childNodes.filter(function(o){return o.parsedStyle.zIndex}).length===0&&(r.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call()}},{key:"dirty",value:function(){this.context.renderingContext.renderReasons.add(Wc.DISPLAY_OBJECT_CHANGED)}}])})(),BZ=/\[\s*(.*)=(.*)\s*\]/,xZ=(function(){function t(){ut(this,t)}return lt(t,[{key:"selectOne",value:function(e,r){var i=this;if(e.startsWith("."))return r.find(function(A){return(A?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return r.find(function(A){return A.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var a=this.getAttribute(e),o=a.name,s=a.value;return o?r.find(function(A){return r!==A&&(o==="name"?A.name===s:i.attributeToString(A,o)===s)}):null}return r.find(function(A){return r!==A&&A.nodeName===e})}},{key:"selectAll",value:function(e,r){var i=this;if(e.startsWith("."))return r.findAll(function(A){return r!==A&&(A?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return r.findAll(function(A){return r!==A&&A.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var a=this.getAttribute(e),o=a.name,s=a.value;return o?r.findAll(function(A){return r!==A&&(o==="name"?A.name===s:i.attributeToString(A,o)===s)}):[]}return r.findAll(function(A){return r!==A&&A.nodeName===e})}},{key:"is",value:function(e,r){if(e.startsWith("."))return r.className===this.getIdOrClassname(e);if(e.startsWith("#"))return r.id===this.getIdOrClassname(e);if(e.startsWith("[")){var i=this.getAttribute(e),a=i.name,o=i.value;return a==="name"?r.name===o:this.attributeToString(r,a)===o}return r.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var r=e.match(BZ),i="",a="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),a=r[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(e,r){if(!e.getAttribute)return"";var i=e.getAttribute(r);return Rt(i)?"":i.toString?i.toString():""}}])})(),me=(function(t){return t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.MOUNTED="DOMNodeInsertedIntoDocument",t.REMOVED="removed",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.REPARENT="reparent",t.DESTROY="destroy",t.BOUNDS_CHANGED="bounds-changed",t.CULLED="culled",t})({}),Ja=(function(t){function n(e,r,i,a,o,s,A,c){var l;return ut(this,n),l=ne(this,n,[null]),l.relatedNode=r,l.prevValue=i,l.newValue=a,l.attrName=o,l.attrChange=s,l.prevParsedValue=A,l.newParsedValue=c,l.type=e,l}return ee(n,t),lt(n)})(j0);Ja.ADDITION=2;Ja.MODIFICATION=1;Ja.REMOVAL=3;var CZ=new Ja(me.REPARENT,null,"","","",0,"",""),OZ=OB(),xh=ce(),EZ=Se(1,1,1),_Z=Ne(),SZ=OB(),rA=ce(),FZ=Ne(),iA=ir(),MZ=ce(),kZ=ir(),TZ=ce(),iu=ce(),aA=ce(),Ch=Ne(),vS=ir(),yS=ir(),Oh=ir(),IZ=(function(){function t(n){ut(this,t),this.displayObjectDependencyMap=new WeakMap,this.runtime=n}return lt(t,[{key:"matches",value:function(e,r){return this.runtime.sceneGraphSelector.is(e,r)}},{key:"querySelector",value:function(e,r){return this.runtime.sceneGraphSelector.selectOne(e,r)}},{key:"querySelectorAll",value:function(e,r){return this.runtime.sceneGraphSelector.selectAll(e,r)}},{key:"attach",value:function(e,r,i){var a,o=!1;e.parentNode&&(o=e.parentNode!==r,this.detach(e));var s=e.nodeName===it.FRAGMENT,A=xg(r);e.parentNode=r;var c=s?e.childNodes:[e];rn(i)?c.forEach(function(p){r.childNodes.splice(i,0,p),p.parentNode=r}):c.forEach(function(p){r.childNodes.push(p),p.parentNode=r});var l=r,u=l.sortable;if((u!=null&&(a=u.sorted)!==null&&a!==void 0&&a.length||u.dirty||e.parsedStyle.zIndex)&&(u.dirtyChildren.indexOf(e)===-1&&u.dirtyChildren.push(e),u.dirty=!0,u.dirtyReason=yg.ADDED),!A){if(s)this.dirtyFragment(e);else{var f=e.transformable;f&&this.dirtyWorldTransform(e,f)}if(o){var d,h=((d=r.ownerDocument)===null||d===void 0||(d=d.defaultView)===null||d===void 0||(d=d.getConfig())===null||d===void 0||(d=d.future)===null||d===void 0?void 0:d.experimentalCancelEventPropagation)===!0;e.dispatchEvent(CZ,h,h)}}}},{key:"detach",value:function(e){var r,i;if(e.parentNode){var a=e.transformable,o=e.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(i=e.style)!==null&&i!==void 0&&i.zIndex)&&(s.dirtyChildren.indexOf(e)===-1&&s.dirtyChildren.push(e),s.dirty=!0,s.dirtyReason=yg.REMOVED);var A=e.parentNode.childNodes.indexOf(e);A>-1&&e.parentNode.childNodes.splice(A,1),a&&this.dirtyWorldTransform(e,a),e.parentNode=null}}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"getLocalTransform",value:function(e){var r=e.transformable;return K_(r),r.localTransform}},{key:"setLocalPosition",value:function(e,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=e.transformable;iu[0]=r[0],iu[1]=r[1],iu[2]=(i=r[2])!==null&&i!==void 0?i:0,!tu(o.localPosition,iu)&&(Ha(o.localPosition,iu),a&&this.dirtyLocalTransform(e,o))}},{key:"translateLocal",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Se(r,i,a));var o=e.transformable;tu(r,xh)||(cV(r,r,o.localRotation),bs(o.localPosition,o.localPosition,r),this.dirtyLocalTransform(e,o))}},{key:"setLocalRotation",value:function(e,r,i,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=ML(iA,r,i,a,o));var A=e.transformable;gh(A.localRotation,r),s&&this.dirtyLocalTransform(e,A)}},{key:"rotateLocal",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Se(r,i,a));var o=e.transformable;ph(yS,r[0],r[1],r[2]),__(o.localRotation,o.localRotation,yS),this.dirtyLocalTransform(e,o)}},{key:"setLocalScale",value:function(e,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=e.transformable;kr(rA,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:o.localScale[2]),!tu(rA,o.localScale)&&(Ha(o.localScale,rA),a&&this.dirtyLocalTransform(e,o))}},{key:"scaleLocal",value:function(e,r){var i,a=e.transformable;aV(a.localScale,a.localScale,kr(rA,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:1)),this.dirtyLocalTransform(e,a)}},{key:"setLocalSkew",value:function(e,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=gV(SZ,r,i));var o=e.transformable;pV(o.localSkew,r),a&&this.dirtyLocalTransform(e,o)}},{key:"setLocalEulerAngles",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=Se(r,i,a));var s=e.transformable;ph(s.localRotation,r[0],r[1],r[2]),o&&this.dirtyLocalTransform(e,s)}},{key:"setLocalTransform",value:function(e,r){var i=Ag(MZ,r),a=cg(kZ,r),o=al(TZ,r);this.setLocalScale(e,o,!1),this.setLocalPosition(e,i,!1),this.setLocalRotation(e,a,void 0,void 0,void 0,!1),this.dirtyLocalTransform(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,EZ,!1),this.setLocalPosition(e,xh,!1),this.setLocalEulerAngles(e,xh,void 0,void 0,!1),this.setLocalSkew(e,OZ,void 0,!1),this.dirtyLocalTransform(e,e.transformable)}},{key:"getPosition",value:function(e){var r=e.transformable;return Ag(r.position,this.getWorldTransform(e,r))}},{key:"getRotation",value:function(e){var r=e.transformable;return cg(r.rotation,this.getWorldTransform(e,r))}},{key:"getScale",value:function(e){var r=e.transformable;return al(r.scaling,this.getWorldTransform(e,r))}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"getWorldTransform",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.internalUpdateTransform(e)),r.worldTransform}},{key:"setPosition",value:function(e,r){var i,a=e.transformable;if(aA[0]=r[0],aA[1]=r[1],aA[2]=(i=r[2])!==null&&i!==void 0?i:0,!tu(this.getPosition(e),aA)){if(Ha(a.position,aA),e.parentNode===null||!e.parentNode.transformable)Ha(a.localPosition,aA);else{var o=e.parentNode.transformable;il(Ch,o.worldTransform),ya(Ch,Ch),Fn(a.localPosition,aA,Ch)}this.dirtyLocalTransform(e,a)}}},{key:"translate",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=kr(rA,r,i,a)),!tu(r,xh)&&(bs(rA,this.getPosition(e),r),this.setPosition(e,rA))}},{key:"setRotation",value:function(e,r,i,a,o){var s=e.transformable;if(typeof r=="number"&&(r=hV(r,i,a,o)),e.parentNode===null||!e.parentNode.transformable)this.setLocalRotation(e,r);else{var A=this.getRotation(e.parentNode);gh(iA,A),pm(iA,iA),Bs(s.localRotation,iA,r),ug(s.localRotation,s.localRotation),this.dirtyLocalTransform(e,s)}}},{key:"rotate",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Se(r,i,a));var o=e.transformable;if(e.parentNode===null||!e.parentNode.transformable)this.rotateLocal(e,r);else{var s=iA;ph(s,r[0],r[1],r[2]);var A=this.getRotation(e),c=this.getRotation(e.parentNode);gh(Oh,c),pm(Oh,Oh),Bs(s,Oh,s),Bs(o.localRotation,s,A),ug(o.localRotation,o.localRotation),this.dirtyLocalTransform(e,o)}}},{key:"setOrigin",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,i,a]);var o=e.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtyLocalTransform(e,o)}}},{key:"setEulerAngles",value:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=Se(r,i,a));var o=e.transformable;if(e.parentNode===null||!e.parentNode.transformable)this.setLocalEulerAngles(e,r);else{ph(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(e.parentNode);gh(vS,pm(iA,s)),__(o.localRotation,o.localRotation,vS),this.dirtyLocalTransform(e,o)}}},{key:"getGeometryBounds",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=e,a=i.geometry;a.dirty&&gt.styleValueRegistry.updateGeometry(e);var o=r?a.renderBounds:a.contentBounds||null;return o||new nr}},{key:"getTransformedGeometryBounds",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(e,r);if(!nr.isEmpty(a)){var o=i||new nr;return o.setFromTransformedAABB(a,this.getWorldTransform(e)),o}return null}},{key:"getBounds",value:function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e,o=a.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,A=this.getTransformedGeometryBounds(e,i,s),c=e.childNodes;if(c.forEach(function(f){var d=r.getBounds(f,i);d&&(A?A.add(d):(A=s||new nr,A.update(d.center,d.halfExtents)))}),A||(A=new nr),i){var l=BQ(e);if(l){var u=l.parsedStyle.clipPath.getBounds(i);A?u&&(A=u.intersection(A)):A.update(u.center,u.halfExtents)}}return i?(o.renderBounds=A,o.renderBoundsDirty=!1):(o.bounds=A,o.boundsDirty=!1),A}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var r=_Z;e.parentNode.transformable&&(r=ya(FZ,this.getWorldTransform(e.parentNode)));var i=this.getBounds(e);if(!nr.isEmpty(i)){var a=new nr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var r,i,a=this.getGeometryBounds(e);nr.isEmpty(a)||(i=new nr,i.setFromTransformedAABB(a,this.getWorldTransform(e)));var o=(r=e.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=i.getMin(),A=Xt(s,2),c=A[0],l=A[1],u=i.getMax(),f=Xt(u,2),d=f[0],h=f[1];return new sl(c+(o?.left||0),l+(o?.top||0),d-c,h-l)}return new sl(o?.left||0,o?.top||0,0,0)}},{key:"internalUpdateTransform",value:function(e){var r,i=(r=e.parentNode)===null||r===void 0?void 0:r.transformable;K_(e.transformable),YY(e.transformable,i)}},{key:"internalUpdateElement",value:function(e,r){var i,a,o,s,A=((i=e.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0,c=r[r.length-1],l=c?.transformDirty||((a=e.transformable)===null||a===void 0?void 0:a.localDirtyFlag);if(e.transformable){var u;(u=e.transformable).dirtyFlag||(u.dirtyFlag=l)}if(this.internalUpdateTransform(e),l){var f;(f=e.dirty)===null||f===void 0||f.call(e,!0,!0)}var d=((o=e.renderable)===null||o===void 0?void 0:o.boundsDirty)||((s=e.renderable)===null||s===void 0?void 0:s.renderBoundsDirty);if((l||d)&&c?.shapeUpdated===!1&&A)for(var h=r.length-1;h>=0;){var p,v,y=r[h];if(y.shapeUpdated)break;(p=(v=y.node).dirty)===null||p===void 0||p.call(v,!0,!0),y.shapeUpdated=!0,h-=1}return l}},{key:"syncHierarchy",value:function(e){for(var r,i,a=[e],o=e.parentNode?[{node:e.parentNode,transformDirty:((r=e.parentNode.transformable)===null||r===void 0?void 0:r.localDirtyFlag)||((i=e.parentNode.transformable)===null||i===void 0?void 0:i.dirtyFlag),shapeUpdated:!1}]:[];a.length>0;){for(var s=a.pop(),A=o[o.length-1];o.length>0&&s.parentNode!==A.node;)A=o.pop();var c=this.internalUpdateElement(s,o);if(s.childNodes.length>0){for(var l=s.childNodes.length-1;l>=0;l--)a.push(s.childNodes[l]);o.push({node:s,transformDirty:c,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(e,r){xg(e)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtyWorldTransform(e,r))}},{key:"dirtyWorldTransform",value:function(e,r){this.dirtyWorldInternal(e,r),this.dirtyToRoot(e,!0)}},{key:"dirtyWorldInternal",value:function(e,r){var i,a=this,o=((i=e.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0;r.dirtyFlag||(r.dirtyFlag=!0,e.dirty(!0,!0),o||e.childNodes.forEach(function(s){var A=s.transformable;a.dirtyWorldInternal(s,A)}))}},{key:"dirtyToRoot",value:function(e){for(var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e,o=((r=e.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalAttributeUpdateOptimization)===!0;a;){var s,A;if((s=(A=a).dirty)===null||s===void 0||s.call(A,!0,!0),o)break;a=a.parentNode}i&&e.forEach(function(u){var f;(f=u.dirty)===null||f===void 0||f.call(u,!0,!0)}),this.informDependentDisplayObjects(e);var c=e.mutations||[],l=c.find(function(u){return u.type==="attributes"&&u._boundsChangeData});l?l._boundsChangeData={affectChildren:l._boundsChangeData.affectChildren||i}:(l={type:"attributes",target:e,_boundsChangeData:{affectChildren:i}},c.push(l)),e.mutations=c}},{key:"dirtyFragment",value:function(e){var r,i,a=e.transformable;a&&(a.dirtyFlag=!0,a.localDirtyFlag=!0),(r=(i=e).dirty)===null||r===void 0||r.call(i,!0,!0);for(var o=e.childNodes.length,s=0;s<o;s++)this.dirtyFragment(e.childNodes[s])}},{key:"notifyMutationObservers",value:function(e){var r=new Set;if(e.getRoot().forEach(function(a){(a.mutations||[]).forEach(function(o){o.type==="attributes"&&o._boundsChangeData&&(o._boundsChangeData.affectChildren?a.forEach(function(s){var A=Vt({},o);A.target=s,r.add(A)}):r.add(o))}),a.mutations=void 0}),r.size>0){var i=new Ve(me.BOUNDS_CHANGED,{detail:Array.from(r)});e.dispatchEvent(i,!0,!0)}}},{key:"updateDisplayObjectDependency",value:function(e,r,i,a){if(r&&r!==i){var o=this.displayObjectDependencyMap.get(r);if(o&&o[e]){var s=o[e].indexOf(a);o[e].splice(s,1)}}if(i){var A=this.displayObjectDependencyMap.get(i);A||(this.displayObjectDependencyMap.set(i,{}),A=this.displayObjectDependencyMap.get(i)),A[e]||(A[e]=[]),A[e].push(a)}}},{key:"informDependentDisplayObjects",value:function(e){var r,i=this,a=this.displayObjectDependencyMap.get(e);if(a){var o=(r=e.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation;Object.keys(a).forEach(function(s){a[s].forEach(function(A){i.dirtyToRoot(A,!0),A.dispatchEvent(new Ja(me.ATTR_MODIFIED,A,i,i,s,Ja.MODIFICATION,i,i),o,o),A.isCustomElement&&A.isConnected&&A.attributeChangedCallback&&A.attributeChangedCallback(s,i,i)})})}}}])})(),mS=(function(){function t(n){if(ut(this,t),n<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=n,this.cache=new Map}return lt(t,[{key:"get",value:function(e){if(this.cache.has(e)){var r=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,r),r}}},{key:"put",value:function(e,r){if(this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,r),this.cache.size>this.capacity){var i=this.cache.keys().next().value;this.cache.delete(i)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])})(),oA={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},wS=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,LZ=/[!%),.:;?\]}'""]/,QZ=/[$('"]/,UZ=/[!),.:;?\]}'""]/,PZ=/[([{'"]/,RZ=/[)\]'"?!:;,.]/,NZ=/[(['"...]/,DZ=/[!%),.:;?\]}'"]/,HZ=/[$([{'"#]/,jZ=new RegExp("".concat(LZ.source,"|").concat(UZ.source,"|").concat(RZ.source,"|").concat(DZ.source)),$Z=new RegExp("".concat(QZ.source,"|").concat(PZ.source,"|").concat(NZ.source,"|").concat(HZ.source)),GZ=(function(){function t(n){var e=this;ut(this,t),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return e.isBreakingSpace(i)?!1:!!(r&&($Z.exec(i)||jZ.exec(r)))},this.trimByKinsokuShorui=function(r){var i=se(r),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i},this.runtime=n,this.charWidthCache=new mS(100)}return lt(t,[{key:"measureFont",value:function(e,r){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=e;var s=oA.MetricsString+oA.BaselineSymbol,A=Math.ceil(o.measureText(s).width),c=Math.ceil(o.measureText(oA.BaselineSymbol).width),l=oA.HeightMultiplier*c;c=c*oA.BaselineMultiplier|0,a.width=A,a.height=l,o.fillStyle="#f00",o.fillRect(0,0,A,l),o.font=e,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,c);var u=o.getImageData(0,0,A||1,l||1).data,f=u.length,d=A*4,h=0,p=0,v=!1;for(h=0;h<c;++h){for(var y=0;y<d;y+=4)if(u[p+y]!==255){v=!0;break}if(!v)p+=d;else break}for(i.ascent=c-h,p=f-d,v=!1,h=l;h>c;--h){for(var m=0;m<d;m+=4)if(u[p+m]!==255){v=!0;break}if(!v)p-=d;else break}return i.descent=h-c,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[e]=i,i}},{key:"measureText",value:function(e,r,i){var a=r.fontSize,o=a===void 0?16:a,s=r.wordWrap,A=s===void 0?!1:s,c=r.lineHeight,l=r.lineWidth,u=l===void 0?1:l,f=r.textBaseline,d=f===void 0?"alphabetic":f,h=r.textAlign,p=h===void 0?"start":h,v=r.letterSpacing,y=v===void 0?0:v,m=r.textPath;r.textPathSide,r.textPathStartOffset;var b=r.leading,B=b===void 0?0:b,x=pS(r),C=this.measureFont(x,i);C.fontSize===0&&(C.fontSize=o,C.ascent=o);var O=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);O.font=x,r.isOverflowing=!1;var _=A?this.wordWrap(e,r,i):e,S=_.split(/(?:\r\n|\r|\n)/),F=new Array(S.length),M=0;if(m){m.getTotalLength();for(var T=0;T<S.length;T++)O.measureText(S[T]).width+(S[T].length-1)*y}else{for(var k=0;k<S.length;k++){var L=O.measureText(S[k]).width+(S[k].length-1)*y;F[k]=L,M=Math.max(M,L)}var U=M+u,N=c||C.fontSize+u,P=Math.max(N,C.fontSize+u)+(S.length-1)*(N+B);N+=B;var Q=0;return d==="middle"?Q=-P/2:d==="bottom"||d==="alphabetic"||d==="ideographic"?Q=-P:(d==="top"||d==="hanging")&&(Q=0),{font:x,width:U,height:P,lines:S,lineWidths:F,lineHeight:N,maxLineWidth:M,fontProperties:C,lineMetrics:F.map(function(R,H){var G=0;return p==="center"||p==="middle"?G-=R/2:(p==="right"||p==="end")&&(G-=R),new sl(G-u/2,Q+H*N,R+u,N)})}}}},{key:"wordWrap",value:function(e,r,i){var a=this,o=Array.from(e);if(o.length===0)return"";var s=this,A=r.wordWrapWidth,c=A===void 0?0:A,l=r.letterSpacing,u=l===void 0?0:l,f=r.maxLines,d=f===void 0?1/0:f,h=r.textOverflow,p=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),v=c+u,y="";h==="ellipsis"?y="...":h&&h!=="clip"&&(y=h);var m=[""],b=0,B=0,x=-1,C=pS(r),O=this.charWidthCache.get(C);O||(O=new mS(500),this.charWidthCache.put(C,O));var _=function(R){return a.getFromCache(R,u,O,p)},S=_(y);function F(Q,R,H,G){for(;_(Q)<G&&R<o.length-1&&!s.isNewline(o[R+1]);)R+=1,Q+=o[R];for(;_(Q)>G&&R>=H;)R-=1,Q=Q.slice(0,-1);return{lineTxt:Q,txtLastCharIndex:R}}function M(Q,R){if(!(S<=0||S>v)){if(!m[Q]){m[Q]=y;return}var H=F(m[Q],R,x+1,v-S);m[Q]=H.lineTxt+y}}for(var T=0;T<o.length;T++){var k=o[T],L=o[T-1],U=o[T+1],N=_(k);if(this.isNewline(k)){if(b+1>=d){T<o.length-1&&M(b,T-1),r.isOverflowing=!0;break}x=T-1,b+=1,B=0,m[b]="";continue}if(N>v){M(b,T-1),r.isOverflowing=!0;break}if(B>0&&B+N>v){var P=F(m[b],T-1,x+1,v);if(P.txtLastCharIndex!==T-1){if(m[b]=P.lineTxt,P.txtLastCharIndex===o.length-1)break;T=P.txtLastCharIndex+1,k=o[T],L=o[T-1],U=o[T+1],N=_(k)}if(b+1>=d){M(b,T-1),r.isOverflowing=!0;break}if(x=T-1,b+=1,B=0,m[b]="",this.isBreakingSpace(k))continue;this.canBreakInLastChar(k)||(m=this.trimToBreakable(m),B=this.sumTextWidthByCache(m[b]||"",_)),this.shouldBreakByKinsokuShorui(k,U)&&(m=this.trimByKinsokuShorui(m),B+=_(L||""))}B+=N,m[b]+=k}return m.join(`
`)}},{key:"isBreakingSpace",value:function(e){return typeof e!="string"?!1:oA.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return typeof e!="string"?!1:oA.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var r=se(e),i=r[r.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return r;var o=i.slice(a,a+1),s=this.isBreakingSpace(o),A=a+1,c=a+(s?0:1);return r[r.length-1]+=i.slice(A,i.length),r[r.length-2]=i.slice(0,c),r}},{key:"canBreakInLastChar",value:function(e){return!(e&&wS.test(e))}},{key:"sumTextWidthByCache",value:function(e,r){return e.split("").reduce(function(i,a){return i+r(a)},0)}},{key:"findBreakableIndex",value:function(e){for(var r=e.length-1;r>=0;r--)if(!wS.test(e[r]))return r;return-1}},{key:"getFromCache",value:function(e,r,i,a){var o=i.get(e);if(typeof o!="number"){var s=e.length*r,A=a.measureText(e);o=A.width+s,i.put(e,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])})(),gt={},KZ=(function(t){var n=new pZ,e=new hZ;return t={},Et(Et(Et(Et(Et(Et(Et(Et(Et(Et(t,it.FRAGMENT,null),it.CIRCLE,new lZ),it.ELLIPSE,new uZ),it.RECT,n),it.IMAGE,n),it.GROUP,new vZ),it.LINE,new fZ),it.TEXT,new gZ(gt)),it.POLYLINE,e),it.POLYGON,e),Et(Et(Et(t,it.PATH,new dZ),it.HTML,new yZ),it.MESH,null)})(),zZ=(function(t){var n=new Bq,e=new Fw;return t={},Et(Et(Et(Et(Et(Et(Et(Et(Et(Et(t,mt.PERCENTAGE,null),mt.NUMBER,new _q),mt.ANGLE,new wq),mt.DEFINED_PATH,new bq),mt.PAINT,n),mt.COLOR,n),mt.FILTER,new xq),mt.LENGTH,e),mt.LENGTH_PERCENTAGE,e),mt.LENGTH_PERCENTAGE_12,new Cq),Et(Et(Et(Et(Et(Et(Et(Et(Et(Et(t,mt.LENGTH_PERCENTAGE_14,new Oq),mt.COORDINATE,new Fw),mt.OFFSET_DISTANCE,new Sq),mt.OPACITY_VALUE,new Fq),mt.PATH,new Mq),mt.LIST_OF_POINTS,new kq),mt.SHADOW_BLUR,new Tq),mt.TEXT,new Iq),mt.TEXT_TRANSFORM,new Lq),mt.TRANSFORM,new sZ),Et(Et(Et(t,mt.TRANSFORM_ORIGIN,new AZ),mt.Z_INDEX,new cZ),mt.MARKER,new Eq)})(),WZ=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};gt.CameraContribution=nQ;gt.AnimationTimeline=null;gt.EasingFunction=null;gt.offscreenCanvasCreator=new PB;gt.sceneGraphSelector=new xZ;gt.sceneGraphService=new IZ(gt);gt.textService=new GZ(gt);gt.geometryUpdaterFactory=KZ;gt.CSSPropertySyntaxFactory=zZ;gt.styleValueRegistry=new yq(gt);gt.layoutRegistry=null;gt.globalThis=WZ();gt.enableStyleSyntax=!0;gt.enableSizeAttenuation=!1;var VZ=0,Iw=new Ja(me.INSERTED,null,"","","",0,"",""),Lw=new Ja(me.REMOVED,null,"","","",0,"",""),MQ=new Ve(me.DESTROY),YZ=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.entity=VZ++,e.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},e.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},e.cullable={strategy:zY.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.style={},e.computedStyle={},e.parsedStyle={},e.attributes={},e}return ee(n,t),lt(n,[{key:"dirty",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;this.renderable.dirty=r,i!==void 0&&(this.renderable.boundsDirty=i,this.renderable.renderBoundsDirty=i,this.geometry.dirty=i)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(qe)}},{key:"appendChild",value:function(r,i){var a;if(r.destroyed)throw new Error(QY);return gt.sceneGraphService.attach(r,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!xg(this)&&r.nodeName===it.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(Iw.relatedNode=this,r.dispatchEvent(Iw)),r}},{key:"insertBefore",value:function(r,i){if(!i)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(r):this.appendChild(r,a)}return r}},{key:"replaceChild",value:function(r,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,a),i}},{key:"removeChild",value:function(r){var i,a,o=((i=this.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;return Lw.relatedNode=this,r.dispatchEvent(Lw,o,o),(a=r.ownerDocument)!==null&&a!==void 0&&a.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),gt.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(r){return gt.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return gt.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return gt.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return gt.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return gt.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return gt.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return gt.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var i=this;do{if(gt.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(r){var i=this,a=null;return this.forEach(function(o){return o!==i&&r(o)?(a=o,!1):!0}),a}},{key:"findAll",value:function(r){var i=this,a=[];return this.forEach(function(o){o!==i&&r(o)&&a.push(o)}),a}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(A,c){var l;return(l=r.parentNode)===null||l===void 0?void 0:l.appendChild(A,i+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var A=o[0],c=AW(o).slice(1);this.parentNode.appendChild(A,i),(r=A).after.apply(r,se(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s,A){return r.appendChild(s,A)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var r,i=((r=this.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(MQ,i,i),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return gt.sceneGraphService.getGeometryBounds(this,r)}},{key:"getTransformedGeometryBounds",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return gt.sceneGraphService.getTransformedGeometryBounds(this,r)}},{key:"getBounds",value:function(){return gt.sceneGraphService.getBounds(this)}},{key:"getRenderBounds",value:function(){return gt.sceneGraphService.getBounds(this,!0)}},{key:"getLocalBounds",value:function(){return gt.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return gt.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var i=this.attributes[r];return i}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,i){this.attributes[r]=i}},{key:"getAttributeNS",value:function(r,i){throw new Error(qe)}},{key:"getAttributeNode",value:function(r){throw new Error(qe)}},{key:"getAttributeNodeNS",value:function(r,i){throw new Error(qe)}},{key:"hasAttributeNS",value:function(r,i){throw new Error(qe)}},{key:"removeAttributeNS",value:function(r,i){throw new Error(qe)}},{key:"removeAttributeNode",value:function(r){throw new Error(qe)}},{key:"setAttributeNS",value:function(r,i,a){throw new Error(qe)}},{key:"setAttributeNode",value:function(r){throw new Error(qe)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(qe)}},{key:"toggleAttribute",value:function(r,i){throw new Error(qe)}}])})(wn);function Te(t){return!!(t!=null&&t.nodeName)}var XZ=gt.globalThis.Proxy?gt.globalThis.Proxy:function(){},La=new Ja(me.ATTR_MODIFIED,null,null,null,null,Ja.MODIFICATION,null,null),au=ce(),qZ=ir(),an=(function(t){function n(e){var r;return ut(this,n),r=ne(this,n),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=e,r.id=e.id||"",r.name=e.name||"",(e.className||e.class)&&(r.className=e.className||e.class),r.nodeName=e.type||it.GROUP,e.initialParsedStyle&&Object.assign(r.parsedStyle,e.initialParsedStyle),r.initAttributes(e.style),gt.enableStyleSyntax&&(r.style=new XZ({setProperty:function(a,o){r.setAttribute(a,o)},getPropertyValue:function(a){return r.getAttribute(a)},removeProperty:function(a){r.removeAttribute(a)},item:function(){return""}},{get:function(a,o){return a[o]!==void 0?a[o]:r.getAttribute(o)},set:function(a,o,s){return r.setAttribute(o,s),!0}})),r}return ee(n,t),lt(n,[{key:"destroy",value:function(){pg(n,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,i){var a=Vt({},this.attributes);for(var o in a){var s=a[o];Te(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(a[o]=s.cloneNode(r)),i&&(a[o]=i(o,s))}var A=new this.constructor(Vt(Vt({},this.config),{},{style:a}));return A.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var l=c.cloneNode(r);A.appendChild(l)}}),A}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};gt.styleValueRegistry.processProperties(this,r,i),this.dirty()}},{key:"setAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;We(i)||(a||i!==this.attributes[r])&&(this.internalSetAttribute(r,i,{memoize:o}),pg(n,"setAttribute",this)([r,i]))}},{key:"setAttributes",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.skipDispatchAttrModifiedEvent,o=a===void 0?!1:a,s,A;if(o||(s=Vt({},this.attributes),A=Vt({},this.parsedStyle)),gt.styleValueRegistry.processProperties(this,r,i),this.dirty(),!o)for(var c in r)this.dispatchAttrModifiedEvent(c,s[c],r[c],A[c])}},{key:"internalSetAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.attributes[r],s=this.parsedStyle[r];gt.styleValueRegistry.processProperties(this,Et({},r,i),a),this.dirty(),this.dispatchAttrModifiedEvent(r,o,i,s)}},{key:"dispatchAttrModifiedEvent",value:function(r,i,a,o){var s=this.parsedStyle[r];if(this.isConnected)if(La.relatedNode=this,La.prevValue=i,La.newValue=a,La.attrName=r,La.prevParsedValue=o,La.newParsedValue=s,this.isMutationObserved)this.dispatchEvent(La);else{var A,c=((A=this.ownerDocument.defaultView.getConfig().future)===null||A===void 0?void 0:A.experimentalCancelEventPropagation)===!0;La.target=this,this.ownerDocument.defaultView.dispatchEvent(La,!0,c)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var l,u;(l=(u=this).attributeChangedCallback)===null||l===void 0||l.call(u,r,i,a,o,s)}}},{key:"getBBox",value:function(){var r=this.getBounds(),i=r.getMin(),a=Xt(i,2),o=a[0],s=a[1],A=r.getMax(),c=Xt(A,2),l=c[0],u=c[1];return new sl(o,s,l-o,u-s)}},{key:"setOrigin",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return gt.sceneGraphService.setOrigin(this,Hr(r,i,a,!1)),this}},{key:"getOrigin",value:function(){return gt.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return gt.sceneGraphService.setPosition(this,Hr(r,i,a,!1)),this}},{key:"setLocalPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return gt.sceneGraphService.setLocalPosition(this,Hr(r,i,a,!1)),this}},{key:"translate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return gt.sceneGraphService.translate(this,Hr(r,i,a,!1)),this}},{key:"translateLocal",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return gt.sceneGraphService.translateLocal(this,Hr(r,i,a,!1)),this}},{key:"getPosition",value:function(){return gt.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return gt.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,i,a){return this.scaleLocal(r,i,a)}},{key:"scaleLocal",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=Hr(r,i,a,!1)),gt.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=Hr(r,i,a,!1)),gt.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return gt.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return gt.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=Bm(au,gt.sceneGraphService.getWorldTransform(this)),i=Xt(r,3),a=i[2];return Ni(a)}},{key:"getLocalEulerAngles",value:function(){var r=Bm(au,gt.sceneGraphService.getLocalRotation(this)),i=Xt(r,3),a=i[2];return Ni(a)}},{key:"setEulerAngles",value:function(r){return gt.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return gt.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,i,a){return Rt(i)&&Rt(a)?gt.sceneGraphService.rotateLocal(this,0,0,r):gt.sceneGraphService.rotateLocal(this,r,i,a),this}},{key:"rotate",value:function(r,i,a){return Rt(i)&&Rt(a)?gt.sceneGraphService.rotate(this,0,0,r):gt.sceneGraphService.rotate(this,r,i,a),this}},{key:"setRotation",value:function(r,i,a,o){return gt.sceneGraphService.setRotation(this,r,i,a,o),this}},{key:"setLocalRotation",value:function(r,i,a,o){return gt.sceneGraphService.setLocalRotation(this,r,i,a,o),this}},{key:"setLocalSkew",value:function(r,i){return gt.sceneGraphService.setLocalSkew(this,r,i),this}},{key:"getRotation",value:function(){return gt.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return gt.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return gt.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return gt.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return gt.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return gt.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){gt.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,i){var a,o=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return o?o.play(this,r,i):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,se(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,se(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],A=a[1];return s?qf(s)?(Object.keys(s).forEach(function(c){r.setAttribute(c,s[c])}),this):a.length===2?(this.setAttribute(s,A),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var i=r||this.getWorldTransform(),a=Ag(au,i),o=Xt(a,2),s=o[0],A=o[1],c=al(au,i),l=Xt(c,2),u=l[0],f=l[1],d=cg(qZ,i),h=Bm(au,d),p=Xt(h,3),v=p[0],y=p[2];return HY(v||y,s,A,u,f)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var i=j_(r),a=Xt(i,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4];this.setEulerAngles(l).setPosition(o,s).setLocalScale(A,c)}},{key:"setLocalMatrix",value:function(r){var i=j_(r),a=Xt(i,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4];this.setLocalEulerAngles(l).setLocalPosition(o,s).setLocalScale(A,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,i){return this.appendChild(r,i)}},{key:"set",value:function(r,i){this.config[r]=i}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"move",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])})(YZ);an.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var to=(function(t){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ut(this,n),ne(this,n,[Vt({type:it.CIRCLE},e)])}return ee(n,t),lt(n)})(an);to.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var ZZ=["style"],zA=(function(t){function n(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=za(r,ZZ);return ut(this,n),e=ne(this,n,[Vt({style:i},a)]),e.isCustomElement=!0,e}return ee(n,t),lt(n)})(an);zA.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var $0=(function(t){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ut(this,n),ne(this,n,[Vt({type:it.ELLIPSE},e)])}return ee(n,t),lt(n)})(an);$0.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var JZ=(function(t){function n(){return ut(this,n),ne(this,n,[{type:it.FRAGMENT}])}return ee(n,t),lt(n)})(an);JZ.PARSED_STYLE_LIST=new Set(["class","className"]);var ur=(function(t){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ut(this,n),ne(this,n,[Vt({type:it.GROUP},e)])}return ee(n,t),lt(n)})(an);ur.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var tJ=["style"],WA=(function(t){function n(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=za(r,tJ);return ut(this,n),e=ne(this,n,[Vt({type:it.HTML,style:i},a)]),e.cullable.enable=!1,e}return ee(n,t),lt(n,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=ya(Ne(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!nr.isEmpty(i)){var a=new nr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds()}}])})(an);WA.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var G0=(function(t){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ut(this,n),ne(this,n,[Vt({type:it.IMAGE},e)])}return ee(n,t),lt(n)})(an);G0.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var eJ=["style"],VA=(function(t){function n(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=za(r,eJ);ut(this,n),e=ne(this,n,[Vt({type:it.LINE,style:Vt({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),e.markerStartAngle=0,e.markerEndAngle=0;var o=e.parsedStyle,s=o.markerStart,A=o.markerEnd;return s&&Te(s)&&(e.markerStartAngle=s.getLocalEulerAngles(),e.appendChild(s)),A&&Te(A)&&(e.markerEndAngle=A.getLocalEulerAngles(),e.appendChild(A)),e.transformMarker(!0),e.transformMarker(!1),e}return ee(n,t),lt(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Te(o)&&(this.markerStartAngle=0,o.remove()),s&&Te(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&Te(o)&&(this.markerEndAngle=0,o.remove()),s&&Te(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=i.x1,l=i.x2,u=i.y1,f=i.y2,d=r?a:o;if(!(!d||!Te(d))){var h=0,p,v,y,m,b,B;r?(y=c,m=u,p=l-c,v=f-u,b=s||0,B=this.markerStartAngle):(y=l,m=f,p=c-l,v=u-f,b=A||0,B=this.markerEndAngle),h=Math.atan2(v,p),d.setLocalEulerAngles(h*180/Math.PI+B),d.setLocalPosition(y+Math.cos(h)*b,m+Math.sin(h)*b)}}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,o=a.x1,s=a.y1,A=a.x2,c=a.y2,l=ZL(o,s,A,c,r),u=l.x,f=l.y,d=Fn(ce(),Se(u,f,0),i?this.getWorldTransform():this.getLocalTransform());return new wr(d[0],d[1])}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2;return qL(i,a,o,s)}}])})(an);VA.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var nJ=["style"],sr=(function(t){function n(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=za(r,nJ);ut(this,n),e=ne(this,n,[Vt({type:it.PATH,style:i,initialParsedStyle:{miterLimit:4,d:Vt({},rQ)}},a)]),e.markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var o=e.parsedStyle,s=o.markerStart,A=o.markerEnd,c=o.markerMid;return s&&Te(s)&&(e.markerStartAngle=s.getLocalEulerAngles(),e.appendChild(s)),c&&Te(c)&&e.placeMarkerMid(c),A&&Te(A)&&(e.markerEndAngle=A.getLocalEulerAngles(),e.appendChild(A)),e.transformMarker(!0),e.transformMarker(!1),e}return ee(n,t),lt(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Te(o)&&(this.markerStartAngle=0,o.remove()),s&&Te(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&Te(o)&&(this.markerEndAngle=0,o.remove()),s&&Te(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=r?a:o;if(!(!c||!Te(c))){var l=0,u,f,d,h,p,v;if(r){var y=this.getStartTangent(),m=Xt(y,2),b=m[0],B=m[1];d=B[0],h=B[1],u=b[0]-B[0],f=b[1]-B[1],p=s||0,v=this.markerStartAngle}else{var x=this.getEndTangent(),C=Xt(x,2),O=C[0],_=C[1];d=_[0],h=_[1],u=O[0]-_[0],f=O[1]-_[1],p=A||0,v=this.markerEndAngle}l=Math.atan2(f,u),c.setLocalEulerAngles(l*180/Math.PI+v),c.setLocalPosition(d+Math.cos(l)*p,h+Math.sin(l)*p)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(l){l.remove()}),r&&Te(r))for(var a=1;a<i.length-1;a++){var o=Xt(i[a].currentPoint,2),s=o[0],A=o[1],c=a===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s,A)}}},{key:"getTotalLength",value:function(){return _w(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,o=lY(a,r),s=o.x,A=o.y,c=Fn(ce(),Se(s,A,0),i?this.getWorldTransform():this.getLocalTransform());return new wr(c[0],c[1])}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*_w(this),i)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,i=[];if(r.length>1){var a=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;i=[],s?(i.push([a[0]-s[0],a[1]-s[1]]),i.push([a[0],a[1]])):(i.push([o[0],o[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,i=r.length,a=[];if(i>1){var o=r[i-2].currentPoint,s=r[i-1].currentPoint,A=r[i-1].endTangent;a=[],A?(a.push([s[0]-A[0],s[1]-A[1]]),a.push([s[0],s[1]])):(a.push([o[0],o[1]]),a.push([s[0],s[1]]))}return a}}])})(an);sr.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var rJ=["style"],YA=(function(t){function n(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=za(r,rJ);ut(this,n),e=ne(this,n,[Vt({type:it.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),e.markerStartAngle=0,e.markerEndAngle=0,e.markerMidList=[];var o=e.parsedStyle,s=o.markerStart,A=o.markerEnd,c=o.markerMid;return s&&Te(s)&&(e.markerStartAngle=s.getLocalEulerAngles(),e.appendChild(s)),c&&Te(c)&&e.placeMarkerMid(c),A&&Te(A)&&(e.markerEndAngle=A.getLocalEulerAngles(),e.appendChild(A)),e.transformMarker(!0),e.transformMarker(!1),e}return ee(n,t),lt(n,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&Te(o)&&(this.markerStartAngle=0,o.remove()),s&&Te(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&Te(o)&&(this.markerEndAngle=0,o.remove()),s&&Te(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=i.points,l=c||{},u=l.points,f=r?a:o;if(!(!f||!Te(f)||!u)){var d=0,h,p,v,y,m,b;if(v=u[0][0],y=u[0][1],r)h=u[1][0]-u[0][0],p=u[1][1]-u[0][1],m=s||0,b=this.markerStartAngle;else{var B=u.length;this.parsedStyle.isClosed?(h=u[B-1][0]-u[0][0],p=u[B-1][1]-u[0][1]):(v=u[B-1][0],y=u[B-1][1],h=u[B-2][0]-u[B-1][0],p=u[B-2][1]-u[B-1][1]),m=A||0,b=this.markerEndAngle}d=Math.atan2(p,h),f.setLocalEulerAngles(d*180/Math.PI+b),f.setLocalPosition(v+Math.cos(d)*m,y+Math.sin(d)*m)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.points,a=i||{},o=a.points;if(this.markerMidList.forEach(function(u){u.remove()}),this.markerMidList=[],r&&Te(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var A=o[s][0],c=o[s][1],l=s===1?r:r.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(A,c)}}}])})(an);YA.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var iJ=["style"],K0=(function(t){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.style,i=za(e,iJ);return ut(this,n),ne(this,n,[Vt({type:it.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return ee(n,t),lt(n,[{key:"getTotalLength",value:function(){return GX(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,A,c,l=this.getTotalLength();a.forEach(function(y,m){a[m+1]&&(A=[0,0],A[0]=s/l,c=qL(y[0],y[1],a[m+1][0],a[m+1][1]),s+=c,A[1]=s/l,o.push(A))}),this.parsedStyle.points.segments=o}var u=0,f=0;this.parsedStyle.points.segments.forEach(function(y,m){r>=y[0]&&r<=y[1]&&(u=(r-y[0])/(y[1]-y[0]),f=m)});var d=ZL(a[f][0],a[f][1],a[f+1][0],a[f+1][1],u),h=d.x,p=d.y,v=Fn(ce(),Se(h,p,0),i?this.getWorldTransform():this.getLocalTransform());return new wr(v[0],v[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a}}])})(YA);K0.PARSED_STYLE_LIST=new Set([].concat(se(YA.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Ps=(function(t){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ut(this,n),ne(this,n,[Vt({type:it.RECT},e)])}return ee(n,t),lt(n)})(an);Ps.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var aJ=["style"],qi=(function(t){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.style,i=za(e,aJ);return ut(this,n),ne(this,n,[Vt({type:it.TEXT,style:Vt({fill:"black"},r)},i)])}return ee(n,t),lt(n,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])})(an);qi.PARSED_STYLE_LIST=new Set([].concat(se(an.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textDecorationThickness","textPathSide","textPathStartOffset","metrics","dx","dy"]));var oJ=(function(){function t(){ut(this,t),this.registry={},this.define(it.CIRCLE,to),this.define(it.ELLIPSE,$0),this.define(it.RECT,Ps),this.define(it.IMAGE,G0),this.define(it.LINE,VA),this.define(it.GROUP,ur),this.define(it.PATH,sr),this.define(it.POLYGON,YA),this.define(it.POLYLINE,K0),this.define(it.TEXT,qi),this.define(it.HTML,WA)}return lt(t,[{key:"define",value:function(e,r){this.registry[e]=r}},{key:"get",value:function(e){return this.registry[e]}}])})(),RB={number:function(n){return new Ze(n)},percent:function(n){return new Ze(n,"%")},px:function(n){return new Ze(n,"px")},em:function(n){return new Ze(n,"em")},rem:function(n){return new Ze(n,"rem")},deg:function(n){return new Ze(n,"deg")},grad:function(n){return new Ze(n,"grad")},rad:function(n){return new Ze(n,"rad")},turn:function(n){return new Ze(n,"turn")},s:function(n){return new Ze(n,"s")},ms:function(n){return new Ze(n,"ms")},registerProperty:function(n){var e=n.name,r=n.inherits,i=n.interpolable,a=n.initialValue,o=n.syntax;gt.styleValueRegistry.registerMetadata({n:e,inh:r,int:i,d:a,syntax:o})},registerLayout:function(n,e){gt.layoutRegistry.registerLayout(n,e)}},sJ=(function(t){function n(){var e;ut(this,n),e=ne(this,n),e.defaultView=null,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new gt.AnimationTimeline(e)}catch{}var r={};return LB.forEach(function(i){var a=i.n,o=i.inh,s=i.d;o&&s&&(r[a]=or(s)?s(it.GROUP):s)}),e.documentElement=new ur({id:"g-root",style:r}),e.documentElement.ownerDocument=e,e.documentElement.parentNode=e,e.childNodes=[e.documentElement],e}return ee(n,t),lt(n,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,i){if(r==="svg")return this.documentElement;var a=this.defaultView.customElements.get(r);a||(console.warn("Unsupported tagName: ",r),a=r==="tspan"?qi:ur);var o=new a(i);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(r,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(r){throw new Error(qe)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(r,i,a,o){var s=[],A=function(l){if(!(!l.isInteractive()||l.isCulled())){var u=l.parsedStyle.pointerEvents,f=u===void 0?"auto":u,d=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(f);if(!d||l.isVisible()){var h=l.getTransformedGeometryBounds(!0);h&&!nr.isEmpty(h)&&h.max[0]>=r&&h.min[0]<=a&&h.max[1]>=i&&h.min[1]<=o&&s.push(l)}l.childNodes&&l.childNodes.forEach(function(p){p instanceof an&&A(p)})}};return A(this.documentElement),s.sort(function(c,l){return l.sortable.renderOrder-c.sortable.renderOrder}),s}},{key:"elementFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,A=this.defaultView.getConfig(),c=A.width,l=A.height;if(o<0||s<0||o>c||s>l)return null;var u=this.defaultView.viewport2Client({x:o,y:s}),f=u.x,d=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:f,clientY:d},picked:[]}),p=h.picked;return p&&p[0]||this.documentElement}},{key:"elementFromPoint",value:(function(){var e=Ss(gr().mark(function i(a,o){var s,A,c,l,u,f,d,h,p,v,y;return gr().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),A=s.x,c=s.y,l=this.defaultView.getConfig(),u=l.width,f=l.height,!(A<0||c<0||A>u||c>f)){m.next=1;break}return m.abrupt("return",null);case 1:return d=this.defaultView.viewport2Client({x:A,y:c}),h=d.x,p=d.y,m.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:o,viewportX:A,viewportY:c,clientX:h,clientY:p},picked:[]});case 2:return v=m.sent,y=v.picked,m.abrupt("return",y&&y[0]||this.documentElement);case 3:case"end":return m.stop()}},i,this)}));function r(i,a){return e.apply(this,arguments)}return r})()},{key:"elementsFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,A=this.defaultView.getConfig(),c=A.width,l=A.height;if(o<0||s<0||o>c||s>l)return[];var u=this.defaultView.viewport2Client({x:o,y:s}),f=u.x,d=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:f,clientY:d},picked:[]}),p=h.picked;return p[p.length-1]!==this.documentElement&&p.push(this.documentElement),p}},{key:"elementsFromPoint",value:(function(){var e=Ss(gr().mark(function i(a,o){var s,A,c,l,u,f,d,h,p,v,y;return gr().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),A=s.x,c=s.y,l=this.defaultView.getConfig(),u=l.width,f=l.height,!(A<0||c<0||A>u||c>f)){m.next=1;break}return m.abrupt("return",[]);case 1:return d=this.defaultView.viewport2Client({x:A,y:c}),h=d.x,p=d.y,m.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:o,viewportX:A,viewportY:c,clientX:h,clientY:p},picked:[]});case 2:return v=m.sent,y=v.picked,y[y.length-1]!==this.documentElement&&y.push(this.documentElement),m.abrupt("return",y);case 3:case"end":return m.stop()}},i,this)}));function r(i,a){return e.apply(this,arguments)}return r})()},{key:"appendChild",value:function(r,i){throw new Error(wc)}},{key:"insertBefore",value:function(r,i){throw new Error(wc)}},{key:"removeChild",value:function(r,i){throw new Error(wc)}},{key:"replaceChild",value:function(r,i,a){throw new Error(wc)}},{key:"append",value:function(){throw new Error(wc)}},{key:"prepend",value:function(){throw new Error(wc)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])})(wn),kQ=(function(){function t(n){ut(this,t),this.strategies=n}return lt(t,[{key:"apply",value:function(e){var r=e.config,i=e.camera,a=e.renderingService,o=e.renderingContext,s=this.strategies;a.hooks.cull.tap(t.tag,function(A){if(A){var c,l=A.cullable;if(s.length===0?l.visible=o.unculledEntities.indexOf(A.entity)>-1:l.visible=s.every(function(f){return f.isVisible(i,A)}),!A.isCulled()&&A.isVisible())return A;var u=((c=r.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;return A.dispatchEvent(new Ve(me.CULLED),u,u),null}return A}),a.hooks.afterRender.tap(t.tag,function(A){A.cullable.visibilityPlaneMask=-1})}}])})();kQ.tag="Culling";var TQ=(function(){function t(){var n=this;ut(this,t),this.autoPreventDefault=!1,this.rootPointerEvent=new kw(null),this.rootWheelEvent=new Tw(null),this.onPointerMove=function(e){var r,i=(r=n.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(i.supportsTouchEvents&&e.pointerType==="touch")){var a=n.normalizeToPointerEvent(e,i),o=As(a),s;try{for(o.s();!(s=o.n()).done;){var A=s.value,c=n.bootstrapEvent(n.rootPointerEvent,A,i,e);n.context.eventService.mapEvent(c)}}catch(l){o.e(l)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}},this.onClick=function(e){var r,i=(r=n.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,a=n.normalizeToPointerEvent(e,i),o=As(a),s;try{for(o.s();!(s=o.n()).done;){var A=s.value,c=n.bootstrapEvent(n.rootPointerEvent,A,i,e);n.context.eventService.mapEvent(c)}}catch(l){o.e(l)}finally{o.f()}n.setCursor(n.context.eventService.cursor)}}return lt(t,[{key:"apply",value:function(e){var r=this;this.context=e;var i=e.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),A=s.picked;return A[0]||null}),i.hooks.pointerWheel.tap(t.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(t.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,a);if(r.autoPreventDefault&&s[0].isNormalized){var A=o.cancelable||!("cancelable"in o);A&&o.preventDefault()}var c=As(s),l;try{for(c.s();!(l=c.n()).done;){var u=l.value,f=r.bootstrapEvent(r.rootPointerEvent,u,a,o);r.context.eventService.mapEvent(f)}}catch(d){c.e(d)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(t.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),A=r.context.eventService.isNativeEventFromCanvas(s,o),c=A?"":"outside",l=r.normalizeToPointerEvent(o,a),u=As(l),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,h=r.bootstrapEvent(r.rootPointerEvent,d,a,o);h.type+=c,r.context.eventService.mapEvent(h)}}catch(p){u.e(p)}finally{u.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(t.tag,this.onPointerMove),i.hooks.pointerOver.tap(t.tag,this.onPointerMove),i.hooks.pointerOut.tap(t.tag,this.onPointerMove),i.hooks.click.tap(t.tag,this.onClick),i.hooks.pointerCancel.tap(t.tag,function(o){var s=r.normalizeToPointerEvent(o,a),A=As(s),c;try{for(A.s();!(c=A.n()).done;){var l=c.value,u=r.bootstrapEvent(r.rootPointerEvent,l,a,o);r.context.eventService.mapEvent(u)}}catch(f){A.e(f)}finally{A.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(e,r,i,a){e.view=i,e.originalEvent=null,e.nativeEvent=a,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,A=o.y;e.viewport.x=s,e.viewport.y=A;var c=this.context.eventService.viewport2Canvas(e.viewport),l=c.x,u=c.y;return e.canvas.x=l,e.canvas.y=u,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=a.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=jq[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var r=this.rootWheelEvent;this.transferMouseData(r,e),r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ;var i=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),a=i.x,o=i.y;r.viewport.x=a,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),A=s.x,c=s.y;return r.canvas.x=A,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=e,r.type=e.type,r}},{key:"transferMouseData",value:function(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=Mw.now(),e.type=r.type,e.altKey=r.altKey,e.metaKey=r.metaKey,e.shiftKey=r.shiftKey,e.ctrlKey=r.ctrlKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.screen.x=r.screenX,e.screen.y=r.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,r){var i=[];if(r.isTouchEvent(e))for(var a=0;a<e.changedTouches.length;a++){var o=e.changedTouches[a];We(o.button)&&(o.button=0),We(o.buttons)&&(o.buttons=1),We(o.isPrimary)&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),We(o.width)&&(o.width=o.radiusX||1),We(o.height)&&(o.height=o.radiusY||1),We(o.tiltX)&&(o.tiltX=0),We(o.tiltY)&&(o.tiltY=0),We(o.pointerType)&&(o.pointerType="touch"),We(o.pointerId)&&(o.pointerId=o.identifier||0),We(o.pressure)&&(o.pressure=o.force||.5),We(o.twist)&&(o.twist=0),We(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=e.type,i.push(o)}else if(r.isMouseEvent(e)){var s=e;We(s.isPrimary)&&(s.isPrimary=!0),We(s.width)&&(s.width=1),We(s.height)&&(s.height=1),We(s.tiltX)&&(s.tiltX=0),We(s.tiltY)&&(s.tiltY=0),We(s.pointerType)&&(s.pointerType="mouse"),We(s.pointerId)&&(s.pointerId=Hq),We(s.pressure)&&(s.pressure=.5),We(s.twist)&&(s.twist=0),We(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(e);return i}}])})();TQ.tag="Event";var AJ=[it.CIRCLE,it.ELLIPSE,it.IMAGE,it.RECT,it.LINE,it.POLYLINE,it.POLYGON,it.TEXT,it.PATH,it.HTML],cJ=(function(){function t(){ut(this,t)}return lt(t,[{key:"isVisible",value:function(e,r){var i,a=r.cullable;if(!a.enable)return!0;var o=r.getRenderBounds();if(nr.isEmpty(o))return!1;var s=e.getFrustum(),A=(i=r.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,o,A||mc.INDETERMINATE,s.planes),a.visible=a.visibilityPlaneMask!==mc.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(e,r,i,a){if(i===mc.OUTSIDE||i===mc.INSIDE)return i;for(var o=mc.INSIDE,s=AJ.indexOf(e.nodeName)>-1,A=0,c=a.length;A<c;++A){var l=1<<A;if((i&l)!==0&&!(s&&(A===4||A===5))){var u=a[A],f=u.normal,d=u.distance;if(ja(f,r.getPositiveFarPoint(a[A]))+d<0)return mc.OUTSIDE;ja(f,r.getNegativeFarPoint(a[A]))+d<0&&(o|=l)}}return o}}])})(),IQ=(function(){function t(){ut(this,t),this.mutationRecords=[],this.isFirstTimeRendering=!0,this.isFirstTimeRenderingFinished=!1}return lt(t,[{key:"apply",value:function(e){var r=this,i,a=e.renderingService,o=e.renderingContext,s=o.root.ownerDocument.defaultView,A=function(h){a.dirty()},c=function(h){var p,v=h.detail;(p=r.mutationRecords).push.apply(p,se(v)),a.dirty()},l=function(h){var p=h.target;gt.enableSizeAttenuation&&gt.styleValueRegistry.updateSizeAttenuation(p,s.getCamera().getZoom())},u=function(h){var p=h.target;gt.sceneGraphService.dirtyToRoot(p),a.dirty()};a.hooks.init.tap(t.tag,function(){s.addEventListener(me.MOUNTED,l),s.addEventListener(me.UNMOUNTED,u),s.addEventListener(me.ATTR_MODIFIED,A),s.addEventListener(me.BOUNDS_CHANGED,c)}),a.hooks.destroy.tap(t.tag,function(){s.removeEventListener(me.MOUNTED,l),s.removeEventListener(me.UNMOUNTED,u),s.removeEventListener(me.ATTR_MODIFIED,A),s.removeEventListener(me.BOUNDS_CHANGED,c),r.mutationRecords=[]});var f=(i=gt.globalThis.requestIdleCallback)!==null&&i!==void 0?i:UB.bind(gt.globalThis);a.hooks.endFrame.tap(t.tag,function(){r.isFirstTimeRendering&&(r.isFirstTimeRendering=!1,f(function(){r.isFirstTimeRenderingFinished=!0})),r.mutationRecords=[]})}}])})();IQ.tag="Prepare";var Hi=(function(t){return t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle",t.RENDERER_CHANGED="rendererchanged",t})({}),bS=500,lJ=.1,uJ=1e3,Eh=new Ve(me.MOUNTED),_h=new Ve(me.UNMOUNTED),Tm=new Ve(Hi.BEFORE_RENDER),BS=new Ve(Hi.RERENDER),Im=new Ve(Hi.AFTER_RENDER),LQ=(function(t){function n(e){var r;ut(this,n),r=ne(this,n),r.Element=an,r.inited=!1,r.context={};var i=e.container,a=e.canvas,o=e.renderer,s=e.width,A=e.height,c=e.background,l=e.cursor,u=e.supportsMutipleCanvasesInOneContainer,f=e.cleanUpOnDestroy,d=f===void 0?!0:f,h=e.offscreenCanvas,p=e.devicePixelRatio,v=e.requestAnimationFrame,y=e.cancelAnimationFrame,m=e.createImage,b=e.supportsTouchEvents,B=e.supportsPointerEvents,x=e.isTouchEvent,C=e.isMouseEvent,O=e.dblClickSpeed,_=s,S=A,F=p||QB&&window.devicePixelRatio||1;return F=F>=1?Math.ceil(F):1,a&&(_=s||Nq(a)||a.width/F,S=A||Dq(a)||a.height/F),r.customElements=new oJ,r.devicePixelRatio=F,r.requestAnimationFrame=v??UB.bind(gt.globalThis),r.cancelAnimationFrame=y??EQ.bind(gt.globalThis),r.createImage=m??function(){return new window.Image},r.supportsTouchEvents=b??"ontouchstart"in gt.globalThis,r.supportsPointerEvents=B??!!gt.globalThis.PointerEvent,r.isTouchEvent=x??function(M){return r.supportsTouchEvents&&M instanceof gt.globalThis.TouchEvent},r.isMouseEvent=C??function(M){return!gt.globalThis.MouseEvent||M instanceof gt.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(M instanceof gt.globalThis.PointerEvent))},h&&(gt.offscreenCanvas=h),r.document=new sJ,r.document.defaultView=r,u||Qq(i,r,d),r.initRenderingContext(Vt(Vt({},e),{},{width:_,height:S,background:c??"transparent",cursor:l??"default",cleanUpOnDestroy:d,devicePixelRatio:F,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,createImage:r.createImage,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:O??200})),r.initDefaultCamera(_,S,o.clipSpaceNearZ),r.initRenderer(o,!0),r}return ee(n,t),lt(n,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,i,a){var o=this,s=new gt.CameraContribution;s.clipSpaceNearZ=a,s.setType(Xe.EXPLORING,Bw.DEFAULT).setPosition(r/2,i/2,bS).setFocalPoint(r/2,i/2,0).setOrthographic(r/-2,r/2,i/2,i/-2,lJ,uJ),s.canvas=this,s.eventEmitter.on(eQ.UPDATED,function(){o.context.renderingContext.renderReasons.add(Wc.CAMERA_CHANGED),gt.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){gt.styleValueRegistry.updateSizeAttenuation(i,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){r.resolveReadyPromise=function(){i(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1?arguments[1]:void 0;Zn.clearCache();var o=((r=this.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;a||this.dispatchEvent(new Ve(Hi.BEFORE_DESTROY),o,o),this.frameId&&this.cancelAnimationFrame(this.frameId);var s=this.getRoot();i&&(this.unmountChildren(s),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),a||this.dispatchEvent(new Ve(Hi.AFTER_DESTROY),o,o);var A=function(l){l.currentTarget=null,l.manager=null,l.target=null,l.relatedNode=null};A(Eh),A(_h),A(Tm),A(BS),A(Im),A(La),A(Iw),A(Lw),A(MQ),gt.textService.clearCache()}},{key:"changeSize",value:function(r,i){this.resize(r,i)}},{key:"resize",value:function(r,i){var a,o=this.context.config;o.width=r,o.height=i,this.getContextService().resize(r,i);var s=this.context.camera,A=s.getProjectionMode();s.setPosition(r/2,i/2,bS).setFocalPoint(r/2,i/2,0),A===Li.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(r/i);var c=((a=o.future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new Ve(Hi.RESIZE,{width:r,height:i}),c,c)}},{key:"appendChild",value:function(r,i){return this.document.documentElement.appendChild(r,i)}},{key:"insertBefore",value:function(r,i){return this.document.documentElement.insertBefore(r,i)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var i,a=this;r&&(Tm.detail=r,Im.detail=r);var o=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(Tm,o,o);var s=this.getRenderingService();s.render(this,r,function(){a.dispatchEvent(BS,o,o)}),this.dispatchEvent(Im,o,o)}},{key:"run",value:function(){var r=this,i=function(o,s){r.render(s),r.frameId=r.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new TQ,new IQ,new kQ([new cJ])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService(Vt(Vt({},gt),this.context)),this.context.renderingService=new bZ(gt,this.context),this.context.eventService=new wZ(gt,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(r,a)}).catch(function(o){console.error(o)})}},{key:"initRenderingService",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var s;i.inited=!0;var A=((s=i.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;a?o?i.requestAnimationFrame(function(){i.dispatchEvent(new Ve(Hi.READY),A,A)}):i.dispatchEvent(new Ve(Hi.READY),A,A):i.dispatchEvent(new Ve(Hi.RENDERER_CHANGED),A,A),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(c){var l,u;(l=(u=c).dirty)===null||l===void 0||l.call(u,!0,!0)}),i.mountChildren(i.getRoot()),r.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(r){var i=this,a=r.getPlugins();a.forEach(function(o){o.context=i.context,o.init(gt)})}},{key:"setRenderer",value:function(r){var i=this.getConfig();if(i.renderer!==r){var a=i.renderer;i.renderer=r,this.destroy(!1,!0),se(a?.getPlugins()||[]).reverse().forEach(function(o){o.destroy(gt)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var i=this.getConfig();i.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var i=this;if(r.childNodes.forEach(function(s){i.unmountChildren(s)}),this.inited){if(r.isMutationObserved)r.dispatchEvent(_h);else{var a,o=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;_h.target=r,this.dispatchEvent(_h,!0,o)}r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1}r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xg(r);if(this.inited){if(!r.isConnected&&(r.ownerDocument=this.document,r.isConnected=!0,!a))if(r.isMutationObserved)r.dispatchEvent(Eh);else{var o,s=((o=this.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;Eh.target=r,this.dispatchEvent(Eh,!0,s)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName);r.childNodes.forEach(function(A){i.mountChildren(A,a)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,i){return this.client2Viewport({x:r,y:i})}},{key:"getClientByPoint",value:function(r,i){return this.viewport2Client({x:r,y:i})}}])})(FQ),fJ=(function(){function t(){ut(this,t),this.cacheStore=new Map}return lt(t,[{key:"onRefAdded",value:function(e){}},{key:"has",value:function(e){return this.cacheStore.has(e)}},{key:"put",value:function(e,r,i){return this.cacheStore.has(e)?!1:(this.cacheStore.set(e,{value:r,counter:new Set([i.entity])}),this.onRefAdded(i),!0)}},{key:"get",value:function(e,r){var i=this.cacheStore.get(e);return i?(i.counter.has(r.entity)||(i.counter.add(r.entity),this.onRefAdded(r)),i.value):null}},{key:"update",value:function(e,r,i){var a=this.cacheStore.get(e);return a?(a.value=Vt(Vt({},a.value),r),a.counter.has(i.entity)||(a.counter.add(i.entity),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(e,r){var i=this.cacheStore.get(e);return i?(i.counter.delete(r.entity),i.counter.size<=0&&this.cacheStore.delete(e),!0):!1}},{key:"releaseRef",value:function(e){var r=this;Array.from(this.cacheStore.keys()).forEach(function(i){r.release(i,e)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])})(),Lm=[],Qm=[],Qw=(function(){function t(){ut(this,t)}return lt(t,null,[{key:"stop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;t.rafId&&(e.cancelAnimationFrame(t.rafId),t.rafId=null)}},{key:"executeTask",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;Lm.length<=0&&Qm.length<=0||(Qm.forEach(function(r){return r()}),Qm=Lm.splice(0,t.TASK_NUM_PER_FRAME),t.rafId=e.requestAnimationFrame(function(){t.executeTask(e)}))}},{key:"sliceImage",value:function(e,r,i,a){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t.api,A=e.naturalWidth||e.width,c=e.naturalHeight||e.height,l=r-o,u=i-o,f=Math.ceil(A/l),d=Math.ceil(c/u),h={tileSize:[r,i],gridSize:[d,f],tiles:Array(d).fill(null).map(function(){return Array(f).fill(null)})},p=function(m){for(var b=function(C){Lm.push(function(){var O=C*l,_=m*u,S=[Math.min(r,A-O),Math.min(i,c-_)],F=S[0],M=S[1],T=s.createCanvas();T.width=r,T.height=i;var k=T.getContext("2d");k.drawImage(e,O,_,F,M,0,0,F,M),h.tiles[m][C]={x:O,y:_,tileX:C,tileY:m,data:T},a()})},B=0;B<f;B++)b(B)},v=0;v<d;v++)p(v);return t.stop(),t.executeTask(),h}}])})();Qw.TASK_NUM_PER_FRAME=10;var hi=new fJ;hi.onRefAdded=function(n){var e=this;n.addEventListener(me.DESTROY,function(){e.releaseRef(n)},{once:!0})};var NB=(function(){function t(n,e){ut(this,t),this.gradientCache={},this.patternCache={},this.context=n,this.runtime=e}return lt(t,[{key:"getImageSync",value:function(e,r,i){var a=sn(e)?e:e.src;if(hi.has(a)){var o=hi.get(a,r);if(o.img.complete)return i?.(o),o}return this.getOrCreateImage(e,r).then(function(s){i?.(s)}).catch(function(s){console.error(s)}),null}},{key:"getOrCreateImage",value:function(e,r){var i=this,a=sn(e)?e:e.src;if(!sn(e)&&!hi.has(a)){var o={img:e,size:[e.naturalWidth||e.width,e.naturalHeight||e.height],tileSize:Sh(e)};hi.put(a,o,r)}if(hi.has(a)){var s=hi.get(a,r);return s.img.complete?Promise.resolve(s):new Promise(function(A,c){s.img.addEventListener("load",function(){s.size=[s.img.naturalWidth||s.img.width,s.img.naturalHeight||s.img.height],s.tileSize=Sh(s.img),A(s)}),s.img.addEventListener("error",function(l){c(l)})})}return new Promise(function(A,c){var l=i.context.config.createImage();if(l){var u={img:l,size:[0,0],tileSize:Sh(l)};hi.put(a,u,r),l.onload=function(){u.size=[l.naturalWidth||l.width,l.naturalHeight||l.height],u.tileSize=Sh(u.img),A(u)},l.onerror=function(f){c(f)},l.crossOrigin="Anonymous",l.src=a}})}},{key:"createDownSampledImage",value:(function(){var n=Ss(gr().mark(function r(i,a){var o,s,A,c,l,u,f,d,h,p,v,y,m,b;return gr().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=1,this.getOrCreateImage(i,a);case 1:if(o=B.sent,!(typeof o.downSamplingRate<"u")){B.next=2;break}return B.abrupt("return",o);case 2:if(s=this.context.config.enableLargeImageOptimization,A=typeof s=="boolean"?{}:s,c=A.maxDownSampledImageSize,l=c===void 0?2048:c,u=A.downSamplingRateThreshold,f=u===void 0?.5:u,d=this.runtime.globalThis.createImageBitmap,h=Xt(o.size,2),p=h[0],v=h[1],y=o.img,m=Math.min((l+l)/(p+v),Math.max(.01,Math.min(f,.5))),b=Vt(Vt({},o),{},{downSamplingRate:m}),hi.update(o.img.src,b,a),!d){B.next=7;break}return B.prev=3,B.next=4,d(o.img,{resizeWidth:p*m,resizeHeight:v*m});case 4:y=B.sent,B.next=6;break;case 5:B.prev=5,B.catch(3),m=1;case 6:B.next=8;break;case 7:m=1;case 8:return b=Vt(Vt({},this.getImageSync(i,a)),{},{downSampled:y,downSamplingRate:m}),hi.update(o.img.src,b,a),B.abrupt("return",b);case 9:case"end":return B.stop()}},r,this,[[3,5]])}));function e(r,i){return n.apply(this,arguments)}return e})()},{key:"createImageTiles",value:(function(){var n=Ss(gr().mark(function r(i,a,o,s){var A,c,l,u,f;return gr().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=1,this.getOrCreateImage(i,s);case 1:return A=d.sent,c=s.ownerDocument.defaultView,l=c.requestAnimationFrame,u=c.cancelAnimationFrame,Qw.api={requestAnimationFrame:l,cancelAnimationFrame:u,createCanvas:function(){return PB.createCanvas()}},f=Vt(Vt({},A),Qw.sliceImage(A.img,A.tileSize[0],A.tileSize[0],o)),hi.update(A.img.src,f,s),d.abrupt("return",f);case 2:case"end":return d.stop()}},r,this)}));function e(r,i,a,o){return n.apply(this,arguments)}return e})()},{key:"releaseImage",value:function(e,r){hi.release(sn(e)?e:e.src,r)}},{key:"releaseImageRef",value:function(e){hi.releaseRef(e)}},{key:"getOrCreatePatternSync",value:function(e,r,i,a,o,s,A){var c=this.generatePatternKey(r);if(c&&this.patternCache[c])return this.patternCache[c];var l=r.image,u=r.repetition,f=r.transform,d,h=!1;if(sn(l)){var p=this.getImageSync(l,e,A);d=p?.img}else a?(d=a,h=!0):d=l;var v=d&&i.createPattern(d,u);if(v){var y;f?y=_Q(yQ(f),new an({})):y=_s(Ne()),h&&hL(y,y,[1/o,1/o,1]),v.setTransform({a:y[0],b:y[1],c:y[4],d:y[5],e:y[12]+s[0],f:y[13]+s[1]})}return c&&v&&(this.patternCache[c]=v),v}},{key:"getOrCreateGradient",value:function(e,r){var i=this.generateGradientKey(e),a=e.type,o=e.steps,s=e.min,A=e.width,c=e.height,l=e.angle,u=e.cx,f=e.cy,d=e.size;if(this.gradientCache[i])return this.gradientCache[i];var h=null;if(a===fs.LinearGradient){var p=CX(s,A,c,l),v=p.x1,y=p.y1,m=p.x2,b=p.y2;h=r.createLinearGradient(v,y,m,b)}else if(a===fs.RadialGradient){var B=OX(s,A,c,u,f,d),x=B.x,C=B.y,O=B.r;h=r.createRadialGradient(x,C,0,x,C,O)}return h&&(o.forEach(function(_){var S=_.offset,F=_.color;if(S.unit===xt.kPercentage){var M;(M=h)===null||M===void 0||M.addColorStop(S.value/100,F.toString())}}),this.gradientCache[i]=h),this.gradientCache[i]}},{key:"generateGradientKey",value:function(e){var r=e.type,i=e.min,a=e.width,o=e.height,s=e.steps,A=e.angle,c=e.cx,l=e.cy,u=e.size;return"gradient-".concat(r,"-").concat(A?.toString()||0,"-").concat(c?.toString()||0,"-").concat(l?.toString()||0,"-").concat(u?.toString()||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(o,"-").concat(s.map(function(f){var d=f.offset,h=f.color;return"".concat(d).concat(h)}).join("-"))}},{key:"generatePatternKey",value:function(e){var r=e.image,i=e.repetition;if(sn(r))return"pattern-".concat(r,"-").concat(i);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(i)}}])})();NB.isSupportTile=!!PB.createCanvas();function Sh(t){if(!t.complete)return[0,0];var n=t.naturalWidth||t.width,e=t.naturalHeight||t.height,r=256;return[256,512].forEach(function(i){var a=Math.ceil(e/i),o=Math.ceil(n/i);a*o<1e3&&(r=i)}),[r,r]}var QQ=(function(){function t(){ut(this,t)}return lt(t,[{key:"apply",value:function(e){var r=e.renderingService,i=e.renderingContext,a=e.imagePool,o=i.root.ownerDocument.defaultView,s=function(u,f,d){var h=u.parsedStyle,p=h.width,v=h.height;p&&!v?u.setAttribute("height",d/f*p):!p&&v&&u.setAttribute("width",f/d*v)},A=function(u){var f=u.target,d=f.nodeName,h=f.attributes;if(d===it.IMAGE){var p=h.src,v=h.keepAspectRatio;a.getImageSync(p,f,function(y){var m=y.img,b=m.width,B=m.height;v&&s(f,b,B),f.dirty(),r.dirty()})}},c=function(u){var f=u.target,d=u.attrName,h=u.prevValue,p=u.newValue;f.nodeName!==it.IMAGE||d!=="src"||(h!==p&&a.releaseImage(h,f),sn(p)&&a.getOrCreateImage(p,f).then(function(v){var y=v.img,m=y.width,b=y.height;f.attributes.keepAspectRatio&&s(f,m,b),f.dirty(),r.dirty()}).catch(function(){}))};r.hooks.init.tap(t.tag,function(){o.addEventListener(me.MOUNTED,A),o.addEventListener(me.ATTR_MODIFIED,c)}),r.hooks.destroy.tap(t.tag,function(){o.removeEventListener(me.MOUNTED,A),o.removeEventListener(me.ATTR_MODIFIED,c)})}}])})();QQ.tag="LoadImage";var dJ=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.name="image-loader",e}return ee(n,t),lt(n,[{key:"init",value:function(r){this.context.imagePool=new NB(this.context,r),this.addRenderingPlugin(new QQ)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(Us),hJ=Object.freeze({__proto__:null,ImagePool:NB,Plugin:dJ}),pJ="g-canvas-camera",UQ=(function(){function t(){ut(this,t),this.displayObjectHTMLElementMap=new WeakMap}return lt(t,[{key:"joinTransformMatrix",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([e[0],e[1],e[4],e[5],e[12]+r[0],e[13]+r[1]].join(","),")")}},{key:"apply",value:function(e,r){var i=this,a=e.camera,o=e.renderingContext,s=e.renderingService;this.context=e;var A=o.root.ownerDocument.defaultView,c=A.context.eventService.nativeHTMLMap,l=function(y,m){m.style.transform=i.joinTransformMatrix(y.getWorldTransform(),y.getOrigin())},u=function(y){var m=y.target;if(m.nodeName===it.HTML){i.$camera||(i.$camera=i.createCamera(a));var b=i.getOrCreateEl(m);i.$camera.appendChild(b),Object.keys(m.attributes).forEach(function(B){i.updateAttribute(B,m)}),l(m,b),c.set(b,m)}},f=function(y){var m=y.target;if(m.nodeName===it.HTML&&i.$camera){var b=i.getOrCreateEl(m);b&&(b.remove(),c.delete(b))}},d=function(y){var m=y.target;if(m.nodeName===it.HTML){var b=y.attrName;i.updateAttribute(b,m)}},h=function(y){for(var m=y.detail,b=0;b<m.length;b++){var B=m[b],x=B.target,C=x.nodeName===it.FRAGMENT?x.childNodes:[x];C.forEach(function(O){if(O.nodeName===it.HTML){var _=i.getOrCreateEl(O);l(O,_)}})}},p=function(){if(i.$camera){var y=i.context.config,m=y.width,b=y.height;i.$camera.parentElement.style.width="".concat(m||0,"px"),i.$camera.parentElement.style.height="".concat(b||0,"px")}};s.hooks.init.tap(t.tag,function(){A.addEventListener(Hi.RESIZE,p),A.addEventListener(me.MOUNTED,u),A.addEventListener(me.UNMOUNTED,f),A.addEventListener(me.ATTR_MODIFIED,d),A.addEventListener(me.BOUNDS_CHANGED,h)}),s.hooks.endFrame.tap(t.tag,function(){i.$camera&&o.renderReasons.has(Wc.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),s.hooks.destroy.tap(t.tag,function(){i.$camera&&i.$camera.remove(),A.removeEventListener(Hi.RESIZE,p),A.removeEventListener(me.MOUNTED,u),A.removeEventListener(me.UNMOUNTED,f),A.removeEventListener(me.ATTR_MODIFIED,d),A.removeEventListener(me.BOUNDS_CHANGED,h)})}},{key:"createCamera",value:function(e){var r=this.context.config,i=r.document,a=r.width,o=r.height,s=this.context.contextService.getDomElement(),A=s.parentNode;if(A){var c=pJ,l=A.querySelector("#".concat(c));if(!l){var u=(i||document).createElement("div");u.style.overflow="hidden",u.style.pointerEvents="none",u.style.position="absolute",u.style.left="0px",u.style.top="0px",u.style.width="".concat(a||0,"px"),u.style.height="".concat(o||0,"px");var f=(i||document).createElement("div");l=f,f.id=c,f.style.position="absolute",f.style.left="".concat(s.offsetLeft||0,"px"),f.style.top="".concat(s.offsetTop||0,"px"),f.style.transformOrigin="left top",f.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),f.style.pointerEvents="none",f.style.width="100%",f.style.height="100%",u.appendChild(f),A.appendChild(u)}return l}return null}},{key:"getOrCreateEl",value:function(e){var r=this.context.config.document,i=this.displayObjectHTMLElementMap.get(e);return i||(i=(r||document).createElement("div"),e.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(e,i),e.id&&(i.id=e.id),e.name&&i.setAttribute("name",e.name),e.className&&(i.className=e.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())),i}},{key:"updateAttribute",value:function(e,r){var i=this.getOrCreateEl(r);switch(e){case"innerHTML":var a=r.parsedStyle.innerHTML;sn(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(r.parsedStyle.x,"px");break;case"y":i.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var o=r.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=r.parsedStyle.width;i.style.width=rn(s)?"".concat(s,"px"):s.toString();break;case"height":var A=r.parsedStyle.height;i.style.height=rn(A)?"".concat(A,"px"):A.toString();break;case"zIndex":var c=r.parsedStyle.zIndex;i.style["z-index"]="".concat(c);break;case"visibility":var l=r.parsedStyle.visibility;i.style.visibility=l;break;case"pointerEvents":var u=r.parsedStyle.pointerEvents,f=u===void 0?"auto":u;i.style.pointerEvents=f;break;case"opacity":var d=r.parsedStyle.opacity;i.style.opacity="".concat(d);break;case"fill":var h=r.parsedStyle.fill,p="";bg(h)?h.isNone?p="transparent":p=r.getAttribute("fill"):Array.isArray(h)?p=r.getAttribute("fill"):LA(h),i.style.background=p;break;case"stroke":var v=r.parsedStyle.stroke,y="";bg(v)?v.isNone?y="transparent":y=r.getAttribute("stroke"):Array.isArray(v)?y=r.getAttribute("stroke"):LA(v),i.style["border-color"]=y,i.style["border-style"]="solid";break;case"lineWidth":var m=r.parsedStyle.lineWidth;i.style["border-width"]="".concat(m||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var b=r.style.filter;i.style.filter=b;break;default:!Rt(r.style[e])&&r.style[e]!==""&&(i.style[e]=r.style[e])}}}])})();UQ.tag="HTMLRendering";var gJ=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.name="html-renderer",e}return ee(n,t),lt(n,[{key:"init",value:function(){this.addRenderingPlugin(new UQ)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(Us),vJ=Object.freeze({__proto__:null,Plugin:gJ}),PQ=(function(){function t(){ut(this,t)}return lt(t,[{key:"apply",value:function(e,r){var i=this,a=e.renderingService,o=e.renderingContext,s=e.config;this.context=e;var A=o.root.ownerDocument.defaultView,c=function(_){a.hooks.pointerMove.call(_)},l=function(_){a.hooks.pointerUp.call(_)},u=function(_){a.hooks.pointerDown.call(_)},f=function(_){a.hooks.pointerOver.call(_)},d=function(_){a.hooks.pointerOut.call(_)},h=function(_){a.hooks.pointerCancel.call(_)},p=function(_){a.hooks.pointerWheel.call(_)},v=function(_){a.hooks.click.call(_)},y=function(_){r.globalThis.document.addEventListener("pointermove",c,!0),_.addEventListener("pointerdown",u,!0),_.addEventListener("pointerleave",d,!0),_.addEventListener("pointerover",f,!0),r.globalThis.addEventListener("pointerup",l,!0),r.globalThis.addEventListener("pointercancel",h,!0)},m=function(_){_.addEventListener("touchstart",u,!0),_.addEventListener("touchend",l,!0),_.addEventListener("touchmove",c,!0),_.addEventListener("touchcancel",h,!0)},b=function(_){r.globalThis.document.addEventListener("mousemove",c,!0),_.addEventListener("mousedown",u,!0),_.addEventListener("mouseout",d,!0),_.addEventListener("mouseover",f,!0),r.globalThis.addEventListener("mouseup",l,!0)},B=function(_){r.globalThis.document.removeEventListener("pointermove",c,!0),_.removeEventListener("pointerdown",u,!0),_.removeEventListener("pointerleave",d,!0),_.removeEventListener("pointerover",f,!0),r.globalThis.removeEventListener("pointerup",l,!0),r.globalThis.removeEventListener("pointercancel",h,!0)},x=function(_){_.removeEventListener("touchstart",u,!0),_.removeEventListener("touchend",l,!0),_.removeEventListener("touchmove",c,!0),_.removeEventListener("touchcancel",h,!0)},C=function(_){r.globalThis.document.removeEventListener("mousemove",c,!0),_.removeEventListener("mousedown",u,!0),_.removeEventListener("mouseout",d,!0),_.removeEventListener("mouseover",f,!0),r.globalThis.removeEventListener("mouseup",l,!0)};a.hooks.init.tap(t.tag,function(){var O=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(O.style.msContentZooming="none",O.style.msTouchAction="none"):A.supportsPointerEvents&&(O.style.touchAction="none"),A.supportsPointerEvents?y(O):b(O),A.supportsTouchEvents&&m(O),s.useNativeClickEvent&&O.addEventListener("click",v,!0),O.addEventListener("wheel",p,{passive:!0,capture:!0})}),a.hooks.destroy.tap(t.tag,function(){var O=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(O.style.msContentZooming="",O.style.msTouchAction=""):A.supportsPointerEvents&&(O.style.touchAction=""),A.supportsPointerEvents?B(O):C(O),A.supportsTouchEvents&&x(O),s.useNativeClickEvent&&O.removeEventListener("click",v,!0),O.removeEventListener("wheel",p,!0)})}}])})();PQ.tag="DOMInteraction";var yJ=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.name="dom-interaction",e}return ee(n,t),lt(n,[{key:"init",value:function(){this.addRenderingPlugin(new PQ)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(Us),mJ=Object.freeze({__proto__:null,Plugin:yJ}),wJ=(function(){function t(){ut(this,t)}return lt(t,[{key:"apply",value:function(e){var r=e.renderingService,i=e.contextService,a=e.config,o=i.getDomElement(),s=function(p){r.hooks.pointerDown.call(p)},A=function(p){r.hooks.pointerUp.call(p)},c=function(p){r.hooks.pointerMove.call(p)},l=function(p){r.hooks.pointerOver.call(p)},u=function(p){r.hooks.pointerOut.call(p)},f=function(p){r.hooks.click.call(p)},d=function(p){r.hooks.pointerCancel.call(p)};r.hooks.init.tap(t.tag,function(){o.addEventListener("touchstart",s,!0),o.addEventListener("touchend",A,!0),o.addEventListener("touchmove",c,!0),o.addEventListener("touchcancel",d,!0),o.addEventListener("mouseout",u,!0),o.addEventListener("mouseover",l,!0),a.useNativeClickEvent&&o.addEventListener("click",f,!0)}),r.hooks.destroy.tap(t.tag,function(){o.removeEventListener("touchstart",s,!0),o.removeEventListener("touchend",A,!0),o.removeEventListener("touchmove",c,!0),o.removeEventListener("touchcancel",d,!0),o.removeEventListener("mouseout",u,!0),o.removeEventListener("mouseover",l,!0),a.useNativeClickEvent&&o.removeEventListener("click",f,!0)})}}])})();wJ.tag="MobileInteraction";var Uw=function(t,n){return Uw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},Uw(t,n)};function xa(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Uw(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function Qi(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,[])).next())})}function pi(t,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return A([c,l])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){e.label=c[1];break}if(c[0]===6&&e.label<a[1]){e.label=a[1],a=c;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(c);break}a[2]&&e.ops.pop(),e.trys.pop();continue}c=n.call(t,e)}catch(l){c=[6,l],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var QA=(function(){function t(n,e,r,i){this.left=n,this.top=e,this.width=r,this.height=i}return t.prototype.add=function(n,e,r,i){return new t(this.left+n,this.top+e,this.width+r,this.height+i)},t.fromClientRect=function(n,e){return new t(e.left+n.windowBounds.left,e.top+n.windowBounds.top,e.width,e.height)},t.fromDOMRectList=function(n,e){var r=Array.from(e).find(function(i){return i.width!==0});return r?new t(r.left+n.windowBounds.left,r.top+n.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),DB=function(t,n){return QA.fromClientRect(t,n.getBoundingClientRect())},z0=function(t){for(var n=[],e=0,r=t.length;e<r;){var i=t.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){var a=t.charCodeAt(e++);(a&64512)===56320?n.push(((i&1023)<<10)+(a&1023)+65536):(n.push(i),e--)}else n.push(i)}return n},Yn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],i=-1,a="";++i<e;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===e||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},xS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fh=0;Fh<xS.length;Fh++)bJ[xS.charCodeAt(Fh)]=Fh;var CS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mh=0;Mh<CS.length;Mh++)bu[CS.charCodeAt(Mh)]=Mh;var BJ=function(t){var n=t.length*.75,e=t.length,r,i=0,a,o,s,A;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(n):new Array(n),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)a=bu[t.charCodeAt(r)],o=bu[t.charCodeAt(r+1)],s=bu[t.charCodeAt(r+2)],A=bu[t.charCodeAt(r+3)],l[i++]=a<<2|o>>4,l[i++]=(o&15)<<4|s>>2,l[i++]=(s&3)<<6|A&63;return c},xJ=function(t){for(var n=t.length,e=[],r=0;r<n;r+=2)e.push(t[r+1]<<8|t[r]);return e},CJ=function(t){for(var n=t.length,e=[],r=0;r<n;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},EA=5,HB=11,Um=2,OJ=HB-EA,RQ=65536>>EA,EJ=1<<EA,Pm=EJ-1,_J=1024>>EA,SJ=RQ+_J,FJ=SJ,MJ=32,kJ=FJ+MJ,TJ=65536>>HB,IJ=1<<OJ,LJ=IJ-1,OS=function(t,n,e){return t.slice?t.slice(n,e):new Uint16Array(Array.prototype.slice.call(t,n,e))},QJ=function(t,n,e){return t.slice?t.slice(n,e):new Uint32Array(Array.prototype.slice.call(t,n,e))},UJ=function(t,n){var e=BJ(t),r=Array.isArray(e)?CJ(e):new Uint32Array(e),i=Array.isArray(e)?xJ(e):new Uint16Array(e),a=24,o=OS(i,a/2,r[4]/2),s=r[5]===2?OS(i,(a+r[4])/2):QJ(r,Math.ceil((a+r[4])/4));return new PJ(r[0],r[1],r[2],r[3],o,s)},PJ=(function(){function t(n,e,r,i,a,o){this.initialValue=n,this.errorValue=e,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(n){var e;if(n>=0){if(n<55296||n>56319&&n<=65535)return e=this.index[n>>EA],e=(e<<Um)+(n&Pm),this.data[e];if(n<=65535)return e=this.index[RQ+(n-55296>>EA)],e=(e<<Um)+(n&Pm),this.data[e];if(n<this.highStart)return e=kJ-TJ+(n>>HB),e=this.index[e],e+=n>>EA&LJ,e=this.index[e],e=(e<<Um)+(n&Pm),this.data[e];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),ES="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kh=0;kh<ES.length;kh++)RJ[ES.charCodeAt(kh)]=kh;var NJ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",_S=50,DJ=1,NQ=2,DQ=3,HJ=4,jJ=5,SS=7,HQ=8,FS=9,ds=10,Pw=11,MS=12,Rw=13,$J=14,Bu=15,Nw=16,Th=17,ou=18,GJ=19,kS=20,Dw=21,su=22,Rm=23,bc=24,gi=25,xu=26,Cu=27,Bc=28,KJ=29,pA=30,zJ=31,Ih=32,Lh=33,Hw=34,jw=35,$w=36,vf=37,Gw=38,jp=39,$p=40,Nm=41,jQ=42,WJ=43,VJ=[9001,65288],$Q="!",Ce="",Qh="",Kw=UJ(NJ),yo=[pA,$w],zw=[DJ,NQ,DQ,jJ],GQ=[ds,HQ],TS=[Cu,xu],YJ=zw.concat(GQ),IS=[Gw,jp,$p,Hw,jw],XJ=[Bu,Rw],qJ=function(t,n){n===void 0&&(n="strict");var e=[],r=[],i=[];return t.forEach(function(a,o){var s=Kw.get(a);if(s>_S?(i.push(!0),s-=_S):i.push(!1),["normal","auto","loose"].indexOf(n)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),e.push(Nw);if(s===HJ||s===Pw){if(o===0)return r.push(o),e.push(pA);var A=e[o-1];return YJ.indexOf(A)===-1?(r.push(r[o-1]),e.push(A)):(r.push(o),e.push(pA))}if(r.push(o),s===zJ)return e.push(n==="strict"?Dw:vf);if(s===jQ||s===KJ)return e.push(pA);if(s===WJ)return a>=131072&&a<=196605||a>=196608&&a<=262141?e.push(vf):e.push(pA);e.push(s)}),[r,e,i]},Dm=function(t,n,e,r){var i=r[e];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=e;a<=r.length;){a++;var o=r[a];if(o===n)return!0;if(o!==ds)break}if(i===ds)for(var a=e;a>0;){a--;var s=r[a];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var A=e;A<=r.length;){A++;var o=r[A];if(o===n)return!0;if(o!==ds)break}if(s!==ds)break}return!1},LS=function(t,n){for(var e=t;e>=0;){var r=n[e];if(r===ds)e--;else return r}return 0},ZJ=function(t,n,e,r,i){if(e[r]===0)return Ce;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return Ce;var o=a-1,s=a+1,A=n[a],c=o>=0?n[o]:0,l=n[s];if(A===NQ&&l===DQ)return Ce;if(zw.indexOf(A)!==-1)return $Q;if(zw.indexOf(l)!==-1||GQ.indexOf(l)!==-1)return Ce;if(LS(a,n)===HQ)return Qh;if(Kw.get(t[a])===Pw||(A===Ih||A===Lh)&&Kw.get(t[s])===Pw||A===SS||l===SS||A===FS||[ds,Rw,Bu].indexOf(A)===-1&&l===FS||[Th,ou,GJ,bc,Bc].indexOf(l)!==-1||LS(a,n)===su||Dm(Rm,su,a,n)||Dm([Th,ou],Dw,a,n)||Dm(MS,MS,a,n))return Ce;if(A===ds)return Qh;if(A===Rm||l===Rm)return Ce;if(l===Nw||A===Nw)return Qh;if([Rw,Bu,Dw].indexOf(l)!==-1||A===$J||c===$w&&XJ.indexOf(A)!==-1||A===Bc&&l===$w||l===kS||yo.indexOf(l)!==-1&&A===gi||yo.indexOf(A)!==-1&&l===gi||A===Cu&&[vf,Ih,Lh].indexOf(l)!==-1||[vf,Ih,Lh].indexOf(A)!==-1&&l===xu||yo.indexOf(A)!==-1&&TS.indexOf(l)!==-1||TS.indexOf(A)!==-1&&yo.indexOf(l)!==-1||[Cu,xu].indexOf(A)!==-1&&(l===gi||[su,Bu].indexOf(l)!==-1&&n[s+1]===gi)||[su,Bu].indexOf(A)!==-1&&l===gi||A===gi&&[gi,Bc,bc].indexOf(l)!==-1)return Ce;if([gi,Bc,bc,Th,ou].indexOf(l)!==-1)for(var u=a;u>=0;){var f=n[u];if(f===gi)return Ce;if([Bc,bc].indexOf(f)!==-1)u--;else break}if([Cu,xu].indexOf(l)!==-1)for(var u=[Th,ou].indexOf(A)!==-1?o:a;u>=0;){var f=n[u];if(f===gi)return Ce;if([Bc,bc].indexOf(f)!==-1)u--;else break}if(Gw===A&&[Gw,jp,Hw,jw].indexOf(l)!==-1||[jp,Hw].indexOf(A)!==-1&&[jp,$p].indexOf(l)!==-1||[$p,jw].indexOf(A)!==-1&&l===$p||IS.indexOf(A)!==-1&&[kS,xu].indexOf(l)!==-1||IS.indexOf(l)!==-1&&A===Cu||yo.indexOf(A)!==-1&&yo.indexOf(l)!==-1||A===bc&&yo.indexOf(l)!==-1||yo.concat(gi).indexOf(A)!==-1&&l===su&&VJ.indexOf(t[s])===-1||yo.concat(gi).indexOf(l)!==-1&&A===ou)return Ce;if(A===Nm&&l===Nm){for(var d=e[a],h=1;d>0&&(d--,n[d]===Nm);)h++;if(h%2!==0)return Ce}return A===Ih&&l===Lh?Ce:Qh},JJ=function(t,n){n||(n={lineBreak:"normal",wordBreak:"normal"});var e=qJ(t,n.lineBreak),r=e[0],i=e[1],a=e[2];(n.wordBreak==="break-all"||n.wordBreak==="break-word")&&(i=i.map(function(s){return[gi,pA,jQ].indexOf(s)!==-1?vf:s}));var o=n.wordBreak==="keep-all"?a.map(function(s,A){return s&&t[A]>=19968&&t[A]<=40959}):void 0;return[r,i,o]},ttt=(function(){function t(n,e,r,i){this.codePoints=n,this.required=e===$Q,this.start=r,this.end=i}return t.prototype.slice=function(){return Yn.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),ett=function(t,n){var e=z0(t),r=JJ(e,n),i=r[0],a=r[1],o=r[2],s=e.length,A=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var l=Ce;c<s&&(l=ZJ(e,a,i,++c,o))===Ce;);if(l!==Ce||c===s){var u=new ttt(e,l,A,c);return A=c,{value:u,done:!1}}return{done:!0,value:null}}}},ntt=1,rtt=2,nd=4,QS=8,Cg=10,US=47,zu=92,itt=9,att=32,Uh=34,Au=61,ott=35,stt=36,Att=37,Ph=39,Rh=40,cu=41,ctt=95,ni=45,ltt=33,utt=60,ftt=62,dtt=64,htt=91,ptt=93,gtt=61,vtt=123,Nh=63,ytt=125,PS=124,mtt=126,wtt=128,RS=65533,Hm=42,yA=43,btt=44,Btt=58,xtt=59,yf=46,Ctt=0,Ott=8,Ett=11,_tt=14,Stt=31,Ftt=127,Fa=-1,KQ=48,zQ=97,WQ=101,Mtt=102,ktt=117,Ttt=122,VQ=65,YQ=69,XQ=70,Itt=85,Ltt=90,Mr=function(t){return t>=KQ&&t<=57},Qtt=function(t){return t>=55296&&t<=57343},xc=function(t){return Mr(t)||t>=VQ&&t<=XQ||t>=zQ&&t<=Mtt},Utt=function(t){return t>=zQ&&t<=Ttt},Ptt=function(t){return t>=VQ&&t<=Ltt},Rtt=function(t){return Utt(t)||Ptt(t)},Ntt=function(t){return t>=wtt},Dh=function(t){return t===Cg||t===itt||t===att},Og=function(t){return Rtt(t)||Ntt(t)||t===ctt},NS=function(t){return Og(t)||Mr(t)||t===ni},Dtt=function(t){return t>=Ctt&&t<=Ott||t===Ett||t>=_tt&&t<=Stt||t===Ftt},as=function(t,n){return t!==zu?!1:n!==Cg},Hh=function(t,n,e){return t===ni?Og(n)||as(n,e):Og(t)?!0:!!(t===zu&&as(t,n))},jm=function(t,n,e){return t===yA||t===ni?Mr(n)?!0:n===yf&&Mr(e):Mr(t===yf?n:t)},Htt=function(t){var n=0,e=1;(t[n]===yA||t[n]===ni)&&(t[n]===ni&&(e=-1),n++);for(var r=[];Mr(t[n]);)r.push(t[n++]);var i=r.length?parseInt(Yn.apply(void 0,r),10):0;t[n]===yf&&n++;for(var a=[];Mr(t[n]);)a.push(t[n++]);var o=a.length,s=o?parseInt(Yn.apply(void 0,a),10):0;(t[n]===YQ||t[n]===WQ)&&n++;var A=1;(t[n]===yA||t[n]===ni)&&(t[n]===ni&&(A=-1),n++);for(var c=[];Mr(t[n]);)c.push(t[n++]);var l=c.length?parseInt(Yn.apply(void 0,c),10):0;return e*(i+s*Math.pow(10,-o))*Math.pow(10,A*l)},jtt={type:2},$tt={type:3},Gtt={type:4},Ktt={type:13},ztt={type:8},Wtt={type:21},Vtt={type:9},Ytt={type:10},Xtt={type:11},qtt={type:12},Ztt={type:14},jh={type:23},Jtt={type:1},tet={type:25},eet={type:24},net={type:26},ret={type:27},iet={type:28},aet={type:29},oet={type:31},Ww={type:32},qQ=(function(){function t(){this._value=[]}return t.prototype.write=function(n){this._value=this._value.concat(z0(n))},t.prototype.read=function(){for(var n=[],e=this.consumeToken();e!==Ww;)n.push(e),e=this.consumeToken();return n},t.prototype.consumeToken=function(){var n=this.consumeCodePoint();switch(n){case Uh:return this.consumeStringToken(Uh);case ott:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(NS(e)||as(r,i)){var a=Hh(e,r,i)?rtt:ntt,o=this.consumeName();return{type:5,value:o,flags:a}}break;case stt:if(this.peekCodePoint(0)===Au)return this.consumeCodePoint(),Ktt;break;case Ph:return this.consumeStringToken(Ph);case Rh:return jtt;case cu:return $tt;case Hm:if(this.peekCodePoint(0)===Au)return this.consumeCodePoint(),Ztt;break;case yA:if(jm(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case btt:return Gtt;case ni:var s=n,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(jm(s,A,c))return this.reconsumeCodePoint(n),this.consumeNumericToken();if(Hh(s,A,c))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();if(A===ni&&c===ftt)return this.consumeCodePoint(),this.consumeCodePoint(),eet;break;case yf:if(jm(n,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(n),this.consumeNumericToken();break;case US:if(this.peekCodePoint(0)===Hm)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Hm&&(l=this.consumeCodePoint(),l===US))return this.consumeToken();if(l===Fa)return this.consumeToken()}break;case Btt:return net;case xtt:return ret;case utt:if(this.peekCodePoint(0)===ltt&&this.peekCodePoint(1)===ni&&this.peekCodePoint(2)===ni)return this.consumeCodePoint(),this.consumeCodePoint(),tet;break;case dtt:var u=this.peekCodePoint(0),f=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Hh(u,f,d)){var o=this.consumeName();return{type:7,value:o}}break;case htt:return iet;case zu:if(as(n,this.peekCodePoint(0)))return this.reconsumeCodePoint(n),this.consumeIdentLikeToken();break;case ptt:return aet;case gtt:if(this.peekCodePoint(0)===Au)return this.consumeCodePoint(),ztt;break;case vtt:return Xtt;case ytt:return qtt;case ktt:case Itt:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h===yA&&(xc(p)||p===Nh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(n),this.consumeIdentLikeToken();case PS:if(this.peekCodePoint(0)===Au)return this.consumeCodePoint(),Vtt;if(this.peekCodePoint(0)===PS)return this.consumeCodePoint(),Wtt;break;case mtt:if(this.peekCodePoint(0)===Au)return this.consumeCodePoint(),Ytt;break;case Fa:return Ww}return Dh(n)?(this.consumeWhiteSpace(),oet):Mr(n)?(this.reconsumeCodePoint(n),this.consumeNumericToken()):Og(n)?(this.reconsumeCodePoint(n),this.consumeIdentLikeToken()):{type:6,value:Yn(n)}},t.prototype.consumeCodePoint=function(){var n=this._value.shift();return typeof n>"u"?-1:n},t.prototype.reconsumeCodePoint=function(n){this._value.unshift(n)},t.prototype.peekCodePoint=function(n){return n>=this._value.length?-1:this._value[n]},t.prototype.consumeUnicodeRangeToken=function(){for(var n=[],e=this.consumeCodePoint();xc(e)&&n.length<6;)n.push(e),e=this.consumeCodePoint();for(var r=!1;e===Nh&&n.length<6;)n.push(e),e=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Yn.apply(void 0,n.map(function(A){return A===Nh?KQ:A})),16),a=parseInt(Yn.apply(void 0,n.map(function(A){return A===Nh?XQ:A})),16);return{type:30,start:i,end:a}}var o=parseInt(Yn.apply(void 0,n),16);if(this.peekCodePoint(0)===ni&&xc(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var s=[];xc(e)&&s.length<6;)s.push(e),e=this.consumeCodePoint();var a=parseInt(Yn.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var n=this.consumeName();return n.toLowerCase()==="url"&&this.peekCodePoint(0)===Rh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Rh?(this.consumeCodePoint(),{type:19,value:n}):{type:20,value:n}},t.prototype.consumeUrlToken=function(){var n=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Fa)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===Ph||e===Uh){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Fa||this.peekCodePoint(0)===cu)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),jh)}for(;;){var i=this.consumeCodePoint();if(i===Fa||i===cu)return{type:22,value:Yn.apply(void 0,n)};if(Dh(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Fa||this.peekCodePoint(0)===cu?(this.consumeCodePoint(),{type:22,value:Yn.apply(void 0,n)}):(this.consumeBadUrlRemnants(),jh);if(i===Uh||i===Ph||i===Rh||Dtt(i))return this.consumeBadUrlRemnants(),jh;if(i===zu)if(as(i,this.peekCodePoint(0)))n.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jh;else n.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Dh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var n=this.consumeCodePoint();if(n===cu||n===Fa)return;as(n,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(n){for(var e=5e4,r="";n>0;){var i=Math.min(e,n);r+=Yn.apply(void 0,this._value.splice(0,i)),n-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(n){var e="",r=0;do{var i=this._value[r];if(i===Fa||i===void 0||i===n)return e+=this.consumeStringSlice(r),{type:0,value:e};if(i===Cg)return this._value.splice(0,r),Jtt;if(i===zu){var a=this._value[r+1];a!==Fa&&a!==void 0&&(a===Cg?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):as(i,a)&&(e+=this.consumeStringSlice(r),e+=Yn(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var n=[],e=nd,r=this.peekCodePoint(0);for((r===yA||r===ni)&&n.push(this.consumeCodePoint());Mr(this.peekCodePoint(0));)n.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===yf&&Mr(i))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),e=QS;Mr(this.peekCodePoint(0));)n.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===YQ||r===WQ)&&((i===yA||i===ni)&&Mr(a)||Mr(i)))for(n.push(this.consumeCodePoint(),this.consumeCodePoint()),e=QS;Mr(this.peekCodePoint(0));)n.push(this.consumeCodePoint());return[Htt(n),e]},t.prototype.consumeNumericToken=function(){var n=this.consumeNumber(),e=n[0],r=n[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Hh(i,a,o)){var s=this.consumeName();return{type:15,number:e,flags:r,unit:s}}return i===Att?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var n=this.consumeCodePoint();if(xc(n)){for(var e=Yn(n);xc(this.peekCodePoint(0))&&e.length<6;)e+=Yn(this.consumeCodePoint());Dh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return r===0||Qtt(r)||r>1114111?RS:r}return n===Fa?RS:n},t.prototype.consumeName=function(){for(var n="";;){var e=this.consumeCodePoint();if(NS(e))n+=Yn(e);else if(as(e,this.peekCodePoint(0)))n+=Yn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),n}},t})(),ZQ=(function(){function t(n){this._tokens=n}return t.create=function(n){var e=new qQ;return e.write(n),new t(e.read())},t.parseValue=function(n){return t.create(n).parseComponentValue()},t.parseValues=function(n){return t.create(n).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var n=this.consumeToken();n.type===31;)n=this.consumeToken();if(n.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(n);var e=this.consumeComponentValue();do n=this.consumeToken();while(n.type===31);if(n.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var n=[];;){var e=this.consumeComponentValue();if(e.type===32)return n;n.push(e),n.push()}},t.prototype.consumeComponentValue=function(){var n=this.consumeToken();switch(n.type){case 11:case 28:case 2:return this.consumeSimpleBlock(n.type);case 19:return this.consumeFunction(n)}return n},t.prototype.consumeSimpleBlock=function(n){for(var e={type:n,values:[]},r=this.consumeToken();;){if(r.type===32||set(r,n))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(n){for(var e={name:n.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var n=this._tokens.shift();return typeof n>"u"?Ww:n},t.prototype.reconsumeToken=function(n){this._tokens.unshift(n)},t})(),rd=function(t){return t.type===15},W0=function(t){return t.type===17},Dn=function(t){return t.type===20},Vw=function(t,n){return Dn(t)&&t.value===n},V0=function(t){return t.type!==31&&t.type!==4},ao=function(t){var n=[],e=[];return t.forEach(function(r){if(r.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");n.push(e),e=[];return}r.type!==31&&e.push(r)}),e.length&&n.push(e),n},set=function(t,n){return n===11&&t.type===12||n===28&&t.type===29?!0:n===2&&t.type===3},Fs=function(t){return t.type===17||t.type===15},ar=function(t){return t.type===16||Fs(t)},JQ=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},br={type:17,number:0,flags:nd},jB={type:16,number:50,flags:nd},hs={type:16,number:100,flags:nd},Ou=function(t,n,e){var r=t[0],i=t[1];return[fn(r,n),fn(typeof i<"u"?i:r,e)]},fn=function(t,n){if(t.type===16)return t.number/100*n;if(rd(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},tU="deg",eU="grad",nU="rad",rU="turn",Y0={name:"angle",parse:function(t,n){if(n.type===15)switch(n.unit){case tU:return Math.PI*n.number/180;case eU:return Math.PI/200*n.number;case nU:return n.number;case rU:return Math.PI*2*n.number}throw new Error("Unsupported angle type")}},iU=function(t){return t.type===15&&(t.unit===tU||t.unit===eU||t.unit===nU||t.unit===rU)},aU=function(t){var n=t.filter(Dn).map(function(e){return e.value}).join(" ");switch(n){case"to bottom right":case"to right bottom":case"left top":case"top left":return[br,br];case"to top":case"bottom":return Gi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[br,hs];case"to right":case"left":return Gi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[hs,hs];case"to bottom":case"top":return Gi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[hs,br];case"to left":case"right":return Gi(270)}return 0},Gi=function(t){return Math.PI*t/180},Cs={name:"color",parse:function(t,n){if(n.type===18){var e=Aet[n.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+n.name+'"');return e(t,n.values)}if(n.type===5){if(n.value.length===3){var r=n.value.substring(0,1),i=n.value.substring(1,2),a=n.value.substring(2,3);return ps(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(n.value.length===4){var r=n.value.substring(0,1),i=n.value.substring(1,2),a=n.value.substring(2,3),o=n.value.substring(3,4);return ps(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(n.value.length===6){var r=n.value.substring(0,2),i=n.value.substring(2,4),a=n.value.substring(4,6);return ps(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(n.value.length===8){var r=n.value.substring(0,2),i=n.value.substring(2,4),a=n.value.substring(4,6),o=n.value.substring(6,8);return ps(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(n.type===20){var s=mf[n.value.toUpperCase()];if(typeof s<"u")return s}return mf.TRANSPARENT}},Vc=function(t){return(255&t)===0},pr=function(t){var n=255&t,e=255&t>>8,r=255&t>>16,i=255&t>>24;return n<255?"rgba("+i+","+r+","+e+","+n/255+")":"rgb("+i+","+r+","+e+")"},ps=function(t,n,e,r){return(t<<24|n<<16|e<<8|Math.round(r*255)<<0)>>>0},DS=function(t,n){if(t.type===17)return t.number;if(t.type===16){var e=n===3?1:255;return n===3?t.number/100*e:Math.round(t.number/100*e)}return 0},HS=function(t,n){var e=n.filter(V0);if(e.length===3){var r=e.map(DS),i=r[0],a=r[1],o=r[2];return ps(i,a,o,1)}if(e.length===4){var s=e.map(DS),i=s[0],a=s[1],o=s[2],A=s[3];return ps(i,a,o,A)}return 0};function $m(t,n,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(n-t)*e*6+t:e<1/2?n:e<2/3?(n-t)*6*(2/3-e)+t:t}var jS=function(t,n){var e=n.filter(V0),r=e[0],i=e[1],a=e[2],o=e[3],s=(r.type===17?Gi(r.number):Y0.parse(t,r))/(Math.PI*2),A=ar(i)?i.number/100:0,c=ar(a)?a.number/100:0,l=typeof o<"u"&&ar(o)?fn(o,1):1;if(A===0)return ps(c*255,c*255,c*255,1);var u=c<=.5?c*(A+1):c+A-c*A,f=c*2-u,d=$m(f,u,s+1/3),h=$m(f,u,s),p=$m(f,u,s-1/3);return ps(d*255,h*255,p*255,l)},Aet={hsl:jS,hsla:jS,rgb:HS,rgba:HS},$S=function(t,n){return Cs.parse(t,ZQ.create(n).parseComponentValue())},mf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cet={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,n){return n.map(function(e){if(Dn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uet={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},X0=function(t,n){var e=Cs.parse(t,n[0]),r=n[1];return r&&ar(r)?{color:e,stop:r}:{color:e,stop:null}},GS=function(t,n){var e=t[0],r=t[t.length-1];e.stop===null&&(e.stop=br),r.stop===null&&(r.stop=hs);for(var i=[],a=0,o=0;o<t.length;o++){var s=t[o].stop;if(s!==null){var A=fn(s,n);A>a?i.push(A):i.push(a),a=A}else i.push(null)}for(var c=null,o=0;o<i.length;o++){var l=i[o];if(l===null)c===null&&(c=o);else if(c!==null){for(var u=o-c,f=i[c-1],d=(l-f)/(u+1),h=1;h<=u;h++)i[c+h-1]=d*h;c=null}}return t.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/n),0)}})},fet=function(t,n,e){var r=n/2,i=e/2,a=fn(t[0],n)-r,o=i-fn(t[1],e);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},det=function(t,n,e){var r=typeof t=="number"?t:fet(t,n,e),i=Math.abs(n*Math.sin(r))+Math.abs(e*Math.cos(r)),a=n/2,o=e/2,s=i/2,A=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,a-c,a+c,o-A,o+A]},fa=function(t,n){return Math.sqrt(t*t+n*n)},KS=function(t,n,e,r,i){var a=[[0,0],[0,n],[t,0],[t,n]];return a.reduce(function(o,s){var A=s[0],c=s[1],l=fa(e-A,r-c);return(i?l<o.optimumDistance:l>o.optimumDistance)?{optimumCorner:s,optimumDistance:l}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},het=function(t,n,e,r,i){var a=0,o=0;switch(t.size){case 0:t.shape===0?a=o=Math.min(Math.abs(n),Math.abs(n-r),Math.abs(e),Math.abs(e-i)):t.shape===1&&(a=Math.min(Math.abs(n),Math.abs(n-r)),o=Math.min(Math.abs(e),Math.abs(e-i)));break;case 2:if(t.shape===0)a=o=Math.min(fa(n,e),fa(n,e-i),fa(n-r,e),fa(n-r,e-i));else if(t.shape===1){var s=Math.min(Math.abs(e),Math.abs(e-i))/Math.min(Math.abs(n),Math.abs(n-r)),A=KS(r,i,n,e,!0),c=A[0],l=A[1];a=fa(c-n,(l-e)/s),o=s*a}break;case 1:t.shape===0?a=o=Math.max(Math.abs(n),Math.abs(n-r),Math.abs(e),Math.abs(e-i)):t.shape===1&&(a=Math.max(Math.abs(n),Math.abs(n-r)),o=Math.max(Math.abs(e),Math.abs(e-i)));break;case 3:if(t.shape===0)a=o=Math.max(fa(n,e),fa(n,e-i),fa(n-r,e),fa(n-r,e-i));else if(t.shape===1){var s=Math.max(Math.abs(e),Math.abs(e-i))/Math.max(Math.abs(n),Math.abs(n-r)),u=KS(r,i,n,e,!1),c=u[0],l=u[1];a=fa(c-n,(l-e)/s),o=s*a}break}return Array.isArray(t.size)&&(a=fn(t.size[0],r),o=t.size.length===2?fn(t.size[1],i):a),[a,o]},pet=function(t,n){var e=Gi(180),r=[];return ao(n).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){e=aU(i);return}else if(iU(o)){e=Y0.parse(t,o);return}}var s=X0(t,i);r.push(s)}),{angle:e,stops:r,type:1}},$h=function(t,n){var e=Gi(180),r=[];return ao(n).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){e=aU(i);return}else if(iU(o)){e=(Y0.parse(t,o)+Gi(270))%Gi(360);return}}var s=X0(t,i);r.push(s)}),{angle:e,stops:r,type:1}},get=function(t,n){var e=Gi(180),r=[],i=1,a=0,o=3,s=[];return ao(n).forEach(function(A,c){var l=A[0];if(c===0){if(Dn(l)&&l.value==="linear"){i=1;return}else if(Dn(l)&&l.value==="radial"){i=2;return}}if(l.type===18){if(l.name==="from"){var u=Cs.parse(t,l.values[0]);r.push({stop:br,color:u})}else if(l.name==="to"){var u=Cs.parse(t,l.values[0]);r.push({stop:hs,color:u})}else if(l.name==="color-stop"){var f=l.values.filter(V0);if(f.length===2){var u=Cs.parse(t,f[1]),d=f[0];W0(d)&&r.push({stop:{type:16,number:d.number*100,flags:d.flags},color:u})}}}}),i===1?{angle:(e+Gi(180))%Gi(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:s,type:i}},oU="closest-side",sU="farthest-side",AU="closest-corner",cU="farthest-corner",lU="circle",uU="ellipse",fU="cover",dU="contain",vet=function(t,n){var e=0,r=3,i=[],a=[];return ao(n).forEach(function(o,s){var A=!0;if(s===0){var c=!1;A=o.reduce(function(u,f){if(c)if(Dn(f))switch(f.value){case"center":return a.push(jB),u;case"top":case"left":return a.push(br),u;case"right":case"bottom":return a.push(hs),u}else(ar(f)||Fs(f))&&a.push(f);else if(Dn(f))switch(f.value){case lU:return e=0,!1;case uU:return e=1,!1;case"at":return c=!0,!1;case oU:return r=0,!1;case fU:case sU:return r=1,!1;case dU:case AU:return r=2,!1;case cU:return r=3,!1}else if(Fs(f)||ar(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},A)}if(A){var l=X0(t,o);i.push(l)}}),{size:r,shape:e,stops:i,position:a,type:2}},Gh=function(t,n){var e=0,r=3,i=[],a=[];return ao(n).forEach(function(o,s){var A=!0;if(s===0?A=o.reduce(function(l,u){if(Dn(u))switch(u.value){case"center":return a.push(jB),!1;case"top":case"left":return a.push(br),!1;case"right":case"bottom":return a.push(hs),!1}else if(ar(u)||Fs(u))return a.push(u),!1;return l},A):s===1&&(A=o.reduce(function(l,u){if(Dn(u))switch(u.value){case lU:return e=0,!1;case uU:return e=1,!1;case dU:case oU:return r=0,!1;case sU:return r=1,!1;case AU:return r=2,!1;case fU:case cU:return r=3,!1}else if(Fs(u)||ar(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return l},A)),A){var c=X0(t,o);i.push(c)}}),{size:r,shape:e,stops:i,position:a,type:2}},yet=function(t){return t.type===1},met=function(t){return t.type===2},$B={name:"image",parse:function(t,n){if(n.type===22){var e={url:n.value,type:0};return t.cache.addImage(n.value),e}if(n.type===18){var r=hU[n.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+n.name+'"');return r(t,n.values)}throw new Error("Unsupported image type "+n.type)}};function wet(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!hU[t.name])}var hU={"linear-gradient":pet,"-moz-linear-gradient":$h,"-ms-linear-gradient":$h,"-o-linear-gradient":$h,"-webkit-linear-gradient":$h,"radial-gradient":vet,"-moz-radial-gradient":Gh,"-ms-radial-gradient":Gh,"-o-radial-gradient":Gh,"-webkit-radial-gradient":Gh,"-webkit-gradient":get},bet={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,n){if(n.length===0)return[];var e=n[0];return e.type===20&&e.value==="none"?[]:n.filter(function(r){return V0(r)&&wet(r)}).map(function(r){return $B.parse(t,r)})}},Bet={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,n){return n.map(function(e){if(Dn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xet={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,n){return ao(n).map(function(e){return e.filter(ar)}).map(JQ)}},Cet={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,n){return ao(n).map(function(e){return e.filter(Dn).map(function(r){return r.value}).join(" ")}).map(Oet)}},Oet=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Yc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Yc||(Yc={}));var Eet={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,n){return ao(n).map(function(e){return e.filter(_et)})}},_et=function(t){return Dn(t)||ar(t)},q0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Fet=q0("top"),Met=q0("right"),ket=q0("bottom"),Tet=q0("left"),Z0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(n,e){return JQ(e.filter(ar))}}},Iet=Z0("top-left"),Let=Z0("top-right"),Qet=Z0("bottom-right"),Uet=Z0("bottom-left"),J0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(n,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Pet=J0("top"),Ret=J0("right"),Net=J0("bottom"),Det=J0("left"),tv=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return rd(e)?e.number:0}}},Het=tv("top"),jet=tv("right"),$et=tv("bottom"),Get=tv("left"),Ket={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zet={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,n){return n==="rtl"?1:0}},Wet={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,n){return n.filter(Dn).reduce(function(e,r){return e|Vet(r.value)},0)}},Vet=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yet={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Xet={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,n){return n.type===20&&n.value==="normal"?0:n.type===17||n.type===15?n.number:0}},Eg;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Eg||(Eg={}));var qet={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){return n==="strict"?Eg.STRICT:Eg.NORMAL}},Zet={name:"line-height",initialValue:"normal",prefix:!1,type:4},zS=function(t,n){return Dn(t)&&t.value==="normal"?1.2*n:t.type===17?n*t.number:ar(t)?fn(t,n):n},Jet={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,n){return n.type===20&&n.value==="none"?null:$B.parse(t,n)}},tnt={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,n){return n==="inside"?0:1}},ent={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ev=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},nnt=ev("top"),rnt=ev("right"),int=ev("bottom"),ant=ev("left"),ont={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,n){return n.filter(Dn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},snt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){return n==="break-word"?"break-word":"normal"}},nv=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ant=nv("top"),cnt=nv("right"),lnt=nv("bottom"),unt=nv("left"),fnt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,n){switch(n){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},dnt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,n){switch(n){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},hnt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.length===1&&Vw(n[0],"none")?[]:ao(n).map(function(e){for(var r={color:mf.TRANSPARENT,offsetX:br,offsetY:br,blur:br},i=0,a=0;a<e.length;a++){var o=e[a];Fs(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Cs.parse(t,o)}return r})}},pnt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gnt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,n){if(n.type===20&&n.value==="none")return null;if(n.type===18){var e=mnt[n.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+n.name+'"');return e(n.values)}return null}},vnt=function(t){var n=t.filter(function(e){return e.type===17}).map(function(e){return e.number});return n.length===6?n:null},ynt=function(t){var n=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),e=n[0],r=n[1];n[2],n[3];var i=n[4],a=n[5];n[6],n[7],n[8],n[9],n[10],n[11];var o=n[12],s=n[13];return n[14],n[15],n.length===16?[e,r,i,a,o,s]:null},mnt={matrix:vnt,matrix3d:ynt},WS={type:16,number:50,flags:nd},wnt=[WS,WS],bnt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,n){var e=n.filter(ar);return e.length!==2?wnt:[e[0],e[1]]}},Bnt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,n){switch(n){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Wu;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Wu||(Wu={}));var xnt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"break-all":return Wu.BREAK_ALL;case"keep-all":return Wu.KEEP_ALL;default:return Wu.NORMAL}}},Cnt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,n){if(n.type===20)return{auto:!0,order:0};if(W0(n))return{auto:!1,order:n.number};throw new Error("Invalid z-index number parsed")}},pU={name:"time",parse:function(t,n){if(n.type===15)switch(n.unit.toLowerCase()){case"s":return 1e3*n.number;case"ms":return n.number}throw new Error("Unsupported time type")}},Ont={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,n){return W0(n)?n.number:1}},Ent={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_nt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,n){return n.filter(Dn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},Snt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,n){var e=[],r=[];return n.forEach(function(i){switch(i.type){case 20:case 0:e.push(i.value);break;case 17:e.push(i.number.toString());break;case 4:r.push(e.join(" ")),e.length=0;break}}),e.length&&r.push(e.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Fnt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Mnt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,n){return W0(n)?n.number:Dn(n)&&n.value==="bold"?700:400}},knt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.filter(Dn).map(function(e){return e.value})}},Tnt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,n){switch(n){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},lr=function(t,n){return(t&n)!==0},Int={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,n){return n.filter(rd).map(function(e){return pU.parse(t,e)})}},Lnt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,n){return n.length===1&&Vw(n[0],"none")?[]:ao(n).map(function(e){for(var r={color:255,offsetX:br,offsetY:br,blur:br,spread:br,inset:!1},i=0,a=0;a<e.length;a++){var o=e[a];Vw(o,"inset")?r.inset=!0:Fs(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Cs.parse(t,o)}return r})}},Qnt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,n){var e=[0,1,2],r=[];return n.filter(Dn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),e.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Unt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Pnt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return rd(n)?n.number:0}},Rnt=(function(){function t(n,e){var r,i;this.animationDuration=Qt(n,Int,e.animationDuration),this.backgroundClip=Qt(n,cet,e.backgroundClip),this.backgroundColor=Qt(n,uet,e.backgroundColor),this.backgroundImage=Qt(n,bet,e.backgroundImage),this.backgroundOrigin=Qt(n,Bet,e.backgroundOrigin),this.backgroundPosition=Qt(n,xet,e.backgroundPosition),this.backgroundRepeat=Qt(n,Cet,e.backgroundRepeat),this.backgroundSize=Qt(n,Eet,e.backgroundSize),this.borderTopColor=Qt(n,Fet,e.borderTopColor),this.borderRightColor=Qt(n,Met,e.borderRightColor),this.borderBottomColor=Qt(n,ket,e.borderBottomColor),this.borderLeftColor=Qt(n,Tet,e.borderLeftColor),this.borderTopLeftRadius=Qt(n,Iet,e.borderTopLeftRadius),this.borderTopRightRadius=Qt(n,Let,e.borderTopRightRadius),this.borderBottomRightRadius=Qt(n,Qet,e.borderBottomRightRadius),this.borderBottomLeftRadius=Qt(n,Uet,e.borderBottomLeftRadius),this.borderTopStyle=Qt(n,Pet,e.borderTopStyle),this.borderRightStyle=Qt(n,Ret,e.borderRightStyle),this.borderBottomStyle=Qt(n,Net,e.borderBottomStyle),this.borderLeftStyle=Qt(n,Det,e.borderLeftStyle),this.borderTopWidth=Qt(n,Het,e.borderTopWidth),this.borderRightWidth=Qt(n,jet,e.borderRightWidth),this.borderBottomWidth=Qt(n,$et,e.borderBottomWidth),this.borderLeftWidth=Qt(n,Get,e.borderLeftWidth),this.boxShadow=Qt(n,Lnt,e.boxShadow),this.color=Qt(n,Ket,e.color),this.direction=Qt(n,zet,e.direction),this.display=Qt(n,Wet,e.display),this.float=Qt(n,Yet,e.cssFloat),this.fontFamily=Qt(n,Snt,e.fontFamily),this.fontSize=Qt(n,Fnt,e.fontSize),this.fontStyle=Qt(n,Tnt,e.fontStyle),this.fontVariant=Qt(n,knt,e.fontVariant),this.fontWeight=Qt(n,Mnt,e.fontWeight),this.letterSpacing=Qt(n,Xet,e.letterSpacing),this.lineBreak=Qt(n,qet,e.lineBreak),this.lineHeight=Qt(n,Zet,e.lineHeight),this.listStyleImage=Qt(n,Jet,e.listStyleImage),this.listStylePosition=Qt(n,tnt,e.listStylePosition),this.listStyleType=Qt(n,ent,e.listStyleType),this.marginTop=Qt(n,nnt,e.marginTop),this.marginRight=Qt(n,rnt,e.marginRight),this.marginBottom=Qt(n,int,e.marginBottom),this.marginLeft=Qt(n,ant,e.marginLeft),this.opacity=Qt(n,Ont,e.opacity);var a=Qt(n,ont,e.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Qt(n,snt,e.overflowWrap),this.paddingTop=Qt(n,Ant,e.paddingTop),this.paddingRight=Qt(n,cnt,e.paddingRight),this.paddingBottom=Qt(n,lnt,e.paddingBottom),this.paddingLeft=Qt(n,unt,e.paddingLeft),this.paintOrder=Qt(n,Qnt,e.paintOrder),this.position=Qt(n,dnt,e.position),this.textAlign=Qt(n,fnt,e.textAlign),this.textDecorationColor=Qt(n,Ent,(r=e.textDecorationColor)!==null&&r!==void 0?r:e.color),this.textDecorationLine=Qt(n,_nt,(i=e.textDecorationLine)!==null&&i!==void 0?i:e.textDecoration),this.textShadow=Qt(n,hnt,e.textShadow),this.textTransform=Qt(n,pnt,e.textTransform),this.transform=Qt(n,gnt,e.transform),this.transformOrigin=Qt(n,bnt,e.transformOrigin),this.visibility=Qt(n,Bnt,e.visibility),this.webkitTextStrokeColor=Qt(n,Unt,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=Qt(n,Pnt,e.webkitTextStrokeWidth),this.wordBreak=Qt(n,xnt,e.wordBreak),this.zIndex=Qt(n,Cnt,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Vc(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return lr(this.display,4)||lr(this.display,33554432)||lr(this.display,268435456)||lr(this.display,536870912)||lr(this.display,67108864)||lr(this.display,134217728)},t})(),Qt=function(t,n,e){var r=new qQ,i=e!==null&&typeof e<"u"?e.toString():n.initialValue;r.write(i);var a=new ZQ(r.read());switch(n.type){case 2:var o=a.parseComponentValue();return n.parse(t,Dn(o)?o.value:n.initialValue);case 0:return n.parse(t,a.parseComponentValue());case 1:return n.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(n.format){case"angle":return Y0.parse(t,a.parseComponentValue());case"color":return Cs.parse(t,a.parseComponentValue());case"image":return $B.parse(t,a.parseComponentValue());case"length":var s=a.parseComponentValue();return Fs(s)?s:br;case"length-percentage":var A=a.parseComponentValue();return ar(A)?A:br;case"time":return pU.parse(t,a.parseComponentValue())}break}},Nnt="data-html2canvas-debug",Dnt=function(t){var n=t.getAttribute(Nnt);switch(n){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},VS=function(t,n){var e=Dnt(t);return e===1||n===e},oo=(function(){function t(n,e){if(this.context=n,this.textNodes=[],this.elements=[],this.flags=0,VS(e,3))debugger;this.styles=new Rnt(n,window.getComputedStyle(e,null)),Drt(e)&&(this.styles.animationDuration.some(function(r){return r>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=DB(this.context,e),VS(e,4)&&(this.flags|=16)}return t})(),Hnt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",YS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kh=0;Kh<YS.length;Kh++)Eu[YS.charCodeAt(Kh)]=Kh;var jnt=function(t){var n=t.length*.75,e=t.length,r,i=0,a,o,s,A;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(n):new Array(n),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)a=Eu[t.charCodeAt(r)],o=Eu[t.charCodeAt(r+1)],s=Eu[t.charCodeAt(r+2)],A=Eu[t.charCodeAt(r+3)],l[i++]=a<<2|o>>4,l[i++]=(o&15)<<4|s>>2,l[i++]=(s&3)<<6|A&63;return c},$nt=function(t){for(var n=t.length,e=[],r=0;r<n;r+=2)e.push(t[r+1]<<8|t[r]);return e},Gnt=function(t){for(var n=t.length,e=[],r=0;r<n;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},_A=5,GB=11,Gm=2,Knt=GB-_A,gU=65536>>_A,znt=1<<_A,Km=znt-1,Wnt=1024>>_A,Vnt=gU+Wnt,Ynt=Vnt,Xnt=32,qnt=Ynt+Xnt,Znt=65536>>GB,Jnt=1<<Knt,trt=Jnt-1,XS=function(t,n,e){return t.slice?t.slice(n,e):new Uint16Array(Array.prototype.slice.call(t,n,e))},ert=function(t,n,e){return t.slice?t.slice(n,e):new Uint32Array(Array.prototype.slice.call(t,n,e))},nrt=function(t,n){var e=jnt(t),r=Array.isArray(e)?Gnt(e):new Uint32Array(e),i=Array.isArray(e)?$nt(e):new Uint16Array(e),a=24,o=XS(i,a/2,r[4]/2),s=r[5]===2?XS(i,(a+r[4])/2):ert(r,Math.ceil((a+r[4])/4));return new rrt(r[0],r[1],r[2],r[3],o,s)},rrt=(function(){function t(n,e,r,i,a,o){this.initialValue=n,this.errorValue=e,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(n){var e;if(n>=0){if(n<55296||n>56319&&n<=65535)return e=this.index[n>>_A],e=(e<<Gm)+(n&Km),this.data[e];if(n<=65535)return e=this.index[gU+(n-55296>>_A)],e=(e<<Gm)+(n&Km),this.data[e];if(n<this.highStart)return e=qnt-Znt+(n>>GB),e=this.index[e],e+=n>>_A&trt,e=this.index[e],e=(e<<Gm)+(n&Km),this.data[e];if(n<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),qS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",irt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zh=0;zh<qS.length;zh++)irt[qS.charCodeAt(zh)]=zh;var art=1,zm=2,Wm=3,ZS=4,JS=5,ort=7,tF=8,Vm=9,Ym=10,eF=11,nF=12,rF=13,iF=14,Xm=15,srt=function(t){for(var n=[],e=0,r=t.length;e<r;){var i=t.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){var a=t.charCodeAt(e++);(a&64512)===56320?n.push(((i&1023)<<10)+(a&1023)+65536):(n.push(i),e--)}else n.push(i)}return n},Art=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],i=-1,a="";++i<e;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===e||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},crt=nrt(Hnt),Pi="",qm="",lrt=function(t){return crt.get(t)},urt=function(t,n,e){var r=e-2,i=n[r],a=n[e-1],o=n[e];if(a===zm&&o===Wm)return Pi;if(a===zm||a===Wm||a===ZS||o===zm||o===Wm||o===ZS)return qm;if(a===tF&&[tF,Vm,eF,nF].indexOf(o)!==-1||(a===eF||a===Vm)&&(o===Vm||o===Ym)||(a===nF||a===Ym)&&o===Ym||o===rF||o===JS||o===ort||a===art)return Pi;if(a===rF&&o===iF){for(;i===JS;)i=n[--r];if(i===iF)return Pi}if(a===Xm&&o===Xm){for(var s=0;i===Xm;)s++,i=n[--r];if(s%2===0)return Pi}return qm},frt=function(t){var n=srt(t),e=n.length,r=0,i=0,a=n.map(lrt);return{next:function(){if(r>=e)return{done:!0,value:null};for(var o=Pi;r<e&&(o=urt(n,a,++r))===Pi;);if(o!==Pi||r===e){var s=Art.apply(null,n.slice(i,r));return i=r,{value:s,done:!1}}return{done:!0,value:null}}}},drt=function(t){for(var n=frt(t),e=[],r;!(r=n.next()).done;)r.value&&e.push(r.value.slice());return e},hrt=function(t){var n=123;if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=n+"px",r.style.display="block",t.body.appendChild(r),e.selectNode(r);var i=e.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(r),a===n)return!0}}return!1},prt=function(t){var n=t.createElement("boundtest");n.style.width="50px",n.style.display="block",n.style.fontSize="12px",n.style.letterSpacing="0px",n.style.wordSpacing="0px",t.body.appendChild(n);var e=t.createRange();n.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=n.firstChild,i=z0(r.data).map(function(A){return Yn(A)}),a=0,o={},s=i.every(function(A,c){e.setStart(r,a),e.setEnd(r,a+A.length);var l=e.getBoundingClientRect();a+=A.length;var u=l.x>o.x||l.y>o.y;return o=l,c===0?!0:u});return t.body.removeChild(n),s},grt=function(){return typeof new Image().crossOrigin<"u"},vrt=function(){return typeof new XMLHttpRequest().responseType=="string"},yrt=function(t){var n=new Image,e=t.createElement("canvas"),r=e.getContext("2d");if(!r)return!1;n.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(n,0,0),e.toDataURL()}catch{return!1}return!0},aF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},mrt=function(t){var n=t.createElement("canvas"),e=100;n.width=e,n.height=e;var r=n.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,e,e);var i=new Image,a=n.toDataURL();i.src=a;var o=Yw(e,e,0,0,i);return r.fillStyle="red",r.fillRect(0,0,e,e),oF(o).then(function(s){r.drawImage(s,0,0);var A=r.getImageData(0,0,e,e).data;r.fillStyle="red",r.fillRect(0,0,e,e);var c=t.createElement("div");return c.style.backgroundImage="url("+a+")",c.style.height=e+"px",aF(A)?oF(Yw(e,e,0,0,c)):Promise.reject(!1)}).then(function(s){return r.drawImage(s,0,0),aF(r.getImageData(0,0,e,e).data)}).catch(function(){return!1})},Yw=function(t,n,e,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},oF=function(t){return new Promise(function(n,e){var r=new Image;r.onload=function(){return n(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},yi={get SUPPORT_RANGE_BOUNDS(){var t=hrt(document);return Object.defineProperty(yi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=yi.SUPPORT_RANGE_BOUNDS&&prt(document);return Object.defineProperty(yi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=yrt(document);return Object.defineProperty(yi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?mrt(document):Promise.resolve(!1);return Object.defineProperty(yi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=grt();return Object.defineProperty(yi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=vrt();return Object.defineProperty(yi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(yi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(yi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Vu=(function(){function t(n,e){this.text=n,this.bounds=e}return t})(),wrt=function(t,n,e,r){var i=xrt(n,e),a=[],o=0;return i.forEach(function(s){if(e.textDecorationLine.length||s.trim().length>0)if(yi.SUPPORT_RANGE_BOUNDS){var A=sF(r,o,s.length).getClientRects();if(A.length>1){var c=KB(s),l=0;c.forEach(function(f){a.push(new Vu(f,QA.fromDOMRectList(t,sF(r,l+o,f.length).getClientRects()))),l+=f.length})}else a.push(new Vu(s,QA.fromDOMRectList(t,A)))}else{var u=r.splitText(s.length);a.push(new Vu(s,brt(t,r))),r=u}else yi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(s.length));o+=s.length}),a},brt=function(t,n){var e=n.ownerDocument;if(e){var r=e.createElement("html2canvaswrapper");r.appendChild(n.cloneNode(!0));var i=n.parentNode;if(i){i.replaceChild(r,n);var a=DB(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return QA.EMPTY},sF=function(t,n,e){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,n),i.setEnd(t,n+e),i},KB=function(t){if(yi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(n.segment(t)).map(function(e){return e.segment})}return drt(t)},Brt=function(t,n){if(yi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Ort(t,n)},xrt=function(t,n){return n.letterSpacing!==0?KB(t):Brt(t,n)},Crt=[32,160,4961,65792,65793,4153,4241],Ort=function(t,n){for(var e=ett(t,{lineBreak:n.lineBreak,wordBreak:n.overflowWrap==="break-word"?"break-word":n.wordBreak}),r=[],i,a=function(){if(i.value){var o=i.value.slice(),s=z0(o),A="";s.forEach(function(c){Crt.indexOf(c)===-1?A+=Yn(c):(A.length&&r.push(A),r.push(Yn(c)),A="")}),A.length&&r.push(A)}};!(i=e.next()).done;)a();return r},Ert=(function(){function t(n,e,r){this.text=_rt(e.data,r.textTransform),this.textBounds=wrt(n,this.text,r,e)}return t})(),_rt=function(t,n){switch(n){case 1:return t.toLowerCase();case 3:return t.replace(Srt,Frt);case 2:return t.toUpperCase();default:return t}},Srt=/(^|\s|:|-|\(|\))([a-z])/g,Frt=function(t,n,e){return t.length>0?n+e.toUpperCase():t},vU=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return n})(oo),yU=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return n})(oo),mU=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this,a=new XMLSerializer,o=DB(e,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return n})(oo),wU=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.value=r.value,i}return n})(oo),Xw=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return n})(oo),Mrt=[{type:15,flags:0,unit:"px",number:3}],krt=[{type:16,flags:0,number:50}],Trt=function(t){return t.width>t.height?new QA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new QA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Irt=function(t){var n=t.type===Lrt?new Array(t.value.length+1).join(""):t.value;return n.length===0?t.placeholder||"":n},_g="checkbox",Sg="radio",Lrt="password",AF=707406591,zB=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Irt(r),(i.type===_g||i.type===Sg)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Trt(i.bounds)),i.type){case _g:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Mrt;break;case Sg:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=krt;break}return i}return n})(oo),bU=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return n})(oo),BU=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.value=r.value,i}return n})(oo),xU=(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=Urt(e,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?$S(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):mf.TRANSPARENT,o=r.contentWindow.document.body?$S(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):mf.TRANSPARENT;i.backgroundColor=Vc(a)?Vc(o)?i.styles.backgroundColor:o:a}}catch{}return i}return n})(oo),Qrt=["OL","UL","MENU"],Gp=function(t,n,e,r){for(var i=n.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,Nrt(i)&&i.data.trim().length>0)e.textNodes.push(new Ert(t,i,e.styles));else if(OU(i))if(Yrt(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return Gp(t,s,e,r)});else{var o=CU(t,i);o.styles.isVisible()&&(Prt(i,o,r)?o.flags|=4:Rrt(o.styles)&&(o.flags|=2),Qrt.indexOf(i.tagName)!==-1&&(o.flags|=8),e.elements.push(o),i.slot,i.shadowRoot?Gp(t,i.shadowRoot,o,r):!_U(i)&&!EU(i)&&!SU(i)&&Gp(t,i,o,r))}},CU=function(t,n){return Wrt(n)?new vU(t,n):zrt(n)?new yU(t,n):EU(n)?new mU(t,n):jrt(n)?new wU(t,n):$rt(n)?new Xw(t,n):Grt(n)?new zB(t,n):SU(n)?new bU(t,n):_U(n)?new BU(t,n):Vrt(n)?new xU(t,n):new oo(t,n)},Urt=function(t,n){var e=CU(t,n);return e.flags|=4,Gp(t,n,e,e),e},Prt=function(t,n,e){return n.styles.isPositionedWithZIndex()||n.styles.opacity<1||n.styles.isTransformed()||Krt(t)&&e.styles.isTransparent()},Rrt=function(t){return t.isPositioned()||t.isFloating()},Nrt=function(t){return t.nodeType===Node.TEXT_NODE},OU=function(t){return t.nodeType===Node.ELEMENT_NODE},Drt=function(t){return OU(t)&&typeof t.style<"u"&&!Hrt(t)},Hrt=function(t){return typeof t.className=="object"},jrt=function(t){return t.tagName==="LI"},$rt=function(t){return t.tagName==="OL"},Grt=function(t){return t.tagName==="INPUT"},EU=function(t){return t.tagName==="svg"},Krt=function(t){return t.tagName==="BODY"},zrt=function(t){return t.tagName==="CANVAS"},Wrt=function(t){return t.tagName==="IMG"},Vrt=function(t){return t.tagName==="IFRAME"},_U=function(t){return t.tagName==="TEXTAREA"},SU=function(t){return t.tagName==="SELECT"},Yrt=function(t){return t.tagName==="SLOT"},cF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},lF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xrt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qrt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Cc=function(t,n,e,r,i,a){return t<n||t>e?WB(t,i,a.length>0):r.integers.reduce(function(o,s,A){for(;t>=s;)t-=s,o+=r.values[A];return o},"")+a},FU=function(t,n,e,r){var i="";do e||t--,i=r(t)+i,t/=n;while(t*n>=n);return i},Gn=function(t,n,e,r,i){var a=e-n+1;return(t<0?"-":"")+(FU(Math.abs(t),a,r,function(o){return Yn(Math.floor(o%a)+n)})+i)},sA=function(t,n,e){e===void 0&&(e=". ");var r=n.length;return FU(Math.abs(t),r,!1,function(i){return n[Math.floor(i%r)]})+e},Tc=1,ns=2,rs=4,_u=8,mo=function(t,n,e,r,i,a){if(t<-9999||t>9999)return WB(t,4,i.length>0);var o=Math.abs(t),s=i;if(o===0)return n[0]+s;for(var A=0;o>0&&A<=4;A++){var c=o%10;c===0&&lr(a,Tc)&&s!==""?s=n[c]+s:c>1||c===1&&A===0||c===1&&A===1&&lr(a,ns)||c===1&&A===1&&lr(a,rs)&&t>100||c===1&&A>1&&lr(a,_u)?s=n[c]+(A>0?e[A-1]:"")+s:c===1&&A>0&&(s=e[A-1]+s),o=Math.floor(o/10)}return(t<0?r:"")+s},uF="",fF="",dF="",Zm="",WB=function(t,n,e){var r=e?". ":"",i=e?"":"",a=e?", ":"",o=e?" ":"";switch(n){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=Gn(t,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return sA(t,"",i);case 6:return Cc(t,1,3999,cF,3,r).toLowerCase();case 7:return Cc(t,1,3999,cF,3,r);case 8:return Gn(t,945,969,!1,r);case 9:return Gn(t,97,122,!1,r);case 10:return Gn(t,65,90,!1,r);case 11:return Gn(t,1632,1641,!0,r);case 12:case 49:return Cc(t,1,9999,lF,3,r);case 35:return Cc(t,1,9999,lF,3,r).toLowerCase();case 13:return Gn(t,2534,2543,!0,r);case 14:case 30:return Gn(t,6112,6121,!0,r);case 15:return sA(t,"",i);case 16:return sA(t,"",i);case 17:case 48:return mo(t,"",uF,"",i,ns|rs|_u);case 47:return mo(t,"",fF,"",i,Tc|ns|rs|_u);case 42:return mo(t,"",uF,"",i,ns|rs|_u);case 41:return mo(t,"",fF,"",i,Tc|ns|rs|_u);case 26:return mo(t,"","",dF,i,0);case 25:return mo(t,"","",dF,i,Tc|ns|rs);case 31:return mo(t,"","",Zm,a,Tc|ns|rs);case 33:return mo(t,"","",Zm,a,0);case 32:return mo(t,"","",Zm,a,Tc|ns|rs);case 18:return Gn(t,2406,2415,!0,r);case 20:return Cc(t,1,19999,qrt,3,r);case 21:return Gn(t,2790,2799,!0,r);case 22:return Gn(t,2662,2671,!0,r);case 22:return Cc(t,1,10999,Xrt,3,r);case 23:return sA(t,"");case 24:return sA(t,"");case 27:return Gn(t,3302,3311,!0,r);case 28:return sA(t,"",i);case 29:return sA(t,"",i);case 34:return Gn(t,3792,3801,!0,r);case 37:return Gn(t,6160,6169,!0,r);case 38:return Gn(t,4160,4169,!0,r);case 39:return Gn(t,2918,2927,!0,r);case 40:return Gn(t,1776,1785,!0,r);case 43:return Gn(t,3046,3055,!0,r);case 44:return Gn(t,3174,3183,!0,r);case 45:return Gn(t,3664,3673,!0,r);case 46:return Gn(t,3872,3881,!0,r);default:return Gn(t,48,57,!0,r)}},hF;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(hF||(hF={}));var Zrt=(function(){function t(){}return t.getOrigin=function(n){var e=t._link;return e?(e.href=n,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},t.isSameOrigin=function(n){return t.getOrigin(n)===t._origin},t.setContext=function(n){t._link=n.document.createElement("a"),t._origin=t.getOrigin(n.location.href)},t._origin="about:blank",t})(),Mt=(function(){function t(n,e){this.type=0,this.x=n,this.y=e}return t.prototype.add=function(n,e){return new t(this.x+n,this.y+e)},t})(),Oc=function(t,n,e){return new Mt(t.x+(n.x-t.x)*e,t.y+(n.y-t.y)*e)},Wh=(function(){function t(n,e,r,i){this.type=1,this.start=n,this.startControl=e,this.endControl=r,this.end=i}return t.prototype.subdivide=function(n,e){var r=Oc(this.start,this.startControl,n),i=Oc(this.startControl,this.endControl,n),a=Oc(this.endControl,this.end,n),o=Oc(r,i,n),s=Oc(i,a,n),A=Oc(o,s,n);return e?new t(this.start,r,o,A):new t(A,s,a,this.end)},t.prototype.add=function(n,e){return new t(this.start.add(n,e),this.startControl.add(n,e),this.endControl.add(n,e),this.end.add(n,e))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),ji=function(t){return t.type===1},Jrt=(function(){function t(n){var e=n.styles,r=n.bounds,i=Ou(e.borderTopLeftRadius,r.width,r.height),a=i[0],o=i[1],s=Ou(e.borderTopRightRadius,r.width,r.height),A=s[0],c=s[1],l=Ou(e.borderBottomRightRadius,r.width,r.height),u=l[0],f=l[1],d=Ou(e.borderBottomLeftRadius,r.width,r.height),h=d[0],p=d[1],v=[];v.push((a+A)/r.width),v.push((h+u)/r.width),v.push((o+p)/r.height),v.push((c+f)/r.height);var y=Math.max.apply(Math,v);y>1&&(a/=y,o/=y,A/=y,c/=y,u/=y,f/=y,h/=y,p/=y);var m=r.width-A,b=r.height-f,B=r.width-u,x=r.height-p,C=e.borderTopWidth,O=e.borderRightWidth,_=e.borderBottomWidth,S=e.borderLeftWidth,F=fn(e.paddingTop,n.bounds.width),M=fn(e.paddingRight,n.bounds.width),T=fn(e.paddingBottom,n.bounds.width),k=fn(e.paddingLeft,n.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?mn(r.left+S/3,r.top+C/3,a-S/3,o-C/3,ze.TOP_LEFT):new Mt(r.left+S/3,r.top+C/3),this.topRightBorderDoubleOuterBox=a>0||o>0?mn(r.left+m,r.top+C/3,A-O/3,c-C/3,ze.TOP_RIGHT):new Mt(r.left+r.width-O/3,r.top+C/3),this.bottomRightBorderDoubleOuterBox=u>0||f>0?mn(r.left+B,r.top+b,u-O/3,f-_/3,ze.BOTTOM_RIGHT):new Mt(r.left+r.width-O/3,r.top+r.height-_/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?mn(r.left+S/3,r.top+x,h-S/3,p-_/3,ze.BOTTOM_LEFT):new Mt(r.left+S/3,r.top+r.height-_/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?mn(r.left+S*2/3,r.top+C*2/3,a-S*2/3,o-C*2/3,ze.TOP_LEFT):new Mt(r.left+S*2/3,r.top+C*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?mn(r.left+m,r.top+C*2/3,A-O*2/3,c-C*2/3,ze.TOP_RIGHT):new Mt(r.left+r.width-O*2/3,r.top+C*2/3),this.bottomRightBorderDoubleInnerBox=u>0||f>0?mn(r.left+B,r.top+b,u-O*2/3,f-_*2/3,ze.BOTTOM_RIGHT):new Mt(r.left+r.width-O*2/3,r.top+r.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?mn(r.left+S*2/3,r.top+x,h-S*2/3,p-_*2/3,ze.BOTTOM_LEFT):new Mt(r.left+S*2/3,r.top+r.height-_*2/3),this.topLeftBorderStroke=a>0||o>0?mn(r.left+S/2,r.top+C/2,a-S/2,o-C/2,ze.TOP_LEFT):new Mt(r.left+S/2,r.top+C/2),this.topRightBorderStroke=a>0||o>0?mn(r.left+m,r.top+C/2,A-O/2,c-C/2,ze.TOP_RIGHT):new Mt(r.left+r.width-O/2,r.top+C/2),this.bottomRightBorderStroke=u>0||f>0?mn(r.left+B,r.top+b,u-O/2,f-_/2,ze.BOTTOM_RIGHT):new Mt(r.left+r.width-O/2,r.top+r.height-_/2),this.bottomLeftBorderStroke=h>0||p>0?mn(r.left+S/2,r.top+x,h-S/2,p-_/2,ze.BOTTOM_LEFT):new Mt(r.left+S/2,r.top+r.height-_/2),this.topLeftBorderBox=a>0||o>0?mn(r.left,r.top,a,o,ze.TOP_LEFT):new Mt(r.left,r.top),this.topRightBorderBox=A>0||c>0?mn(r.left+m,r.top,A,c,ze.TOP_RIGHT):new Mt(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||f>0?mn(r.left+B,r.top+b,u,f,ze.BOTTOM_RIGHT):new Mt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||p>0?mn(r.left,r.top+x,h,p,ze.BOTTOM_LEFT):new Mt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?mn(r.left+S,r.top+C,Math.max(0,a-S),Math.max(0,o-C),ze.TOP_LEFT):new Mt(r.left+S,r.top+C),this.topRightPaddingBox=A>0||c>0?mn(r.left+Math.min(m,r.width-O),r.top+C,m>r.width+O?0:Math.max(0,A-O),Math.max(0,c-C),ze.TOP_RIGHT):new Mt(r.left+r.width-O,r.top+C),this.bottomRightPaddingBox=u>0||f>0?mn(r.left+Math.min(B,r.width-S),r.top+Math.min(b,r.height-_),Math.max(0,u-O),Math.max(0,f-_),ze.BOTTOM_RIGHT):new Mt(r.left+r.width-O,r.top+r.height-_),this.bottomLeftPaddingBox=h>0||p>0?mn(r.left+S,r.top+Math.min(x,r.height-_),Math.max(0,h-S),Math.max(0,p-_),ze.BOTTOM_LEFT):new Mt(r.left+S,r.top+r.height-_),this.topLeftContentBox=a>0||o>0?mn(r.left+S+k,r.top+C+F,Math.max(0,a-(S+k)),Math.max(0,o-(C+F)),ze.TOP_LEFT):new Mt(r.left+S+k,r.top+C+F),this.topRightContentBox=A>0||c>0?mn(r.left+Math.min(m,r.width+S+k),r.top+C+F,m>r.width+S+k?0:A-S+k,c-(C+F),ze.TOP_RIGHT):new Mt(r.left+r.width-(O+M),r.top+C+F),this.bottomRightContentBox=u>0||f>0?mn(r.left+Math.min(B,r.width-(S+k)),r.top+Math.min(b,r.height+C+F),Math.max(0,u-(O+M)),f-(_+T),ze.BOTTOM_RIGHT):new Mt(r.left+r.width-(O+M),r.top+r.height-(_+T)),this.bottomLeftContentBox=h>0||p>0?mn(r.left+S+k,r.top+x,Math.max(0,h-(S+k)),p-(_+T),ze.BOTTOM_LEFT):new Mt(r.left+S+k,r.top+r.height-(_+T))}return t})(),ze;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ze||(ze={}));var mn=function(t,n,e,r,i){var a=4*((Math.sqrt(2)-1)/3),o=e*a,s=r*a,A=t+e,c=n+r;switch(i){case ze.TOP_LEFT:return new Wh(new Mt(t,c),new Mt(t,c-s),new Mt(A-o,n),new Mt(A,n));case ze.TOP_RIGHT:return new Wh(new Mt(t,n),new Mt(t+o,n),new Mt(A,c-s),new Mt(A,c));case ze.BOTTOM_RIGHT:return new Wh(new Mt(A,n),new Mt(A,n+s),new Mt(t+o,c),new Mt(t,c));case ze.BOTTOM_LEFT:default:return new Wh(new Mt(A,c),new Mt(A-o,c),new Mt(t,n+s),new Mt(t,n))}},Fg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},tit=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Mg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},eit=(function(){function t(n,e,r){this.offsetX=n,this.offsetY=e,this.matrix=r,this.type=0,this.target=6}return t})(),Vh=(function(){function t(n,e){this.path=n,this.target=e,this.type=1}return t})(),nit=(function(){function t(n){this.opacity=n,this.type=2,this.target=6}return t})(),rit=function(t){return t.type===0},MU=function(t){return t.type===1},iit=function(t){return t.type===2},pF=function(t,n){return t.length===n.length?t.some(function(e,r){return e===n[r]}):!1},ait=function(t,n,e,r,i){return t.map(function(a,o){switch(o){case 0:return a.add(n,e);case 1:return a.add(n+r,e);case 2:return a.add(n+r,e+i);case 3:return a.add(n,e+i)}return a})},kU=(function(){function t(n){this.element=n,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),TU=(function(){function t(n,e){if(this.container=n,this.parent=e,this.effects=[],this.curves=new Jrt(this.container),this.container.styles.opacity<1&&this.effects.push(new nit(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new eit(r,i,a))}if(this.container.styles.overflowX!==0){var o=Fg(this.curves),s=Mg(this.curves);pF(o,s)?this.effects.push(new Vh(o,6)):(this.effects.push(new Vh(o,2)),this.effects.push(new Vh(s,4)))}}return t.prototype.getEffects=function(n){for(var e=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(A){return!MU(A)});if(e||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),e=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=Fg(r.curves),s=Mg(r.curves);pF(o,s)||i.unshift(new Vh(s,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(A){return lr(A.target,n)})},t})(),qw=function(t,n,e,r){t.container.elements.forEach(function(i){var a=lr(i.flags,4),o=lr(i.flags,2),s=new TU(i,t);lr(i.styles.display,2048)&&r.push(s);var A=lr(i.flags,8)?[]:r;if(a||o){var c=a||i.styles.isPositioned()?e:n,l=new kU(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var f=0;c.negativeZIndex.some(function(h,p){return u>h.element.container.styles.zIndex.order?(f=p,!1):f>0}),c.negativeZIndex.splice(f,0,l)}else if(u>0){var d=0;c.positiveZIndex.some(function(h,p){return u>=h.element.container.styles.zIndex.order?(d=p+1,!1):d>0}),c.positiveZIndex.splice(d,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);qw(s,l,a?l:e,A)}else i.styles.isInlineLevel()?n.inlineLevel.push(s):n.nonInlineLevel.push(s),qw(s,n,e,A);lr(i.flags,8)&&IU(i,A)})},IU=function(t,n){for(var e=t instanceof Xw?t.start:1,r=t instanceof Xw?t.reversed:!1,i=0;i<n.length;i++){var a=n[i];a.container instanceof wU&&typeof a.container.value=="number"&&a.container.value!==0&&(e=a.container.value),a.listValue=WB(e,a.container.styles.listStyleType,!0),e+=r?-1:1}},oit=function(t){var n=new TU(t,null),e=new kU(n),r=[];return qw(n,e,e,r),IU(n.container,r),e},gF=function(t,n){switch(n){case 0:return Ki(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ki(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ki(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return Ki(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},sit=function(t,n){switch(n){case 0:return Ki(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ki(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ki(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return Ki(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Ait=function(t,n){switch(n){case 0:return Ki(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ki(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ki(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return Ki(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},cit=function(t,n){switch(n){case 0:return Yh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Yh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Yh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return Yh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Yh=function(t,n){var e=[];return ji(t)?e.push(t.subdivide(.5,!1)):e.push(t),ji(n)?e.push(n.subdivide(.5,!0)):e.push(n),e},Ki=function(t,n,e,r){var i=[];return ji(t)?i.push(t.subdivide(.5,!1)):i.push(t),ji(e)?i.push(e.subdivide(.5,!0)):i.push(e),ji(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),ji(n)?i.push(n.subdivide(.5,!1).reverse()):i.push(n),i},LU=function(t){var n=t.bounds,e=t.styles;return n.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},kg=function(t){var n=t.styles,e=t.bounds,r=fn(n.paddingLeft,e.width),i=fn(n.paddingRight,e.width),a=fn(n.paddingTop,e.width),o=fn(n.paddingBottom,e.width);return e.add(r+n.borderLeftWidth,a+n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth+r+i),-(n.borderTopWidth+n.borderBottomWidth+a+o))},lit=function(t,n){return t===0?n.bounds:t===2?kg(n):LU(n)},uit=function(t,n){return t===0?n.bounds:t===2?kg(n):LU(n)},Jm=function(t,n,e){var r=lit(Ic(t.styles.backgroundOrigin,n),t),i=uit(Ic(t.styles.backgroundClip,n),t),a=fit(Ic(t.styles.backgroundSize,n),e,r),o=a[0],s=a[1],A=Ou(Ic(t.styles.backgroundPosition,n),r.width-o,r.height-s),c=dit(Ic(t.styles.backgroundRepeat,n),A,a,r,i),l=Math.round(r.left+A[0]),u=Math.round(r.top+A[1]);return[c,l,u,o,s]},Ec=function(t){return Dn(t)&&t.value===Yc.AUTO},Xh=function(t){return typeof t=="number"},fit=function(t,n,e){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1];if(!o)return[0,0];if(ar(o)&&s&&ar(s))return[fn(o,e.width),fn(s,e.height)];var A=Xh(a);if(Dn(o)&&(o.value===Yc.CONTAIN||o.value===Yc.COVER)){if(Xh(a)){var c=e.width/e.height;return c<a!=(o.value===Yc.COVER)?[e.width,e.width/a]:[e.height*a,e.height]}return[e.width,e.height]}var l=Xh(r),u=Xh(i),f=l||u;if(Ec(o)&&(!s||Ec(s))){if(l&&u)return[r,i];if(!A&&!f)return[e.width,e.height];if(f&&A){var d=l?r:i*a,h=u?i:r/a;return[d,h]}var p=l?r:e.width,v=u?i:e.height;return[p,v]}if(A){var y=0,m=0;return ar(o)?y=fn(o,e.width):ar(s)&&(m=fn(s,e.height)),Ec(o)?y=m*a:(!s||Ec(s))&&(m=y/a),[y,m]}var b=null,B=null;if(ar(o)?b=fn(o,e.width):s&&ar(s)&&(B=fn(s,e.height)),b!==null&&(!s||Ec(s))&&(B=l&&u?b/r*i:e.height),B!==null&&Ec(o)&&(b=l&&u?B/i*r:e.width),b!==null&&B!==null)return[b,B];throw new Error("Unable to calculate background-size for element")},Ic=function(t,n){var e=t[n];return typeof e>"u"?t[0]:e},dit=function(t,n,e,r,i){var a=n[0],o=n[1],s=e[0],A=e[1];switch(t){case 2:return[new Mt(Math.round(r.left),Math.round(r.top+o)),new Mt(Math.round(r.left+r.width),Math.round(r.top+o)),new Mt(Math.round(r.left+r.width),Math.round(A+r.top+o)),new Mt(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new Mt(Math.round(r.left+a),Math.round(r.top)),new Mt(Math.round(r.left+a+s),Math.round(r.top)),new Mt(Math.round(r.left+a+s),Math.round(r.height+r.top)),new Mt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new Mt(Math.round(r.left+a),Math.round(r.top+o)),new Mt(Math.round(r.left+a+s),Math.round(r.top+o)),new Mt(Math.round(r.left+a+s),Math.round(r.top+o+A)),new Mt(Math.round(r.left+a),Math.round(r.top+o+A))];default:return[new Mt(Math.round(i.left),Math.round(i.top)),new Mt(Math.round(i.left+i.width),Math.round(i.top)),new Mt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Mt(Math.round(i.left),Math.round(i.height+i.top))]}},hit="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",vF="Hidden Text",pit=(function(){function t(n){this._data={},this._document=n}return t.prototype.parseMetrics=function(n,e){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=n,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=hit,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=n,a.style.fontSize=e,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(vF)),r.appendChild(a),r.appendChild(i);var s=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(vF)),r.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:s,middle:A}},t.prototype.getMetrics=function(n,e){var r=n+" "+e;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(n,e)),this._data[r]},t})(),QU=(function(){function t(n,e){this.context=n,this.options=e}return t})(),git=1e4;(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new pit(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return n.prototype.applyEffects=function(e){for(var r=this;this._activeEffects.length;)this.popEffect();e.forEach(function(i){return r.applyEffect(i)})},n.prototype.applyEffect=function(e){this.ctx.save(),iit(e)&&(this.ctx.globalAlpha=e.opacity),rit(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),MU(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return Qi(this,void 0,void 0,function(){var r;return pi(this,function(i){switch(i.label){case 0:return r=e.element.container.styles,r.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return Qi(this,void 0,void 0,function(){return pi(this,function(r){switch(r.label){case 0:if(lr(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,r,i){var a=this;if(r===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+i);else{var o=KB(e.text);o.reduce(function(s,A){return a.ctx.fillText(A,s,e.bounds.top+i),s+a.ctx.measureText(A).width},e.bounds.left)}},n.prototype.createFontStyle=function(e){var r=e.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=bit(e.fontFamily).join(", "),a=rd(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,r,e.fontWeight,a,i].join(" "),i,a]},n.prototype.renderTextNode=function(e,r){return Qi(this,void 0,void 0,function(){var i,a,o,s,A,c,l,u,f=this;return pi(this,function(d){return i=this.createFontStyle(r),a=i[0],o=i[1],s=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,s),c=A.baseline,l=A.middle,u=r.paintOrder,e.textBounds.forEach(function(h){u.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=pr(r.color),f.renderTextWithLetterSpacing(h,r.letterSpacing,c);var v=r.textShadow;v.length&&h.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=pr(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(h,r.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=pr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+c),h.bounds.width,1);break;case 2:f.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:f.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+l),h.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&h.text.trim().length&&(f.ctx.strokeStyle=pr(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},n.prototype.renderReplacedElement=function(e,r,i){if(i&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var a=kg(e),o=Mg(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,e.intrinsicWidth,e.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return Qi(this,void 0,void 0,function(){var r,i,a,o,s,A,m,m,c,l,u,f,B,d,h,x,p,v,y,m,b,B,x;return pi(this,function(C){switch(C.label){case 0:this.applyEffects(e.getEffects(4)),r=e.container,i=e.curves,a=r.styles,o=0,s=r.textNodes,C.label=1;case 1:return o<s.length?(A=s[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:C.sent(),C.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof vU))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return m=C.sent(),this.renderReplacedElement(r,i,m),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof yU&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof mU))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return m=C.sent(),this.renderReplacedElement(r,i,m),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof xU&&r.tree?(c=new n(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:l=C.sent(),r.width&&r.height&&this.ctx.drawImage(l,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),C.label=14;case 14:if(r instanceof zB&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===_g?r.checked&&(this.ctx.save(),this.path([new Mt(r.bounds.left+u*.39363,r.bounds.top+u*.79),new Mt(r.bounds.left+u*.16,r.bounds.top+u*.5549),new Mt(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new Mt(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new Mt(r.bounds.left+u*.72983,r.bounds.top+u*.23),new Mt(r.bounds.left+u*.84,r.bounds.top+u*.34085),new Mt(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=pr(AF),this.ctx.fill(),this.ctx.restore()):r.type===Sg&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=pr(AF),this.ctx.fill(),this.ctx.restore())),vit(r)&&r.value.length){switch(f=this.createFontStyle(a),B=f[0],d=f[1],h=this.fontMetrics.getMetrics(B,d).baseline,this.ctx.font=B,this.ctx.fillStyle=pr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=mit(r.styles.textAlign),x=kg(r),p=0,r.styles.textAlign){case 1:p+=x.width/2;break;case 2:p+=x.width;break}v=x.add(p,0,0,-x.height/2+1),this.ctx.save(),this.path([new Mt(x.left,x.top),new Mt(x.left+x.width,x.top),new Mt(x.left+x.width,x.top+x.height),new Mt(x.left,x.top+x.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Vu(r.value,v),a.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!lr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(y=r.styles.listStyleImage,y.type!==0)return[3,18];m=void 0,b=y.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return m=C.sent(),this.ctx.drawImage(m,r.bounds.left-(m.width+10),r.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:e.listValue&&r.styles.listStyleType!==-1&&(B=this.createFontStyle(a)[0],this.ctx.font=B,this.ctx.fillStyle=pr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",x=new QA(r.bounds.left,r.bounds.top+fn(r.styles.paddingTop,r.bounds.width),r.bounds.width,zS(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Vu(e.listValue,x),a.letterSpacing,zS(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return Qi(this,void 0,void 0,function(){var r,i,y,a,o,y,s,A,y,c,l,y,u,f,y,d,h,y,p,v,y;return pi(this,function(m){switch(m.label){case 0:if(lr(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:m.sent(),r=0,i=e.negativeZIndex,m.label=2;case 2:return r<i.length?(y=i[r],[4,this.renderStack(y)]):[3,5];case 3:m.sent(),m.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:m.sent(),a=0,o=e.nonInlineLevel,m.label=7;case 7:return a<o.length?(y=o[a],[4,this.renderNode(y)]):[3,10];case 8:m.sent(),m.label=9;case 9:return a++,[3,7];case 10:s=0,A=e.nonPositionedFloats,m.label=11;case 11:return s<A.length?(y=A[s],[4,this.renderStack(y)]):[3,14];case 12:m.sent(),m.label=13;case 13:return s++,[3,11];case 14:c=0,l=e.nonPositionedInlineLevel,m.label=15;case 15:return c<l.length?(y=l[c],[4,this.renderStack(y)]):[3,18];case 16:m.sent(),m.label=17;case 17:return c++,[3,15];case 18:u=0,f=e.inlineLevel,m.label=19;case 19:return u<f.length?(y=f[u],[4,this.renderNode(y)]):[3,22];case 20:m.sent(),m.label=21;case 21:return u++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,m.label=23;case 23:return d<h.length?(y=h[d],[4,this.renderStack(y)]):[3,26];case 24:m.sent(),m.label=25;case 25:return d++,[3,23];case 26:p=0,v=e.positiveZIndex,m.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:m.sent(),m.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var r=this;e.forEach(function(i,a){var o=ji(i)?i.start:i;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),ji(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},n.prototype.renderRepeat=function(e,r,i,a){this.path(e),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},n.prototype.resizeImage=function(e,r,i){var a;if(e.width===r&&e.height===i)return e;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,r),s.height=Math.max(1,i);var A=s.getContext("2d");return A.drawImage(e,0,0,e.width,e.height,0,0,r,i),s},n.prototype.renderBackgroundImage=function(e){return Qi(this,void 0,void 0,function(){var r,i,a,o,s,A;return pi(this,function(c){switch(c.label){case 0:r=e.styles.backgroundImage.length-1,i=function(l){var u,f,d,F,N,P,k,L,_,h,F,N,P,k,L,p,v,y,m,b,B,x,C,O,_,S,F,M,T,k,L,U,N,P,Q,R,H,G,K,W,X,Y;return pi(this,function(et){switch(et.label){case 0:if(l.type!==0)return[3,5];u=void 0,f=l.url,et.label=1;case 1:return et.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return u=et.sent(),[3,4];case 3:return et.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return u&&(d=Jm(e,r,[u.width,u.height,u.width/u.height]),F=d[0],N=d[1],P=d[2],k=d[3],L=d[4],_=a.ctx.createPattern(a.resizeImage(u,k,L),"repeat"),a.renderRepeat(F,_,N,P)),[3,6];case 5:yet(l)?(h=Jm(e,r,[null,null,null]),F=h[0],N=h[1],P=h[2],k=h[3],L=h[4],p=det(l.angle,k,L),v=p[0],y=p[1],m=p[2],b=p[3],B=p[4],x=document.createElement("canvas"),x.width=k,x.height=L,C=x.getContext("2d"),O=C.createLinearGradient(y,b,m,B),GS(l.stops,v).forEach(function(nt){return O.addColorStop(nt.stop,pr(nt.color))}),C.fillStyle=O,C.fillRect(0,0,k,L),k>0&&L>0&&(_=a.ctx.createPattern(x,"repeat"),a.renderRepeat(F,_,N,P))):met(l)&&(S=Jm(e,r,[null,null,null]),F=S[0],M=S[1],T=S[2],k=S[3],L=S[4],U=l.position.length===0?[jB]:l.position,N=fn(U[0],k),P=fn(U[U.length-1],L),Q=het(l,N,P,k,L),R=Q[0],H=Q[1],R>0&&H>0&&(G=a.ctx.createRadialGradient(M+N,T+P,0,M+N,T+P,R),GS(l.stops,R*2).forEach(function(nt){return G.addColorStop(nt.stop,pr(nt.color))}),a.path(F),a.ctx.fillStyle=G,R!==H?(K=e.bounds.left+.5*e.bounds.width,W=e.bounds.top+.5*e.bounds.height,X=H/R,Y=1/X,a.ctx.save(),a.ctx.translate(K,W),a.ctx.transform(1,0,0,X,0,0),a.ctx.translate(-K,-W),a.ctx.fillRect(M,Y*(T-W)+W,k,L*Y),a.ctx.restore()):a.ctx.fill())),et.label=6;case 6:return r--,[2]}})},a=this,o=0,s=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<s.length?(A=s[o],[5,i(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,r,i){return Qi(this,void 0,void 0,function(){return pi(this,function(a){return this.path(gF(i,r)),this.ctx.fillStyle=pr(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,r,i,a){return Qi(this,void 0,void 0,function(){var o,s;return pi(this,function(A){switch(A.label){case 0:return r<3?[4,this.renderSolidBorder(e,i,a)]:[3,2];case 1:return A.sent(),[2];case 2:return o=sit(a,i),this.path(o),this.ctx.fillStyle=pr(e),this.ctx.fill(),s=Ait(a,i),this.path(s),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return Qi(this,void 0,void 0,function(){var r,i,a,o,s,A,c,l,u=this;return pi(this,function(f){switch(f.label){case 0:return this.applyEffects(e.getEffects(2)),r=e.container.styles,i=!Vc(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=yit(Ic(r.backgroundClip,0),e.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Vc(r.backgroundColor)||(this.ctx.fillStyle=pr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(d){u.ctx.save();var h=Fg(e.curves),p=d.inset?0:git,v=ait(h,-p+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(u.path(h),u.ctx.clip(),u.mask(v)):(u.mask(h),u.ctx.clip(),u.path(v)),u.ctx.shadowOffsetX=d.offsetX.number+p,u.ctx.shadowOffsetY=d.offsetY.number,u.ctx.shadowColor=pr(d.color),u.ctx.shadowBlur=d.blur.number,u.ctx.fillStyle=d.inset?pr(d.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),f.label=2;case 2:s=0,A=0,c=a,f.label=3;case 3:return A<c.length?(l=c[A],l.style!==0&&!Vc(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,s,e.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,s,e.curves,3)];case 6:return f.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,s,e.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,s,e.curves)];case 10:f.sent(),f.label=11;case 11:s++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,r,i,a,o){return Qi(this,void 0,void 0,function(){var s,A,c,l,u,f,d,h,p,v,y,m,b,B,x,C,x,C;return pi(this,function(O){return this.ctx.save(),s=cit(a,i),A=gF(a,i),o===2&&(this.path(A),this.ctx.clip()),ji(A[0])?(c=A[0].start.x,l=A[0].start.y):(c=A[0].x,l=A[0].y),ji(A[1])?(u=A[1].end.x,f=A[1].end.y):(u=A[1].x,f=A[1].y),i===0||i===2?d=Math.abs(c-u):d=Math.abs(l-f),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(A.slice(0,2)),h=r<3?r*3:r*2,p=r<3?r*2:r,o===3&&(h=r,p=r),v=!0,d<=h*2?v=!1:d<=h*2+p?(y=d/(2*h+p),h*=y,p*=y):(m=Math.floor((d+p)/(h+p)),b=(d-m*h)/(m-1),B=(d-(m+1)*h)/m,p=B<=0||Math.abs(p-b)<Math.abs(p-B)?b:B),v&&(o===3?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=pr(e),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ji(A[0])&&(x=A[3],C=A[0],this.ctx.beginPath(),this.formatPath([new Mt(x.end.x,x.end.y),new Mt(C.start.x,C.start.y)]),this.ctx.stroke()),ji(A[1])&&(x=A[1],C=A[2],this.ctx.beginPath(),this.formatPath([new Mt(x.end.x,x.end.y),new Mt(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return Qi(this,void 0,void 0,function(){var r;return pi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=oit(e),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},n})(QU);var vit=function(t){return t instanceof BU||t instanceof bU?!0:t instanceof zB&&t.type!==Sg&&t.type!==_g},yit=function(t,n){switch(t){case 0:return Fg(n);case 2:return tit(n);default:return Mg(n)}},mit=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},wit=["-apple-system","system-ui"],bit=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(n){return wit.indexOf(n)===-1}):t};(function(t){xa(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return n.prototype.render=function(e){return Qi(this,void 0,void 0,function(){var r,i;return pi(this,function(a){switch(a.label){case 0:return r=Yw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Bit(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n})(QU);var Bit=function(t){return new Promise(function(n,e){var r=new Image;r.onload=function(){n(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window<"u"&&Zrt.setContext(window);var t1=(function(t){function n(e,r,i,a){var o;return ut(this,n),o=ne(this,n,[e]),o.currentTime=i,o.timelineTime=a,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return ee(n,t),lt(n)})(j0),xit=0,Cit=(function(){function t(n,e){var r;ut(this,t),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=n,n.animation=this,this.timeline=e,this.id="".concat(xit++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return lt(t,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var e=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){e.resolveReadyPromise=function(){r(e)},e.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var e=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){e.resolveFinishedPromise=function(){r(e)},e.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){if(e=Number(e),!isNaN(e)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-e/this.playbackRate}this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(e){if(e!==null){if(this.updatePromises(),e=Number(e),isNaN(e)||this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=e,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var e;if((e=this.effect.target)!==null&&e!==void 0&&e.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var r=this.oldPlayState,i=this.pending?"pending":this.playState;return this.readyPromise&&i!==r&&(i==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():i==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&i!==r&&(i==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):i==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=i,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var e=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=null,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new t1(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),e!==null&&(this.currentTime=e),this.updatePromises()}},{key:"updatePlaybackRate",value:function(e){this.playbackRate=e}},{key:"targetAnimations",value:function(){var e,r=(e=this.effect)===null||e===void 0?void 0:e.target;return r.getAnimations()}},{key:"markTarget",value:function(){var e=this.targetAnimations();e.indexOf(this)===-1&&e.push(this)}},{key:"unmarkTarget",value:function(){var e=this.targetAnimations(),r=e.indexOf(this);r!==-1&&e.splice(r,1)}},{key:"tick",value:function(e,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(e))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(qe)}},{key:"addEventListener",value:function(e,r,i){throw new Error(qe)}},{key:"removeEventListener",value:function(e,r,i){throw new Error(qe)}},{key:"dispatchEvent",value:function(e){throw new Error(qe)}},{key:"commitStyles",value:function(){throw new Error(qe)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var e;this._inEffect=!!((e=this.effect)!==null&&e!==void 0&&e.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(e,r){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(e){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new t1(null,this,this.currentTime,e);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new t1(null,this,this.currentTime,e);this.onframe(a)}this._finishedFlag=!1}}}])})(),Oit=4,Eit=.001,_it=1e-7,Sit=10,Su=11,qh=1/(Su-1),Fit=typeof Float32Array=="function",UU=function(n,e){return 1-3*e+3*n},PU=function(n,e){return 3*e-6*n},RU=function(n){return 3*n},Tg=function(n,e,r){return((UU(e,r)*n+PU(e,r))*n+RU(e))*n},NU=function(n,e,r){return 3*UU(e,r)*n*n+2*PU(e,r)*n+RU(e)},Mit=function(n,e,r,i,a){var o,s,A=0;do s=e+(r-e)/2,o=Tg(s,i,a)-n,o>0?r=s:e=s;while(Math.abs(o)>_it&&++A<Sit);return s},kit=function(n,e,r,i){for(var a=0;a<Oit;++a){var o=NU(e,r,i);if(o===0)return e;var s=Tg(e,r,i)-n;e-=s/o}return e},VB=function(n,e,r,i){if(!(n>=0&&n<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===e&&r===i)return function(A){return A};for(var a=Fit?new Float32Array(Su):new Array(Su),o=0;o<Su;++o)a[o]=Tg(o*qh,n,r);var s=function(c){for(var l=0,u=1,f=Su-1;u!==f&&a[u]<=c;++u)l+=qh;--u;var d=(c-a[u])/(a[u+1]-a[u]),h=l+d*qh,p=NU(h,n,r);return p>=Eit?kit(c,h,n,r):p===0?h:Mit(c,l,l+qh,n,r)};return function(A){return A===0||A===1?A:Tg(s(A),e,i)}},Tit=function(n){return n=n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}),n.charAt(0)==="-"?n.substring(1):n},Zh=function(n){return Math.pow(n,2)},Jh=function(n){return Math.pow(n,3)},tp=function(n){return Math.pow(n,4)},ep=function(n){return Math.pow(n,5)},np=function(n){return Math.pow(n,6)},rp=function(n){return 1-Math.cos(n*Math.PI/2)},ip=function(n){return 1-Math.sqrt(1-n*n)},ap=function(n){return n*n*(3*n-2)},op=function(n){for(var e,r=4;n<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((e*3-2)/22-n,2)},sp=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=Xt(e,2),i=r[0],a=i===void 0?1:i,o=r[1],s=o===void 0?.5:o,A=In(Number(a),1,10),c=In(Number(s),.1,2);return n===0||n===1?n:-A*Math.pow(2,10*(n-1))*Math.sin((n-1-c/(Math.PI*2)*Math.asin(1/A))*(Math.PI*2)/c)},lu=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=Xt(e,4),a=i[0],o=a===void 0?1:a,s=i[1],A=s===void 0?100:s,c=i[2],l=c===void 0?10:c,u=i[3],f=u===void 0?0:u;o=In(o,.1,1e3),A=In(A,.1,1e3),l=In(l,.1,1e3),f=In(f,.1,1e3);var d=Math.sqrt(A/o),h=l/(2*Math.sqrt(A*o)),p=h<1?d*Math.sqrt(1-h*h):0,v=1,y=h<1?(h*d+-f)/p:-f+d,m=r?r*n/1e3:n;return h<1?m=Math.exp(-m*h*d)*(v*Math.cos(p*m)+y*Math.sin(p*m)):m=(v+y*m)*Math.exp(-m*d),n===0||n===1?n:1-m},e1=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e,i=Xt(r,2),a=i[0],o=a===void 0?10:a,s=i[1],A=s==="start"?Math.ceil:Math.floor;return A(In(n,0,1)*o)/o},yF=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=Xt(e,4),i=r[0],a=r[1],o=r[2],s=r[3];return VB(i,a,o,s)(n)},Ap=VB(.42,0,1,1),ki=function(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-n(1-e,r,i)}},Ti=function(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return e<.5?n(e*2,r,i)/2:1-n(e*-2+2,r,i)/2}},Ii=function(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return e<.5?(1-n(1-e*2,r,i))/2:(n(e*2-1,r,i)+1)/2}},mF={steps:e1,"step-start":function(n){return e1(n,[1,"start"])},"step-end":function(n){return e1(n,[1,"end"])},linear:function(n){return n},"cubic-bezier":yF,ease:function(n){return yF(n,[.25,.1,.25,1])},in:Ap,out:ki(Ap),"in-out":Ti(Ap),"out-in":Ii(Ap),"in-quad":Zh,"out-quad":ki(Zh),"in-out-quad":Ti(Zh),"out-in-quad":Ii(Zh),"in-cubic":Jh,"out-cubic":ki(Jh),"in-out-cubic":Ti(Jh),"out-in-cubic":Ii(Jh),"in-quart":tp,"out-quart":ki(tp),"in-out-quart":Ti(tp),"out-in-quart":Ii(tp),"in-quint":ep,"out-quint":ki(ep),"in-out-quint":Ti(ep),"out-in-quint":Ii(ep),"in-expo":np,"out-expo":ki(np),"in-out-expo":Ti(np),"out-in-expo":Ii(np),"in-sine":rp,"out-sine":ki(rp),"in-out-sine":Ti(rp),"out-in-sine":Ii(rp),"in-circ":ip,"out-circ":ki(ip),"in-out-circ":Ti(ip),"out-in-circ":Ii(ip),"in-back":ap,"out-back":ki(ap),"in-out-back":Ti(ap),"out-in-back":Ii(ap),"in-bounce":op,"out-bounce":ki(op),"in-out-bounce":Ti(op),"out-in-bounce":Ii(op),"in-elastic":sp,"out-elastic":ki(sp),"in-out-elastic":Ti(sp),"out-in-elastic":Ii(sp),spring:lu,"spring-in":lu,"spring-out":ki(lu),"spring-in-out":Ti(lu),"spring-out-in":Ii(lu)},Iit=function(n){return Tit(n).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},Lit=function(n){return mF[Iit(n)]||mF.linear},Qit=function(n){return n},Uit=1,Pit=.5,wF=0;function bF(t,n){return function(e){if(e>=1)return 1;var r=1/t;return e+=n*r,e-e%r}}var cp="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",Rit=new RegExp("cubic-bezier\\(".concat(cp,",").concat(cp,",").concat(cp,",").concat(cp,"\\)")),Nit=/steps\(\s*(\d+)\s*\)/,Dit=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function YB(t){var n=Rit.exec(t);if(n)return VB.apply(void 0,se(n.slice(1).map(Number)));var e=Nit.exec(t);if(e)return bF(Number(e[1]),wF);var r=Dit.exec(t);return r?bF(Number(r[1]),{start:Uit,middle:Pit,end:wF}[r[2]]):Lit(t)}function Hit(t){return Math.abs(jit(t)/(t.playbackRate||1))}function jit(t){var n;return t.duration===0||t.iterations===0?0:(t.duration==="auto"?0:Number(t.duration))*((n=t.iterations)!==null&&n!==void 0?n:1)}var DU=0,XB=1,rv=2,HU=3;function $it(t,n,e){if(n===null)return DU;var r=e.endTime;return n<Math.min(e.delay,r)?XB:n>=Math.min(e.delay+t+e.endDelay,r)?rv:HU}function Git(t,n,e,r,i){switch(r){case XB:return n==="backwards"||n==="both"?0:null;case HU:return e-i;case rv:return n==="forwards"||n==="both"?t:null;case DU:return null}}function Kit(t,n,e,r,i){var a=i;return t===0?n!==XB&&(a+=e):a+=r/t,a}function zit(t,n,e,r,i,a){var o=t===1/0?n%1:t%1;return o===0&&e===rv&&r!==0&&(i!==0||a===0)&&(o=1),o}function Wit(t,n,e,r){return t===rv&&n===1/0?1/0:e===1?Math.floor(r)-1:Math.floor(r)}function Vit(t,n,e){var r=t;if(t!=="normal"&&t!=="reverse"){var i=n;t==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?e:1-e}function Yit(t,n,e){var r=$it(t,n,e),i=Git(t,e.fill,n,r,e.delay);if(i===null)return null;var a=e.duration==="auto"?0:e.duration,o=Kit(a,r,e.iterations,i,e.iterationStart),s=zit(o,e.iterationStart,r,e.iterations,i,a),A=Wit(r,e.iterations,s,o),c=Vit(e.direction,A,s);return e.currentIteration=A,e.progress=c,e.easingFunction(c)}function Xit(t,n,e){var r=qit(t,n),i=Zit(r,e);return function(a,o){if(o!==null)i.filter(function(A){return o>=A.applyFrom&&o<A.applyTo}).forEach(function(A){var c=o-A.startOffset,l=A.endOffset-A.startOffset,u=l===0?0:c/l;a.setAttribute(A.property,A.interpolation(u),!1,!1)});else for(var s in r)jU(s)&&a.setAttribute(s,null)}}function jU(t){return t!=="offset"&&t!=="easing"&&t!=="composite"&&t!=="computedOffset"}function qit(t,n){for(var e={},r=0;r<t.length;r++)for(var i in t[r])if(jU(i)){var a={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:YB(t[r].easing)||n.easingFunction,value:t[r][i]};e[i]=e[i]||[],e[i].push(a)}return e}function Zit(t,n){var e=[];for(var r in t)for(var i=t[r],a=0;a<i.length-1;a++){var o=a,s=a+1,A=i[o].computedOffset,c=i[s].computedOffset,l=A,u=c;a===0&&(l=-1/0,c===0&&(s=o)),a===i.length-2&&(u=1/0,A===1&&(o=s)),e.push({applyFrom:l,applyTo:u,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:r,interpolation:Jit(r,i[o].value,i[s].value,n)})}return e.sort(function(f,d){return f.startOffset-d.startOffset}),e}var BF=function(n,e,r){return function(i){var a=$U(n,e,i);return rn(a)?a:r(a)}};function Jit(t,n,e,r){var i=mQ[t];if(i&&i.syntax&&i.int){var a=gt.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o=a.parser,s=o?o(n,r):n,A=o?o(e,r):e,c=a.mixer(s,A,r);if(c){var l=BF.apply(void 0,se(c));return function(u){return u===0?n:u===1?e:l(u)}}}}return BF(!1,!0,function(u){return u?e:n})}function $U(t,n,e){if(typeof t=="number"&&typeof n=="number")return t*(1-e)+n*e;if(typeof t=="boolean"&&typeof n=="boolean"||typeof t=="string"&&typeof n=="string")return e<.5?t:n;if(Array.isArray(t)&&Array.isArray(n)){for(var r=t.length,i=n.length,a=Math.max(r,i),o=[],s=0;s<a;s++)o.push($U(t[s<r?s:r-1],n[s<i?s:i-1],e));return o}throw new Error("Mismatched interpolation arguments ".concat(t,":").concat(n))}var tat=(function(){function t(){ut(this,t),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=Qit,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return lt(t,[{key:"easing",get:function(){return this._easing},set:function(e){this.easingFunction=YB(e),this._easing=e}}])})();function eat(t){var n=[];for(var e in t)if(!(e in["easing","offset","composite"])){var r=t[e];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!n[a]){var o={};"offset"in t&&(o.offset=Number(t.offset)),"easing"in t&&(o.easing=t.easing),"composite"in t&&(o.composite=t.composite),n[a]=o}r[a]!==void 0&&r[a]!==null&&(n[a][e]=r[a])}}return n.sort(function(s,A){return(s.computedOffset||0)-(A.computedOffset||0)}),n}function xF(t,n){if(t===null)return[];Array.isArray(t)||(t=eat(t));for(var e=t.map(function(A){var c={};n!=null&&n.composite&&(c.composite="auto");for(var l in A){var u=A[l];if(l==="offset"){if(u!==null){if(u=Number(u),!isFinite(u))throw new Error("Keyframe offsets must be numbers.");if(u<0||u>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=u}}else if(l==="composite"&&["replace","add","accumulate","auto"].indexOf(u)===-1)throw new Error("".concat(u," compositing is not supported"));c[l]=u}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=n?.easing||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,i=-1/0,a=0;a<e.length;a++){var o=e[a].offset;if(Rt(o))r=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}e=e.filter(function(A){return Number(A.offset)>=0&&Number(A.offset)<=1});function s(){var A,c=e,l=c.length;if(e[l-1].computedOffset=Number((A=e[l-1].offset)!==null&&A!==void 0?A:1),l>1){var u;e[0].computedOffset=Number((u=e[0].offset)!==null&&u!==void 0?u:0)}for(var f=0,d=Number(e[0].computedOffset),h=1;h<l;h++){var p=e[h].computedOffset;if(!Rt(p)&&!Rt(d)){for(var v=1;v<h-f;v++)e[f+v].computedOffset=d+(Number(p)-d)*v/(h-f);f=h,d=Number(p)}}}return r||s(),e}var nat="backwards|forwards|both|none".split("|"),rat="reverse|alternate|alternate-reverse".split("|");function iat(t,n){var e=new tat;return typeof t=="number"&&!isNaN(t)?e.duration=t:t!==void 0&&Object.keys(t).forEach(function(r){if(t[r]!==void 0&&t[r]!==null&&t[r]!=="auto"){if((typeof e[r]=="number"||r==="duration")&&(typeof t[r]!="number"||isNaN(t[r]))||r==="fill"&&nat.indexOf(t[r])===-1||r==="direction"&&rat.indexOf(t[r])===-1)return;e[r]=t[r]}}),e}function aat(t,n){return t=oat(t??{duration:"auto"}),iat(t)}function oat(t){return typeof t=="number"&&(isNaN(t)?t={duration:"auto"}:t={duration:t}),t}var sat=(function(){function t(n,e,r){var i=this;ut(this,t),this.composite="replace",this.iterationComposite="replace",this.target=n,this.timing=aat(r),this.timing.effect=this,this.timing.activeDuration=Hit(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=xF(e,this.timing),this.interpolations=Xit(this.normalizedKeyframes,this.timing,this.target);var a=gt.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(s,A){return A==="duration"?s.duration==="auto"?0:s.duration:A==="fill"?s.fill==="auto"?"none":s.fill:A==="localTime"?i.animation&&i.animation.currentTime||null:A==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:s.currentIteration||0:A==="progress"?!i.animation||i.animation.playState!=="running"?null:s.progress||0:s[A]},set:function(){return!0}}):this.timing}return lt(t,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(e){return e===null?!1:(this.timeFraction=Yit(this.timing.activeDuration,e,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(e){this.normalizedKeyframes=xF(e)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(e){var r=this;Object.keys(e||{}).forEach(function(i){r.timing[i]=e[i]})}}])})();function CF(t,n){return Number(t.id)-Number(n.id)}var Aat=(function(){function t(n){var e=this;ut(this,t),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){e.currentTime=r,e.discardAnimations(),e.animations.length===0?e.timelineTicking=!1:e.requestAnimationFrame(e.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=e.rafCallbacks;e.rafCallbacks=[],r<Number(e.currentTime)&&(r=Number(e.currentTime)),e.animations.sort(CF),e.animations=e.tick(r,!0,e.animations)[0],i.forEach(function(a){a[1](r)}),e.applyPendingEffects()},this.document=n}return lt(t,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(e,r,i){var a=new sat(e,r,i),o=new Cit(a,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(e){var r=this;if(!this.inTick){e.markTarget();var i=e.targetAnimations();i.sort(CF);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(e){e?.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return e.playState!=="finished"&&e.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(e){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,e]),r}},{key:"requestAnimationFrame",value:function(e){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),e(i),r.updateAnimationsPromises()})}},{key:"tick",value:function(e,r,i){var a=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var A=[],c=[],l=[],u=[];return i.forEach(function(f){f.tick(e,r),f._inEffect?(c.push(f.effect),f.markTarget()):(A.push(f.effect),f.unmarkTarget()),f._needsTick&&(a.ticking=!0);var d=f._inEffect||f._needsTick;f._inTimeline=d,d?l.push(f):u.push(f)}),(o=this.pendingEffects).push.apply(o,A),(s=this.pendingEffects).push.apply(s,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[l,u]}}])})();gt.EasingFunction=YB;gt.AnimationTimeline=Aat;var cat=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.landmarks=[],e}return ee(n,t),lt(n,[{key:"rotate",value:function(r,i,a){if(this.relElevation=Gc(i),this.relAzimuth=Gc(r),this.relRoll=Gc(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Xe.EXPLORING){var o=us(ir(),[1,0,0],De((this.rotateWorld?1:-1)*this.relElevation)),s=us(ir(),[0,1,0],De((this.rotateWorld?1:-1)*this.relAzimuth)),A=us(ir(),[0,0,1],De(this.relRoll)),c=Bs(ir(),s,o);c=Bs(ir(),c,A);var l=xB(Ne(),c);jc(this.matrix,this.matrix,[0,0,-this.distance]),Tr(this.matrix,this.matrix,l),jc(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Xe.ORBITING||this.type===Xe.EXPLORING?this._getPosition():this.type===Xe.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,i){var a=Hr(r,i,0),o=Co(this.position);return bs(o,o,lg(ce(),this.right,a[0])),bs(o,o,lg(ce(),this.up,a[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var i=this.forward,a=Co(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,a[0]+=o*i[0],a[1]+=o*i[1],a[2]+=o*i[2],this._setPosition(a),this.type===Xe.ORBITING||this.type===Xe.EXPLORING?this._getDistance():this.type===Xe.TRACKING&&bs(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var i,a,o,s,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=A.position,l=c===void 0?this.position:c,u=A.focalPoint,f=u===void 0?this.focalPoint:u,d=A.roll,h=A.zoom,p=new gt.CameraContribution;p.setType(this.type,void 0),p.setPosition(l[0],(i=l[1])!==null&&i!==void 0?i:this.position[1],(a=l[2])!==null&&a!==void 0?a:this.position[2]),p.setFocalPoint(f[0],(o=f[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=f[2])!==null&&s!==void 0?s:this.focalPoint[2]),p.setRoll(d??this.roll),p.setZoom(h??this.zoom);var v={name:r,matrix:BB(p.getWorldTransform()),right:Co(p.right),up:Co(p.up),forward:Co(p.forward),position:Co(p.getPosition()),focalPoint:Co(p.getFocalPoint()),distanceVector:Co(p.getDistanceVector()),distance:p.getDistance(),dollyingStep:p.getDollyingStep(),azimuth:p.getAzimuth(),elevation:p.getElevation(),roll:p.getRoll(),relAzimuth:p.relAzimuth,relElevation:p.relElevation,relRoll:p.relRoll,zoom:p.getZoom()};return this.landmarks.push(v),v}},{key:"gotoLandmark",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=sn(r)?this.landmarks.find(function(M){return M.name===r}):r;if(o){var s=rn(a)?{duration:a}:a,A=s.easing,c=A===void 0?"linear":A,l=s.duration,u=l===void 0?100:l,f=s.easingFunction,d=f===void 0?void 0:f,h=s.onfinish,p=h===void 0?void 0:h,v=s.onframe,y=v===void 0?void 0:v,m=.01;this.cancelLandmarkAnimation();var b=o.position,B=o.focalPoint,x=o.zoom,C=o.roll,O=d||gt.EasingFunction(c),_,S=function(){i.setFocalPoint(B),i.setPosition(b),i.setRoll(C),i.setZoom(x),i.computeMatrix(),i.triggerUpdate(),p?.()};if(u===0)return S();var F=function(T){_===void 0&&(_=T);var k=T-_;if(k>=u){S();return}var L=O(k/u),U=ce(),N=ce(),P=1,Q=0;hw(U,i.focalPoint,B,L),hw(N,i.position,b,L),Q=i.roll*(1-L)+C*L,P=i.zoom*(1-L)+x*L,i.setFocalPoint(U),i.setPosition(N),i.setRoll(Q),i.setZoom(P);var R=E_(U,B)+E_(N,b);if(R<=m&&x===void 0&&C===void 0)return S();i.computeMatrix(),i.triggerUpdate(),k<u&&(y?.(L),i.landmarkAnimationID=i.canvas.requestAnimationFrame(F))};this.canvas.requestAnimationFrame(F)}}}])})(nQ);gt.CameraContribution=cat;var lat=["body","startHead","endHead","startHeadOffset","endHeadOffset"],uat=["body","startHead","endHead","startHeadOffset","endHeadOffset"],fat=["body","startHead","endHead","startHeadOffset","endHeadOffset"],GU=(function(t){function n(e){var r;ut(this,n),r=ne(this,n,[Vt(Vt({},e),{},{type:n.tag})]);var i=r.attributes,a=i.body,o=i.startHead,s=i.endHead;i.startHeadOffset,i.endHeadOffset;var A=za(i,lat);if(!a)throw new Error("Arrow's body is required");return r.body=a,r.appendChild(r.body),r.handleBodyAttributeChanged(r.body),o&&r.appendArrowHead(r.getArrowHeadType(o),!0),s&&r.appendArrowHead(r.getArrowHeadType(s),!1),r.applyArrowStyle(A,[r.body,r.startHead,r.endHead]),r}return ee(n,t),lt(n,[{key:"handleBodyAttributeChanged",value:function(r){var i=this;r.addEventListener(me.ATTR_MODIFIED,function(a){var o=a.attrName;o==="x1"||o==="y1"?i.startHead&&i.transformArrowHead(i.startHead,!0):(o==="x2"||o==="y2")&&i.endHead&&i.transformArrowHead(i.endHead,!1)})}},{key:"getBody",value:function(){return this.body}},{key:"getStartHead",value:function(){return this.startHead}},{key:"getEndHead",value:function(){return this.endHead}},{key:"attributeChangedCallback",value:function(r,i,a){if(r==="opacity"||r==="strokeOpacity"||r==="stroke"||r==="lineWidth"||r==="increasedLineWidthForHitTesting")this.applyArrowStyle(Et({},r,a),[this.body,this.startHead,this.endHead]);else if(r==="startHead"||r==="endHead"){var o=r==="startHead";if(this.destroyArrowHead(o),a){var s=this.attributes;s.body,s.startHead,s.endHead,s.startHeadOffset,s.endHeadOffset;var A=za(s,uat);this.appendArrowHead(this.getArrowHeadType(a),o),this.applyArrowStyle(A,[o?this.startHead:this.endHead])}}else if(r==="body"){var c=this.attributes;c.body,c.startHead,c.endHead,c.startHeadOffset,c.endHeadOffset;var l=za(c,fat);this.body.destroy(),this.body=a,this.appendChild(this.body),this.applyArrowStyle(l,[this.body])}else r==="startHeadOffset"?this.moveArrowHeadAlongTangent(a,!0):r==="endHeadOffset"&&this.moveArrowHeadAlongTangent(a,!1)}},{key:"getArrowHeadType",value:function(r){return typeof r=="boolean"?"default":"custom"}},{key:"appendArrowHead",value:function(r,i){var a;r==="default"?a=this.createDefaultArrowHead():a=i?this.attributes.startHead:this.attributes.endHead,this.transformArrowHead(a,i),a.setAttribute("zIndex",1),i?this.startHead=a:this.endHead=a,this.appendChild(a);var o=i?this.attributes.startHeadOffset:this.attributes.endHeadOffset;o&&this.moveArrowHeadAlongTangent(o,i)}},{key:"transformArrowHead",value:function(r,i){var a=ce(),o=0,s=0,A=0,c=0,l=0,u=this.body&&this.body.nodeName;if(u===it.LINE){var f=this.body.attributes,d=f.x1,h=f.x2,p=f.y1,v=f.y2;s=i?h:d,A=i?d:h,c=i?v:p,l=i?p:v}else if(u===it.POLYLINE){var y=this.body.attributes.points,m=y.length;s=i?y[1][0]:y[m-2][0],c=i?y[1][1]:y[m-2][1],A=i?y[0][0]:y[m-1][0],l=i?y[0][1]:y[m-1][1]}else if(u===it.PATH){var b=this.getTangent(this.body,i),B=Xt(b,2),x=B[0],C=B[1];s=x[0],c=x[1],A=C[0],l=C[1]}var O=s-A,_=c-l;o=Math.atan2(_,O),a=Se(A,l,0),i?(this.startHeadPosition=a,this.startHeadRad=o):(this.endHeadPosition=a,this.endHeadRad=o),r.setLocalPosition(a),r.setLocalEulerAngles(o*180/Math.PI+r.getLocalEulerAngles())}},{key:"moveArrowHeadAlongTangent",value:function(r,i){var a=i?this.startHead:this.endHead;a&&a.setLocalPosition(SL(ce(),i?this.startHeadPosition:this.endHeadPosition,Se(Math.cos(i?this.startHeadRad:this.endHeadRad)*r,Math.sin(i?this.startHeadRad:this.endHeadRad)*r,0))),this.body}},{key:"destroyArrowHead",value:function(r){r&&this.startHead&&(this.startHead.destroy(),this.startHead=void 0),!r&&this.endHead&&(this.endHead.destroy(),this.endHead=void 0)}},{key:"getTangent",value:function(r,i){return i?r.getStartTangent():r.getEndTangent()}},{key:"createDefaultArrowHead",value:function(){var r=this.attributes,i=r.stroke,a=r.lineWidth,o=Math.sin,s=Math.cos,A=Math.PI,c=10*s(A/6);return new sr({style:{d:"M".concat(c/2,",").concat(10*o(A/6)," L-").concat(c/2,",0 L").concat(c/2,",-").concat(10*o(A/6)),stroke:i,lineWidth:a,transformOrigin:"center"}})}},{key:"applyArrowStyle",value:function(r,i){var a=r.opacity,o=r.stroke,s=r.strokeOpacity,A=r.lineWidth,c=r.increasedLineWidthForHitTesting;i.forEach(function(l){l&&(Rt(a)||(l.style.opacity=a),Rt(o)||(l.style.stroke=o),Rt(s)||(l.style.strokeOpacity=s),Rt(A)||(l.style.lineWidth=A),Rt(c)||(l.style.increasedLineWidthForHitTesting=c))})}}])})(zA);GU.tag="arrow";GU.PARSED_STYLE_LIST=new Set([].concat(se(zA.PARSED_STYLE_LIST),["body","startHead","endHead","startHeadOffset","endHeadOffset","stroke","lineWidth","opacity","strokeOpacity"]));var qB=Math.PI,dat=qB*2,uu=Math.sin,lp=Math.cos,hat=Math.acos,Or=Math.atan2,Yu=Math.sqrt,Zw=Math.max,Ma=Math.min,Lc=1e-4,pat=[{name:"sr",inherits:!1,interpolable:!0,syntax:mt.LENGTH_PERCENTAGE},{name:"sr0",inherits:!1,interpolable:!0,syntax:mt.LENGTH_PERCENTAGE},{name:"startAngle",inherits:!1,interpolable:!0,syntax:mt.ANGLE},{name:"endAngle",inherits:!1,interpolable:!0,syntax:mt.ANGLE}];pat.forEach(function(t){RB.registerProperty(t)});var ua=function(n,e,r,i){return{x:n+r*Math.cos(i),y:e+r*Math.sin(i)}};function gat(t,n,e,r,i,a,o,s){var A=e-t,c=r-n,l=o-i,u=s-a,f=u*A-l*c;if(!(f*f<Lc))return f=(l*(n-a)-u*(t-i))/f,[t+f*A,n+f*c]}function up(t,n,e,r,i,a,o){var s=t-e,A=n-r,c=a/Yu(s*s+A*A),l=c*A,u=-c*s,f=t+l,d=n+u,h=e+l,p=r+u,v=(f+h)/2,y=(d+p)/2,m=h-f,b=p-d,B=m*m+b*b,x=i-a,C=f*p-h*d,O=(b<0?-1:1)*Yu(Zw(0,x*x*B-C*C)),_=(C*b-m*O)/B,S=(-C*m-b*O)/B,F=(C*b+m*O)/B,M=(-C*m+b*O)/B,T=_-v,k=S-y,L=F-v,U=M-y;return T*T+k*k>L*L+U*U&&(_=F,S=M),{cx:_,cy:S,x0:-l,y0:-u,x1:_*(i/x-1),y1:S*(i/x-1)}}function wo(t,n){return n=n<0&&t>=0?n+dat:n,n-t<=qB?0:1}var vat=(function(t){function n(e){var r;return ut(this,n),r=ne(this,n,[e]),r.updatePath(),r}return ee(n,t),lt(n,[{key:"setAttribute",value:function(r,i,a){pg(n,"setAttribute",this)([r,i,a]),["startAngle","endAngle","sr","sr0","radius"].indexOf(r)>-1&&this.updatePath()}},{key:"updatePath",value:function(){var r=this.parsedStyle,i=r.x,a=r.y,o=r.startAngle,s=r.endAngle,A=r.sr,c=r.sr0,l=r.radius,u=this.createPath(i,a,o?De(o):0,s?De(s):Math.PI*2,A||0,c||0,l||[0,0,0,0]);pg(n,"setAttribute",this)(["d",u])}},{key:"createPath",value:function(r,i,a,o,s,A,c){if(!(s<=0)){var l=ua(r,i,s,a),u=ua(r,i,s,o),f=ua(r,i,A,a),d=ua(r,i,A,o);if($c(o-a,Math.PI*2)){var h=ua(r,i,s,a+Math.PI),p=ua(r,i,A,a+Math.PI),v=[["M",l.x,l.y],["A",s,s,0,1,1,h.x,h.y],["A",s,s,0,1,1,u.x,u.y],["M",f.x,f.y]];return A&&(v.push(["A",A,A,0,1,0,p.x,p.y]),v.push(["A",A,A,0,1,0,d.x,d.y])),v.push(["M",l.x,l.y]),v.push(["Z"]),v}var y=o-a,m=s*lp(a),b=s*uu(a),B=A*lp(o),x=A*uu(o),C=s*lp(o),O=s*uu(o),_=A*lp(a),S=A*uu(a),F=Xt(c,4),M=F[0],T=F[1],k=F[2],L=F[3],U=(s-A)/2,N=Ma(U,M),P=Ma(U,T),Q=Ma(U,k),R=Ma(U,L),H=Zw(N,P),G=Zw(Q,R),K=H,W=G;if((H>Lc||G>Lc)&&y<qB){var X=gat(m,b,_,S,C,O,B,x);if(X){var Y=m-X[0],et=b-X[1],nt=C-X[0],Z=O-X[1],ot=1/uu(hat((Y*nt+et*Z)/(Yu(Y*Y+et*et)*Yu(nt*nt+Z*Z)))/2),ct=Yu(X[0]*X[0]+X[1]*X[1]);K=Ma(H,(s-ct)/(ot+1)),W=Ma(G,(A-ct)/(ot-1))}}var vt=wo(a,o),ht=[];if(K>Lc){var bt=Ma(M,K),Bt=Ma(T,K),Ct=up(_,S,m,b,s,bt),kt=up(C,O,B,x,s,Bt);if(ht.push(["M",r+Ct.cx+Ct.x0,i+Ct.cy+Ct.y0]),K<H&&bt===Bt){var Ot=Or(Ct.y0,Ct.x0),_t=Or(kt.y0,kt.x0);ht.push(["A",K,K,0,wo(Ot,_t),1,r+kt.cx+kt.x0,i+kt.cy+kt.y0])}else{if(bt>0){var Lt=Or(Ct.y0,Ct.x0),de=Or(Ct.y1,Ct.x1),qt=ua(r,i,s,de);ht.push(["A",bt,bt,0,wo(Lt,de),1,qt.x,qt.y])}var Zt=Or(Ct.cy+Ct.y1,Ct.cx+Ct.x1),Me=Or(kt.cy+kt.y1,kt.cx+kt.x1),Ue=ua(r,i,s,Me);if(ht.push(["A",s,s,0,wo(Zt,Me),1,Ue.x,Ue.y]),Bt>0){var Ee=Or(kt.y1,kt.x1),ge=Or(kt.y0,kt.x0);ht.push(["A",Bt,Bt,0,wo(Ee,ge),1,r+kt.cx+kt.x0,i+kt.cy+kt.y0])}}}else ht.push(["M",l.x,l.y]),ht.push(["A",s,s,0,vt,1,u.x,u.y]);if(A<Lc)ht.push(["L",d.x,d.y]);else if(W>Lc){var ve=Ma(L,W),ke=Ma(k,W),Jt=up(B,x,0,0,A-s,ke),Kt=up(0,0,_,S,A-s,ve);if(ht.push(["L",r+Jt.cx+Jt.x0,i+Jt.cy+Jt.y0]),W<G&&ve===ke){var Bn=Or(Jt.y0,Jt.x0),Ye=Or(Kt.y0,Kt.x0),Jn=ua(r,i,A,Ye);ht.push(["A",K,K,0,wo(Bn,Ye),1,Jn.x,Jn.y])}else{if(ke>0){var oi=Or(Jt.y0,Jt.x0),si=Or(Jt.y1,Jt.x1),aa=ua(r,i,A-s,si);ht.push(["A",ke,ke,0,wo(oi,si),1,aa.x,aa.y])}var zs=Or(Jt.cy+Jt.y1,Jt.cx+Jt.x1),ec=Or(Kt.cy+Kt.y1,Kt.cx+Kt.x1),nc=ua(r,i,A,ec);if(ht.push(["A",A,A,0,wo(ec,zs),0,nc.x,nc.y]),ht.push(["L",nc.x,nc.y]),ve>0){var Jv=Or(Kt.y1,Kt.x1),Od=Or(Kt.y0,Kt.x0);ht.push(["A",ve,ve,0,wo(Jv,Od),1,r+Kt.cx+Kt.x0,i+Kt.cy+Kt.y0])}}}else ht.push(["L",d.x,d.y]),ht.push(["A",A,A,0,vt,0,f.x,f.y]);return ht.push(["Z"]),ht}}}])})(sr);vat.PARSED_STYLE_LIST=new Set([].concat(se(sr.PARSED_STYLE_LIST),["x","y","sr","sr0","radius","startAngle","endAngle"]));function ka(t,n){if(!{}.hasOwnProperty.call(t,n))throw new TypeError("attempted to use private field on non-instance");return t}var yat=0;function mat(t){return"__private_"+yat+++"_"+t}var Kn=mat("renderState"),KU=(function(){function t(n){ut(this,t),this.renderQueue=[],Object.defineProperty(this,Kn,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=Ne(),this.dprMatrix=Ne(),this.tmpMat4=Ne(),this.vec3a=ce(),this.vec3b=ce(),this.vec3c=ce(),this.vec3d=ce(),this.canvasRendererPluginOptions=n}return lt(t,[{key:"apply",value:function(e,r){var i=this;this.context=e;var a=this.context,o=a.config,s=a.camera,A=a.renderingService,c=a.renderingContext,l=a.pathGeneratorFactory,u=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.pathGeneratorFactory=l;var f=e.contextService,d=c.root.ownerDocument.defaultView;A.hooks.init.tap(t.tag,function(){var v=f.getDPR(),y=o.width,m=o.height,b=f.getContext();i.clearRect(b,0,0,y*v,m*v,o.background)}),A.hooks.destroy.tap(t.tag,function(){i.renderQueue=[],ka(i,Kn)[Kn]={restoreStack:[],prevObject:null,currentContext:null}});var h=function(){var y,m=f.getContext(),b=f.getDPR(),B=o.width,x=o.height,C=i.canvasRendererPluginOptions,O=C.dirtyObjectNumThreshold,_=C.dirtyObjectRatioThreshold,S=A.getStats(),F=S.total,M=S.rendered,T=M/F;i.clearFullScreen=i.clearFullScreenLastFrame||!((y=d.context.renderingPlugins[1])!==null&&y!==void 0&&y.isFirstTimeRenderingFinished)||A.disableDirtyRectangleRendering()||M>O&&T>_,m&&(typeof m.resetTransform=="function"?m.resetTransform():m.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(m,0,0,B*b,x*b,o.background))},p=function(y,m){for(var b=[y];b.length>0;){var B,x=b.pop();x.isVisible()&&!x.isCulled()&&(u?i.renderDisplayObjectOptimized(x,m,i.context,ka(i,Kn)[Kn],r):i.renderDisplayObject(x,m,i.context,ka(i,Kn)[Kn],r));for(var C=((B=x.sortable)===null||B===void 0||(B=B.sorted)===null||B===void 0?void 0:B.length)>0?x.sortable.sorted:x.childNodes,O=C.length-1;O>=0;O--)b.push(C[O])}};A.hooks.endFrame.tap(t.tag,function(){if(h(),c.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}u=o.renderer.getConfig().enableRenderingOptimization,ka(i,Kn)[Kn]={restoreStack:[],prevObject:null,currentContext:ka(i,Kn)[Kn].currentContext},ka(i,Kn)[Kn].currentContext.clear(),i.clearFullScreenLastFrame=!1;var v=f.getContext(),y=f.getDPR();if(cs(i.dprMatrix,[y,y,1]),Tr(i.vpMatrix,i.dprMatrix,s.getOrthoMatrix()),i.clearFullScreen)u?(v.save(),p(c.root,v),v.restore()):p(c.root,v);else{var m=i.safeMergeAABB(i.mergeDirtyAABBs(i.renderQueue));if(nr.isEmpty(m)){i.renderQueue=[];return}var b=i.convertAABB2Rect(m),B=b.x,x=b.y,C=b.width,O=b.height,_=Fn(i.vec3a,[B,x,0],i.vpMatrix),S=Fn(i.vec3b,[B+C,x,0],i.vpMatrix),F=Fn(i.vec3c,[B,x+O,0],i.vpMatrix),M=Fn(i.vec3d,[B+C,x+O,0],i.vpMatrix),T=Math.min(_[0],S[0],M[0],F[0]),k=Math.min(_[1],S[1],M[1],F[1]),L=Math.max(_[0],S[0],M[0],F[0]),U=Math.max(_[1],S[1],M[1],F[1]),N=Math.floor(T),P=Math.floor(k),Q=Math.ceil(L-T),R=Math.ceil(U-k);v.save(),i.clearRect(v,N,P,Q,R,o.background),v.beginPath(),v.rect(N,P,Q,R),v.clip(),v.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var H=o.renderer.getConfig(),G=H.enableDirtyRectangleRenderingDebug;G&&d.dispatchEvent(new Ve(Hi.DIRTY_RECTANGLE,{dirtyRect:{x:N,y:P,width:Q,height:R}}));var K=m.getMin(),W=Xt(K,2),X=W[0],Y=W[1],et=m.getMax(),nt=Xt(et,2),Z=nt[0],ot=nt[1],ct=c.root.ownerDocument.elementsFromBBox(X,Y,Z,ot);ct.sort(function(vt,ht){return vt.sortable.renderOrder-ht.sortable.renderOrder}).forEach(function(vt){vt&&vt.isVisible()&&!vt.isCulled()&&i.renderDisplayObject(vt,v,i.context,ka(i,Kn)[Kn],r)}),v.restore(),i.renderQueue.forEach(function(vt){i.saveDirtyAABB(vt)}),i.renderQueue=[]}ka(i,Kn)[Kn].restoreStack.forEach(function(){v.restore()}),ka(i,Kn)[Kn].restoreStack=[]}),A.hooks.render.tap(t.tag,function(v){i.clearFullScreen||i.renderQueue.push(v)})}},{key:"clearRect",value:function(e,r,i,a,o,s){e.clearRect(r,i,a,o),s&&(e.fillStyle=s,e.fillRect(r,i,a,o))}},{key:"renderDisplayObjectOptimized",value:function(e,r,i,a,o){var s=e.nodeName,A=!1,c=!1,l=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],f=e.parsedStyle.clipPath;if(f){A=!a.prevObject||!fw(f.getWorldTransform(),a.prevObject.getWorldTransform()),A&&(this.applyWorldTransform(r,f),a.prevObject=null);var d=this.pathGeneratorFactory[f.nodeName];d&&(r.save(),c=!0,r.beginPath(),d(r,f.parsedStyle),r.closePath(),r.clip())}if(l){A=!a.prevObject||!fw(e.getWorldTransform(),a.prevObject.getWorldTransform()),A&&this.applyWorldTransform(r,e);var h=!a.prevObject;if(!h){var p=a.prevObject.nodeName;s===it.TEXT?h=p!==it.TEXT:s===it.IMAGE?h=p!==it.IMAGE:h=p===it.TEXT||p===it.IMAGE}l.applyStyleToContext(r,e,h,a),a.prevObject=e}u&&(r.beginPath(),u(r,e.parsedStyle),s!==it.LINE&&s!==it.PATH&&s!==it.POLYLINE&&r.closePath()),l&&l.drawToContext(r,e,ka(this,Kn)[Kn],this,o),c&&r.restore(),e.dirty(!1)}},{key:"renderDisplayObject",value:function(e,r,i,a,o){var s=e.nodeName,A=a.restoreStack[a.restoreStack.length-1];A&&!(e.compareDocumentPosition(A)&wn.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),a.restoreStack.pop());var c=this.context.styleRendererFactory[s],l=this.pathGeneratorFactory[s],u=e.parsedStyle.clipPath;if(u){this.applyWorldTransform(r,u);var f=this.pathGeneratorFactory[u.nodeName];f&&(r.save(),a.restoreStack.push(e),r.beginPath(),f(r,u.parsedStyle),r.closePath(),r.clip())}c&&(this.applyWorldTransform(r,e),r.save(),this.applyAttributesToContext(r,e)),l&&(r.beginPath(),l(r,e.parsedStyle),s!==it.LINE&&s!==it.PATH&&s!==it.POLYLINE&&r.closePath()),c&&(c.render(r,e.parsedStyle,e,i,this,o),r.restore()),e.dirty(!1)}},{key:"applyAttributesToContext",value:function(e,r){var i=r.parsedStyle,a=i.stroke,o=i.fill,s=i.opacity,A=i.lineDash,c=i.lineDashOffset;A&&e.setLineDash(A),Rt(c)||(e.lineDashOffset=c),Rt(s)||(e.globalAlpha*=s),!Rt(a)&&!Array.isArray(a)&&!a.isNone&&(e.strokeStyle=r.attributes.stroke),!Rt(o)&&!Array.isArray(o)&&!o.isNone&&(e.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(e){var r=e.getMin(),i=e.getMax(),a=Math.floor(r[0]),o=Math.floor(r[1]),s=Math.ceil(i[0]),A=Math.ceil(i[1]),c=s-a,l=A-o;return{x:a,y:o,width:c,height:l}}},{key:"mergeDirtyAABBs",value:function(e){var r=new nr;return e.forEach(function(i){var a=i.getRenderBounds();r.add(a);var o=i.renderable.dirtyRenderBounds;o&&r.add(o)}),r}},{key:"saveDirtyAABB",value:function(e){var r=e.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new nr);var i=e.getRenderBounds();i&&r.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(e,r,i){i?(il(this.tmpMat4,r.getLocalTransform()),Tr(this.tmpMat4,i,this.tmpMat4),Tr(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(il(this.tmpMat4,r.getWorldTransform()),Tr(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var e=new nr,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.forEach(function(o){e.add(o)}),e}}])})();KU.tag="CanvasRenderer";function Ig(t,n,e,r,i,a,o){var s,A;if(t.image.nodeName==="rect"){var c=t.image.parsedStyle,l=c.width,u=c.height;A=r.contextService.getDPR();var f=r.config.offscreenCanvas;s=a.offscreenCanvasCreator.getOrCreateCanvas(f),s.width=l*A,s.height=u*A;var d=a.offscreenCanvasCreator.getOrCreateContext(f),h={restoreStack:[],prevObject:null,currentContext:new Map};t.image.forEach(function(v){i.renderDisplayObject(v,d,r,h,a)}),h.restoreStack.forEach(function(){d.restore()})}var p=o.getOrCreatePatternSync(n,t,e,s,A,n.getGeometryBounds().min,function(){n.dirty(),r.renderingService.dirty()});return p}function Lg(t,n,e,r){var i;if(t.type===fs.LinearGradient||t.type===fs.RadialGradient){var a=n.getGeometryBounds(),o=a&&a.halfExtents[0]*2||1,s=a&&a.halfExtents[1]*2||1,A=a&&a.min||[0,0];i=r.getOrCreateGradient(Vt(Vt({type:t.type},t.value),{},{min:A,width:o,height:s}),e)}return i}var fp=["shadowBlur","shadowOffsetX","shadowOffsetY"],OF=["lineCap","lineJoin","miterLimit"],er={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},EF={};function Cn(t,n,e,r){var i=r.has(n)?r.get(n):er[n];return i!==e&&(n==="lineDash"?t.setLineDash(e):t[n]=e,r.set(n,e)),i}var wat=(function(){function t(n){ut(this,t),this.imagePool=n}return lt(t,[{key:"applyAttributesToContext",value:function(e,r){}},{key:"render",value:function(e,r,i,a,o,s){}},{key:"applyCommonStyleToContext",value:function(e,r,i,a){var o=i?EF:a.prevObject.parsedStyle,s=r.parsedStyle;(i||s.opacity!==o.opacity)&&Cn(e,"globalAlpha",Rt(s.opacity)?er.globalAlpha:s.opacity,a.currentContext),(i||s.blend!==o.blend)&&Cn(e,"globalCompositeOperation",Rt(s.blend)?er.globalCompositeOperation:s.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(e,r,i,a){var o=i?EF:a.prevObject.parsedStyle,s=r.parsedStyle,A=s.lineWidth,c=A===void 0?er.lineWidth:A,l=s.fill&&!s.fill.isNone,u=s.stroke&&!s.stroke.isNone&&c>0;if(u){if(i||r.attributes.stroke!==a.prevObject.attributes.stroke){var f=!Rt(s.stroke)&&!Array.isArray(s.stroke)&&!s.stroke.isNone?r.attributes.stroke:er.strokeStyle;Cn(e,"strokeStyle",f,a.currentContext)}(i||s.lineWidth!==o.lineWidth)&&Cn(e,"lineWidth",Rt(s.lineWidth)?er.lineWidth:s.lineWidth,a.currentContext),(i||s.lineDash!==o.lineDash)&&Cn(e,"lineDash",s.lineDash||er.lineDash,a.currentContext),(i||s.lineDashOffset!==o.lineDashOffset)&&Cn(e,"lineDashOffset",Rt(s.lineDashOffset)?er.lineDashOffset:s.lineDashOffset,a.currentContext);for(var d=0;d<OF.length;d++){var h=OF[d];(i||s[h]!==o[h])&&Cn(e,h,Rt(s[h])?er[h]:s[h],a.currentContext)}}if(l&&(i||r.attributes.fill!==a.prevObject.attributes.fill)){var p=!Rt(s.fill)&&!Array.isArray(s.fill)&&!s.fill.isNone?r.attributes.fill:er.fillStyle;Cn(e,"fillStyle",p,a.currentContext)}}},{key:"applyStyleToContext",value:function(e,r,i,a){var o=r.nodeName;this.applyCommonStyleToContext(e,r,i,a),o===it.IMAGE||this.applyStrokeFillStyleToContext(e,r,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(e,r,i,a){var o=r.parsedStyle;if(i){Cn(e,"shadowColor",o.shadowColor.toString(),a.currentContext);for(var s=0;s<fp.length;s++){var A=fp[s];Cn(e,A,o[A]||er[A],a.currentContext)}}o.filter&&o.filter.length&&Cn(e,"filter",r.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(e,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){Cn(e,"shadowColor",er.shadowColor,a.currentContext);for(var s=0;s<fp.length;s++){var A=fp[s];Cn(e,A,er[A],a.currentContext)}}if(i)if(r&&o){var c=e.filter;!Rt(c)&&c.indexOf("drop-shadow")>-1&&Cn(e,"filter",c.replace(/drop-shadow\([^)]*\)/,"").trim()||er.filter,a.currentContext)}else Cn(e,"filter",er.filter,a.currentContext)}},{key:"fillToContext",value:function(e,r,i,a,o){var s=this,A=r.parsedStyle,c=A.fill,l=A.fillRule,u=null;if(Array.isArray(c)&&c.length>0)c.forEach(function(d){var h=Cn(e,"fillStyle",Lg(d,r,e,s.imagePool),i.currentContext);u=u??h,l?e.fill(l):e.fill()});else{if(LA(c)){var f=Ig(c,r,e,r.ownerDocument.defaultView.context,a,o,this.imagePool);f&&(e.fillStyle=f,u=!0)}l?e.fill(l):e.fill()}u!==null&&Cn(e,"fillStyle",u,i.currentContext)}},{key:"strokeToContext",value:function(e,r,i,a,o){var s=this,A=r.parsedStyle.stroke,c=null;if(Array.isArray(A)&&A.length>0)A.forEach(function(f){var d=Cn(e,"strokeStyle",Lg(f,r,e,s.imagePool),i.currentContext);c=c??d,e.stroke()});else{if(LA(A)){var l=Ig(A,r,e,r.ownerDocument.defaultView.context,a,o,this.imagePool);if(l){var u=Cn(e,"strokeStyle",l,i.currentContext);c=c??u}}e.stroke()}c!==null&&Cn(e,"strokeStyle",c,i.currentContext)}},{key:"drawToContext",value:function(e,r,i,a,o){var s,A=r.nodeName,c=r.parsedStyle,l=c.opacity,u=l===void 0?er.globalAlpha:l,f=c.fillOpacity,d=f===void 0?er.fillOpacity:f,h=c.strokeOpacity,p=h===void 0?er.strokeOpacity:h,v=c.lineWidth,y=v===void 0?er.lineWidth:v,m=c.fill&&!c.fill.isNone,b=c.stroke&&!c.stroke.isNone&&y>0;if(!(!m&&!b)){var B=!Rt(c.shadowColor)&&c.shadowBlur>0,x=c.shadowType==="inner",C=((s=c.fill)===null||s===void 0?void 0:s.alpha)===0,O=!!(c.filter&&c.filter.length),_=B&&b&&(A===it.PATH||A===it.LINE||A===it.POLYLINE||C||x),S=null;if(m){_||this.applyShadowAndFilterStyleToContext(e,r,B,i);var F=u*d;S=Cn(e,"globalAlpha",F,i.currentContext),this.fillToContext(e,r,i,a,o),_||this.clearShadowAndFilterStyleForContext(e,B,O,i)}if(b){var M=!1,T=u*p,k=Cn(e,"globalAlpha",T,i.currentContext);if(S=m?S:k,_&&(this.applyShadowAndFilterStyleToContext(e,r,B,i),M=!0,x)){var L=e.globalCompositeOperation;e.globalCompositeOperation="source-atop",this.strokeToContext(e,r,i,a,o),e.globalCompositeOperation=L,this.clearShadowAndFilterStyleForContext(e,B,O,i,!0)}this.strokeToContext(e,r,i,a,o),M&&this.clearShadowAndFilterStyleForContext(e,B,O,i)}S!==null&&Cn(e,"globalAlpha",S,i.currentContext)}}}])})(),ZB=(function(t){function n(){return ut(this,n),ne(this,n,arguments)}return ee(n,t),lt(n,[{key:"render",value:function(r,i,a,o,s,A){var c=i.fill,l=i.fillRule,u=i.opacity,f=u===void 0?1:u,d=i.fillOpacity,h=d===void 0?1:d,p=i.stroke,v=i.strokeOpacity,y=v===void 0?1:v,m=i.lineWidth,b=m===void 0?1:m,B=i.lineCap,x=i.lineJoin,C=i.shadowType,O=i.shadowColor,_=i.shadowBlur,S=i.filter,F=i.miterLimit,M=c&&!c.isNone,T=p&&!p.isNone&&b>0,k=c?.alpha===0,L=!!(S&&S.length),U=!Rt(O)&&_>0,N=a.nodeName,P=C==="inner",Q=T&&U&&(N===it.PATH||N===it.LINE||N===it.POLYLINE||k||P);M&&(r.globalAlpha=f*h,Q||Qg(a,r,U),zU(r,a,c,l,o,s,A,this.imagePool),Q||this.clearShadowAndFilter(r,L,U)),T&&(r.globalAlpha=f*y,r.lineWidth=b,Rt(F)||(r.miterLimit=F),Rt(B)||(r.lineCap=B),Rt(x)||(r.lineJoin=x),Q&&(P&&(r.globalCompositeOperation="source-atop"),Qg(a,r,!0),P&&(Jw(r,a,p,o,s,A,this.imagePool),r.globalCompositeOperation=er.globalCompositeOperation,this.clearShadowAndFilter(r,L,!0))),Jw(r,a,p,o,s,A,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,i,a){if(a&&(r.shadowColor="transparent",r.shadowBlur=0),i){var o=r.filter;!Rt(o)&&o.indexOf("drop-shadow")>-1&&(r.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])})(wat);function Qg(t,n,e){var r=t.parsedStyle,i=r.filter,a=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,A=r.shadowOffsetY;i&&i.length&&(n.filter=t.style.filter),e&&(n.shadowColor=a.toString(),n.shadowBlur=o||0,n.shadowOffsetX=s||0,n.shadowOffsetY=A||0)}function zU(t,n,e,r,i,a,o,s){var A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(e)?e.forEach(function(c){t.fillStyle=Lg(c,n,t,s),A||(r?t.fill(r):t.fill())}):(LA(e)&&(t.fillStyle=Ig(e,n,t,i,a,o,s)),A||(r?t.fill(r):t.fill()))}function Jw(t,n,e,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(e)?e.forEach(function(A){t.strokeStyle=Lg(A,n,t,o),s||t.stroke()}):(LA(e)&&(t.strokeStyle=Ig(e,n,t,r,i,a,o)),s||t.stroke())}function bat(t,n){var e=Xt(t,4),r=e[0],i=e[1],a=e[2],o=e[3],s=Xt(n,4),A=s[0],c=s[1],l=s[2],u=s[3],f=Math.max(r,A),d=Math.max(i,c),h=Math.min(r+a,A+l),p=Math.min(i+o,c+u);return h<=f||p<=d?null:[f,d,h-f,p-d]}function Bat(t,n){var e=Fn(ce(),[t[0],t[1],0],n),r=Fn(ce(),[t[0]+t[2],t[1],0],n),i=Fn(ce(),[t[0],t[1]+t[3],0],n),a=Fn(ce(),[t[0]+t[2],t[1]+t[3],0],n);return[Math.min(e[0],r[0],i[0],a[0]),Math.min(e[1],r[1],i[1],a[1]),Math.max(e[0],r[0],i[0],a[0])-Math.min(e[0],r[0],i[0],a[0]),Math.max(e[1],r[1],i[1],a[1])-Math.min(e[1],r[1],i[1],a[1])]}var xat=(function(t){function n(){return ut(this,n),ne(this,n,arguments)}return ee(n,t),lt(n,[{key:"renderDownSampled",value:function(r,i,a,o){var s=o.src,A=o.imageCache;if(!A.downSampled){this.imagePool.createDownSampledImage(s,a).then(function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirty())}).catch(function(c){console.error(c)});return}r.drawImage(A.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}},{key:"renderTile",value:function(r,i,a,o){var s=o.src,A=o.imageCache,c=o.imageRect,l=o.drawRect,u=A.size,f=r.getTransform(),d=f.a,h=f.b,p=f.c,v=f.d,y=f.e,m=f.f;if(r.resetTransform(),!(A!=null&&A.gridSize)){this.imagePool.createImageTiles(s,[],function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirty())},a).catch(function(U){console.error(U)});return}for(var b=[u[0]/c[2],u[1]/c[3]],B=[A.tileSize[0]/b[0],A.tileSize[1]/b[1]],x=[Math.floor((l[0]-c[0])/B[0]),Math.ceil((l[0]+l[2]-c[0])/B[0])],C=x[0],O=x[1],_=[Math.floor((l[1]-c[1])/B[1]),Math.ceil((l[1]+l[3]-c[1])/B[1])],S=_[0],F=_[1],M=S;M<=F;M++)for(var T=C;T<=O;T++){var k=A.tiles[M][T];if(k){var L=[Math.floor(c[0]+k.tileX*B[0]),Math.floor(c[1]+k.tileY*B[1]),Math.ceil(B[0]),Math.ceil(B[1])];r.drawImage(k.data,L[0],L[1],L[2],L[3])}}r.setTransform(d,h,p,v,y,m)}},{key:"render",value:function(r,i,a){var o=i.x,s=o===void 0?0:o,A=i.y,c=A===void 0?0:A,l=i.width,u=i.height,f=i.src,d=i.shadowColor,h=i.shadowBlur,p=this.imagePool.getImageSync(f,a),v=p?.img,y=l,m=u;if(v){y||(y=v.width),m||(m=v.height);var b=!Rt(d)&&h>0;Qg(a,r,b);try{var B=a.ownerDocument.defaultView.getContextService().getDomElement(),x=B.width,C=B.height,O=r.getTransform(),_=O.a,S=O.b,F=O.c,M=O.d,T=O.e,k=O.f,L=uL(_,F,0,0,S,M,0,0,0,0,1,0,T,k,0,1),U=Bat([s,c,y,m],L),N=bat([0,0,x,C],U);if(!N)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){n.renderFull(r,i,a,{image:v,drawRect:[s,c,y,m]});return}var P=U[2]/p.size[0];if(P<(p.downSamplingRate||.5)){this.renderDownSampled(r,i,a,{src:f,imageCache:p,drawRect:[s,c,y,m]});return}if(!ImagePool.isSupportTile){n.renderFull(r,i,a,{image:v,drawRect:[s,c,y,m]});return}this.renderTile(r,i,a,{src:f,imageCache:p,imageRect:U,drawRect:N})}catch{}}}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i)}}],[{key:"renderFull",value:function(r,i,a,o){r.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])})(ZB),Cat=(function(t){function n(){return ut(this,n),ne(this,n,arguments)}return ee(n,t),lt(n,[{key:"render",value:function(r,i,a,o,s,A){a.getBounds();var c=i.lineWidth,l=c===void 0?1:c,u=i.textAlign,f=u===void 0?"start":u,d=i.textBaseline,h=d===void 0?"alphabetic":d,p=i.lineJoin,v=p===void 0?"miter":p,y=i.miterLimit,m=y===void 0?10:y,b=i.letterSpacing,B=b===void 0?0:b,x=i.stroke,C=i.fill,O=i.fillRule,_=i.fillOpacity,S=_===void 0?1:_,F=i.strokeOpacity,M=F===void 0?1:F,T=i.opacity,k=T===void 0?1:T,L=i.metrics,U=i.x,N=U===void 0?0:U,P=i.y,Q=P===void 0?0:P,R=i.dx,H=i.dy,G=i.shadowColor,K=i.shadowBlur,W=i.textDecorationLine,X=L.font,Y=L.lines,et=L.height,nt=L.lineHeight,Z=L.lineMetrics;r.font=X,r.lineWidth=l,r.textAlign=f==="middle"?"center":f;var ot=h;ot==="alphabetic"&&(ot="bottom"),r.lineJoin=v,Rt(m)||(r.miterLimit=m);var ct=Q;h==="middle"?ct+=-et/2-nt/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?ct+=-et:(h==="top"||h==="hanging")&&(ct+=-nt);var vt=N+(R||0);ct+=H||0,Y.length===1&&(ot==="bottom"?(ot="middle",ct-=.5*et):ot==="top"&&(ot="middle",ct+=.5*et)),r.textBaseline=ot;var ht=!Rt(G)&&K>0;Qg(a,r,ht);for(var bt=0;bt<Y.length;bt++){var Bt=l/2+vt;ct+=nt,!Rt(x)&&!x.isNone&&l&&this.drawLetterSpacing(r,a,Y[bt],Z[bt],f,Bt,ct,B,C,O,S,x,M,k,!0,o,s,A),Rt(C)||this.drawLetterSpacing(r,a,Y[bt],Z[bt],f,Bt,ct,B,C,O,S,x,M,k,!1,o,s,A)}W&&W!=="none"&&this.drawTextDecorations(r,i,a,Y,nt,vt,Q+(H||0),o,s,A)}},{key:"drawLetterSpacing",value:function(r,i,a,o,s,A,c,l,u,f,d,h,p,v,y,m,b,B){if(l===0){y?this.strokeText(r,i,a,A,c,h,p,m,b,B):this.fillText(r,i,a,A,c,u,f,d,v,m,b,B);return}var x=r.textAlign;r.textAlign="left";var C=A;s==="center"||s==="middle"?C=A-o.width/2:(s==="right"||s==="end")&&(C=A-o.width);for(var O=Array.from(a),_=r.measureText(a).width,S=0,F=0;F<O.length;++F){var M=O[F];y?this.strokeText(r,i,M,C,c,h,p,m,b,B):this.fillText(r,i,M,C,c,u,f,d,v,m,b,B),S=r.measureText(a.substring(F+1)).width,C+=_-S+l,_=S}r.textAlign=x}},{key:"fillText",value:function(r,i,a,o,s,A,c,l,u,f,d,h){zU(r,i,A,c,f,d,h,this.imagePool,!0);var p,v=!Rt(l)&&l!==1;v&&(p=r.globalAlpha,r.globalAlpha=l*u),r.fillText(a,o,s),v&&(r.globalAlpha=p)}},{key:"strokeText",value:function(r,i,a,o,s,A,c,l,u,f){Jw(r,i,A,l,u,f,this.imagePool,!0);var d,h=!Rt(c)&&c!==1;h&&(d=r.globalAlpha,r.globalAlpha=c),r.strokeText(a,o,s),h&&(r.globalAlpha=d)}},{key:"drawTextDecorations",value:function(r,i,a,o,s,A,c,l,u,f){var d=i.textDecorationLine,h=i.textDecorationColor,p=i.textDecorationStyle,v=i.textDecorationThickness,y=v===void 0?1:v,m=i.textAlign,b=m===void 0?"start":m,B=i.lineWidth,x=B===void 0?1:B,C=i.metrics;if(!(!d||d==="none")){var O=C.lineMetrics,_=d.split(" ");switch(r.lineWidth=y,h&&(r.strokeStyle="rgba(".concat(h.r,", ").concat(h.g,", ").concat(h.b,", ").concat(h.alpha,")")),p){case"dashed":r.setLineDash([5,5]);break;case"dotted":r.setLineDash([2,2]);break;case"wavy":r.setLineDash([]);break;default:r.setLineDash([]);break}var S=c,F=i.textBaseline,M=F===void 0?"alphabetic":F;M==="middle"?S+=-C.height/2-s/2:M==="bottom"||M==="alphabetic"||M==="ideographic"?S+=-C.height:(M==="top"||M==="hanging")&&(S+=-s);for(var T=0;T<o.length;T++){S+=s;var k=O[T];if(k){var L=x/2,U=A,N=A+k.width;b==="center"||b==="middle"?(U=A-k.width/2,N=A+k.width/2):(b==="right"||b==="end")&&(U=A-k.width,N=A),U+=L,N+=L;var P=As(_),Q;try{for(P.s();!(Q=P.n()).done;){var R=Q.value,H=S;switch(R){case"underline":H+=2;break;case"overline":H-=s-2;break;case"line-through":H-=s/2;break;default:continue}p==="wavy"?this.drawWavyLine(r,U,N,H):(r.beginPath(),r.moveTo(U,H),r.lineTo(N,H),r.stroke())}}catch(G){P.e(G)}finally{P.f()}}}r.setLineDash([])}}},{key:"drawWavyLine",value:function(r,i,a,o){var s=2,A=10,c=Math.floor((a-i)/A);r.beginPath(),r.moveTo(i,o);for(var l=0;l<c;l++){var u=i+l*A+A/4,f=o+s,d=i+l*A+A/2,h=o;r.quadraticCurveTo(u,f,d,h);var p=i+l*A+A*3/4,v=o-s,y=i+(l+1)*A,m=o;r.quadraticCurveTo(p,v,y,m)}r.stroke()}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i,i.ownerDocument.defaultView.context,o,s)}}])})(ZB),Oat=(function(t){function n(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ut(this,n),e=ne(this,n),e.name="canvas-renderer",e.options=r,e}return ee(n,t),lt(n,[{key:"init",value:function(){var r,i=Vt({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,o=new ZB(a),s=(r={},Et(Et(Et(Et(Et(Et(Et(Et(Et(Et(r,it.CIRCLE,o),it.ELLIPSE,o),it.RECT,o),it.IMAGE,new xat(a)),it.TEXT,new Cat(a)),it.LINE,o),it.POLYLINE,o),it.POLYGON,o),it.PATH,o),it.GROUP,void 0),Et(Et(Et(r,it.HTML,void 0),it.MESH,void 0),it.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new KU(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])})(Us),Eat=ce(),_at=ce(),Sat=ce(),Fat=Ne(),WU=(function(){function t(){var n=this;ut(this,t),this.isHit=function(e,r,i,a){var o=n.context.pointInPathPickerFactory[e.nodeName];if(o){var s=ya(Fat,i),A=Fn(_at,kr(Sat,r[0],r[1],0),s);if(o(e,new wr(A[0],A[1]),a,n.isPointInPath,n.context,n.runtime))return!0}return!1},this.isPointInPath=function(e,r){var i=n.runtime.offscreenCanvasCreator.getOrCreateContext(n.context.config.offscreenCanvas),a=n.context.pathGeneratorFactory[e.nodeName];return a&&(i.beginPath(),a(i,e.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}return lt(t,[{key:"apply",value:function(e,r){var i,a=this,o=e.renderingService,s=e.renderingContext;this.context=e,this.runtime=r;var A=(i=s.root)===null||i===void 0?void 0:i.ownerDocument;o.hooks.pick.tapPromise(t.tag,(function(){var c=Ss(gr().mark(function l(u){return gr().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",a.pick(A,u));case 1:case"end":return f.stop()}},l)}));return function(l){return c.apply(this,arguments)}})()),o.hooks.pickSync.tap(t.tag,function(c){return a.pick(A,c)})}},{key:"pick",value:function(e,r){var i=r.topmost,a=r.position,o=a.x,s=a.y,A=kr(Eat,o,s,0),c=e.elementsFromBBox(A[0],A[1],A[0],A[1]),l=[],u=As(c),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,h=d.getWorldTransform(),p=this.isHit(d,A,h,!1);if(p){var v=BQ(d);if(v){var y=v.parsedStyle.clipPath,m=this.isHit(y,A,y.getWorldTransform(),!0);if(m){if(i)return r.picked=[d],r;l.push(d)}}else{if(i)return r.picked=[d],r;l.push(d)}}}}catch(b){u.e(b)}finally{u.f()}return r.picked=l,r}}])})();WU.tag="CanvasPicker";function Mat(t,n,e){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,A=r.r,c=r.fill,l=r.stroke,u=r.lineWidth,f=u===void 0?1:u,d=r.increasedLineWidthForHitTesting,h=d===void 0?0:d,p=r.pointerEvents,v=p===void 0?"auto":p,y=(f+h)/2,m=ko(a,s,n.x,n.y),b=KA(v,c,l),B=Xt(b,2),x=B[0],C=B[1];return x&&C||e?m<=A+y:x?m<=A:C?m>=A-y&&m<=A+y:!1}function dp(t,n,e,r){return t/(e*e)+n/(r*r)}function kat(t,n,e){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,A=r.rx,c=r.ry,l=r.fill,u=r.stroke,f=r.lineWidth,d=f===void 0?1:f,h=r.increasedLineWidthForHitTesting,p=h===void 0?0:h,v=r.pointerEvents,y=v===void 0?"auto":v,m=n.x,b=n.y,B=KA(y,l,u),x=Xt(B,2),C=x[0],O=x[1],_=(d+p)/2,S=(m-a)*(m-a),F=(b-s)*(b-s);return C&&O||e?dp(S,F,A+_,c+_)<=1:C?dp(S,F,A,c)<=1:O?dp(S,F,A-_,c-_)>=1&&dp(S,F,A+_,c+_)<=1:!1}function mA(t,n,e,r,i,a){return i>=t&&i<=t+e&&a>=n&&a<=n+r}function Tat(t,n,e,r,i,a,o){var s=i/2;return mA(t-s,n-s,e,i,a,o)||mA(t+e-s,n-s,i,r,a,o)||mA(t+s,n+r-s,e,i,a,o)||mA(t-s,n+s,i,r,a,o)}function hp(t,n,e,r,i,a,o,s){var A=(Math.atan2(s-n,o-t)+Math.PI*2)%(Math.PI*2),c={x:t+e*Math.cos(A),y:n+e*Math.sin(A)};return ko(c.x,c.y,o,s)<=a/2}function gs(t,n,e,r,i,a,o){var s=Math.min(t,e),A=Math.max(t,e),c=Math.min(n,r),l=Math.max(n,r),u=i/2;return a>=s-u&&a<=A+u&&o>=c-u&&o<=l+u?wY(t,n,e,r,a,o)<=i/2:!1}function VU(t,n,e,r,i){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=t[o][0],A=t[o][1],c=t[o+1][0],l=t[o+1][1];if(gs(s,A,c,l,n,e,r))return!0}if(i){var u=t[0],f=t[a-1];if(gs(u[0],u[1],f[0],f[1],n,e,r))return!0}return!1}var Iat=1e-6;function n1(t){return Math.abs(t)<Iat?0:t<0?-1:1}function Lat(t,n,e){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])&&Math.min(t[0],n[0])<=e[0]&&e[0]<=Math.max(t[0],n[0])&&Math.min(t[1],n[1])<=e[1]&&e[1]<=Math.max(t[1],n[1])}function YU(t,n,e){var r=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(Lat(o,s,[n,e]))return!0;n1(o[1]-e)>0!=n1(s[1]-e)>0&&n1(n-(e-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function _F(t,n,e){for(var r=!1,i=0;i<t.length;i++){var a=t[i];if(r=YU(a,n,e),r)break}return r}function Qat(t,n,e){var r=t.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2,A=r.lineWidth,c=A===void 0?1:A,l=r.increasedLineWidthForHitTesting,u=l===void 0?0:l,f=r.pointerEvents,d=f===void 0?"auto":f,h=r.fill,p=r.stroke,v=KA(d,h,p),y=Xt(v,2),m=y[1];return!m&&!e||!c?!1:gs(i,a,o,s,c+u,n.x,n.y)}function Uat(t,n,e,r,i){for(var a=!1,o=n/2,s=0;s<t.length;s++){var A=t[s],c=A.currentPoint,l=A.params,u=A.prePoint,f=A.box;if(!(f&&!mA(f.x-o,f.y-o,f.width+n,f.height+n,e,r)))switch(A.command){case"L":case"Z":if(a=gs(u[0],u[1],c[0],c[1],n,e,r),a)return!0;break;case"Q":var d=_Y(u[0],u[1],l[1],l[2],l[3],l[4],e,r);if(a=d<=n/2,a)return!0;break;case"C":var h=P_(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6],e,r,i);if(a=h<=n/2,a)return!0;break;case"A":A.cubicParams||(A.cubicParams=SB(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6],l[7],void 0));for(var p=A.cubicParams,v=u,y=0;y<p.length;y+=6){var m=P_(v[0],v[1],p[y],p[y+1],p[y+2],p[y+3],p[y+4],p[y+5],e,r,i);if(v=[p[y+4],p[y+5]],a=m<=n/2,a)return!0}break}}return a}function Pat(t,n,e,r,i,a){var o=t.parsedStyle,s=o.lineWidth,A=s===void 0?1:s,c=o.increasedLineWidthForHitTesting,l=c===void 0?0:c,u=o.stroke,f=o.fill,d=o.d,h=o.pointerEvents,p=h===void 0?"auto":h,v=d.segments,y=d.hasArc,m=d.polylines,b=d.polygons,B=KA(p,b?.length&&f,u),x=Xt(B,2),C=x[0],O=x[1],_=_w(t),S=!1;return C||e?(y?S=r(t,n):S=_F(b,n.x,n.y)||_F(m,n.x,n.y),S):((O||e)&&(S=Uat(v,A+l,n.x,n.y,_)),S)}function Rat(t,n,e){var r=t.parsedStyle,i=r.stroke,a=r.fill,o=r.lineWidth,s=o===void 0?1:o,A=r.increasedLineWidthForHitTesting,c=A===void 0?0:A,l=r.points,u=r.pointerEvents,f=u===void 0?"auto":u,d=KA(f,a,i),h=Xt(d,2),p=h[0],v=h[1],y=!1;return(v||e)&&(y=VU(l.points,s+c,n.x,n.y,!0)),!y&&(p||e)&&(y=YU(l.points,n.x,n.y)),y}function Nat(t,n,e){var r=t.parsedStyle,i=r.lineWidth,a=i===void 0?1:i,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,A=r.points,c=r.pointerEvents,l=c===void 0?"auto":c,u=r.fill,f=r.stroke,d=KA(l,u,f),h=Xt(d,2),p=h[1];return!p&&!e||!a?!1:VU(A.points,a+s,n.x,n.y,!1)}function Dat(t,n,e,r,i){var a=t.parsedStyle,o=a.radius,s=a.fill,A=a.stroke,c=a.lineWidth,l=c===void 0?1:c,u=a.increasedLineWidthForHitTesting,f=u===void 0?0:u,d=a.x,h=d===void 0?0:d,p=a.y,v=p===void 0?0:p,y=a.width,m=a.height,b=a.pointerEvents,B=b===void 0?"auto":b,x=KA(B,s,A),C=Xt(x,2),O=C[0],_=C[1],S=o&&o.some(function(k){return k!==0}),F=l+f;if(S){var T=!1;return(_||e)&&(T=Hat(h,v,y,m,o.map(function(k){return In(k,0,Math.min(Math.abs(y)/2,Math.abs(m)/2))}),F,n.x,n.y)),!T&&(O||e)&&(T=r(t,n)),T}else{var M=F/2;if(O&&_||e)return mA(h-M,v-M,y+M,m+M,n.x,n.y);if(O)return mA(h,v,y,m,n.x,n.y);if(_)return Tat(h,v,y,m,F,n.x,n.y)}return!1}function Hat(t,n,e,r,i,a,o,s){var A=Xt(i,4),c=A[0],l=A[1],u=A[2],f=A[3];return gs(t+c,n,t+e-l,n,a,o,s)||gs(t+e,n+l,t+e,n+r-u,a,o,s)||gs(t+e-u,n+r,t+f,n+r,a,o,s)||gs(t,n+r-f,t,n+c,a,o,s)||hp(t+e-l,n+l,l,1.5*Math.PI,2*Math.PI,a,o,s)||hp(t+e-u,n+r-u,u,0,.5*Math.PI,a,o,s)||hp(t+f,n+r-f,f,.5*Math.PI,Math.PI,a,o,s)||hp(t+c,n+c,c,Math.PI,1.5*Math.PI,a,o,s)}function jat(t,n,e,r,i,a){var o=t.parsedStyle,s=o.pointerEvents,A=s===void 0?"auto":s,c=o.x,l=c===void 0?0:c,u=o.y,f=u===void 0?0:u,d=o.width,h=o.height;if(A==="non-transparent-pixel"){var p=i.config.offscreenCanvas,v=a.offscreenCanvasCreator.getOrCreateCanvas(p),y=a.offscreenCanvasCreator.getOrCreateContext(p,{willReadFrequently:!0});v.width=d,v.height=h,i.defaultStyleRendererFactory[it.IMAGE].render(y,Vt(Vt({},t.parsedStyle),{},{x:0,y:0}),t,void 0,void 0,void 0);var m=y.getImageData(n.x-l,n.y-f,1,1).data;return m.every(function(b){return b!==0})}return!0}function $at(t,n,e,r){var i=t.getGeometryBounds();return n.x>=i.min[0]&&n.y>=i.min[1]&&n.x<=i.max[0]&&n.y<=i.max[1]}var Gat=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.name="canvas-picker",e}return ee(n,t),lt(n,[{key:"init",value:function(){var r,i=(r={},Et(Et(Et(Et(Et(Et(Et(Et(Et(Et(r,it.CIRCLE,Mat),it.ELLIPSE,kat),it.RECT,Dat),it.LINE,Qat),it.POLYLINE,Nat),it.POLYGON,Rat),it.PATH,Pat),it.TEXT,$at),it.GROUP,null),it.IMAGE,jat),Et(Et(r,it.HTML,null),it.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new WU)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])})(Us);function Kat(t,n){var e=n.cx,r=e===void 0?0:e,i=n.cy,a=i===void 0?0:i,o=n.r;t.arc(r,a,o,0,Math.PI*2,!1)}function zat(t,n){var e=n.cx,r=e===void 0?0:e,i=n.cy,a=i===void 0?0:i,o=n.rx,s=n.ry;if(t.ellipse)t.ellipse(r,a,o,s,0,0,Math.PI*2,!1);else{var A=o>s?o:s,c=o>s?1:o/s,l=o>s?s/o:1;t.save(),t.scale(c,l),t.arc(r,a,A,0,Math.PI*2)}}function Wat(t,n){var e=n.x1,r=n.y1,i=n.x2,a=n.y2,o=n.markerStart,s=n.markerEnd,A=n.markerStartOffset,c=n.markerEndOffset,l=0,u=0,f=0,d=0,h=0,p,v;o&&Te(o)&&A&&(p=i-e,v=a-r,h=Math.atan2(v,p),l=Math.cos(h)*(A||0),u=Math.sin(h)*(A||0)),s&&Te(s)&&c&&(p=e-i,v=r-a,h=Math.atan2(v,p),f=Math.cos(h)*(c||0),d=Math.sin(h)*(c||0)),t.moveTo(e+l,r+u),t.lineTo(i+f,a+d)}function Vat(t,n){var e=n.markerStart,r=n.markerEnd,i=n.markerStartOffset,a=n.markerEndOffset,o=n.d,s=o.absolutePath,A=o.segments,c=0,l=0,u=0,f=0,d=0,h,p;if(e&&Te(e)&&i){var v=e.parentNode.getStartTangent(),y=Xt(v,2),m=y[0],b=y[1];h=m[0]-b[0],p=m[1]-b[1],d=Math.atan2(p,h),c=Math.cos(d)*(i||0),l=Math.sin(d)*(i||0)}if(r&&Te(r)&&a){var B=r.parentNode.getEndTangent(),x=Xt(B,2),C=x[0],O=x[1];h=C[0]-O[0],p=C[1]-O[1],d=Math.atan2(p,h),u=Math.cos(d)*(a||0),f=Math.sin(d)*(a||0)}for(var _=0;_<s.length;_++){var S=s[_],F=S[0],M=s[_+1],T=_===0&&(c!==0||l!==0),k=(_===s.length-1||M&&(M[0]==="M"||M[0]==="Z"))&&u!==0&&f!==0,L=T?[c,l]:[0,0],U=Xt(L,2),N=U[0],P=U[1],Q=k?[u,f]:[0,0],R=Xt(Q,2),H=R[0],G=R[1];switch(F){case"M":t.moveTo(S[1]+N,S[2]+P);break;case"L":t.lineTo(S[1]+H,S[2]+G);break;case"Q":t.quadraticCurveTo(S[1],S[2],S[3]+H,S[4]+G);break;case"C":t.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+H,S[6]+G);break;case"A":{var K=A[_].arcParams,W=K.cx,X=K.cy,Y=K.rx,et=K.ry,nt=K.startAngle,Z=K.endAngle,ot=K.xRotation,ct=K.sweepFlag;if(t.ellipse)t.ellipse(W,X,Y,et,ot,nt,Z,!!(1-ct));else{var vt=Y>et?Y:et,ht=Y>et?1:Y/et,bt=Y>et?et/Y:1;t.translate(W,X),t.rotate(ot),t.scale(ht,bt),t.arc(0,0,vt,nt,Z,!!(1-ct)),t.scale(1/ht,1/bt),t.rotate(-ot),t.translate(-W,-X)}k&&t.lineTo(S[6]+u,S[7]+f);break}case"Z":t.closePath();break}}}function Yat(t,n){var e=n.markerStart,r=n.markerEnd,i=n.markerStartOffset,a=n.markerEndOffset,o=n.points.points,s=o.length,A=o[0][0],c=o[0][1],l=o[s-1][0],u=o[s-1][1],f=0,d=0,h=0,p=0,v=0,y,m;e&&Te(e)&&i&&(y=o[1][0]-o[0][0],m=o[1][1]-o[0][1],v=Math.atan2(m,y),f=Math.cos(v)*(i||0),d=Math.sin(v)*(i||0)),r&&Te(r)&&a&&(y=o[s-1][0]-o[0][0],m=o[s-1][1]-o[0][1],v=Math.atan2(m,y),h=Math.cos(v)*(a||0),p=Math.sin(v)*(a||0)),t.moveTo(A+(f||h),c+(d||p));for(var b=1;b<s-1;b++){var B=o[b];t.lineTo(B[0],B[1])}t.lineTo(l,u)}function Xat(t,n){var e=n.markerStart,r=n.markerEnd,i=n.markerStartOffset,a=n.markerEndOffset,o=n.points.points,s=o.length,A=o[0][0],c=o[0][1],l=o[s-1][0],u=o[s-1][1],f=0,d=0,h=0,p=0,v=0,y,m;e&&Te(e)&&i&&(y=o[1][0]-o[0][0],m=o[1][1]-o[0][1],v=Math.atan2(m,y),f=Math.cos(v)*(i||0),d=Math.sin(v)*(i||0)),r&&Te(r)&&a&&(y=o[s-2][0]-o[s-1][0],m=o[s-2][1]-o[s-1][1],v=Math.atan2(m,y),h=Math.cos(v)*(a||0),p=Math.sin(v)*(a||0)),t.moveTo(A+f,c+d);for(var b=1;b<s-1;b++){var B=o[b];t.lineTo(B[0],B[1])}t.lineTo(l+h,u+p)}function qat(t,n){var e=n.x,r=e===void 0?0:e,i=n.y,a=i===void 0?0:i,o=n.radius,s=n.width,A=n.height,c=s,l=A,u=o&&o.some(function(x){return x!==0});if(!u)t.rect(r,a,c,l);else{var f=s>0?1:-1,d=A>0?1:-1,h=f+d===0,p=o.map(function(x){return In(x,0,Math.min(Math.abs(c)/2,Math.abs(l)/2))}),v=Xt(p,4),y=v[0],m=v[1],b=v[2],B=v[3];t.moveTo(f*y+r,a),t.lineTo(c-f*m+r,a),m!==0&&t.arc(c-f*m+r,d*m+a,m,-d*Math.PI/2,f>0?0:Math.PI,h),t.lineTo(c+r,l-d*b+a),b!==0&&t.arc(c-f*b+r,l-d*b+a,b,f>0?0:Math.PI,d>0?Math.PI/2:1.5*Math.PI,h),t.lineTo(f*B+r,l+a),B!==0&&t.arc(f*B+r,l-d*B+a,B,d>0?Math.PI/2:-Math.PI/2,f>0?Math.PI:0,h),t.lineTo(r,d*y+a),y!==0&&t.arc(f*y+r,d*y+a,y,f>0?Math.PI:0,d>0?Math.PI*1.5:Math.PI/2,h)}}var Zat=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.name="canvas-path-generator",e}return ee(n,t),lt(n,[{key:"init",value:function(){var r,i=(r={},Et(Et(Et(Et(Et(Et(Et(Et(Et(Et(r,it.CIRCLE,Kat),it.ELLIPSE,zat),it.RECT,qat),it.LINE,Wat),it.POLYLINE,Xat),it.POLYGON,Yat),it.PATH,Vat),it.TEXT,void 0),it.GROUP,void 0),it.IMAGE,void 0),Et(Et(Et(r,it.HTML,void 0),it.MESH,void 0),it.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])})(Us),Jat=(function(){function t(n){ut(this,t),this.renderingContext=n.renderingContext,this.canvasConfig=n.config}return lt(t,[{key:"init",value:function(){var e=this.canvasConfig,r=e.container,i=e.canvas;if(i)this.$canvas=i,r&&i.parentElement!==r&&r.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=sn(r)?document.getElementById(r):r,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(e,r){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*r,Rq(this.$canvas,e,r)),this.renderingContext.renderReasons.add(Wc.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)}},{key:"toDataURL",value:(function(){var n=Ss(gr().mark(function r(){var i,a,o,s=arguments;return gr().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return i=s.length>0&&s[0]!==void 0?s[0]:{},a=i.type,o=i.encoderOptions,A.abrupt("return",this.context.canvas.toDataURL(a,o));case 1:case"end":return A.stop()}},r,this)}));function e(){return n.apply(this,arguments)}return e})()}])})(),tot=(function(t){function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=ne(this,n,[].concat(i)),e.name="canvas-context-register",e}return ee(n,t),lt(n,[{key:"init",value:function(){this.context.ContextService=Jat}},{key:"destroy",value:function(){delete this.context.ContextService}}])})(Us),XU=(function(t){function n(e){var r;return ut(this,n),r=ne(this,n,[e]),r.registerPlugin(new tot),r.registerPlugin(new hJ.Plugin),r.registerPlugin(new Zat),r.registerPlugin(new Oat),r.registerPlugin(new mJ.Plugin),r.registerPlugin(new Gat),r.registerPlugin(new vJ.Plugin),r}return ee(n,t),lt(n)})(MY),eot="*",JB=(function(){function t(){this._events={}}return t.prototype.on=function(n,e,r){return this._events[n]||(this._events[n]=[]),this._events[n].push({callback:e,once:!!r}),this},t.prototype.once=function(n,e){return this.on(n,e,!0)},t.prototype.emit=function(n){for(var e=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this._events[n]||[],o=this._events[eot]||[],s=function(A){for(var c=A.length,l=0;l<c;l++)if(A[l]){var u=A[l],f=u.callback,d=u.once;d&&(A.splice(l,1),A.length===0&&delete e._events[n],c--,l--),f.apply(e,r)}};s(a),s(o)},t.prototype.off=function(n,e){if(!n)this._events={};else if(!e)delete this._events[n];else{for(var r=this._events[n]||[],i=r.length,a=0;a<i;a++)r[a].callback===e&&(r.splice(a,1),i--,a--);r.length===0&&delete this._events[n]}return this},t.prototype.getEvents=function(){return this._events},t})();function not(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return qU(this.cover(n,e),n,e,t)}function qU(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,a=t._root,o={data:r},s=t._x0,A=t._y0,c=t._x1,l=t._y1,u,f,d,h,p,v,y,m;if(!a)return t._root=o,t;for(;a.length;)if((p=n>=(u=(s+c)/2))?s=u:c=u,(v=e>=(f=(A+l)/2))?A=f:l=f,i=a,!(a=a[y=v<<1|p]))return i[y]=o,t;if(d=+t._x.call(null,a.data),h=+t._y.call(null,a.data),n===d&&e===h)return o.next=a,i?i[y]=o:t._root=o,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(p=n>=(u=(s+c)/2))?s=u:c=u,(v=e>=(f=(A+l)/2))?A=f:l=f;while((y=v<<1|p)===(m=(h>=f)<<1|d>=u));return i[m]=a,i[y]=o,t}function rot(t){var n,e,r=t.length,i,a,o=new Array(r),s=new Array(r),A=1/0,c=1/0,l=-1/0,u=-1/0;for(e=0;e<r;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(a=+this._y.call(null,n))||(o[e]=i,s[e]=a,i<A&&(A=i),i>l&&(l=i),a<c&&(c=a),a>u&&(u=a));if(A>l||c>u)return this;for(this.cover(A,c).cover(l,u),e=0;e<r;++e)qU(this,o[e],s[e],t[e]);return this}function iot(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,a=(r=Math.floor(n))+1;else{for(var o=i-e||1,s=this._root,A,c;e>t||t>=i||r>n||n>=a;)switch(c=(n<r)<<1|t<e,A=new Array(4),A[c]=s,s=A,o*=2,c){case 0:i=e+o,a=r+o;break;case 1:e=i-o,a=r+o;break;case 2:i=e+o,r=a-o;break;case 3:e=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this}function aot(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function oot(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function jr(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function sot(t,n,e){var r,i=this._x0,a=this._y0,o,s,A,c,l=this._x1,u=this._y1,f=[],d=this._root,h,p;for(d&&f.push(new jr(d,i,a,l,u)),e==null?e=1/0:(i=t-e,a=n-e,l=t+e,u=n+e,e*=e);h=f.pop();)if(!(!(d=h.node)||(o=h.x0)>l||(s=h.y0)>u||(A=h.x1)<i||(c=h.y1)<a))if(d.length){var v=(o+A)/2,y=(s+c)/2;f.push(new jr(d[3],v,y,A,c),new jr(d[2],o,y,v,c),new jr(d[1],v,s,A,y),new jr(d[0],o,s,v,y)),(p=(n>=y)<<1|t>=v)&&(h=f[f.length-1],f[f.length-1]=f[f.length-1-p],f[f.length-1-p]=h)}else{var m=t-+this._x.call(null,d.data),b=n-+this._y.call(null,d.data),B=m*m+b*b;if(B<e){var x=Math.sqrt(e=B);i=t-x,a=n-x,l=t+x,u=n+x,r=d.data}}return r}function Aot(t){if(isNaN(l=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e=this._root,r,i,a,o=this._x0,s=this._y0,A=this._x1,c=this._y1,l,u,f,d,h,p,v,y;if(!e)return this;if(e.length)for(;;){if((h=l>=(f=(o+A)/2))?o=f:A=f,(p=u>=(d=(s+c)/2))?s=d:c=d,n=e,!(e=e[v=p<<1|h]))return this;if(!e.length)break;(n[v+1&3]||n[v+2&3]||n[v+3&3])&&(r=n,y=v)}for(;e.data!==t;)if(i=e,!(e=e.next))return this;return(a=e.next)&&delete e.next,i?(a?i.next=a:delete i.next,this):n?(a?n[v]=a:delete n[v],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[y]=e:this._root=e),this):(this._root=a,this)}function cot(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function lot(){return this._root}function uot(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function fot(t){var n=[],e,r=this._root,i,a,o,s,A;for(r&&n.push(new jr(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,a=e.x0,o=e.y0,s=e.x1,A=e.y1)&&r.length){var c=(a+s)/2,l=(o+A)/2;(i=r[3])&&n.push(new jr(i,c,l,s,A)),(i=r[2])&&n.push(new jr(i,a,l,c,A)),(i=r[1])&&n.push(new jr(i,c,o,s,l)),(i=r[0])&&n.push(new jr(i,a,o,c,l))}return this}function dot(t){var n=[],e=[],r;for(this._root&&n.push(new jr(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,A=r.x1,c=r.y1,l=(o+A)/2,u=(s+c)/2;(a=i[0])&&n.push(new jr(a,o,s,l,u)),(a=i[1])&&n.push(new jr(a,l,s,A,u)),(a=i[2])&&n.push(new jr(a,o,u,l,c)),(a=i[3])&&n.push(new jr(a,l,u,A,c))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function hot(t){return t[0]}function pot(t){return arguments.length?(this._x=t,this):this._x}function got(t){return t[1]}function vot(t){return arguments.length?(this._y=t,this):this._y}function tx(t,n,e){var r=new ex(n??hot,e??got,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function ex(t,n,e,r,i,a){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function SF(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var zr=tx.prototype=ex.prototype;zr.copy=function(){var t=new ex(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=SF(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var i=0;i<4;++i)(r=n.source[i])&&(r.length?e.push({source:r,target:n.target[i]=new Array(4)}):n.target[i]=SF(r));return t};zr.add=not;zr.addAll=rot;zr.cover=iot;zr.data=aot;zr.extent=oot;zr.find=sot;zr.remove=Aot;zr.removeAll=cot;zr.root=lot;zr.size=uot;zr.visit=fot;zr.visitAfter=dot;zr.x=pot;zr.y=vot;function yot(t,n){var e,r=1;t==null&&(t=0),n==null&&(n=0);function i(){var a,o=e.length,s,A=0,c=0;for(a=0;a<o;++a)s=e[a],A+=s.x,c+=s.y;for(A=(A/o-t)*r,c=(c/o-n)*r,a=0;a<o;++a)s=e[a],s.x-=A,s.y-=c}return i.initialize=function(a){e=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(n=+a,i):n},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function $r(t){return function(){return t}}function vs(t){return(t()-.5)*1e-6}function mot(t){return t.x+t.vx}function wot(t){return t.y+t.vy}function bot(t){var n,e,r,i=1,a=1;typeof t!="function"&&(t=$r(t==null?1:+t));function o(){for(var c,l=n.length,u,f,d,h,p,v,y=0;y<a;++y)for(u=tx(n,mot,wot).visitAfter(s),c=0;c<l;++c)f=n[c],p=e[f.index],v=p*p,d=f.x+f.vx,h=f.y+f.vy,u.visit(m);function m(b,B,x,C,O){var _=b.data,S=b.r,F=p+S;if(_){if(_.index>f.index){var M=d-_.x-_.vx,T=h-_.y-_.vy,k=M*M+T*T;k<F*F&&(M===0&&(M=vs(r),k+=M*M),T===0&&(T=vs(r),k+=T*T),k=(F-(k=Math.sqrt(k)))/k*i,f.vx+=(M*=k)*(F=(S*=S)/(v+S)),f.vy+=(T*=k)*F,_.vx-=M*(F=1-F),_.vy-=T*F)}return}return B>d+F||C<d-F||x>h+F||O<h-F}}function s(c){if(c.data)return c.r=e[c.data.index];for(var l=c.r=0;l<4;++l)c[l]&&c[l].r>c.r&&(c.r=c[l].r)}function A(){if(n){var c,l=n.length,u;for(e=new Array(l),c=0;c<l;++c)u=n[c],e[u.index]=+t(u,c,n)}}return o.initialize=function(c,l){n=c,r=l,A()},o.iterations=function(c){return arguments.length?(a=+c,o):a},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),A(),o):t},o}function Bot(t){return t.index}function FF(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function xot(t){var n=Bot,e=u,r,i=$r(30),a,o,s,A,c,l=1;t==null&&(t=[]);function u(v){return 1/Math.min(s[v.source.index],s[v.target.index])}function f(v){for(var y=0,m=t.length;y<l;++y)for(var b=0,B,x,C,O,_,S,F;b<m;++b)B=t[b],x=B.source,C=B.target,O=C.x+C.vx-x.x-x.vx||vs(c),_=C.y+C.vy-x.y-x.vy||vs(c),S=Math.sqrt(O*O+_*_),S=(S-a[b])/S*v*r[b],O*=S,_*=S,C.vx-=O*(F=A[b]),C.vy-=_*F,x.vx+=O*(F=1-F),x.vy+=_*F}function d(){if(o){var v,y=o.length,m=t.length,b=new Map(o.map((x,C)=>[n(x,C,o),x])),B;for(v=0,s=new Array(y);v<m;++v)B=t[v],B.index=v,typeof B.source!="object"&&(B.source=FF(b,B.source)),typeof B.target!="object"&&(B.target=FF(b,B.target)),s[B.source.index]=(s[B.source.index]||0)+1,s[B.target.index]=(s[B.target.index]||0)+1;for(v=0,A=new Array(m);v<m;++v)B=t[v],A[v]=s[B.source.index]/(s[B.source.index]+s[B.target.index]);r=new Array(m),h(),a=new Array(m),p()}}function h(){if(o)for(var v=0,y=t.length;v<y;++v)r[v]=+e(t[v],v,t)}function p(){if(o)for(var v=0,y=t.length;v<y;++v)a[v]=+i(t[v],v,t)}return f.initialize=function(v,y){o=v,c=y,d()},f.links=function(v){return arguments.length?(t=v,d(),f):t},f.id=function(v){return arguments.length?(n=v,f):n},f.iterations=function(v){return arguments.length?(l=+v,f):l},f.strength=function(v){return arguments.length?(e=typeof v=="function"?v:$r(+v),h(),f):e},f.distance=function(v){return arguments.length?(i=typeof v=="function"?v:$r(+v),p(),f):i},f}var Cot={value:()=>{}};function ZU(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Kp(e)}function Kp(t){this._=t}function Oot(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Kp.prototype=ZU.prototype={constructor:Kp,on:function(t,n){var e=this._,r=Oot(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Eot(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=MF(e[i],t.name,n);else if(n==null)for(i in e)e[i]=MF(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Kp(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function Eot(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function MF(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Cot,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var cl=0,Fu=0,fu=0,JU=1e3,Ug,Mu,Pg=0,UA=0,iv=0,wf=typeof performance=="object"&&performance.now?performance:Date,tP=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function eP(){return UA||(tP(_ot),UA=wf.now()+iv)}function _ot(){UA=0}function tb(){this._call=this._time=this._next=null}tb.prototype=nP.prototype={constructor:tb,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?eP():+e)+(n==null?0:+n),!this._next&&Mu!==this&&(Mu?Mu._next=this:Ug=this,Mu=this),this._call=t,this._time=e,eb()},stop:function(){this._call&&(this._call=null,this._time=1/0,eb())}};function nP(t,n,e){var r=new tb;return r.restart(t,n,e),r}function Sot(){eP(),++cl;for(var t=Ug,n;t;)(n=UA-t._time)>=0&&t._call.call(void 0,n),t=t._next;--cl}function kF(){UA=(Pg=wf.now())+iv,cl=Fu=0;try{Sot()}finally{cl=0,Mot(),UA=0}}function Fot(){var t=wf.now(),n=t-Pg;n>JU&&(iv-=n,Pg=t)}function Mot(){for(var t,n=Ug,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ug=e);Mu=t,eb(r)}function eb(t){if(!cl){Fu&&(Fu=clearTimeout(Fu));var n=t-UA;n>24?(t<1/0&&(Fu=setTimeout(kF,t-wf.now()-iv)),fu&&(fu=clearInterval(fu))):(fu||(Pg=wf.now(),fu=setInterval(Fot,JU)),cl=1,tP(kF))}}const kot=1664525,Tot=1013904223,TF=4294967296;function Iot(){let t=1;return()=>(t=(kot*t+Tot)%TF)/TF}function Lot(t){return t.x}function Qot(t){return t.y}var Uot=10,Pot=Math.PI*(3-Math.sqrt(5));function rP(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,A=nP(u),c=ZU("tick","end"),l=Iot();t==null&&(t=[]);function u(){f(),c.call("tick",n),e<r&&(A.stop(),c.call("end",n))}function f(p){var v,y=t.length,m;p===void 0&&(p=1);for(var b=0;b<p;++b)for(e+=(a-e)*i,s.forEach(function(B){B(e)}),v=0;v<y;++v)m=t[v],m.fx==null?m.x+=m.vx*=o:(m.x=m.fx,m.vx=0),m.fy==null?m.y+=m.vy*=o:(m.y=m.fy,m.vy=0);return n}function d(){for(var p=0,v=t.length,y;p<v;++p){if(y=t[p],y.index=p,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var m=Uot*Math.sqrt(.5+p),b=p*Pot;y.x=m*Math.cos(b),y.y=m*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function h(p){return p.initialize&&p.initialize(t,l),p}return d(),n={tick:f,restart:function(){return A.restart(u),n},stop:function(){return A.stop(),n},nodes:function(p){return arguments.length?(t=p,d(),s.forEach(h),n):t},alpha:function(p){return arguments.length?(e=+p,n):e},alphaMin:function(p){return arguments.length?(r=+p,n):r},alphaDecay:function(p){return arguments.length?(i=+p,n):+i},alphaTarget:function(p){return arguments.length?(a=+p,n):a},velocityDecay:function(p){return arguments.length?(o=1-p,n):1-o},randomSource:function(p){return arguments.length?(l=p,s.forEach(h),n):l},force:function(p,v){return arguments.length>1?(v==null?s.delete(p):s.set(p,h(v)),n):s.get(p)},find:function(p,v,y){var m=0,b=t.length,B,x,C,O,_;for(y==null?y=1/0:y*=y,m=0;m<b;++m)O=t[m],B=p-O.x,x=v-O.y,C=B*B+x*x,C<y&&(_=O,y=C);return _},on:function(p,v){return arguments.length>1?(c.on(p,v),n):c.on(p)}}}function Rot(){var t,n,e,r,i=$r(-30),a,o=1,s=1/0,A=.81;function c(d){var h,p=t.length,v=tx(t,Lot,Qot).visitAfter(u);for(r=d,h=0;h<p;++h)n=t[h],v.visit(f)}function l(){if(t){var d,h=t.length,p;for(a=new Array(h),d=0;d<h;++d)p=t[d],a[p.index]=+i(p,d,t)}}function u(d){var h=0,p,v,y=0,m,b,B;if(d.length){for(m=b=B=0;B<4;++B)(p=d[B])&&(v=Math.abs(p.value))&&(h+=p.value,y+=v,m+=v*p.x,b+=v*p.y);d.x=m/y,d.y=b/y}else{p=d,p.x=p.data.x,p.y=p.data.y;do h+=a[p.data.index];while(p=p.next)}d.value=h}function f(d,h,p,v){if(!d.value)return!0;var y=d.x-n.x,m=d.y-n.y,b=v-h,B=y*y+m*m;if(b*b/A<B)return B<s&&(y===0&&(y=vs(e),B+=y*y),m===0&&(m=vs(e),B+=m*m),B<o&&(B=Math.sqrt(o*B)),n.vx+=y*d.value*r/B,n.vy+=m*d.value*r/B),!0;if(d.length||B>=s)return;(d.data!==n||d.next)&&(y===0&&(y=vs(e),B+=y*y),m===0&&(m=vs(e),B+=m*m),B<o&&(B=Math.sqrt(o*B)));do d.data!==n&&(b=a[d.data.index]*r/B,n.vx+=y*b,n.vy+=m*b);while(d=d.next)}return c.initialize=function(d,h){t=d,e=h,l()},c.strength=function(d){return arguments.length?(i=typeof d=="function"?d:$r(+d),l(),c):i},c.distanceMin=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.distanceMax=function(d){return arguments.length?(s=d*d,c):Math.sqrt(s)},c.theta=function(d){return arguments.length?(A=d*d,c):Math.sqrt(A)},c}function iP(t){var n=$r(.1),e,r,i;typeof t!="function"&&(t=$r(t==null?0:+t));function a(s){for(var A=0,c=e.length,l;A<c;++A)l=e[A],l.vx+=(i[A]-l.x)*r[A]*s}function o(){if(e){var s,A=e.length;for(r=new Array(A),i=new Array(A),s=0;s<A;++s)r[s]=isNaN(i[s]=+t(e[s],s,e))?0:+n(e[s],s,e)}}return a.initialize=function(s){e=s,o()},a.strength=function(s){return arguments.length?(n=typeof s=="function"?s:$r(+s),o(),a):n},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:$r(+s),o(),a):t},a}function aP(t){var n=$r(.1),e,r,i;typeof t!="function"&&(t=$r(t==null?0:+t));function a(s){for(var A=0,c=e.length,l;A<c;++A)l=e[A],l.vy+=(i[A]-l.y)*r[A]*s}function o(){if(e){var s,A=e.length;for(r=new Array(A),i=new Array(A),s=0;s<A;++s)r[s]=isNaN(i[s]=+t(e[s],s,e))?0:+n(e[s],s,e)}}return a.initialize=function(s){e=s,o()},a.strength=function(s){return arguments.length?(n=typeof s=="function"?s:$r(+s),o(),a):n},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:$r(+s),o(),a):t},a}function oP(t,n){n(t),t.children&&t.children.forEach(function(e){e&&oP(e,n)})}function id(t){av(t,!0)}function Rs(t){av(t,!1)}function av(t,n){var e=n?"visible":"hidden";oP(t,function(r){r.attr("visibility",e)})}var Not=(function(t){dn(n,t);function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.apply(this,Ut([],z(e),!1))||this;return i.isMutationObserved=!0,i.addEventListener(me.INSERTED,function(){Rs(i)}),i}return n})(ur);function sP(t){var n=t.appendChild(new Not({class:"offscreen"}));return Rs(n),n}function Dot(t){for(var n=t;n;){if(n.className==="offscreen")return!0;n=n.parent}return!1}var nx=(function(t){dn(n,t);function n(e){e===void 0&&(e={});var r=e.style,i=Xn(e,["style"]);return t.call(this,dt({style:dt({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},i))||this}return Object.defineProperty(n.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=sP(this)),this._offscreen},enumerable:!1,configurable:!0}),n.prototype.disconnectedCallback=function(){var e;(e=this._offscreen)===null||e===void 0||e.destroy()},n})(qi);function ll(t){return t*Math.PI/180}function AP(t){return Number((t*180/Math.PI).toPrecision(5))}var gn=(function(){function t(n,e,r,i){n===void 0&&(n=0),e===void 0&&(e=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=n,this.y=e,this.width=r,this.height=i}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(n){return new t(n.x,n.y,n.width,n.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t.prototype.isPointIn=function(n,e){return n>=this.left&&n<=this.right&&e>=this.top&&e<=this.bottom},t})();function ii(t,n){return or(t)?t.apply(void 0,Ut([],z(n),!1)):t}var ea=function(t,n){var e=function(i){return"".concat(n,"-").concat(i)},r=Object.fromEntries(Object.entries(t).map(function(i){var a=z(i,2),o=a[0],s=a[1],A=e(s);return[o,{name:A,class:".".concat(A),id:"#".concat(A),toString:function(){return A}}]}));return Object.assign(r,{prefix:e}),r},Hot=5,cP=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=Hot),Object.entries(n).forEach(function(i){var a=z(i,2),o=a[0],s=a[1],A=t;Object.prototype.hasOwnProperty.call(n,o)&&(s?Uo(s)?(Uo(t[o])||(A[o]={}),e<r?cP(t[o],s,e+1,r):A[o]=n[o]):Nn(s)?(A[o]=[],A[o]=A[o].concat(s)):A[o]=s:A[o]=s)})},ba=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r+=1)cP(t,n[r]);return t},jot=function(t){return t!==void 0&&t!=null&&!Number.isNaN(t)},pp,lP=MV(function(t,n){var e=n.fontSize,r=n.fontFamily,i=n.fontWeight,a=n.fontStyle,o=n.fontVariant;return pp||(pp=gt.offscreenCanvasCreator.getOrCreateContext(void 0)),pp.font=[a,o,i,"".concat(e,"px"),r].join(" "),pp.measureText(t).width},function(t,n){return[t,Object.values(n||uP(t)).join()].join("")},4096),uP=function(t){var n=t.style.fontFamily||"sans-serif",e=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,a=t.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:n,fontWeight:e,fontStyle:r,fontVariant:i}};function fP(t){return t.nodeName==="text"?t:t.nodeName==="g"&&t.children.length===1&&t.children[0].nodeName==="text"?t.children[0]:null}function dP(t,n){var e=fP(t);e&&e.attr(n)}function nb(t,n,e){e===void 0&&(e="..."),dP(t,{wordWrap:!0,wordWrapWidth:n,maxLines:1,textOverflow:e})}function $ot(t,n,e,r){e===void 0&&(e=2),r===void 0&&(r="top"),dP(t,{wordWrap:!0,wordWrapWidth:n,maxLines:e,textBaseline:r})}function hP(t){var n=t.canvas,e=t.touches,r=t.offsetX,i=t.offsetY;if(n){var a=n.x,o=n.y;return[a,o]}if(e){var s=e[0],A=s.clientX,c=s.clientY;return[A,c]}return r&&i?[r,i]:[0,0]}function IF(t){var n=t.nativeEvent,e=t.touches,r=t.clientX,i=t.clientY;if(n)return[n.clientX,n.clientY];if(e){var a=e[0],o=a.clientX,s=a.clientY;return[o,s]}return typeof r=="number"&&typeof i=="number"?[r,i]:[0,0]}function PA(t){return typeof t=="function"?t():sn(t)||rn(t)?new nx({style:{text:String(t)}}):t}function Got(t,n){return typeof t=="function"?t():sn(t)||rn(t)?new WA({style:dt(dt({pointerEvents:"auto"},n),{innerHTML:t})}):t}function Kot(t,n){return t.reduce(function(e,r){return(e[r[n]]=e[r[n]]||[]).push(r),e},{})}function Gr(t,n,e,r,i){return r===void 0&&(r=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),t?e(n):(r&&i(n),null)}function mr(t,n,e,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!1),r&&t===n||i&&t===e?!0:t>n&&t<e}var zot=function(t,n){return function(e){return t*(1-e)+n*e}};function Wot(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0;return function(i){var a=new Array(r),o=new Array(e),s=0;for(s=0;s<r;++s)a[s]=rx(t[s],n[s]);for(;s<e;++s)o[s]=n[s];for(s=0;s<r;++s)o[s]=a[s](i);return o}}function Vot(t,n){t===void 0&&(t={}),n===void 0&&(n={});var e={},r={};return Object.entries(n).forEach(function(i){var a=z(i,2),o=a[0],s=a[1];o in t?e[o]=rx(t[o],s):r[o]=s}),function(i){return Object.entries(e).forEach(function(a){var o=z(a,2),s=o[0],A=o[1];return r[s]=A(i)}),r}}function rx(t,n){return typeof t=="number"&&typeof n=="number"?zot(t,n):Array.isArray(t)&&Array.isArray(n)?Wot(t,n):typeof t=="object"&&typeof n=="object"?Vot(t,n):(function(e){return t})}function Yot(t,n,e,r){if(!r)return t.attr("__keyframe_data__",e),null;var i=r.duration,a=i===void 0?0:i,o=rx(n,e),s=Math.ceil(+a/16),A=new Array(s).fill(0).map(function(c,l,u){return{__keyframe_data__:o(l/(u.length-1))}});return t.animate(A,dt({fill:"both"},r))}function LF(t){for(var n=1/0,e=1/0,r=-1/0,i=-1/0,a=0;a<t.length;a++){var o=t[a],s=o.x,A=o.y,c=o.width,l=o.height,u=z([s+c,A+l],2),f=u[0],d=u[1];s<n&&(n=s),A<e&&(e=A),f>r&&(r=f),d>i&&(i=d)}return new gn(n,e,r-n,i-e)}var Xot=function(t,n,e){var r=t.width,i=t.height,a=e.flexDirection,o=a===void 0?"row":a;e.flexWrap;var s=e.justifyContent,A=s===void 0?"flex-start":s;e.alignContent;var c=e.alignItems,l=c===void 0?"flex-start":c,u=o==="row",f=o==="row"||o==="column",d=u?f?[1,0]:[-1,0]:f?[0,1]:[0,-1],h=z([0,0],2),p=h[0],v=h[1],y=n.map(function(_){var S,F=_.width,M=_.height,T=z([p,v],2),k=T[0],L=T[1];return S=z([p+F*d[0],v+M*d[1]],2),p=S[0],v=S[1],new gn(k,L,F,M)}),m=LF(y),b={"flex-start":0,"flex-end":u?r-m.width:i-m.height,center:u?(r-m.width)/2:(i-m.height)/2},B=y.map(function(_){var S=_.x,F=_.y,M=gn.fromRect(_);return M.x=u?S+b[A]:S,M.y=u?F:F+b[A],M});LF(B);var x=function(_){var S=z(u?["height",i]:["width",r],2),F=S[0],M=S[1];switch(l){case"flex-start":return 0;case"flex-end":return M-_[F];case"center":return M/2-_[F]/2;default:return 0}},C=B.map(function(_){var S=_.x,F=_.y,M=gn.fromRect(_);return M.x=u?S:S+x(M),M.y=u?F+x(M):F,M}),O=C.map(function(_){var S,F,M=gn.fromRect(_);return M.x+=(S=t.x)!==null&&S!==void 0?S:0,M.y+=(F=t.y)!==null&&F!==void 0?F:0,M});return O},qot=function(t,n,e){return[]};const Zot=(function(t,n,e){if(n.length===0)return[];var r={flex:Xot,grid:qot},i=e.display in r?r[e.display]:null;return i?.call(null,t,n,e)||[]});function _o(t,n){return[t[0]*n,t[1]*n]}function ku(t,n){return[t[0]+n[0],t[1]+n[1]]}function r1(t,n){return[t[0]-n[0],t[1]-n[1]]}function AA(t,n){return[Math.min(t[0],n[0]),Math.min(t[1],n[1])]}function cA(t,n){return[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}function bf(t,n){return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function pP(t){if(t[0]===0&&t[1]===0)return[0,0];var n=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/n,t[1]/n]}function Jot(t,n){return n?[t[1],-t[0]]:[-t[1],t[0]]}function rb(t,n){return+t.toPrecision(n)}function ib(t,n){var e={},r=Array.isArray(n)?n:[n];for(var i in t)r.includes(i)||(e[i]=t[i]);return e}function tst(t,n,e,r){var i,a=[],o=!!r,s,A,c=[1/0,1/0],l=[-1/0,-1/0],u,f,d;if(o){i=z(r,2),c=i[0],l=i[1];for(var h=0,p=t.length;h<p;h+=1){var v=t[h];c=AA(c,v),l=cA(l,v)}}for(var h=0,y=t.length;h<y;h+=1){var v=t[h];if(h===0)d=v;else if(h===y-1)f=v,a.push(d),a.push(f);else{var m=[h?h-1:y-1,h-1][1];s=t[m],A=t[h+1];var b=[0,0];b=r1(A,s),b=_o(b,n);var B=bf(v,s),x=bf(v,A),C=B+x;C!==0&&(B/=C,x/=C);var O=_o(b,-B),_=_o(b,x);f=ku(v,O),u=ku(v,_),u=AA(u,cA(A,v)),u=cA(u,AA(A,v)),O=r1(u,v),O=_o(O,-B/x),f=ku(v,O),f=AA(f,cA(s,v)),f=cA(f,AA(s,v)),_=r1(v,f),_=_o(_,x/B),u=ku(v,_),o&&(f=cA(f,c),f=AA(f,l),u=cA(u,c),u=AA(u,l)),a.push(d),a.push(f),d=u}}return a}function est(t,n,e){e===void 0&&(e=[[0,0],[1,1]]);for(var r=!1,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=tst(i,.4,r,e),A=i.length,c=[],l,u,f,a=0;a<A-1;a+=1)l=s[a*2],u=s[a*2+1],f=i[a+1],c.push(["C",l[0],l[1],u[0],u[1],f[0],f[1]]);return c}var nst=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function rst(t){return nst.includes(t)}function QF(t){var n={};for(var e in t)rst(e)&&(n[e]=t[e]);return n}function ist(t,n){if(t.length<=n)return t;for(var e=Math.floor(t.length/n),r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ix(t,n,e){var r=t.getBBox(),i=r.width,a=r.height,o=n/Math.max(i,a);return t.style.transform="scale(".concat(o,")"),o}function ast(t,n){var e=new Map;return t.forEach(function(r){var i=n(r);e.has(i)||e.set(i,[]),e.get(i).push(r)}),e}function ost(t){throw new Error(t)}var sst=(function(){function t(i,a,o,s,A,c,l){i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null),s===void 0&&(s=null),A===void 0&&(A=[null,null,null,null,null]),c===void 0&&(c=[]),l===void 0&&(l=[]),n.add(this),this._elements=Array.from(i),this._data=a,this._parent=o,this._document=s,this._enter=A[0],this._update=A[1],this._exit=A[2],this._merge=A[3],this._split=A[4],this._transitions=c,this._facetElements=l}t.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new e(a,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new e(this._elements,null,this._parent,this._document,void 0,void 0,a)},t.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new e([a],null,a,this._document)},t.prototype.append=function(i){var a=this,o=typeof i=="function"?i:function(){return a.createElement(i)},s=[];if(this._data!==null){for(var A=0;A<this._data.length;A++){var c=this._data[A],l=z(Array.isArray(c)?c:[c,null],2),u=l[0],f=l[1],d=o(u,A);d.__data__=u,f!==null&&(d.__fromElements__=f),this._parent.appendChild(d),s.push(d)}return new e(s,null,this._parent,this._document)}for(var A=0;A<this._elements.length;A++){var h=this._elements[A],u=h.__data__,d=o(u,A);h.appendChild(d),s.push(d)}return new e(s,null,s[0],this._document)},t.prototype.maybeAppend=function(i,a){var o=ym(this,n,"m",r).call(this,i[0]==="#"?i:"#".concat(i),a);return o.attr("id",i),o},t.prototype.maybeAppendByClassName=function(i,a){var o=i.toString(),s=ym(this,n,"m",r).call(this,o[0]==="."?o:".".concat(o),a);return s.attr("className",o),s},t.prototype.maybeAppendByName=function(i,a){var o=ym(this,n,"m",r).call(this,'[name="'.concat(i,'"]'),a);return o.attr("name",i),o},t.prototype.data=function(i,a,o){var s,A;a===void 0&&(a=function(F){return F}),o===void 0&&(o=function(){return null});for(var c=[],l=[],u=new Set(this._elements),f=[],d=new Set,h=new Map(this._elements.map(function(F,M){return[a(F.__data__,M),F]})),p=new Map(this._facetElements.map(function(F,M){return[a(F.__data__,M),F]})),v=ast(this._elements,function(F){return o(F.__data__)}),y=0;y<i.length;y++){var m=i[y],b=a(m,y),B=o(m,y);if(h.has(b)){var x=h.get(b);x.__data__=m,x.__facet__=!1,l.push(x),u.delete(x),h.delete(b)}else if(p.has(b)){var x=p.get(b);x.__data__=m,x.__facet__=!0,l.push(x),p.delete(b)}else if(v.has(b)){var C=v.get(b);f.push([m,C]);try{for(var O=(s=void 0,Jf(C)),_=O.next();!_.done;_=O.next()){var x=_.value;u.delete(x)}}catch(F){s={error:F}}finally{try{_&&!_.done&&(A=O.return)&&A.call(O)}finally{if(s)throw s.error}}v.delete(b)}else if(h.has(B)){var x=h.get(B);x.__toData__?x.__toData__.push(m):x.__toData__=[m],d.add(x),u.delete(x)}else c.push(m)}var S=[new e([],c,this._parent,this._document),new e(l,null,this._parent,this._document),new e(u,null,this._parent,this._document),new e([],f,this._parent,this._document),new e(d,null,this._parent,this._document)];return new e(this._elements,null,this._parent,this._document,S)},t.prototype.merge=function(i){var a=Ut(Ut([],z(this._elements),!1),z(i._elements),!1),o=Ut(Ut([],z(this._transitions),!1),z(i._transitions),!1);return new e(a,null,this._parent,this._document,void 0,o)},t.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=e.registry[i];return a?new a:ost("Unknown node type: ".concat(i))},t.prototype.join=function(i,a,o,s,A){i===void 0&&(i=function(h){return h}),a===void 0&&(a=function(h){return h}),o===void 0&&(o=function(h){return h.remove()}),s===void 0&&(s=function(h){return h}),A===void 0&&(A=function(h){return h.remove()});var c=i(this._enter),l=a(this._update),u=o(this._exit),f=s(this._merge),d=A(this._split);return l.merge(c).merge(u).merge(f).merge(d)},t.prototype.remove=function(){for(var i=function(s){var A=a._elements[s],c=a._transitions[s];c?c.then(function(){return A.remove()}):A.remove()},a=this,o=0;o<this._elements.length;o++)i(o);return new e([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var o=this._elements[a],s=o.__data__;i.call(o,s,a)}return this},t.prototype.attr=function(i,a){var o=typeof a!="function"?function(){return a}:a;return this.each(function(s,A){a!==void 0&&(this[i]=o.call(this,s,A))})},t.prototype.style=function(i,a,o){o===void 0&&(o=!0);var s=typeof a!="function"||!o?function(){return a}:a;return this.each(function(A,c){a!==void 0&&(this.style[i]=s.call(this,A,c))})},t.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(o,s){var A=this;Object.entries(i).forEach(function(c){var l=z(c,2),u=l[0],f=l[1],d=typeof f!="function"||!a?function(){return f}:f;f!==void 0&&A.attr(u,d.call(A,o,s))})})},t.prototype.update=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,A){i&&this.update&&this.update(o.call(this,s,A))})},t.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,A){i&&this.update&&this.update(o.call(this,s,A))})},t.prototype.transition=function(i){this._transitions;var a=new Array(this._elements.length);return this.each(function(o,s){a[s]=i.call(this,o,s)}),this._transitions=BV(a),this},t.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},t.prototype.call=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return i.call.apply(i,Ut([this._parent,this],z(a),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},t.prototype.parent=function(){return this._parent};var n,e,r;return e=t,n=new WeakSet,r=function(a,o){var s=this._elements[0],A=s.querySelector(a);if(A)return new e([A],null,this._parent,this._document);var c=typeof o=="string"?this.createElement(o):o();return s.appendChild(c),new e([c],null,this._parent,this._document)},t.registry={g:ur,rect:Ps,circle:to,path:sr,text:nx,ellipse:$0,image:G0,line:VA,polygon:YA,polyline:K0,html:WA},t})();function Yt(t){return new sst([t],null,t,t.ownerDocument)}function Ast(t,n,e){return t.querySelector(n)?Yt(t).select(n):Yt(t).append(e)}function Br(t){if(rn(t))return[t,t,t,t];if(Nn(t)){var n=t.length;if(n===1)return[t[0],t[0],t[0],t[0]];if(n===2)return[t[0],t[1],t[0],t[1]];if(n===3)return[t[0],t[1],t[2],t[1]];if(n===4)return t}return[0,0,0,0]}function UF(t){var n=t.getLocalBounds(),e=n.min,r=n.max,i=z([e,r],2),a=z(i[0],2),o=a[0],s=a[1],A=z(i[1],2),c=A[0],l=A[1];return{x:o,y:s,width:c-o,height:l-s,left:o,bottom:l,top:s,right:c}}function cst(t,n){var e=z(t,2),r=e[0],i=e[1],a=z(n,2),o=a[0],s=a[1];return r!==o&&i===s}function lst(t,n){var e,r,i=n.attributes;try{for(var a=Jf(Object.entries(i)),o=a.next();!o.done;o=a.next()){var s=z(o.value,2),A=s[0],c=s[1];A!=="id"&&A!=="className"&&t.attr(A,c)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}}function ax(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function ust(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function fst(t,n){return"".concat(n).concat(ax(t))}function PF(t,n,e){var r;e===void 0&&(e=!0);var i=n||((r=t.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",a=t.replace(new RegExp("^(".concat(i,")")),"");return e?ust(a):a}function dst(t,n){Object.entries(n).forEach(function(e){var r=z(e,2),i=r[0],a=r[1];Ut([t],z(t.querySelectorAll(i)),!1).filter(function(o){return o.matches(i)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(a).reduce(function(A,c){return"".concat(A).concat(c.join(":"),";")},"")}})})}var gp=function(t,n){if(!t?.startsWith(n))return!1;var e=t[n.length];return e>="A"&&e<="Z"};function Ae(t,n,e){e===void 0&&(e=!1);var r={};return Object.entries(t).forEach(function(i){var a=z(i,2),o=a[0],s=a[1];if(!(o==="className"||o==="class")){if(gp(o,"show")&&gp(PF(o,"show"),n)!==e)o===fst(n,"show")?r[o]=s:r[o.replace(new RegExp(ax(n)),"")]=s;else if(!gp(o,"show")&&gp(o,n)!==e){var A=PF(o,n);A==="filter"&&typeof s=="function"||(r[A]=s)}}}),r}function Pa(t,n){return Object.entries(t).reduce(function(e,r){var i=z(r,2),a=i[0],o=i[1];return a.startsWith("show")?e["show".concat(n).concat(a.slice(4))]=o:e["".concat(n).concat(ax(a))]=o,e},{})}function Po(t,n){n===void 0&&(n=["x","y","class","className"]);var e=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach(function(a){var o=z(a,2),s=o[0],A=o[1];n.includes(s)||(e.indexOf(s)!==-1?i[s]=A:r[s]=A)}),[r,i]}function hst(t,n,e){var r=t.getBBox(),i=r.width,a=r.height,o=z([n,e].map(function(c,l){var u;return c.includes("%")?parseFloat(((u=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||u===void 0?void 0:u[0])||"0")/100*(l===0?i:a):c}),2),s=o[0],A=o[1];return[s,A]}function gP(t,n){if(n)try{var e=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=n.replace(e,function(i,a,o){return"translate(".concat(hst(t,a,o),")")});t.attr("transform",r)}catch{}}function pst(t){var n;return((n=t[0])===null||n===void 0?void 0:n.map(function(e,r){return t.map(function(i){return i[r]})}))||[]}var RF=function(t,n){if(n==null){t.innerHTML="";return}t.replaceChildren?Array.isArray(n)?t.replaceChildren.apply(t,Ut([],z(n),!1)):t.replaceChildren(n):(t.innerHTML="",Array.isArray(n)?n.forEach(function(e){return t.appendChild(e)}):t.appendChild(n))};function ov(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(n){return n[0]}):t.length>2?[t[0]]:t.split("")}var gst=function(t){var n=new DOMParser,e=n.parseFromString(t,"text/html"),r=e.body.firstElementChild;if(console.log(r?.getClientRects(),11),!r)return 0;var i=r.getAttribute("style")||"",a=Object.fromEntries(i.split(";").map(function(v){return v.trim()}).filter(function(v){return v.includes(":")}).map(function(v){var y=z(v.split(":").map(function(B){return B.trim()}),2),m=y[0],b=y[1];return[m.toLowerCase(),b]})),o=function(v){if(!v)return 0;var y=v.match(/([\d.]+)px/);return y?parseFloat(y[1]):0};if(a.height)return o(a.height);var s=o(a["font-size"])||16,A=a["line-height"],c;!A||A==="normal"?c=1.2*s:A.endsWith("px")?c=o(A):/^[\d.]+$/.test(A)?c=parseFloat(A)*s:c=s;var l=o(a["padding-top"]),u=o(a["padding-bottom"]);if(a.padding){var f=a.padding.split(/\s+/).map(o);f.length===1||f.length===2?(l=f[0],u=f[0]):(f.length===3||f.length===4)&&(l=f[0],u=f[2])}var d=o(a["border-top-width"]),h=o(a["border-bottom-width"]);if(a.border){var p=a.border.match(/([\d.]+)px/);p&&(d=parseFloat(p[1]),h=parseFloat(p[1]))}if(a["border-width"]){var f=a["border-width"].split(/\s+/).map(o);f.length===1||f.length===2?(d=f[0],h=f[0]):(f.length===3||f.length===4)&&(d=f[0],h=f[2])}return c+l+u+d+h};function vst(){av(this,this.attributes.visibility!=="hidden")}var fr=(function(t){dn(n,t);function n(e,r){r===void 0&&(r={});var i=t.call(this,ba({},{style:r},e))||this;return i.initialized=!1,i._defaultOptions=r,i}return Object.defineProperty(n.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=sP(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),n.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},n.prototype.disconnectedCallback=function(){var e;(e=this._offscreen)===null||e===void 0||e.destroy()},n.prototype.attributeChangedCallback=function(e){e==="visibility"&&vst.call(this)},n.prototype.update=function(e,r){var i;return this.attr(ba({},this.attributes,e||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},n.prototype.clear=function(){this.removeChildren()},n.prototype.bindEvents=function(e,r){},n.prototype.getSubShapeStyle=function(e){e.x,e.y,e.transform,e.transformOrigin,e.class,e.className,e.zIndex;var r=Xn(e,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},n})(zA),vP=function(t,n,e){return[["M",t-e,n],["A",e,e,0,1,0,t+e,n],["A",e,e,0,1,0,t-e,n],["Z"]]},yst=vP,mst=function(t,n,e){return[["M",t-e,n-e],["L",t+e,n-e],["L",t+e,n+e],["L",t-e,n+e],["Z"]]},wst=function(t,n,e){return[["M",t-e,n],["L",t,n-e],["L",t+e,n],["L",t,n+e],["Z"]]},bst=function(t,n,e){var r=e*Math.sin(.3333333333333333*Math.PI);return[["M",t-e,n+r],["L",t,n-r],["L",t+e,n+r],["Z"]]},Bst=function(t,n,e){var r=e*Math.sin(.3333333333333333*Math.PI);return[["M",t-e,n-r],["L",t+e,n-r],["L",t,n+r],["Z"]]},xst=function(t,n,e){var r=e/2*Math.sqrt(3);return[["M",t,n-e],["L",t+r,n-e/2],["L",t+r,n+e/2],["L",t,n+e],["L",t-r,n+e/2],["L",t-r,n-e/2],["Z"]]},Cst=function(t,n,e){var r=e-1.5;return[["M",t-e,n-r],["L",t+e,n+r],["L",t+e,n-r],["L",t-e,n+r],["Z"]]},yP=function(t,n,e){return[["M",t,n+e],["L",t,n-e]]},Ost=function(t,n,e){return[["M",t-e,n-e],["L",t+e,n+e],["M",t+e,n-e],["L",t-e,n+e]]},Est=function(t,n,e){return[["M",t-e/2,n-e],["L",t+e/2,n-e],["M",t,n-e],["L",t,n+e],["M",t-e/2,n+e],["L",t+e/2,n+e]]},_st=function(t,n,e){return[["M",t-e,n],["L",t+e,n],["M",t,n-e],["L",t,n+e]]},Sst=function(t,n,e){return[["M",t-e,n],["L",t+e,n]]},mP=function(t,n,e){return[["M",t-e,n],["L",t+e,n]]},Fst=mP,Mst=function(t,n,e){return[["M",t-e,n],["A",e/2,e/2,0,1,1,t,n],["A",e/2,e/2,0,1,0,t+e,n]]},kst=function(t,n,e){return[["M",t-e-1,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+e+1,n+2.5]]},Tst=function(t,n,e){return[["M",t-e-1,n+2.5],["L",t,n+2.5],["L",t,n-2.5],["L",t+e+1,n-2.5]]},Ist=function(t,n,e){return[["M",t-(e+1),n+2.5],["L",t-e/2,n+2.5],["L",t-e/2,n-2.5],["L",t+e/2,n-2.5],["L",t+e/2,n+2.5],["L",t+e+1,n+2.5]]};function Lst(t,n){return[["M",t-5,n+2.5],["L",t-5,n],["L",t,n],["L",t,n-3],["L",t,n+3],["L",t+6.5,n+3]]}var Qst=function(t,n,e){return[["M",t-e,n-e],["L",t+e,n],["L",t-e,n+e],["Z"]]},Ust=function(t,n,e){var r=e,i=e*.2,a=e*.7;return[["M",t-r,n],["A",r,r,0,1,0,t+r,n],["A",r,r,0,1,0,t-r,n],["Z"],["M",t-a,n],["L",t-i,n],["M",t+i,n],["L",t+a,n],["M",t,n-a],["L",t,n-i],["M",t,n+i],["L",t,n+a]]};function Pst(t){var n="default";if(qf(t)&&t instanceof Image)n="image";else if(or(t))n="symbol";else if(sn(t)){var e=new RegExp("data:(image|text)");t.match(e)?n="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?n="url":n="symbol"}return n}function Rst(t){var n=Pst(t);return["base64","url","image"].includes(n)?"image":t&&n==="symbol"?"path":null}var Fe=(function(t){dn(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(e,r){var i=e.x,a=i===void 0?0:i,o=e.y,s=o===void 0?0:o,A=this.getSubShapeStyle(e),c=A.symbol,l=A.size,u=l===void 0?16:l,f=Xn(A,["symbol","size"]),d=Rst(c);Gr(!!d,Yt(r),function(h){h.maybeAppendByClassName("marker",d).attr("className","marker ".concat(d,"-marker")).call(function(p){if(d==="image"){var v=u*2;p.styles({img:c,width:v,height:v,x:a-u,y:s-u})}else{var v=u/2,y=or(c)?c:n.getSymbol(c);p.styles(dt({d:y?.(a,s,v)},f))}})})},n.MARKER_SYMBOL_MAP=new Map,n.registerSymbol=function(e,r){n.MARKER_SYMBOL_MAP.set(e,r)},n.getSymbol=function(e){return n.MARKER_SYMBOL_MAP.get(e)},n.getSymbols=function(){return Array.from(n.MARKER_SYMBOL_MAP.keys())},n})(fr);Fe.registerSymbol("cross",Ost);Fe.registerSymbol("hyphen",Sst);Fe.registerSymbol("line",yP);Fe.registerSymbol("plus",_st);Fe.registerSymbol("tick",Est);Fe.registerSymbol("circle",vP);Fe.registerSymbol("point",yst);Fe.registerSymbol("bowtie",Cst);Fe.registerSymbol("hexagon",xst);Fe.registerSymbol("square",mst);Fe.registerSymbol("diamond",wst);Fe.registerSymbol("triangle",bst);Fe.registerSymbol("triangle-down",Bst);Fe.registerSymbol("line",yP);Fe.registerSymbol("dot",mP);Fe.registerSymbol("dash",Fst);Fe.registerSymbol("smooth",Mst);Fe.registerSymbol("hv",kst);Fe.registerSymbol("vh",Tst);Fe.registerSymbol("hvh",Ist);Fe.registerSymbol("vhv",Lst);Fe.registerSymbol("focus",Ust);function Rg(t,...n){return n.reduce((e,r)=>i=>e(r(i)),t)}function ab(t,n){return n-t?e=>(e-t)/(n-t):e=>.5}function Nst(t,n){const e=n<t?n:t,r=t>n?t:n;return i=>Math.min(Math.max(e,i),r)}function Dst(t,n,e,r,i){let a=e,o=r||t.length;const s=(A=>A);for(;a<o;){const A=Math.floor((a+o)/2);s(t[A])>n?o=A:a=A+1}return a}const NF=Math.sqrt(50),DF=Math.sqrt(10),HF=Math.sqrt(2);function zp(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=NF?10:a>=DF?5:a>=HF?2:1)*10**i:-(10**-i)/(a>=NF?10:a>=DF?5:a>=HF?2:1)}const Hst=(t,n,e=5)=>{const r=[t,n];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=zp(o,s,e),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=zp(o,s,e)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=zp(o,s,e)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r};function jF(t){return!We(t)&&!PL(t)&&!Number.isNaN(t)}var i1={exports:{}},a1,$F;function jst(){return $F||($F=1,a1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),a1}var o1={exports:{}},s1,GF;function $st(){return GF||(GF=1,s1=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")}),s1}var KF;function Gst(){if(KF)return o1.exports;KF=1;var t=$st(),n=Array.prototype.concat,e=Array.prototype.slice,r=o1.exports=function(a){for(var o=[],s=0,A=a.length;s<A;s++){var c=a[s];t(c)?o=n.call(o,e.call(c)):o.push(c)}return o};return r.wrap=function(i){return function(){return i(r(arguments))}},o1.exports}var zF;function Kst(){if(zF)return i1.exports;zF=1;var t=jst(),n=Gst(),e=Object.hasOwnProperty,r=Object.create(null);for(var i in t)e.call(t,i)&&(r[t[i]]=i);var a=i1.exports={to:{},get:{}};a.get=function(A){var c=A.substring(0,3).toLowerCase(),l,u;switch(c){case"hsl":l=a.get.hsl(A),u="hsl";break;case"hwb":l=a.get.hwb(A),u="hwb";break;default:l=a.get.rgb(A),u="rgb";break}return l?{model:u,value:l}:null},a.get.rgb=function(A){if(!A)return null;var c=/^#([a-f0-9]{3,4})$/i,l=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,u=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,f=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^(\w+)$/,h=[0,0,0,1],p,v,y;if(p=A.match(l)){for(y=p[2],p=p[1],v=0;v<3;v++){var m=v*2;h[v]=parseInt(p.slice(m,m+2),16)}y&&(h[3]=parseInt(y,16)/255)}else if(p=A.match(c)){for(p=p[1],y=p[3],v=0;v<3;v++)h[v]=parseInt(p[v]+p[v],16);y&&(h[3]=parseInt(y+y,16)/255)}else if(p=A.match(u)){for(v=0;v<3;v++)h[v]=parseInt(p[v+1],0);p[4]&&(p[5]?h[3]=parseFloat(p[4])*.01:h[3]=parseFloat(p[4]))}else if(p=A.match(f)){for(v=0;v<3;v++)h[v]=Math.round(parseFloat(p[v+1])*2.55);p[4]&&(p[5]?h[3]=parseFloat(p[4])*.01:h[3]=parseFloat(p[4]))}else return(p=A.match(d))?p[1]==="transparent"?[0,0,0,0]:e.call(t,p[1])?(h=t[p[1]],h[3]=1,h):null:null;for(v=0;v<3;v++)h[v]=o(h[v],0,255);return h[3]=o(h[3],0,1),h},a.get.hsl=function(A){if(!A)return null;var c=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,l=A.match(c);if(l){var u=parseFloat(l[4]),f=(parseFloat(l[1])%360+360)%360,d=o(parseFloat(l[2]),0,100),h=o(parseFloat(l[3]),0,100),p=o(isNaN(u)?1:u,0,1);return[f,d,h,p]}return null},a.get.hwb=function(A){if(!A)return null;var c=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,l=A.match(c);if(l){var u=parseFloat(l[4]),f=(parseFloat(l[1])%360+360)%360,d=o(parseFloat(l[2]),0,100),h=o(parseFloat(l[3]),0,100),p=o(isNaN(u)?1:u,0,1);return[f,d,h,p]}return null},a.to.hex=function(){var A=n(arguments);return"#"+s(A[0])+s(A[1])+s(A[2])+(A[3]<1?s(Math.round(A[3]*255)):"")},a.to.rgb=function(){var A=n(arguments);return A.length<4||A[3]===1?"rgb("+Math.round(A[0])+", "+Math.round(A[1])+", "+Math.round(A[2])+")":"rgba("+Math.round(A[0])+", "+Math.round(A[1])+", "+Math.round(A[2])+", "+A[3]+")"},a.to.rgb.percent=function(){var A=n(arguments),c=Math.round(A[0]/255*100),l=Math.round(A[1]/255*100),u=Math.round(A[2]/255*100);return A.length<4||A[3]===1?"rgb("+c+"%, "+l+"%, "+u+"%)":"rgba("+c+"%, "+l+"%, "+u+"%, "+A[3]+")"},a.to.hsl=function(){var A=n(arguments);return A.length<4||A[3]===1?"hsl("+A[0]+", "+A[1]+"%, "+A[2]+"%)":"hsla("+A[0]+", "+A[1]+"%, "+A[2]+"%, "+A[3]+")"},a.to.hwb=function(){var A=n(arguments),c="";return A.length>=4&&A[3]!==1&&(c=", "+A[3]),"hwb("+A[0]+", "+A[1]+"%, "+A[2]+"%"+c+")"},a.to.keyword=function(A){return r[A.slice(0,3)]};function o(A,c,l){return Math.min(Math.max(c,A),l)}function s(A){var c=Math.round(A).toString(16).toUpperCase();return c.length<2?"0"+c:c}return i1.exports}var zst=Kst();const ox=bB(zst);function A1(t,n,e){let r=e;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function Wst(t){const n=t[0]/360,e=t[1]/100,r=t[2]/100,i=t[3];if(e===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+e):r+e-r*e,o=2*r-a,s=A1(o,a,n+1/3),A=A1(o,a,n),c=A1(o,a,n-1/3);return[s*255,A*255,c*255,i]}function WF(t){const n=ox.get(t);if(!n)return null;const{model:e,value:r}=n;return e==="rgb"?r:e==="hsl"?Wst(r):null}const Ng=(t,n)=>e=>t*(1-e)+n*e,Vst=(t,n)=>{const e=WF(t),r=WF(n);return e===null||r===null?e?()=>t:()=>n:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=e[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},Yst=(t,n)=>typeof t=="number"&&typeof n=="number"?Ng(t,n):typeof t=="string"&&typeof n=="string"?Vst(t,n):()=>t,Xst=(t,n)=>{const e=Ng(t,n);return r=>Math.round(e(r))};function VF({map:t,initKey:n},e){const r=n(e);return t.has(r)?t.get(r):e}function qst({map:t,initKey:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Zst({map:t,initKey:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Jst(t){return typeof t=="object"?t.valueOf():t}let YF=class extends Map{constructor(n){if(super(),this.map=new Map,this.initKey=Jst,n!==null)for(const[e,r]of n)this.set(e,r)}get(n){return super.get(VF({map:this.map,initKey:this.initKey},n))}has(n){return super.has(VF({map:this.map,initKey:this.initKey},n))}set(n,e){return super.set(qst({map:this.map,initKey:this.initKey},n),e)}delete(n){return super.delete(Zst({map:this.map,initKey:this.initKey},n))}},wP=class{constructor(n){this.options=at({},this.getDefaultOptions()),this.update(n)}getOptions(){return this.options}update(n={}){this.options=at({},this.options,n),this.rescale(n)}rescale(n){}};const sx=Symbol("defaultUnknown");function XF(t,n,e){for(let r=0;r<n.length;r+=1)t.has(n[r])||t.set(e(n[r]),r)}function qF(t){const{value:n,from:e,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(n);if(o===void 0){if(a!==sx)return a;o=e.push(n)-1,i.set(n,o)}return r[o%r.length]}function ZF(t){return t instanceof Date?n=>`${n}`:typeof t=="object"?n=>JSON.stringify(n):n=>n}let tAt=class bP extends wP{getDefaultOptions(){return{domain:[],range:[],unknown:sx}}constructor(n){super(n)}map(n){return this.domainIndexMap.size===0&&XF(this.domainIndexMap,this.getDomain(),this.domainKey),qF({value:this.domainKey(n),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(n){return this.rangeIndexMap.size===0&&XF(this.rangeIndexMap,this.getRange(),this.rangeKey),qF({value:this.rangeKey(n),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(n){const[e]=this.options.domain,[r]=this.options.range;if(this.domainKey=ZF(e),this.rangeKey=ZF(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!n||n.range)&&this.rangeIndexMap.clear(),(!n||n.domain||n.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new bP(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:n,compare:e}=this.options;return this.sortedDomain=e?[...n].sort(e):n,this.sortedDomain}};function eAt(t){const n=Math.min(...t);return t.map(e=>e/n)}function nAt(t,n){const e=t.length,r=n-e;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,n):t}function rAt(t){return Math.round(t*1e12)/1e12}function iAt(t){const{domain:n,range:e,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,A=n.length,c=nAt(a,A),[l,u]=e,f=u-l,d=2/A*r+1-1/A*i,h=f/d,p=h*i/A,v=h-A*p,y=eAt(c),m=y.reduce((T,k)=>T+k),b=v/m,B=new YF(n.map((T,k)=>{const L=y[k]*b;return[T,o?Math.floor(L):L]})),x=new YF(n.map((T,k)=>{const U=y[k]*b+p;return[T,o?Math.floor(U):U]})),C=Array.from(x.values()).reduce((T,k)=>T+k),_=(f-(C-C/A*i))*s,S=l+_;let F=o?Math.round(S):S;const M=new Array(A);for(let T=0;T<A;T+=1){M[T]=rAt(F);const k=n[T];F+=x.get(k)}return{valueBandWidth:B,valueStep:x,adjustedRange:M}}function aAt(t){var n;const{domain:e}=t,r=e.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((n=t.flex)===null||n===void 0)&&n.length))return iAt(t);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=t;let l,u,f=a[0];const h=a[1]-f,p=o*2,v=r-s;l=h/Math.max(1,p+v),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const y=new Array(r).fill(0).map((m,b)=>f+b*l);return{valueStep:l,valueBandWidth:u,adjustedRange:y}}let oAt=class BP extends tAt{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:sx,flex:[]}}constructor(n){super(n)}clone(){return new BP(this.options)}getStep(n){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:n===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(n)}getBandWidth(n){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:n===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(n)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:n,paddingInner:e}=this.options;return n>0?n:e}getPaddingOuter(){const{padding:n,paddingOuter:e}=this.options;return n>0?n:e}rescale(){super.rescale();const{align:n,domain:e,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=aAt({align:n,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}};const sAt=(t,n,e)=>{let r,i,a=t,o=n;if(a===o&&e>0)return[a];let s=zp(a,o,e);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)/s}return i},AAt=(t,n,e)=>{const[r,i]=t,[a,o]=n;let s,A;return r<i?(s=ab(r,i),A=e(a,o)):(s=ab(i,r),A=e(o,a)),Rg(A,s)},cAt=(t,n,e)=>{const r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,A=o?[...n].reverse():n;for(let c=0;c<r;c+=1)i[c]=ab(s[c],s[c+1]),a[c]=e(A[c],A[c+1]);return c=>{const l=Dst(t,c,1,r)-1,u=i[l],f=a[l];return Rg(f,u)(c)}},JF=(t,n,e,r)=>(Math.min(t.length,n.length)>2?cAt:AAt)(t,n,r?Xst:e);let lAt=class extends wP{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Ng,tickCount:5}}map(n){return jF(n)?this.output(n):this.options.unknown}invert(n){return jF(n)?this.input(n):this.options.unknown}nice(){if(!this.options.nice)return;const[n,e,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(n,e,r,...i)}getTicks(){const{tickMethod:n}=this.options,[e,r,i,...a]=this.getTickMethodOptions();return n(e,r,i,...a)}getTickMethodOptions(){const{domain:n,tickCount:e}=this.options,r=n[0],i=n[n.length-1];return[r,i,e]}chooseNice(){return Hst}rescale(){this.nice();const[n,e]=this.chooseTransforms();this.composeOutput(n,this.chooseClamp(n)),this.composeInput(n,e,this.chooseClamp(e))}chooseClamp(n){const{clamp:e,range:r}=this.options,i=this.options.domain.map(n),a=Math.min(i.length,r.length);return e?Nst(i[0],i[a-1]):Za}composeOutput(n,e){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=JF(r.map(n),i,o,a);this.output=Rg(s,e,n)}composeInput(n,e,r){const{domain:i,range:a}=this.options,o=JF(a,i.map(n),Ng);this.input=Rg(e,r,o)}},Xu=class xP extends lAt{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Yst,tickMethod:sAt,tickCount:5}}chooseTransforms(){return[Za,Za]}clone(){return new xP(this.options)}};var uAt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,fAt=/\[([^]*?)\]/gm;function CP(t,n){for(var e=[],r=0,i=t.length;r<i;r++)e.push(t[r].substr(0,n));return e}function ob(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0,i=n;r<i.length;r++){var a=i[r];for(var o in a)t[o]=a[o]}return t}var OP=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],EP=["January","February","March","April","May","June","July","August","September","October","November","December"],dAt=CP(EP,3),hAt=CP(OP,3),pAt={dayNamesShort:hAt,dayNames:OP,monthNamesShort:dAt,monthNames:EP,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},gAt=ob({},pAt),Zr=function(t,n){for(n===void 0&&(n=2),t=String(t);t.length<n;)t="0"+t;return t},vAt={D:function(t){return String(t.getDate())},DD:function(t){return Zr(t.getDate())},Do:function(t,n){return n.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Zr(t.getDay())},ddd:function(t,n){return n.dayNamesShort[t.getDay()]},dddd:function(t,n){return n.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Zr(t.getMonth()+1)},MMM:function(t,n){return n.monthNamesShort[t.getMonth()]},MMMM:function(t,n){return n.monthNames[t.getMonth()]},YY:function(t){return Zr(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Zr(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Zr(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Zr(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Zr(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Zr(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Zr(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Zr(t.getMilliseconds(),3)},a:function(t,n){return t.getHours()<12?n.amPm[0]:n.amPm[1]},A:function(t,n){return t.getHours()<12?n.amPm[0].toUpperCase():n.amPm[1].toUpperCase()},ZZ:function(t){var n=t.getTimezoneOffset();return(n>0?"-":"+")+Zr(Math.floor(Math.abs(n)/60)*100+Math.abs(n)%60,4)},Z:function(t){var n=t.getTimezoneOffset();return(n>0?"-":"+")+Zr(Math.floor(Math.abs(n)/60),2)+":"+Zr(Math.abs(n)%60,2)}},tM={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},yAt=function(t,n,e){if(n===void 0&&(n=tM.default),e===void 0&&(e={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");n=tM[n]||n;var r=[];n=n.replace(fAt,function(a,o){return r.push(o),"@@@"});var i=ob(ob({},gAt),e);return n=n.replace(uAt,function(a){return vAt[a](t,i)}),n.replace(/@@@/g,function(){return r.shift()})},mAt=(function(t){dn(n,t);function n(e){var r=this,i=e.style,a=Xn(e,["style"]);return r=t.call(this,at({},{type:"column"},dt({style:i},a)))||this,r.columnsGroup=new ur({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return n.prototype.render=function(){var e=this.attributes,r=e.columns,i=e.x,a=e.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),Yt(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},n.prototype.update=function(e){this.attr(ba({},this.attributes,e)),this.render()},n.prototype.clear=function(){this.removeChildren()},n})(an),wAt=(function(t){dn(n,t);function n(e){var r=this,i=e.style,a=Xn(e,["style"]);return r=t.call(this,at({},{type:"lines"},dt({style:i},a)))||this,r.linesGroup=r.appendChild(new ur),r.areasGroup=r.appendChild(new ur),r.render(),r}return n.prototype.render=function(){var e=this.attributes,r=e.lines,i=e.areas,a=e.x,o=e.y;this.style.transform="translate(".concat(a,", ").concat(o,")"),r&&this.renderLines(r),i&&this.renderAreas(i)},n.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},n.prototype.update=function(e){this.attr(ba({},this.attributes,e)),this.render()},n.prototype.renderLines=function(e){Yt(this.linesGroup).selectAll(".line").data(e).join(function(r){return r.append("path").attr("className","line").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.attr(i)})},function(r){return r.remove()})},n.prototype.renderAreas=function(e){Yt(this.linesGroup).selectAll(".area").data(e).join(function(r){return r.append("path").attr("className","area").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.style(i)})},function(r){return r.remove()})},n})(an);function bAt(t,n){var e,r=n.x,i=n.y,a=z(i.getOptions().range||[0,0],2),o=a[0],s=a[1];return s>o&&(e=z([o,s],2),s=e[0],o=e[1]),t.map(function(A){var c=A.map(function(l,u){return[r.map(u),In(i.map(l),s,o)]});return c})}function Bf(t,n){n===void 0&&(n=!1);var e=n?t.length-1:0,r=t.map(function(i,a){return Ut([a===e?"M":"L"],z(i),!1)});return n?r.reverse():r}function Dg(t,n){if(n===void 0&&(n=!1),t.length<=2)return Bf(t);for(var e=[],r=t.length,i=0;i<r;i+=1){var a=n?t[r-i-1]:t[i];ff(a,e.slice(-2))||e.push.apply(e,Ut([],z(a),!1))}var o=est(e);return n?o.unshift(Ut(["M"],z(t[r-1]),!1)):o.unshift(Ut(["M"],z(t[0]),!1)),o}function Ax(t,n,e){var r=uf(t);return r.push(["L",n,e],["L",0,e],["Z"]),r}function BAt(t,n,e,r){return t.map(function(i){return Ax(n?Dg(i):Bf(i),e,r)})}function xAt(t,n,e){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=Bf(a),s=void 0;if(i===0)s=Ax(o,n,e);else{var A=t[i-1],c=Bf(A,!0);c[0][0]="L",s=Ut(Ut(Ut([],z(o),!1),z(c),!1),[["Z"]],!1)}r.push(s)}return r}function CAt(t,n,e){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=Dg(a),s=void 0;if(i===0)s=Ax(o,n,e);else{var A=t[i-1],c=Dg(A,!0),l=a[0];c[0][0]="L",s=Ut(Ut(Ut([],z(o),!1),z(c),!1),[Ut(["M"],z(l),!1),["Z"]],!1)}r.push(s)}return r}function eM(t){return t.length===0?[0,0]:[dg(EV(t,function(n){return dg(n)||0})),fg(OV(t,function(n){return fg(n)||0}))]}function nM(t){for(var n=uf(t),e=n[0].length,r=z([Array(e).fill(0),Array(e).fill(0)],2),i=r[0],a=r[1],o=0;o<n.length;o+=1)for(var s=n[o],A=0;A<e;A+=1)s[A]>=0?(s[A]+=i[A],i[A]=s[A]):(s[A]+=a[A],a[A]=s[A]);return n}var OAt=(function(t){dn(n,t);function n(e){return t.call(this,e,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(n.prototype,"rawData",{get:function(){var e=this.attributes.data;if(!e||e?.length===0)return[[]];var r=uf(e);return rn(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this.attributes.isStack?nM(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"baseline",{get:function(){var e=this.scales.y,r=z(e.getOptions().domain||[0,0],2),i=r[0],a=r[1];return a<0?e.map(a):e.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"containerShape",{get:function(){var e=this.attributes,r=e.width,i=e.height;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"linesStyle",{get:function(){var e=this,r=this.attributes,i=r.type,a=r.isStack,o=r.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var s=Ae(this.attributes,"area"),A=Ae(this.attributes,"line"),c=this.containerShape.width,l=this.data;if(l[0].length===0)return{lines:[],areas:[]};var u=this.scales,f=u.x,d=u.y,h=bAt(l,{x:f,y:d}),p=[];if(s){var v=this.baseline;a?p=o?CAt(h,c,v):xAt(h,c,v):p=BAt(h,o,c,v)}return{lines:h.map(function(y,m){return dt({stroke:e.getColor(m),d:o?Dg(y):Bf(y)},A)}),areas:p.map(function(y,m){return dt({d:y,fill:e.getColor(m)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"columnsStyle",{get:function(){var e=this,r=Ae(this.attributes,"column"),i=this.attributes,a=i.isStack,o=i.type,s=i.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var A=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};a&&(c=nM(c));var l=this.createScales(c),u=l.x,f=l.y,d=z(eM(c),2),h=d[0],p=d[1],v=new Xu({domain:[0,p-(h>0?0:h)],range:[0,A*s]}),y=u.getBandWidth(),m=this.rawData;return{columns:c.map(function(b,B){return b.map(function(x,C){var O=y/c.length,_=function(){return{x:u.map(C)+O*B,y:x>=0?f.map(x):f.map(0),width:O,height:v.map(Math.abs(x))}},S=function(){return{x:u.map(C),y:f.map(x),width:y,height:v.map(m[B][C])}};return dt(dt({fill:e.getColor(B)},r),a?S():_())})})}},enumerable:!1,configurable:!0}),n.prototype.render=function(e,r){Ast(r,".container","rect").attr("className","container").node();var i=e.type,a=e.x,o=e.y,s="spark".concat(i),A=dt({x:a,y:o},i==="line"?this.linesStyle:this.columnsStyle);Yt(r).selectAll(".spark").data([i]).join(function(c){return c.append(function(l){return l==="line"?new wAt({className:s,style:A}):new mAt({className:s,style:A})}).attr("className","spark ".concat(s))},function(c){return c.update(A)},function(c){return c.remove()})},n.prototype.getColor=function(e){var r=this.attributes.color;return Nn(r)?r[e%r.length]:or(r)?r.call(null,e):r},n.prototype.createScales=function(e){var r,i,a=this.attributes,o=a.type,s=a.scale,A=a.range,c=A===void 0?[]:A,l=a.spacing,u=this.containerShape,f=u.width,d=u.height,h=z(eM(e),2),p=h[0],v=h[1],y=new Xu({domain:[(r=c[0])!==null&&r!==void 0?r:p,(i=c[1])!==null&&i!==void 0?i:v],range:[d,d*(1-s)]});return o==="line"?{type:o,x:new Xu({domain:[0,e[0].length-1],range:[0,f]}),y}:{type:o,x:new oAt({domain:e[0].map(function(m,b){return b}),range:[0,f],paddingInner:l,paddingOuter:l/2,align:.5}),y}},n.tag="sparkline",n})(fr);function EAt(t){return typeof t=="boolean"?!1:"enter"in t&&"update"in t&&"exit"in t}function rM(t){if(!t)return{enter:!1,update:!1,exit:!1};var n=["enter","update","exit"],e=Object.fromEntries(Object.entries(t).filter(function(r){var i=z(r,1),a=i[0];return!n.includes(a)}));return Object.fromEntries(n.map(function(r){return EAt(t)?t[r]===!1?[r,!1]:[r,dt(dt({},t[r]),e)]:[r,e]}))}function _l(t,n){t?t.finished.then(n):n()}function _At(t,n){t.length===0?n():Promise.all(t.map(function(e){return e?.finished})).then(n)}function _P(t,n){"update"in t?t.update(n):t.attr(n)}function SP(t,n,e){if(n.length===0)return null;if(!e){var r=n.slice(-1)[0];return _P(t,{style:r}),null}return t.animate(n,e)}function SAt(t,n){return!(t.nodeName!=="text"||n.nodeName!=="text"||t.attributes.text!==n.attributes.text)}function FAt(t,n,e,r){if(r===void 0&&(r="destroy"),SAt(t,n))return t.remove(),[null];var i=function(){r==="destroy"?t.destroy():r==="hide"&&Rs(t),n.isVisible()&&id(n)};if(!e)return i(),[null];var a=e.duration,o=a===void 0?0:a,s=e.delay,A=s===void 0?0:s,c=Math.ceil(+o/2),l=+o/4,u=z(t.getGeometryBounds().center,2),f=u[0],d=u[1],h=z(n.getGeometryBounds().center,2),p=h[0],v=h[1],y=z([(f+p)/2-f,(d+v)/2-d],2),m=y[0],b=y[1],B=t.style.opacity,x=B===void 0?1:B,C=n.style.opacity,O=C===void 0?1:C,_=t.style.transform||"",S=n.style.transform||"",F=t.animate([{opacity:x,transform:"translate(0, 0) ".concat(_)},{opacity:0,transform:"translate(".concat(m,", ").concat(b,") ").concat(_)}],dt(dt({fill:"both"},e),{duration:A+c+l})),M=n.animate([{opacity:0,transform:"translate(".concat(-m,", ").concat(-b,") ").concat(S),offset:.01},{opacity:O,transform:"translate(0, 0) ".concat(S)}],dt(dt({fill:"both"},e),{duration:c+l,delay:A+c-l}));return _l(M,i),[F,M]}function ma(t,n,e){var r={},i={};return Object.entries(n).forEach(function(a){var o=z(a,2),s=o[0],A=o[1];if(!Rt(A)){var c=t.style[s]||t.parsedStyle[s]||0;c!==A&&(r[s]=c,i[s]=A)}}),e?SP(t,[r,i],dt({fill:"both"},e)):(_P(t,i),null)}function sv(t,n){return t.style.opacity||(t.style.opacity=1),ma(t,{opacity:0},n)}var FP={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},MP={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},kP={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},Ta=ea({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),Di=ea({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),MAt=(function(t){dn(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(e,r){var i=e.x,a=e.y,o=e.size,s=o===void 0?10:o,A=e.radius,c=A===void 0?s/4:A,l=e.orientation,u=e.classNamePrefix,f=Xn(e,["x","y","size","radius","orientation","classNamePrefix"]),d=s,h=d*2.4,p=u?"".concat(Di.iconRect.name," ").concat(u,"handle-icon-rect"):Di.iconRect.name,v=function(C){return u?"".concat(Di.iconLine,"-").concat(C," ").concat(u,"handle-icon-line"):"".concat(Di.iconLine,"-").concat(C)},y=Yt(r).maybeAppendByClassName(Di.iconRect,"rect").attr("className",p).styles(dt(dt({},f),{width:d,height:h,radius:c,x:i-d/2,y:a-h/2,transformOrigin:"center"})),m=i+1/3*d-d/2,b=i+2/3*d-d/2,B=a+1/4*h-h/2,x=a+3/4*h-h/2;y.maybeAppendByClassName("".concat(Di.iconLine,"-1"),"line").attr("className",v(1)).styles(dt({x1:m,x2:m,y1:B,y2:x},f)),y.maybeAppendByClassName("".concat(Di.iconLine,"-2"),"line").attr("className",v(2)).styles(dt({x1:b,x2:b,y1:B,y2:x},f)),l==="vertical"&&(y.node().style.transform="rotate(90)")},n})(fr),TP=(function(t){dn(n,t);function n(e){return t.call(this,e,kP)||this}return n.prototype.renderLabel=function(e){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.showLabel,A=Ae(this.attributes,"label"),c=A.x,l=c===void 0?0:c,u=A.y,f=u===void 0?0:u,d=A.transform,h=A.transformOrigin,p=Xn(A,["x","y","transform","transformOrigin"]),v=z(Po(p,[]),2),y=v[0],m=v[1],b=Yt(e).maybeAppendByClassName(Di.labelGroup,"g").styles(m),B=dt(dt({},MP),y),x=B.text,C=Xn(B,["text"]);Gr(!!s,b,function(O){r.label=O.maybeAppendByClassName(Di.label,"text").styles(dt(dt({},C),{x:a+l,y:o+f,transform:d,transformOrigin:h,text:"".concat(x)})),r.label.on("mousedown",function(_){_.stopPropagation()}),r.label.on("touchstart",function(_){_.stopPropagation()})})},n.prototype.renderIcon=function(e){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.type,A=r.classNamePrefix,c=dt(dt({x:i,y:a,orientation:o,classNamePrefix:A},FP),Ae(this.attributes,"icon")),l=this.attributes.iconShape,u=l===void 0?function(){return new MAt({style:c})}:l,f=Yt(e).maybeAppendByClassName(Di.iconGroup,"g");f.selectAll(Di.icon.class).data([u]).join(function(d){return d.append(typeof u=="string"?u:function(){return u(s)}).attr("className",Di.icon.name)},function(d){return d.update(c)},function(d){return d.remove()})},n.prototype.render=function(e,r){this.renderIcon(r),this.renderLabel(r)},n})(fr),IP=(function(t){dn(n,t);function n(e){var r=t.call(this,e,dt(dt(dt({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},Pa(kP,"handle")),Pa(FP,"handleIcon")),Pa(MP,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(i){return function(a){a.stopPropagation(),r.target=i,r.prevPos=r.getOrientVal(IF(a));var o=r.availableSpace,s=o.x,A=o.y,c=r.getBBox(),l=c.x,u=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,A])-r.getOrientVal([+l,+u])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(i){var a=r.attributes,o=a.slidable,s=a.brushable,A=a.type;i.stopPropagation();var c=r.getOrientVal(IF(i)),l=c-r.prevPos;if(l){var u=r.getRatio(l);switch(r.target){case"start":o&&r.setValuesOffset(u);break;case"end":o&&r.setValuesOffset(0,u);break;case"selection":o&&r.setValuesOffset(u,u);break;case"track":if(!s)return;r.selectionWidth+=u,A==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(i){var a=r.attributes,o=a.onChange,s=a.type,A=s==="range"?i:i[1],c=s==="range"?r.getValues():r.getValues()[1],l=new Ve("valuechange",{detail:{oldValue:A,value:c}});r.dispatchEvent(l),o?.(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(n.prototype,"values",{get:function(){return this.attributes.values},set:function(e){this.attributes.values=this.clampValues(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sparklineStyle",{get:function(){var e=this.attributes.orientation;if(e!=="horizontal")return null;var r=Ae(this.attributes,"sparkline");return dt(dt({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shape",{get:function(){var e=this.attributes,r=e.trackLength,i=e.trackSize,a=z(this.getOrientVal([[r,i],[i,r]]),2),o=a[0],s=a[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"availableSpace",{get:function(){var e=this.attributes;e.x,e.y;var r=e.padding,i=z(Br(r),4),a=i[0],o=i[1],s=i[2],A=i[3],c=this.shape,l=c.width,u=c.height;return{x:A,y:a,width:l-(A+o),height:u-(a+s)}},enumerable:!1,configurable:!0}),n.prototype.getValues=function(){return this.values},n.prototype.setValues=function(e,r){e===void 0&&(e=[0,0]),r===void 0&&(r=!1),this.attributes.values=e;var i=r===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},n.prototype.updateSelectionArea=function(e){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(Ta.selection.class).each(function(i,a){ma(this,r[a],e)})},n.prototype.updateHandlesPosition=function(e){this.attributes.showHandle&&(this.startHandle&&ma(this.startHandle,this.getHandleStyle("start"),e),this.endHandle&&ma(this.endHandle,this.getHandleStyle("end"),e))},n.prototype.innerSetValues=function(e,r){e===void 0&&(e=[0,0]),r===void 0&&(r=!1);var i=this.values,a=this.clampValues(e);this.attributes.values=a,this.setValues(a),r&&this.onValueChange(i)},n.prototype.renderTrack=function(e){var r=this.attributes,i=r.x,a=r.y,o=Ae(this.attributes,"track");this.trackShape=Yt(e).maybeAppendByClassName(Ta.track,"rect").styles(dt(dt({x:i,y:a},this.shape),o))},n.prototype.renderBrushArea=function(e){var r=this.attributes,i=r.x,a=r.y,o=r.brushable;this.brushArea=Yt(e).maybeAppendByClassName(Ta.brushArea,"rect").styles(dt({x:i,y:a,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},n.prototype.renderSparkline=function(e){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.orientation,A=Yt(e).maybeAppendByClassName(Ta.sparklineGroup,"g");Gr(s==="horizontal",A,function(c){var l=dt(dt({},r.sparklineStyle),{x:a,y:o});c.maybeAppendByClassName(Ta.sparkline,function(){return new OAt({style:l})}).update(l)})},n.prototype.renderHandles=function(){var e=this,r,i=this.attributes,a=i.showHandle,o=i.type,s=o==="range"?["start","end"]:["end"],A=a?s:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(Ta.handle.class).data(A.map(function(l){return{type:l}}),function(l){return l.type}).join(function(l){return l.append(function(u){var f=u.type;return new TP({style:e.getHandleStyle(f)})}).each(function(u){var f=u.type;this.attr("class","".concat(Ta.handle.name," ").concat(f,"-handle"));var d="".concat(f,"Handle");c[d]=this,this.addEventListener("pointerdown",c.onDragStart(f))})},function(l){return l.each(function(u){var f=u.type;this.update(c.getHandleStyle(f))})},function(l){return l.each(function(u){var f=u.type,d="".concat(f,"Handle");c[d]=void 0}).remove()})},n.prototype.renderSelection=function(e){var r=this.attributes,i=r.x,a=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=Yt(e).maybeAppendByClassName(Ta.foreground,"g");var A=Ae(this.attributes,"selection"),c=function(u){return u.style("visibility",function(f){return f.show?"visible":"hidden"}).style("cursor",function(f){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(dt(dt({},A),{transform:"translate(".concat(i,", ").concat(a,")")}))},l=this;this.foregroundGroup.selectAll(Ta.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(u,f){return{style:dt({},u),index:f,show:s==="select"?f===1:f!==1}}),function(u){return u.index}).join(function(u){return u.append("rect").attr("className",Ta.selection.name).call(c).each(function(f,d){var h=this;d===1?(l.selectionShape=Yt(this),this.on("pointerdown",function(p){h.attr("cursor","grabbing"),l.onDragStart("selection")(p)}),l.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),l.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),l.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){h.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){h.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){h.attr("cursor","pointer")})):this.on("pointerdown",l.onDragStart("track"))})},function(u){return u.call(c)},function(u){return u.remove()}),this.updateSelectionArea(!1),this.renderHandles()},n.prototype.render=function(e,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},n.prototype.clampValues=function(e,r){var i;r===void 0&&(r=4);var a=z(this.range,2),o=a[0],s=a[1],A=z(this.getValues().map(function(v){return rb(v,r)}),2),c=A[0],l=A[1],u=Array.isArray(e)?e:[c,e??l],f=z((u||[c,l]).map(function(v){return rb(v,r)}),2),d=f[0],h=f[1];if(this.attributes.type==="value")return[0,In(h,o,s)];d>h&&(i=z([h,d],2),d=i[0],h=i[1]);var p=h-d;return p>s-o?[o,s]:d<o?c===o&&l===h?[o,h]:[o,p+o]:h>s?l===s&&c===d?[d,s]:[s-p,s]:[d,h]},n.prototype.calcSelectionArea=function(e){var r=z(this.clampValues(e),2),i=r[0],a=r[1],o=this.availableSpace,s=o.x,A=o.y,c=o.width,l=o.height;return this.getOrientVal([[{y:A,height:l,x:s,width:i*c},{y:A,height:l,x:i*c+s,width:(a-i)*c},{y:A,height:l,x:a*c,width:(1-a)*c}],[{x:s,width:c,y:A,height:i*l},{x:s,width:c,y:i*l+A,height:(a-i)*l},{x:s,width:c,y:a*l,height:(1-a)*l}]])},n.prototype.calcHandlePosition=function(e){var r=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,o=i.y,s=i.width,A=i.height,c=z(this.clampValues(),2),l=c[0],u=c[1],f=e==="start"?-r:r,d=(e==="start"?l:u)*this.getOrientVal([s,A])+f;return{x:a+this.getOrientVal([d,s/2]),y:o+this.getOrientVal([A/2,d])}},n.prototype.inferTextStyle=function(e){var r=this.attributes.orientation;return r==="horizontal"?{}:e==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:e==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},n.prototype.calcHandleText=function(e){var r,i=this.attributes,a=i.type,o=i.orientation,s=i.formatter,A=i.autoFitLabel,c=Ae(this.attributes,"handle"),l=Ae(c,"label"),u=c.spacing,f=this.getHandleSize(),d=this.clampValues(),h=e==="start"?d[0]:d[1],p=s(h),v=new nx({style:dt(dt(dt({},l),this.inferTextStyle(e)),{text:p})}),y=v.getBBox(),m=y.width,b=y.height;if(v.destroy(),!A){if(a==="value")return{text:p,x:0,y:-b-u};var B=u+f+(o==="horizontal"?m/2:0);return r={text:p},r[o==="horizontal"?"x":"y"]=e==="start"?-B:B,r}var x=0,C=0,O=this.availableSpace,_=O.width,S=O.height,F=this.calcSelectionArea()[1],M=F.x,T=F.y,k=F.width,L=F.height,U=u+f;if(o==="horizontal"){var N=U+m/2;if(e==="start"){var P=M-U-m;x=P>0?-N:N}else{var Q=_-M-k-U>m;x=Q?N:-N}}else{var R=U,H=b+U;e==="start"?C=T-f>b?-H:R:C=S-(T+L)-f>b?H:-R}return{x,y:C,text:p}},n.prototype.getHandleLabelStyle=function(e){var r=Ae(this.attributes,"handleLabel");return dt(dt(dt({},r),this.calcHandleText(e)),this.inferTextStyle(e))},n.prototype.getHandleIconStyle=function(){var e=this.attributes.handleIconShape,r=Ae(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return dt({cursor:i,shape:e,size:a},r)},n.prototype.getHandleStyle=function(e){var r=this.attributes,i=r.x,a=r.y,o=r.showLabel,s=r.showLabelOnInteraction,A=r.orientation,c=this.calcHandlePosition(e),l=c.x,u=c.y,f=this.calcHandleText(e),d=o;return!o&&s&&(this.target?d=!0:d=!1),dt(dt(dt({},Pa(this.getHandleIconStyle(),"icon")),Pa(dt(dt({},this.getHandleLabelStyle(e)),f),"label")),{transform:"translate(".concat(l+i,", ").concat(u+a,")"),orientation:A,showLabel:d,type:e,zIndex:3})},n.prototype.getHandleSize=function(){var e=this.attributes,r=e.handleIconSize,i=e.width,a=e.height;return r||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},n.prototype.getOrientVal=function(e){var r=z(e,2),i=r[0],a=r[1],o=this.attributes.orientation;return o==="horizontal"?i:a},n.prototype.setValuesOffset=function(e,r){r===void 0&&(r=0);var i=this.attributes.type,a=z(this.getValues(),2),o=a[0],s=a[1],A=i==="range"?e:0,c=[o+A,s+r].sort();this.innerSetValues(c,!0)},n.prototype.getRatio=function(e){var r=this.availableSpace,i=r.width,a=r.height;return e/this.getOrientVal([i,a])},n.prototype.dispatchCustomEvent=function(e,r,i){var a=this;e.on(r,function(o){o.stopPropagation(),a.dispatchEvent(new Ve(i,{detail:o}))})},n.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var e=this.brushArea;this.dispatchCustomEvent(e,"click","trackClick"),this.dispatchCustomEvent(e,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(e,"pointerleave","trackMouseleave"),e.on("pointerdown",this.onDragStart("track"))},n.prototype.onScroll=function(e){var r=this.attributes.scrollable;if(r){var i=e.deltaX,a=e.deltaY,o=a||i,s=this.getRatio(o);this.setValuesOffset(s,s)}},n.tag="slider",n})(fr),kAt=(function(t){dn(n,t);function n(e){var r=t.call(this,e,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(i){var a=r.attributes.value;if(i!==a){var o={detail:{oldValue:i,value:a}};r.dispatchEvent(new Ve("scroll",o)),r.dispatchEvent(new Ve("valuechange",o))}},r.onTrackClick=function(i){var a=r.attributes.slidable;if(a){var o=z(r.getLocalPosition(),2),s=o[0],A=o[1],c=z(r.padding,4),l=c[0],u=c[3],f=r.getOrientVal([s+u,A+l]),d=r.getOrientVal(hP(i)),h=(d-f)/r.trackLength;r.setValue(h,!0)}},r.onThumbMouseenter=function(i){r.dispatchEvent(new Ve("thumbMouseenter",{detail:i.detail}))},r.onTrackMouseenter=function(i){r.dispatchEvent(new Ve("trackMouseenter",{detail:i.detail}))},r.onThumbMouseleave=function(i){r.dispatchEvent(new Ve("thumbMouseleave",{detail:i.detail}))},r.onTrackMouseleave=function(i){r.dispatchEvent(new Ve("trackMouseleave",{detail:i.detail}))},r}return Object.defineProperty(n.prototype,"padding",{get:function(){var e=this.attributes.padding;return Br(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){var e=this.attributes.value,r=z(this.range,2),i=r[0],a=r[1];return In(e,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trackLength",{get:function(){var e=this.attributes,r=e.viewportLength,i=e.trackLength,a=i===void 0?r:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"availableSpace",{get:function(){var e=this.attributes.trackSize,r=this.trackLength,i=z(this.padding,4),a=i[0],o=i[1],s=i[2],A=i[3],c=z(this.getOrientVal([[r,e],[e,r]]),2),l=c[0],u=c[1];return{x:A,y:a,width:+l-(A+o),height:+u-(a+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trackRadius",{get:function(){var e=this.attributes,r=e.isRound,i=e.trackSize;return r?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"thumbRadius",{get:function(){var e=this.attributes,r=e.isRound,i=e.thumbRadius;if(!r)return 0;var a=this.availableSpace,o=a.width,s=a.height;return i||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),n.prototype.getValues=function(e){e===void 0&&(e=this.value);var r=this.attributes,i=r.viewportLength,a=r.contentLength,o=i/a,s=z(this.range,2),A=s[0],c=s[1],l=e*(c-A-o);return[l,l+o]},n.prototype.getValue=function(){return this.value},n.prototype.renderSlider=function(e){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.trackSize,A=r.padding,c=r.slidable,l=Ae(this.attributes,"track"),u=Ae(this.attributes,"thumb"),f=dt(dt({x:i,y:a,brushable:!1,orientation:o,padding:A,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},Pa(l,"track")),Pa(u,"selection"));this.slider=Yt(e).maybeAppendByClassName("scrollbar",function(){return new IP({style:f})}).update(f).node()},n.prototype.render=function(e,r){this.renderSlider(r)},n.prototype.setValue=function(e,r){r===void 0&&(r=!1);var i=this.attributes.value,a=z(this.range,2),o=a[0],s=a[1];this.slider.setValues(this.getValues(In(e,o,s)),r),this.onValueChange(i)},n.prototype.bindEvents=function(){var e=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),e.onTrackClick(r.detail)}),this.onHover()},n.prototype.getOrientVal=function(e){var r=this.attributes.orientation;return r==="horizontal"?e[0]:e[1]},n.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},n.tag="scrollbar",n})(fr),Re={gridGroup:"grid-group",mainGroup:"main-group",lineGroup:"line-group",tickGroup:"tick-group",labelGroup:"label-group",titleGroup:"title-group",grid:"grid",line:"line",lineFirst:"line-first",lineSecond:"line-second",tick:"tick",tickItem:"tick-item",label:"label",labelItem:"label-item",title:"title"},cx={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new sr({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};at({},cx,{style:{type:"arc"}});at({},cx,{style:{}});var Wt=ea({mainGroup:Re.mainGroup,gridGroup:Re.gridGroup,grid:Re.grid,lineGroup:Re.lineGroup,line:Re.line,tickGroup:Re.tickGroup,tick:Re.tick,tickItem:Re.tickItem,labelGroup:Re.labelGroup,label:Re.label,labelItem:Re.labelItem,titleGroup:Re.titleGroup,title:Re.title,lineFirst:Re.lineFirst,lineSecond:Re.lineSecond},"axis"),ul=ea({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function LP(t){return t.reduce(function(n,e,r){return n.push(Ut([r===0?"M":"L"],z(e),!1)),n},[])}function TAt(t,n,e){var r=n.connect,i=r===void 0?"line":r,a=n.center;if(i==="line")return LP(t);if(!a)return[];var o=bf(t[0],a),s=e?0:1;return t.reduce(function(A,c,l){return l===0?A.push(Ut(["M"],z(c),!1)):A.push(Ut(["A",o,o,0,0,s],z(c),!1)),A},[])}function sb(t,n,e){return n.type==="surround"?TAt(t,n,e):LP(t)}function IAt(t,n,e){var r=e.type,i=e.connect,a=e.center,o=e.closed,s=o?[["Z"]]:[],A=z([sb(t,e),sb(n.slice().reverse(),e,!0)],2),c=A[0],l=A[1],u=z([t[0],n.slice(-1)[0]],2),f=u[0],d=u[1],h=function(m,b){return[c,m,l,b,s].flat()};if(i==="line"||r==="surround")return h([Ut(["L"],z(d),!1)],[Ut(["L"],z(f),!1)]);if(!a)throw new Error("Arc grid need to specified center");var p=z([bf(d,a),bf(f,a)],2),v=p[0],y=p[1];return h([Ut(["A",v,v,0,0,1],z(d),!1),Ut(["L"],z(d),!1)],[Ut(["A",y,y,0,0,0],z(f),!1),Ut(["L"],z(f),!1)])}function LAt(t,n,e,r){var i=e.animate,a=e.isBillboard,o=n.map(function(s,A){return{id:s.id||"grid-line-".concat(A),d:sb(s.points,e)}});return t.selectAll(ul.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(A,c){var l=ii(QF(dt({d:A.d},r)),[A,c,o]);this.attr(dt({class:ul.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},l))})},function(s){return s.transition(function(A,c){var l=ii(QF(dt({d:A.d},r)),[A,c,o]);return ma(this,l,i.update)})},function(s){return s.transition(function(){var A=this,c=sv(this,i.exit);return _l(c,function(){return A.remove()}),c})}).transitions()}function QAt(t,n,e){var r=e.animate,i=e.connect,a=e.areaFill;if(n.length<2||!a||!i)return[];for(var o=Array.isArray(a)?a:[a,"transparent"],s=function(h){return o[h%o.length]},A=[],c=0;c<n.length-1;c++){var l=z([n[c].points,n[c+1].points],2),u=l[0],f=l[1],d=IAt(u,f,e);A.push({d,fill:s(c)})}return t.selectAll(ul.region.class).data(A,function(h,p){return p}).join(function(h){return h.append("path").each(function(p,v){var y=ii(p,[p,v,A]);this.attr(y)}).attr("className",ul.region.name)},function(h){return h.transition(function(p,v){var y=ii(p,[p,v,A]);return ma(this,y,r.update)})},function(h){return h.transition(function(){var p=this,v=sv(this,r.exit);return _l(v,function(){return p.remove()}),v})}).transitions()}function UAt(t){var n=t.data,e=n===void 0?[]:n,r=t.closed;return r?e.map(function(i){var a=i.points,o=z(a,1),s=o[0];return dt(dt({},i),{points:Ut(Ut([],z(a),!1),[s],!1)})}):e}var PAt=(function(t){dn(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(e,r){e.type,e.center,e.areaFill,e.closed;var i=Xn(e,["type","center","areaFill","closed"]),a=UAt(e),o=Yt(r).maybeAppendByClassName(ul.lineGroup,"g"),s=Yt(r).maybeAppendByClassName(ul.regionGroup,"g"),A=LAt(o,a,e,i),c=QAt(s,a,e);return Ut(Ut([],z(A),!1),z(c),!1)},n})(fr);function QP(t,n){return Object.fromEntries(Object.entries(t).map(function(e){var r=z(e,2),i=r[0],a=r[1];return[i,ii(a,n)]}))}function lx(t,n){return n&&or(n)?t.filter(n):t}function UP(t,n){var e=n.startAngle,r=n.endAngle;return(r-e)*t+e}function Av(t,n){if(n.type==="linear"){var e=z(n.startPos,2),r=e[0],i=e[1],a=z(n.endPos,2),o=a[0],s=a[1],A=z([o-r,s-i],2),c=A[0],l=A[1];return pP([c,l])}var u=ll(UP(t,n));return[-Math.sin(u),Math.cos(u)]}function ux(t,n,e){var r=Av(t,e);return Jot(r,n!=="positive")}function Sl(t,n){return ux(t,n.labelDirection,n)}function Wp(t,n,e){return e?"".concat(t," ").concat(e,"axis-").concat(n):t}function wi(t,n,e,r){return r&&t.attr("className",Wp(n.name,e,r)),t}function RAt(t,n){var e=z(n.startPos,2),r=e[0],i=e[1],a=z(n.endPos,2),o=a[0],s=a[1],A=z([o-r,s-i],2),c=A[0],l=A[1];return[r+c*t,i+l*t]}function NAt(t,n){var e=n.radius,r=z(n.center,2),i=r[0],a=r[1],o=ll(UP(t,n));return[i+e*Math.cos(o),a+e*Math.sin(o)]}function cv(t,n){return n.type==="linear"?RAt(t,n):NAt(t,n)}function fx(t){return Av(0,t)[1]===0}function PP(t){return Av(0,t)[0]===0}function RP(t,n){return n-t===360}function iM(t,n,e,r,i){var a=n-t,o=z([i,i],2),s=o[0],A=o[1],c=z([ll(t),ll(n)],2),l=c[0],u=c[1],f=function(S){return[e+i*Math.cos(S),r+i*Math.sin(S)]},d=z(f(l),2),h=d[0],p=d[1],v=z(f(u),2),y=v[0],m=v[1];if(RP(t,n)){var b=(u+l)/2,B=z(f(b),2),x=B[0],C=B[1];return[["M",h,p],["A",s,A,0,1,0,x,C],["A",s,A,0,1,0,y,m]]}var O=a>180?1:0,_=t>n?0:1;return"M".concat(h,",").concat(p,",A").concat(s,",").concat(A,",0,").concat(O,",").concat(_,",").concat(y,",").concat(m)}function DAt(t){var n=t.attributes,e=n.startAngle,r=n.endAngle,i=n.center,a=n.radius;return Ut(Ut([e,r],z(i),!1),[a],!1)}function HAt(t,n,e,r){var i=n.startAngle,a=n.endAngle,o=n.center,s=n.radius,A=n.classNamePrefix;return t.selectAll(Wt.line.class).data([{d:iM.apply(void 0,Ut(Ut([i,a],z(o),!1),[s],!1))}],function(c,l){return l}).join(function(c){var l=c.append("path").attr("className",Wt.line.name).styles(n).styles({d:function(u){return u.d}});return wi(l,Wt.line,Re.line,A),l},function(c){return c.transition(function(){var l=this,u=Yot(this,DAt(this),Ut(Ut([i,a],z(o),!1),[s],!1),r.update);if(u){var f=function(){var d=$t(l.attributes,"__keyframe_data__");l.style.d=iM.apply(void 0,Ut([],z(d),!1))};u.onframe=f,u.onfinish=f}return u}).styles(n)},function(c){return c.remove()}).styles(e).transitions()}function jAt(t,n){n.truncRange,n.truncShape,n.lineExtension}function $At(t,n,e){e===void 0&&(e=[0,0]);var r=z([t,n,e],3),i=z(r[0],2),a=i[0],o=i[1],s=z(r[1],2),A=s[0],c=s[1],l=z(r[2],2),u=l[0],f=l[1],d=z([A-a,c-o],2),h=d[0],p=d[1],v=Math.sqrt(Math.pow(h,2)+Math.pow(p,2)),y=z([-u/v,f/v],2),m=y[0],b=y[1];return[m*h,m*p,b*h,b*p]}function aM(t){var n=z(t,2),e=z(n[0],2),r=e[0],i=e[1],a=z(n[1],2),o=a[0],s=a[1];return{x1:r,y1:i,x2:o,y2:s}}function GAt(t,n,e,r){var i=n.showTrunc,a=n.startPos,o=n.endPos,s=n.truncRange,A=n.lineExtension,c=n.classNamePrefix,l=z([a,o],2),u=z(l[0],2),f=u[0],d=u[1],h=z(l[1],2),p=h[0],v=h[1],y=z(A?$At(a,o,A):new Array(4).fill(0),4),m=y[0],b=y[1],B=y[2],x=y[3],C=function(R){return t.selectAll(Wt.line.class).data(R,function(H,G){return G}).join(function(H){var G=H.append("line").styles(e).transition(function(K){return ma(this,aM(K.line),!1)});return G.attr("className",function(K){if(!c)return"".concat(Wt.line.name," ").concat(K.className);var W=Wp(Wt.line.name,Re.line,c);if(K.className===Wt.lineFirst.name){var X=Wp(Wt.lineFirst.name,Re.lineFirst,c);return"".concat(W," ").concat(X)}if(K.className===Wt.lineSecond.name){var X=Wp(Wt.lineSecond.name,Re.lineSecond,c);return"".concat(W," ").concat(X)}return W}),G},function(H){return H.styles(e).transition(function(G){var K=G.line;return ma(this,aM(K),r.update)})},function(H){return H.remove()}).transitions()};if(!i||!s)return C([{line:[[f+m,d+b],[p+B,v+x]],className:Wt.line.name}]);var O=z(s,2),_=O[0],S=O[1],F=p-f,M=v-d,T=z([f+F*_,d+M*_],2),k=T[0],L=T[1],U=z([f+F*S,d+M*S],2),N=U[0],P=U[1],Q=C([{line:[[f+m,d+b],[k,L]],className:Wt.lineFirst.name},{line:[[N,P],[p+B,v+x]],className:Wt.lineSecond.name}]);return jAt(t,n),Q}function KAt(t,n,e,r){var i=e.showArrow,a=e.showTrunc,o=e.lineArrow,s=e.lineArrowOffset,A=e.lineArrowSize,c;if(n==="arc"?c=t.select(Wt.line.class):a?c=t.select(Wt.lineSecond.class):c=t.select(Wt.line.class),!i||!o||e.type==="arc"&&RP(e.startAngle,e.endAngle)){var l=c.node();l&&(l.style.markerEnd=void 0);return}var u=PA(o);u.attr(r),ix(u,A),c.style("markerEnd",u).style("markerEndOffset",-s)}function zAt(t,n,e){var r=n.type,i,a=Ae(n,"line");return r==="linear"?i=GAt(t,n,ib(a,"arrow"),e):i=HAt(t,n,ib(a,"arrow"),e),KAt(t,r,n,a),i}function WAt(t,n){return ux(t,n.gridDirection,n)}function NP(t){var n=t.type,e=t.gridCenter;return n==="linear"?e:e||t.center}function VAt(t,n){var e=n.gridLength;return t.map(function(r,i){var a=r.value,o=z(cv(a,n),2),s=o[0],A=o[1],c=z(_o(WAt(a,n),e),2),l=c[0],u=c[1];return{id:i,points:[[s,A],[s+l,A+u]]}})}function YAt(t,n){var e=n.gridControlAngles,r=NP(n);if(!r)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!e||e.length===0)throw new Error("Invalid gridControlAngles");var i=z(r,2),a=i[0],o=i[1];return t.map(function(s,A){var c=s.value,l=z(cv(c,n),2),u=l[0],f=l[1],d=z([u-a,f-o],2),h=d[0],p=d[1],v=[];return e.forEach(function(y){var m=ll(y),b=z([Math.cos(m),Math.sin(m)],2),B=b[0],x=b[1],C=h*B-p*x+a,O=h*x+p*B+o;v.push([C,O])}),{points:v,id:A}})}function XAt(t,n,e,r){var i=e.classNamePrefix,a=Ae(e,"grid"),o=a.type,s=a.areaFill,A=NP(e),c=lx(n,e.gridFilter),l=o==="segment"?VAt(c,e):YAt(c,e),u=dt(dt({},a),{center:A,areaFill:or(s)?c.map(function(f,d){return ii(s,[f,d,c])}):s,animate:r,data:l});return t.selectAll(Wt.grid.class).data([1]).join(function(f){var d=f.append(function(){return new PAt({style:u})}).attr("className",Wt.grid.name);return wi(d,Wt.grid,Re.grid,i),d},function(f){return f.transition(function(){return this.update(u)})},function(f){return f.remove()}).transitions()}var Ab=(function(){function t(n,e,r,i){this.set(n,e,r,i)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(n,e,r){var i=this,a=i.x1,o=i.y1,s=i.x2,A=i.y2,c=Math.cos(n),l=Math.sin(n),u=e-e*c+r*l,f=r-e*l-r*c,d=[[c*a-l*A+u,l*a+c*A+f],[c*s-l*A+u,l*s+c*A+f],[c*a-l*o+u,l*a+c*o+f],[c*s-l*o+u,l*s+c*o+f]];return d},t.prototype.set=function(n,e,r,i){return r<n?(this.x2=n,this.x1=r):(this.x1=n,this.x2=r),i<e?(this.y2=e,this.y1=i):(this.y1=e,this.y2=i),this},t.prototype.defined=function(n){return this[n]!==Number.MAX_VALUE&&this[n]!==-Number.MAX_VALUE},t})();function cb(t,n){var e=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getBounds(),i=z(r.min,2),a=i[0],o=i[1],s=z(r.max,2),A=s[0],c=s[1],l=t.getBBox(),u=l.width,f=l.height,d=f,h=0,p=0,v=a,y=o,m=fP(t);if(m){d-=1.5;var b=m.style.textAlign,B=m.style.textBaseline;b==="center"?v=(a+A)/2:(b==="right"||b==="end")&&(v=A),B==="middle"?y=(o+c)/2:B==="bottom"&&(y=c)}var x=z(Br(n),4),C=x[0],O=C===void 0?0:C,_=x[1],S=_===void 0?0:_,F=x[2],M=F===void 0?O:F,T=x[3],k=T===void 0?S:T,L=new Ab((h+=a)-k,(p+=o)-O,h+u+S,p+d+M);return t.setEulerAngles(e),L.rotatedPoints(ll(e),v,y)}function Tu(t,n){return n[0]<=Math.max(t[0][0],t[1][0])&&n[0]<=Math.min(t[0][0],t[1][0])&&n[1]<=Math.max(t[0][1],t[1][1])&&n[1]<=Math.min(t[0][1],t[1][1])}function Iu(t,n,e){var r=(n[1]-t[1])*(e[0]-n[0])-(n[0]-t[0])*(e[1]-n[1]);return r===0?0:r<0?2:1}function qAt(t,n){var e=Iu(t[0],t[1],n[0]),r=Iu(t[0],t[1],n[1]),i=Iu(n[0],n[1],t[0]),a=Iu(n[0],n[1],t[1]);return!!(e!==r&&i!==a||e===0&&Tu(t,n[0])||r===0&&Tu(t,n[1])||i===0&&Tu(n,t[0])||a===0&&Tu(n,t[1]))}function ZAt(t,n){var e=t.length;if(e<3)return!1;var r=[n,[9999,n[1]]],i=0,a=0;do{var o=[t[a],t[(a+1)%e]];if(qAt(o,r)){if(Iu(o[0],n,o[1])===0)return Tu(o,n);i++}a=(a+1)%e}while(a!==0);return!!(i&1)}function JAt(t,n){return n.every(function(e){return ZAt(t,e)})}function tct(t,n,e){var r=t.x1,i=t.x2,a=t.y1,o=t.y2,s=[[r,a],[i,a],[i,o],[r,o]],A=cb(n,e);return JAt(s,A)}function ect(t,n){var e=z(t,4),r=e[0],i=e[1],a=e[2],o=e[3],s=z(n,4),A=s[0],c=s[1],l=s[2],u=s[3],f=a-r,d=o-i,h=l-A,p=u-c,v=f*p-h*d;if(v===0)return!1;var y=v>0,m=r-A,b=i-c,B=f*b-d*m;if(B<0===y)return!1;var x=h*b-p*m;return!(x<0===y||B>v===y||x>v===y)}function nct(t,n){var e=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return e.some(function(r){return ect(n,r)})}function rct(t,n,e){var r,i,a=cb(t,e).flat(1),o=cb(n,e).flat(1),s=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var A=Jf(s),c=A.next();!c.done;c=A.next()){var l=c.value;if(nct(o,l))return!0}}catch(u){r={error:u}}finally{try{c&&!c.done&&(i=A.return)&&i.call(A)}finally{if(r)throw r.error}}return!1}function ict(t,n){var e=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if(e==="arc"){var a=t.center,o=t.radius,s=z(a,2),A=s[0],c=s[1],l=r==="negative"?0:i,u=-o-l,f=o+l,d=z(Br(n),4),h=d[0],p=d[1],v=d[2],y=d[3];return new Ab(A+u-y,c+u-h,A+f+p,c+f+v)}var m=z(t.startPos,2),b=m[0],B=m[1],x=z(t.endPos,2),C=x[0],O=x[1],_=z(PP(t)?[-n,0,n,0]:[0,n,0,-n],4),S=_[0],F=_[1],M=_[2],T=_[3],k=Sl(0,t),L=_o(k,i),U=new Ab(b,B,C,O);return U.x1+=T,U.y1+=S,U.x2+=F+L[0],U.y2+=M+L[1],U}function lv(t,n,e){var r,i,a=n.crossPadding,o=new Set,s=null,A=ict(n,a),c=function(h){return A?tct(A,h):!0},l=function(h,p){return!h||!h.firstChild?!0:!rct(h.firstChild,p.firstChild,Br(e))};try{for(var u=Jf(t),f=u.next();!f.done;f=u.next()){var d=f.value;c(d)?!s||l(s,d)?s=d:(o.add(s),o.add(d)):o.add(d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return Array.from(o)}function c1(t,n){return n===void 0&&(n={}),Rt(t)?0:typeof t=="number"?t:Math.floor(lP(t,n))}function act(t,n,e,r){if(!(t.length<=0)){var i=n.suffix,a=i===void 0?"...":i,o=n.minLength,s=n.maxLength,A=s===void 0?1/0:s,c=n.step,l=c===void 0?" ":c,u=n.margin,f=u===void 0?[0,0,0,0]:u,d=uP(r.getTextShape(t[0])),h=c1(l,d),p=o?c1(o,d):h,v=c1(A,d);(Rt(v)||v===1/0)&&(v=Math.max.apply(null,t.map(function(C){return C.getBBox().width})));var y=t.slice(),m=z(f,4);m[0],m[1],m[2],m[3];for(var b=function(C){if(y.forEach(function(O){r.ellipsis(r.getTextShape(O),C,a)}),y=lv(t,e,f),y.length<1)return{value:void 0}},B=v;B>p+h;B-=h){var x=b(B);if(typeof x=="object")return x.value}}}var oct={parity:function(t,n){var e=n.seq,r=e===void 0?2:e;return t.filter(function(i,a){return a%r?(Rs(i),!1):!0})}},sct=function(t){return t.filter(jot)};function Act(t,n,e,r){var i=t.length,a=n.keepHeader,o=n.keepTail;if(!(i<=1||i===2&&a&&o)){var s=oct.parity,A=function(b){return b.forEach(r.show),b},c=2,l=t.slice(),u=t.slice(),f=Math.min.apply(Math,Ut([1],z(t.map(function(b){return b.getBBox().width})),!1));if(e.type==="linear"&&(fx(e)||PP(e))){var d=UF(t[0]).left,h=UF(t[i-1]).right,p=Math.abs(h-d)||1;c=Math.max(Math.floor(i*f/p),c)}var v,y;for(a&&(v=l.splice(0,1)[0]),o&&(y=l.splice(-1,1)[0],l.reverse()),A(l);c<t.length&&lv(sct(y?Ut(Ut([y],z(u),!1),[v],!1):Ut([v],z(u),!1)),e,n?.margin).length;){if(y&&!v&&c%2===0){var m=l.splice(0,1);m.forEach(r.hide)}else if(y&&v){var m=l.splice(0,1);m.forEach(r.hide)}u=s(A(l),{seq:c}),c++}}}function cct(t,n,e,r){var i,a,o=n.optionalAngles,s=o===void 0?[0,45,90]:o,A=n.margin,c=n.recoverWhenFailed,l=c===void 0?!0:c,u=t.map(function(y){return y.getLocalEulerAngles()}),f=function(){return lv(t,e,A).length<1},d=function(y){return t.forEach(function(m,b){var B=Array.isArray(y)?y[b]:y;r.rotate(m,+B)})};try{for(var h=Jf(s),p=h.next();!p.done;p=h.next()){var v=p.value;if(d(v),f())return}}catch(y){i={error:y}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}l&&d(u)}function lct(t){var n=t.type,e=t.labelDirection;return n==="linear"&&fx(t)?e==="negative"?"bottom":"top":"middle"}function uct(t,n,e,r,i){var a,o=n.maxLines,s=o===void 0?3:o,A=n.recoverWhenFailed,c=A===void 0?!0:A,l=n.margin,u=l===void 0?[0,0,0,0]:l,f=ii((a=n.wordWrapWidth)!==null&&a!==void 0?a:50,[i]),d=t.map(function(b){return b.attr("maxLines")||1}),h=Math.min.apply(Math,Ut([],z(d),!1)),p=function(){return lv(t,e,u).length<1},v=lct(e),y=function(b){return t.forEach(function(B,x){var C=Array.isArray(b)?b[x]:b;r.wrap(B,f,C,v)})};if(!(h>s)){if(e.type==="linear"&&fx(e)){if(y(s),p())return}else for(var m=h;m<=s;m++)if(y(m),p())return;c&&y(d)}}var fct=new Map([["hide",Act],["rotate",cct],["ellipsis",act],["wrap",uct]]);function dct(t,n,e){return n.labelOverlap.length<1?!1:e==="hide"?!Dot(t[0]):e==="rotate"?!t.some(function(r){var i;return!!(!((i=r.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):e==="ellipsis"||e==="wrap"?t.filter(function(r){return r.querySelector("text")}).length>=1:!0}function hct(t,n,e,r){var i=n.labelOverlap,a=i===void 0?[]:i;a.length&&a.forEach(function(o){var s=o.type,A=fct.get(s);dct(t,n,s)&&A?.(t,o,n,r,e)})}function pct(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=function(r){return r==="positive"?-1:1};return t.reduce(function(r,i){return r*e(i)},1)}function oM(t){for(var n=t;n<0;)n+=360;return Math.round(n%360)}function lb(t,n){var e=z(t,2),r=e[0],i=e[1],a=z(n,2),o=a[0],s=a[1],A=z([r*o+i*s,r*s-i*o],2),c=A[0],l=A[1];return Math.atan2(l,c)}function gct(t){var n=(t+360)%180;return mr(n,-90,90)||(n+=180),n}function vct(t,n,e){var r,i=e.labelAlign,a=(r=n.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(a)return n.getLocalEulerAngles();var o=0,s=Sl(t.value,e),A=Av(t.value,e);return i==="horizontal"?0:(i==="perpendicular"?o=lb([1,0],s):o=lb([A[0]<0?-1:1,0],A),gct(AP(o)))}function DP(t,n,e){var r=e.type,i=e.labelAlign,a=Sl(t,e),o=oM(n),s=oM(AP(lb([1,0],a))),A="center",c="middle";return r==="linear"?[90,270].includes(s)&&o===0?(A="center",c=a[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?A="center":s===0?(mr(o,0,90,!1,!0)||mr(o,0,90)||mr(o,270,360))&&(A="start"):s===90?mr(o,0,90,!1,!0)?A="start":(mr(o,90,180)||mr(o,270,360))&&(A="end"):s===270?mr(o,0,90,!1,!0)?A="end":(mr(o,90,180)||mr(o,270,360))&&(A="start"):s===180&&(o===90?A="start":(mr(o,0,90)||mr(o,270,360))&&(A="end")):i==="parallel"?mr(s,0,180,!0)?c="top":c="bottom":i==="horizontal"?mr(s,90,270,!1)?A="end":(mr(s,270,360,!1)||mr(s,0,90))&&(A="start"):i==="perpendicular"&&(mr(s,90,270)?A="end":A="start"),{textAlign:A,textBaseline:c}}function yct(t,n,e){n.setLocalEulerAngles(t);var r=n.__data__.value,i=DP(r,t,e),a=n.querySelector(Wt.labelItem.class);a&&HP(a,i)}function sM(t,n,e){var r=e.showTick,i=e.tickLength,a=e.tickDirection,o=e.labelDirection,s=e.labelSpacing,A=n.indexOf(t),c=ii(s,[t,A,n]),l=z([Sl(t.value,e),pct(o,a)],2),u=l[0],f=l[1],d=f===1?ii(r?i:0,[t,A,n]):0,h=z(ku(_o(u,c+d),cv(t.value,e)),2),p=h[0],v=h[1];return{x:p,y:v}}function mct(t,n,e,r){var i=r.labelFormatter,a=or(i)?function(){return PA(ii(i,[t,n,e,Sl(t.value,r)]))}:function(){return PA(t.label||"")};return a}function wct(t,n,e,r){var i=r.labelRender,a=($t(r,"endPos.0",400)-$t(r,"startPos.0",0))/e.length,o=or(i)?ii(i,[t,n,e,Sl(t.value,r)]):t.label||"",s=gst(o)||30;return function(){return Got(o,{width:a,height:s})}}var bct={html:["fill"],text:[]};function HP(t,n){["text","html"].includes(t.nodeName)&&t.attr(ib(n,bct[t.nodeName]))}function Bct(t,n){hct(this.node().childNodes,t,n,{hide:Rs,show:id,rotate:function(e,r){yct(+r,e,t)},ellipsis:function(e,r,i){e&&nb(e,r||1/0,i)},wrap:function(e,r,i){e&&$ot(e,r,i)},getTextShape:function(e){return e.querySelector(Wt.labelItem.class)}})}function AM(t,n,e,r,i){var a=e.indexOf(n),o=i.labelRender,s=i.classNamePrefix,A=Yt(t).append(o?wct(n,a,e,i):mct(n,a,e,i)).attr("className",Wt.labelItem.name).node();wi(Yt(A),Wt.labelItem,Re.labelItem,s);var c=z(Po(QP(r,[n,a,e])),2),l=c[0],u=c[1],f=u.transform,d=Xn(u,["transform"]);gP(A,f);var h=vct(n,A,i);if(A.getLocalEulerAngles()||A.setLocalEulerAngles(h),HP(A,dt(dt({},DP(n.value,h,i)),l)),A.nodeName==="html"){var p=A.getBBox(),v=A.style.x||0;A.attr("x",v-p.width/2)}return t.attr(d),A}function xct(t,n,e,r,i){var a=e.classNamePrefix,o=lx(n,e.labelFilter),s=Ae(e,"label"),A,c=t.selectAll(Wt.label.class).data(o,function(l,u){return u}).join(function(l){var u=l.append("g").attr("className",Wt.label.name).transition(function(f){AM(this,f,n,s,e);var d=sM(f,n,e),h=d.x,p=d.y;return this.style.transform="translate(".concat(h,", ").concat(p,")"),null});return wi(u,Wt.label,Re.label,a),u},function(l){return l.transition(function(u){var f=this.querySelector(Wt.labelItem.class),d=AM(this,u,n,s,e),h=FAt(f,d,r.update),p=sM(u,n,e),v=p.x,y=p.y,m=ma(this,{transform:"translate(".concat(v,", ").concat(y,")")},r.update);return Ut(Ut([],z(h),!1),[m],!1)})},function(l){return A=l,l.transition(function(){var u=this,f=sv(this.childNodes[0],r.exit);return _l(f,function(){return Yt(u).remove()}),f}),A}).transitions();return _At(c,function(){Bct.call(t,e,i)}),c}function jP(t,n){return ux(t,n.tickDirection,n)}function Cct(t,n){var e=z(t,2),r=e[0],i=e[1];return[[0,0],[r*n,i*n]]}function Oct(t,n,e,r,i){var a=i.tickLength,o=z(Cct(r,ii(a,[t,n,e])),2),s=z(o[0],2),A=s[0],c=s[1],l=z(o[1],2),u=l[0],f=l[1];return{x1:A,x2:u,y1:c,y2:f}}function Ect(t,n,e,r,i){var a=i.tickFormatter,o=i.classNamePrefix,s=jP(n.value,i),A="line";or(a)&&(A=function(){return ii(a,[n,e,r,s])});var c=t.append(A).attr("className",Wt.tickItem.name);return wi(c,Wt.tickItem,Re.tickItem,o),c}function _ct(t,n,e,r,i,a,o){var s=jP(t.value,a),A=Oct(t,n,e,s,a),c=A.x1,l=A.x2,u=A.y1,f=A.y2,d=z(Po(QP(o,[t,n,e,s])),2),h=d[0],p=d[1];r.node().nodeName==="line"&&r.styles(dt({x1:c,x2:l,y1:u,y2:f},h)),i.attr(p),r.styles(h)}function cM(t,n,e,r,i,a){var o=Ect(Yt(this),t,n,e,r);_ct(t,n,e,o,this,r,i);var s=z(cv(t.value,r),2),A=s[0],c=s[1];return ma(this,{transform:"translate(".concat(A,", ").concat(c,")")},a)}function Sct(t,n,e,r){var i=e.classNamePrefix,a=lx(n,e.tickFilter),o=Ae(e,"tick");return t.selectAll(Wt.tick.class).data(a,function(s){return s.id||s.label}).join(function(s){var A=s.append("g").attr("className",Wt.tick.name).transition(function(c,l){return cM.call(this,c,l,a,e,o,!1)});return wi(A,Wt.tick,Re.tick,i),A},function(s){return s.transition(function(A,c){return this.removeChildren(),cM.call(this,A,c,a,e,o,r.update)})},function(s){return s.transition(function(){var A=this,c=sv(this.childNodes[0],r.exit);return _l(c,function(){return A.remove()}),c})}).transitions()}function Fct(t,n,e){var r=e.titlePosition,i=r===void 0?"lb":r,a=e.titleSpacing,o=ov(i),s=t.node().getLocalBounds(),A=z(s.min,2),c=A[0],l=A[1],u=z(s.halfExtents,2),f=u[0],d=u[1],h=z(n.node().getLocalBounds().halfExtents,2),p=h[0],v=h[1],y=z([c+f,l+d],2),m=y[0],b=y[1],B=z(Br(a),4),x=B[0],C=B[1],O=B[2],_=B[3];if(["start","end"].includes(i)&&e.type==="linear"){var S=e.startPos,F=e.endPos,M=z(i==="start"?[S,F]:[F,S],2),T=M[0],k=M[1],L=pP([-k[0]+T[0],-k[1]+T[1]]),U=z(_o(L,x),2),N=U[0],P=U[1];return{x:T[0]+N,y:T[1]+P}}return o.includes("t")&&(b-=d+v+x),o.includes("r")&&(m+=f+p+C),o.includes("l")&&(m-=f+p+_),o.includes("b")&&(b+=d+v+O),{x:m,y:b}}function Mct(t,n,e){var r=t.getGeometryBounds().halfExtents,i=r[1]*2;if(n==="vertical"){if(e==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(e==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function lM(t,n,e,r,i){var a=Ae(r,"title"),o=z(Po(a),2),s=o[0],A=o[1],c=A.transform,l=A.transformOrigin,u=Xn(A,["transform","transformOrigin"]);n.styles(u);var f=c||Mct(t.node(),s.direction,s.position);t.styles(dt(dt({},s),{transformOrigin:l})),gP(t.node(),f);var d=Fct(Yt(e._offscreen||e.querySelector(Wt.mainGroup.class)),n,r),h=d.x,p=d.y,v=ma(n.node(),{transform:"translate(".concat(h,", ").concat(p,")")},i);return v}function kct(t,n,e,r){var i=e.titleText,a=e.classNamePrefix;return t.selectAll(Wt.title.class).data([{title:i}].filter(function(o){return!!o.title}),function(o,s){return o.title}).join(function(o){var s=o.append(function(){return PA(i)}).attr("className",Wt.title.name).transition(function(){return lM(Yt(this),t,n,e,r.enter)});return wi(s,Wt.title,Re.title,a),s},function(o){return o.transition(function(){return lM(Yt(this),t,n,e,r.update)})},function(o){return o.remove()}).transitions()}function uM(t,n,e,r){var i=t.showLine,a=t.showTick,o=t.showLabel,s=t.classNamePrefix,A=n.maybeAppendByClassName(Wt.lineGroup,"g");wi(A,Wt.lineGroup,Re.lineGroup,s);var c=Gr(i,A,function(h){return zAt(h,t,r)})||[],l=n.maybeAppendByClassName(Wt.tickGroup,"g");wi(l,Wt.tickGroup,Re.tickGroup,s);var u=Gr(a,l,function(h){return Sct(h,e,t,r)})||[],f=n.maybeAppendByClassName(Wt.labelGroup,"g");wi(f,Wt.labelGroup,Re.labelGroup,s);var d=Gr(o,f,function(h){return xct(h,e,t,r,n.node())})||[];return Ut(Ut(Ut([],z(c),!1),z(u),!1),z(d),!1).filter(function(h){return!!h})}var dx=(function(t){dn(n,t);function n(e){return t.call(this,e,cx)||this}return n.prototype.render=function(e,r,i){var a=this,o=e.titleText,s=e.data,A=e.animate,c=e.showTitle,l=e.showGrid,u=e.dataThreshold,f=e.truncRange,d=e.classNamePrefix,h=r.className||"axis";d?r.attr("className","".concat(h," ").concat(d,"axis")):r.className||r.attr("className","axis");var p=ist(s,u).filter(function(O){var _=O.value;return!(f&&_>f[0]&&_<f[1])}),v=rM(i===void 0?A:i),y=Yt(r).maybeAppendByClassName(Wt.gridGroup,"g");wi(y,Wt.gridGroup,Re.gridGroup,d);var m=Gr(l,y,function(O){return XAt(O,p,e,v)})||[],b=Yt(r).maybeAppendByClassName(Wt.mainGroup,"g");wi(b,Wt.mainGroup,Re.mainGroup,d),o&&(!this.initialized&&v.enter||this.initialized&&v.update)&&uM(e,Yt(this.offscreenGroup),p,rM(!1));var B=uM(e,Yt(b.node()),p,v),x=Yt(r).maybeAppendByClassName(Wt.titleGroup,"g");wi(x,Wt.titleGroup,Re.titleGroup,d);var C=Gr(c,x,function(O){return kct(O,a,e,v)})||[];return Ut(Ut(Ut([],z(m),!1),z(B),!1),z(C),!1).flat().filter(function(O){return!!O})},n})(fr);function Mn(t,n,e){return e?"".concat(t," ").concat(e,"legend-").concat(n):t}function Tct(t,n,e){var r=Math.round((t-e)/n);return e+r*n}function Ict(t,n,e){var r=1.4,i=r*e;return[["M",t-e,n-i],["L",t+e,n-i],["L",t+e,n+i],["L",t-e,n+i],["Z"]]}var $P=1.4,GP=.4;function Lct(t,n,e){var r=e,i=r*$P,a=r/2,o=r/6,s=t+i*GP;return[["M",t,n],["L",s,n+a],["L",t+i,n+a],["L",t+i,n-a],["L",s,n-a],["Z"],["M",s,n+o],["L",t+i-2,n+o],["M",s,n-o],["L",t+i-2,n-o]]}function Qct(t,n,e){var r=e,i=r*$P,a=r/2,o=r/6,s=n+i*GP;return[["M",t,n],["L",t-a,s],["L",t-a,n+i],["L",t+a,n+i],["L",t+a,s],["Z"],["M",t-o,s],["L",t-o,n+i-2],["M",t+o,s],["L",t+o,n+i-2]]}Fe.registerSymbol("hiddenHandle",Ict);Fe.registerSymbol("verticalHandle",Lct);Fe.registerSymbol("horizontalHandle",Qct);function Uct(t,n,e,r){var i,a=z(t,2),o=a[0],s=a[1],A=z(n,2),c=A[0],l=A[1],u=z(e,2),f=u[0],d=u[1],h=z([c,l],2),p=h[0],v=h[1],y=v-p;return p>v&&(i=z([v,p],2),p=i[0],v=i[1]),y>s-o?[o,s]:p<o?f===o&&d===v?[o,v]:[o,y+o]:v>s?d===s&&f===p?[p,s]:[s-y,s]:[p,v]}function Ka(t,n,e){return t===void 0&&(t="horizontal"),t==="horizontal"?n:e}var kn={title:"title",item:"item",marker:"marker",label:"label",value:"value",focusIcon:"focus-icon",background:"background",ribbon:"ribbon",track:"track",selection:"selection",handle:"handle",handleMarker:"handle-marker",handleLabel:"handle-label",indicator:"indicator",prevBtn:"prev-btn",nextBtn:"next-btn",pageInfo:"page-info"},lA=ea({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),KP={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},Pct=(function(t){dn(n,t);function n(e){return t.call(this,e,KP)||this}return n.prototype.render=function(e,r){var i=Yt(r).maybeAppendByClassName(lA.markerGroup,"g");this.renderMarker(i);var a=Yt(r).maybeAppendByClassName(lA.labelGroup,"g");this.renderLabel(a)},n.prototype.renderMarker=function(e){var r=this,i=this.attributes,a=i.orientation,o=i.classNamePrefix,s=i.markerSymbol,A=s===void 0?Ka(a,"horizontalHandle","verticalHandle"):s;Gr(!!A,e,function(c){var l=Ae(r.attributes,"marker"),u=dt({symbol:A},l),f=Mn(lA.marker.name,kn.handleMarker,o);if(r.marker=c.maybeAppendByClassName(lA.marker,function(){return new Fe({style:u,className:f})}).update(u),o){var d=r.marker.node().querySelector(".marker");if(d){var h=d.getAttribute("class")||"",p=h.split(" ")[0],v=Mn(p,kn.handleMarker,o);d.setAttribute("class",v)}}})},n.prototype.renderLabel=function(e){var r=this,i=this.attributes,a=i.showLabel,o=i.orientation,s=i.spacing,A=s===void 0?0:s,c=i.formatter,l=i.classNamePrefix;Gr(a,e,function(u){var f,d=Ae(r.attributes,"label"),h=d.text,p=Xn(d,["text"]),v=((f=u.select(lA.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},y=v.width,m=y===void 0?0:y,b=v.height,B=b===void 0?0:b,x=z(Ka(o,[0,B+A,"center","top"],[m+A,0,"start","middle"]),4),C=x[0],O=x[1],_=x[2],S=x[3],F=Mn(lA.label.name,kn.handleLabel,l);u.maybeAppendByClassName(lA.label,"text").attr("className",F).styles(dt(dt({},p),{x:C,y:O,text:c(h).toString(),textAlign:_,textBaseline:S}))})},n})(fr),zP={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},Rct=ba({},zP,{}),Nct=ba({},zP,Pa(KP,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),Dct=.01,Vn=ea({title:"title",html:"html",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),l1=ea({text:"text"},"title");function Hct(t,n){var e=t.attributes,r=e.position,i=e.spacing,a=e.inset,o=e.text,s=t.getBBox(),A=n.getBBox(),c=ov(r),l=z(Br(o?i:0),4),u=l[0],f=l[1],d=l[2],h=l[3],p=z(Br(a),4),v=p[0],y=p[1],m=p[2],b=p[3],B=z([h+f,u+d],2),x=B[0],C=B[1],O=z([b+y,v+m],2),_=O[0],S=O[1];if(c[0]==="l")return new gn(s.x,s.y,A.width+s.width+x+_,Math.max(A.height+S,s.height));if(c[0]==="t")return new gn(s.x,s.y,Math.max(A.width+_,s.width),A.height+s.height+C+S);var F=z([n.attributes.width||A.width,n.attributes.height||A.height],2),M=F[0],T=F[1];return new gn(A.x,A.y,M+s.width+x+_,T+s.height+C+S)}function jct(t,n){var e=Object.entries(n).reduce(function(r,i){var a=z(i,2),o=a[0],s=a[1],A=t.node().attr(o);return A||(r[o]=s),r},{});t.styles(e)}function $ct(t){var n,e,r,i,a=t,o=a.width,s=a.height,A=a.position,c=z([+o/2,+s/2],2),l=c[0],u=c[1],f=z([+l,+u,"center","middle"],4),d=f[0],h=f[1],p=f[2],v=f[3],y=ov(A);return y.includes("l")&&(n=z([0,"start"],2),d=n[0],p=n[1]),y.includes("r")&&(e=z([+o,"end"],2),d=e[0],p=e[1]),y.includes("t")&&(r=z([0,"top"],2),h=r[0],v=r[1]),y.includes("b")&&(i=z([+s,"bottom"],2),h=i[0],v=i[1]),{x:d,y:h,textAlign:p,textBaseline:v}}var WP=(function(t){dn(n,t);function n(e){return t.call(this,e,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return n.prototype.getAvailableSpace=function(){var e=this,r=this.attributes,i=r.width,a=r.height,o=r.position,s=r.spacing,A=r.inset,c=e.querySelector(l1.text.class);if(!c)return new gn(0,0,+i,+a);var l=c.getBBox(),u=l.width,f=l.height,d=z(Br(s),4),h=d[0],p=d[1],v=d[2],y=d[3],m=z([0,0,+i,+a],4),b=m[0],B=m[1],x=m[2],C=m[3],O=ov(o);if(O.includes("i"))return new gn(b,B,x,C);O.forEach(function(N,P){var Q,R,H,G;N==="t"&&(Q=z(P===0?[f+v,+a-f-v]:[0,+a],2),B=Q[0],C=Q[1]),N==="r"&&(R=z([+i-u-y],1),x=R[0]),N==="b"&&(H=z([+a-f-h],1),C=H[0]),N==="l"&&(G=z(P===0?[u+p,+i-u-p]:[0,+i],2),b=G[0],x=G[1])});var _=z(Br(A),4),S=_[0],F=_[1],M=_[2],T=_[3],k=z([T+F,S+M],2),L=k[0],U=k[1];return new gn(b+T,B+S,x-L,C-U)},n.prototype.getBBox=function(){return this.title?this.title.getBBox():new gn(0,0,0,0)},n.prototype.render=function(e,r){var i=this;e.width,e.height,e.position,e.spacing;var a=e.classNamePrefix,o=Xn(e,["width","height","position","spacing","classNamePrefix"]),s=z(Po(o),1),A=s[0],c=$ct(e),l=c.x,u=c.y,f=c.textAlign,d=c.textBaseline;Gr(!!o.text,Yt(r),function(h){var p=Mn(l1.text.name,kn.title,a);i.title=h.maybeAppendByClassName(l1.text,"text").attr("className",p).styles(A).call(jct,{x:l,y:u,textAlign:f,textBaseline:d}).node()})},n})(fr),Dr=ea({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),Gct=(function(t){dn(n,t);function n(e){var r=t.call(this,e,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Qst(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new ur({class:Dr.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new ur({class:Dr.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(n.prototype,"defaultPage",{get:function(){var e=this.attributes.defaultPage;return In(e,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pageShape",{get:function(){var e=this.pageViews,r=z(pst(e.map(function(u){var f=u.getBBox(),d=f.width,h=f.height;return[d,h]})).map(function(u){return Math.max.apply(Math,Ut([],z(u),!1))}),2),i=r[0],a=r[1],o=this.attributes,s=o.pageWidth,A=s===void 0?i:s,c=o.pageHeight,l=c===void 0?a:c;return{pageWidth:A,pageHeight:l}},enumerable:!1,configurable:!0}),n.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(n.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var e=t.prototype.getBBox.call(this),r=e.x,i=e.y,a=this.controllerShape,o=this.pageShape,s=o.pageWidth,A=o.pageHeight;return new gn(r,i,s+a.width,A)},n.prototype.goTo=function(e){var r=this,i=this.attributes.animate,a=this,o=a.currPage,s=a.playState,A=a.playWindow,c=a.pageViews;if(s!=="idle"||e<0||c.length<=0||e>=c.length)return null;c[o].setLocalPosition(0,0),this.prepareFollowingPage(e);var l=z(this.getFollowingPageDiff(e),2),u=l[0],f=l[1];this.playState="running";var d=SP(A,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-u,", ").concat(-f,")")}],i);return _l(d,function(){r.innerCurrPage=e,r.playState="idle",r.setVisiblePages([e]),r.updatePageInfo()}),d},n.prototype.prev=function(){var e=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!e&&i<=0)return null;var a=e?(i-1+r)%r:In(i-1,0,r);return this.goTo(a)},n.prototype.next=function(){var e=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!e&&i>=r-1)return null;var a=e?(i+1)%r:In(i+1,0,r);return this.goTo(a)},n.prototype.renderClipPath=function(e){var r=this.pageShape,i=r.pageWidth,a=r.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=e.maybeAppendByClassName(Dr.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},n.prototype.setVisiblePages=function(e){this.playWindow.children.forEach(function(r,i){e.includes(i)?id(r):Rs(r)})},n.prototype.adjustControllerLayout=function(){var e=this,r=e.prevBtnGroup,i=e.nextBtnGroup,a=e.pageInfoGroup,o=this.attributes,s=o.orientation,A=o.controllerPadding,c=a.getBBox(),l=c.width;c.height;var u=z(s==="horizontal"?[-180,0]:[-90,90],2),f=u[0],d=u[1];r.setLocalEulerAngles(f),i.setLocalEulerAngles(d);var h=r.getBBox(),p=h.width,v=h.height,y=i.getBBox(),m=y.width,b=y.height,B=Math.max(p,l,m),x=s==="horizontal"?{offset:[[0,0],[p/2+A,0],[p+l+A*2,0]],textAlign:"start"}:{offset:[[B/2,-v-A],[B/2,0],[B/2,b+A]],textAlign:"center"},C=z(x.offset,3),O=z(C[0],2),_=O[0],S=O[1],F=z(C[1],2),M=F[0],T=F[1],k=z(C[2],2),L=k[0],U=k[1],N=x.textAlign,P=a.querySelector("text");P&&(P.style.textAlign=N),r.setLocalPosition(_,S),a.setLocalPosition(M,T),i.setLocalPosition(L,U)},n.prototype.updatePageInfo=function(){var e,r=this,i=r.currPage,a=r.pageViews,o=r.attributes.formatter;a.length<2||((e=this.pageInfoGroup.querySelector(Dr.pageInfo.class))===null||e===void 0||e.attr("text",o(i+1,a.length)),this.adjustControllerLayout())},n.prototype.getFollowingPageDiff=function(e){var r=this.currPage;if(r===e)return[0,0];var i=this.attributes.orientation,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,A=e<r?-1:1;return i==="horizontal"?[A*o,0]:[0,A*s]},n.prototype.prepareFollowingPage=function(e){var r=this,i=r.currPage,a=r.pageViews;if(this.setVisiblePages([e,i]),e!==i){var o=z(this.getFollowingPageDiff(e),2),s=o[0],A=o[1];a[e].setLocalPosition(s,A)}},n.prototype.renderController=function(e){var r=this,i=this.attributes,a=i.controllerSpacing,o=i.classNamePrefix,s=o===void 0?"":o,A=this.pageShape,c=A.pageWidth,l=A.pageHeight,u=this.pageViews.length>=2,f=e.maybeAppendByClassName(Dr.controller,"g");if(av(f.node(),u),!!u){var d=Ae(this.attributes,"button"),h=Ae(this.attributes,"pageNum"),p=z(Po(d),2),v=p[0],y=p[1],m=v.size,b=Xn(v,["size"]),B=!f.select(Dr.prevBtnGroup.class).node(),x=f.maybeAppendByClassName(Dr.prevBtnGroup,"g").styles(y);this.prevBtnGroup=x.node();var C=x.maybeAppendByClassName(Dr.prevBtn,"path");if(s){var O=Mn(Dr.prevBtn.name,kn.prevBtn,s);C.node().setAttribute("class",O)}var _=f.maybeAppendByClassName(Dr.nextBtnGroup,"g").styles(y);this.nextBtnGroup=_.node();var S=_.maybeAppendByClassName(Dr.nextBtn,"path");if(s){var F=Mn(Dr.nextBtn.name,kn.nextBtn,s);S.node().setAttribute("class",F)}[C,S].forEach(function(L){L.styles(dt(dt({},b),{transformOrigin:"center"})),ix(L.node(),m)});var M=f.maybeAppendByClassName(Dr.pageInfoGroup,"g");this.pageInfoGroup=M.node();var T=M.maybeAppendByClassName(Dr.pageInfo,"text");if(T.styles(h),s){var k=Mn(Dr.pageInfo.name,kn.pageInfo,s);T.node().setAttribute("class",k)}this.updatePageInfo(),f.node().setLocalPosition(c+a,l/2),B&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},n.prototype.render=function(e,r){var i=e.x,a=i===void 0?0:i,o=e.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(a,", ").concat(s,")"));var A=Yt(r);this.renderClipPath(A),this.renderController(A),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},n.prototype.bindEvents=function(){var e=this,r=NL(function(){return e.render(e.attributes,e)},50);this.playWindow.addEventListener(me.INSERTED,r),this.playWindow.addEventListener(me.REMOVED,r)},n})(fr),fe,Kct="component-poptip",ie={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},fM=(fe={},fe[".".concat(ie.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},fe[".".concat(ie.TEXT)]={"text-align":"center"},fe[".".concat(ie.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},fe[".".concat(ie.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},fe[".".concat(ie.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},fe[".".concat(ie.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},fe[".".concat(ie.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},fe[".".concat(ie.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},fe[".".concat(ie.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},fe[".".concat(ie.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},fe[".".concat(ie.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},fe[".".concat(ie.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},fe[".".concat(ie.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},fe[".".concat(ie.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},fe[".".concat(ie.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},fe[".".concat(ie.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},fe["[data-position='top'] .".concat(ie.ARROW)]={bottom:"-2px"},fe[".".concat(ie.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},fe["[data-position='left'] .".concat(ie.ARROW)]={right:"-2px"},fe[".".concat(ie.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},fe["[data-position='right'] .".concat(ie.ARROW)]={left:"-2px"},fe[".".concat(ie.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},fe["[data-position='bottom'] .".concat(ie.ARROW)]={top:"-2px"},fe[".".concat(ie.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},fe["[data-position='top-left'] .".concat(ie.ARROW)]={left:"10px",bottom:"-2px"},fe[".".concat(ie.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},fe["[data-position='top-right'] .".concat(ie.ARROW)]={right:"10px",bottom:"-2px"},fe[".".concat(ie.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},fe["[data-position='left-top'] .".concat(ie.ARROW)]={right:"-2px",top:"8px"},fe[".".concat(ie.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},fe["[data-position='left-bottom'] .".concat(ie.ARROW)]={right:"-2px",bottom:"8px"},fe[".".concat(ie.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},fe["[data-position='right-top'] .".concat(ie.ARROW)]={left:"-2px",top:"8px"},fe[".".concat(ie.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},fe["[data-position='right-bottom'] .".concat(ie.ARROW)]={left:"-2px",bottom:"8px"},fe[".".concat(ie.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},fe["[data-position='bottom-left'] .".concat(ie.ARROW)]={top:"-2px",left:"8px"},fe[".".concat(ie.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},fe["[data-position='bottom-right'] .".concat(ie.ARROW)]={top:"-2px",right:"8px"},fe),zct=void 0;function Wct(t,n,e,r,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!1),a)return[t,n];var o=e.getBoundingClientRect(),s=o.x,A=o.y,c=o.width,l=o.height;switch(r){case"top":return i?[s+c/2,A]:[t,A];case"left":return i?[s,A+l/2]:[s,n];case"bottom":return i?[s+c/2,A+l]:[t,A+l];case"right":return i?[s+c,A+l/2]:[s+c,n];case"top-right":case"right-top":return[s+c,A];case"left-bottom":case"bottom-left":return[s,A+l];case"right-bottom":case"bottom-right":return[s+c,A+l];default:return[s,A]}}var Vct=function(t){var n;return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n||(n=t.apply(zct,e)),n}};function Yct(t){var n=t&&document.getElementById(t);return n||(n=document.createElement("div"),n.setAttribute("id",t),document.body.appendChild(n)),n}function Xct(t){var n=Vct(Yct)(t);return n}var qct=(function(t){dn(n,t);function n(e){var r=t.call(this,at({style:{id:Kct}},n.defaultOptions,e))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(n.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),n.prototype.render=function(e,r){this.visibility=this.style.visibility,this.updatePoptipElement()},n.prototype.update=function(e){this.attr(at({},this.style,e)),this.render(this.attributes,this)},n.prototype.bind=function(e,r){var i=this;if(e){var a=this.style.text,o=function(A){var c=e,l=i.style,u=a;if(r){var f=typeof r=="function"?r.call(null,A):r,d=f.html,h=f.target,p=Xn(f,["html","target"]);l=RL({},i.style,p),(h||h===!1)&&(c=h),typeof d=="string"&&(u=d)}var v=l.position,y=l.arrowPointAtCenter,m=l.follow,b=l.offset;if(c){var B=A,x=B.clientX,C=B.clientY,O=z(Wct(x,C,c,v,y,m),2),_=O[0],S=O[1];i.showTip(_,S,{text:u,position:v,offset:b})}else i.hideTip()},s=function(){i.hideTip()};e.addEventListener("mousemove",o),e.addEventListener("mouseleave",s),this.map.set(e,[o,s])}},n.prototype.unbind=function(e){if(this.map.has(e)){var r=z(this.map.get(e)||[],2),i=r[0],a=r[1];i&&e.removeEventListener("mousemove",i),a&&e.removeEventListener("mouseleave",a),this.map.delete(e)}},n.prototype.clear=function(){this.container.innerHTML=""},n.prototype.destroy=function(){var e=this,r;Ut([],z(this.map.keys()),!1).forEach(function(i){return e.unbind(i)}),(r=this.container)===null||r===void 0||r.remove(),t.prototype.destroy.call(this)},n.prototype.showTip=function(e,r,i){var a=$t(i,"text");if(!(a&&typeof a!="string")&&(this.applyStyles(),e&&r&&i)){var o=i.offset,s=i.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(e,r,o),typeof a=="string"){var A=this.container.querySelector(".".concat(ie.TEXT));A&&(A.innerHTML=a)}this.visibility="visible",this.container.style.visibility="visible"}},n.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},n.prototype.getContainer=function(){return this.container},n.prototype.getClassName=function(){var e=this.style.containerClassName;return"".concat(ie.CONTAINER).concat(e?" ".concat(e):"")},n.prototype.initShape=function(){var e=this,r=this.style.id;this.container=Xct(r),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return e.showTip()}),this.container.addEventListener("mouseleave",function(){return e.hideTip()})},n.prototype.updatePoptipElement=function(){var e=this.container;this.clear();var r=this.style,i=r.id,a=r.template,o=r.text;this.container.setAttribute("id",i),this.container.className=this.getClassName();var s='<span class="'.concat(ie.ARROW,'"></span>');e.innerHTML=s,sn(a)?e.innerHTML+=a:a&&SV(a)&&e.appendChild(a),o&&(e.getElementsByClassName(ie.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},n.prototype.applyStyles=function(){var e=ba({},fM,this.style.domStyles),r=Object.entries(e).reduce(function(a,o){var s=z(o,2),A=s[0],c=s[1],l=Object.entries(c).reduce(function(u,f){var d=z(f,2),h=d[0],p=d[1];return"".concat(u).concat(h,": ").concat(p,";")},"");return"".concat(a).concat(A,"{").concat(l,"}")},"");if(this.domStyles!==r){this.domStyles=r;var i=this.container.querySelector("style");i&&this.container.removeChild(i),i=document.createElement("style"),i.innerHTML=r,this.container.appendChild(i)}},n.prototype.setOffsetPosition=function(e,r,i){i===void 0&&(i=this.style.offset);var a=z(i,2),o=a[0],s=o===void 0?0:o,A=a[1],c=A===void 0?0:A;this.container.style.left="".concat(e+s,"px"),this.container.style.top="".concat(r+c,"px")},n.tag="poptip",n.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:fM,template:'<div class="'.concat(ie.TEXT,'"></div>')}},n})(fr),tr=ea({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),Zct={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function Jct(t){var n=t.querySelector(tr.marker.class);return n?n.style:{}}var tlt=(function(t){dn(n,t);function n(e,r){var i=t.call(this,e,{span:[1,1],marker:function(){return new to({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this;return i.keyFields={},i.keyFields=r||{},i}return Object.defineProperty(n.prototype,"showValue",{get:function(){var e=this.attributes.valueText;return e?typeof e=="string"||typeof e=="number"?e!=="":typeof e=="function"?!0:e.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"actualSpace",{get:function(){var e=this.labelGroup,r=this.valueGroup,i=this.attributes,a=i.markerSize,o=i.focus,s=i.focusMarkerSize,A=e.node().getBBox(),c=A.width,l=A.height,u=r.node().getBBox(),f=u.width,d=u.height,h=o?s??12:0;return{markerWidth:a,labelWidth:c,valueWidth:f,focusWidth:h,height:Math.max(a,l,d)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"span",{get:function(){var e=this.attributes.span;if(!e)return[1,1];var r=z(Br(e),2),i=r[0],a=r[1],o=this.showValue?a:0,s=i+o;return[i/s,o/s]},enumerable:!1,configurable:!0}),n.prototype.setAttribute=function(e,r){t.prototype.setAttribute.call(this,e,r)},Object.defineProperty(n.prototype,"shape",{get:function(){var e,r=this.attributes,i=r.markerSize,a=r.width,o=this.actualSpace,s=o.markerWidth,A=o.focusWidth,c=o.height,l=this.actualSpace,u=l.labelWidth,f=l.valueWidth,d=z(this.spacing,3),h=d[0],p=d[1],v=d[2];if(a){var y=a-i-h-p-A-v,m=z(this.span,2),b=m[0],B=m[1];e=z([b*y,B*y],2),u=e[0],f=e[1]}var x=s+u+f+h+p+A+v;return{width:x,height:c,markerWidth:s,labelWidth:u,valueWidth:f,focusWidth:A}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){var e=this.attributes,r=e.spacing,i=e.focus;if(!r)return[0,0,0];var a=z(Br(r),3),o=a[0],s=a[1],A=a[2];return[o,this.showValue?s:0,i?A:0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"layout",{get:function(){var e=this.shape,r=e.markerWidth,i=e.labelWidth,a=e.valueWidth,o=e.focusWidth,s=e.width,A=e.height,c=z(this.spacing,3),l=c[0],u=c[1],f=c[2];return{height:A,width:s,markerWidth:r,labelWidth:i,valueWidth:a,focusWidth:o,position:[r/2,r+l,r+i+l+u,r+i+a+l+u+f+o/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scaleSize",{get:function(){var e=Jct(this.markerGroup.node()),r=this.attributes,i=r.markerSize,a=r.markerStrokeWidth,o=a===void 0?e.strokeWidth:a,s=r.markerLineWidth,A=s===void 0?e.lineWidth:s,c=r.markerStroke,l=c===void 0?e.stroke:c,u=+(o||A||(l?1:0))*Math.sqrt(2),f=this.markerGroup.node().getBBox(),d=f.width,h=f.height;return(1-u/Math.max(d,h))*i},enumerable:!1,configurable:!0}),n.prototype.renderMarker=function(e){var r=this,i=this.attributes,a=i.marker,o=i.classNamePrefix,s=Ae(this.attributes,"marker");this.markerGroup=e.maybeAppendByClassName(tr.markerGroup,"g").style("zIndex",0),Gr(!!a,this.markerGroup,function(){var A,c=r.markerGroup.node(),l=(A=c.childNodes)===null||A===void 0?void 0:A[0],u=Mn(tr.marker.name,kn.marker,o),f=typeof a=="string"?new Fe({style:{symbol:a},className:u}):a();if(l)if(f.nodeName===l.nodeName)l instanceof Fe?l.update(dt(dt({},s),{symbol:a})):(lst(l,f),Yt(l).styles(s));else{if(l.remove(),!(f instanceof Fe)){var h=Mn(tr.marker.name,kn.marker,o);f.className=h}Yt(f).styles(s),c.appendChild(f)}else{if(!(f instanceof Fe)){var d=Mn(tr.marker.name,kn.marker,o);f.className=d,Yt(f).styles(s)}c.appendChild(f)}r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var p=ix(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(p,")")})},n.prototype.renderLabel=function(e){var r=Ae(this.attributes,"label"),i=r.text,a=Xn(r,["text"]),o=this.attributes.classNamePrefix;this.labelGroup=e.maybeAppendByClassName(tr.labelGroup,"g").style("zIndex",0);var s=Mn(tr.label.name,kn.label,o),A=this.labelGroup.maybeAppendByClassName(tr.label,function(){return PA(i)});A.node().setAttribute("class",s),A.styles(a)},n.prototype.renderValue=function(e){var r=this,i=Ae(this.attributes,"value"),a=i.text,o=Xn(i,["text"]),s=this.attributes.classNamePrefix;this.valueGroup=e.maybeAppendByClassName(tr.valueGroup,"g").style("zIndex",0),Gr(this.showValue,this.valueGroup,function(){var A=Mn(tr.value.name,kn.value,s),c=r.valueGroup.maybeAppendByClassName(tr.value,function(){return PA(a)});c.node().setAttribute("class",A),c.styles(o)})},n.prototype.createPoptip=function(){var e=this.attributes.poptip,r=e||{};r.render;var i=Xn(r,["render"]),a=new qct({style:ba(Zct,i)});return this.poptipGroup=a,a},n.prototype.bindPoptip=function(e){var r=this,i=this.attributes.poptip;if(i){var a=this.poptipGroup||this.createPoptip();a.bind(e,function(){var o=r.attributes,s=o.labelText,A=o.valueText,c=o.markerFill,l=typeof s=="string"?s:s?.attr("text"),u=typeof A=="string"?A:A?.attr("text");if(typeof i.render=="function")return{html:i.render(dt(dt({},r.keyFields),{label:l,value:u,color:c}))};var f="";return(typeof l=="string"||typeof l=="number")&&(f+='<div class="component-poptip-label">'.concat(l,"</div>")),(typeof u=="string"||typeof u=="number")&&(f+='<div class="component-poptip-value">'.concat(u,"</div>")),{html:f}})}},n.prototype.renderFocus=function(e){var r=this,i=this.attributes,a=i.focus,o=i.focusMarkerSize,s=i.classNamePrefix,A={x:0,y:0,size:o,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};We(a)||(this.focusGroup=e.maybeAppendByClassName(tr.focusGroup,"g").style("zIndex",0),Gr(a,this.focusGroup,function(){var c=Mn(tr.focus.name,kn.focusIcon,s),l=new Fe({style:dt(dt({},A),{symbol:"focus"}),className:c}),u=new to({style:{r:A.size/2,fill:"transparent"}}),f=r.focusGroup.node();f.appendChild(u),f.appendChild(l),l.update({opacity:0}),e.node().addEventListener("pointerenter",function(){l.update({opacity:1})}),e.node().addEventListener("pointerleave",function(){l.update({opacity:0})})}))},n.prototype.renderPoptip=function(e){var r=this,i=this.attributes.poptip;if(i){var a=e.maybeAppendByClassName(tr.value,"g").node(),o=e.maybeAppendByClassName(tr.label,"g").node();[a,o].forEach(function(s){s&&r.bindPoptip(s)})}},n.prototype.renderBackground=function(e){var r=this.shape,i=r.width,a=r.height,o=Ae(this.attributes,"background");this.background=e.maybeAppendByClassName(tr.backgroundGroup,"g").style("zIndex",-1);var s=this.background.maybeAppendByClassName(tr.background,"rect");s.styles(dt({width:i,height:a},o));var A=this.attributes.classNamePrefix,c=A===void 0?"":A;if(c){var l=Mn(tr.background.name,kn.background,c);s.node().setAttribute("class",l)}},n.prototype.adjustLayout=function(){var e=this.layout,r=e.labelWidth,i=e.valueWidth,a=e.height,o=z(e.position,4),s=o[0],A=o[1],c=o[2],l=o[3],u=a/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(u,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(A,", ").concat(u,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(l,", ").concat(u,")")}),nb(this.labelGroup.select(tr.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(u,")")}),nb(this.valueGroup.select(tr.value.class).node(),Math.ceil(i)))},n.prototype.render=function(e,r){var i=Yt(r),a=e.x,o=a===void 0?0:a,s=e.y,A=s===void 0?0:s;i.styles({transform:"translate(".concat(o,", ").concat(A,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.renderPoptip(i),this.renderFocus(i),this.adjustLayout()},n})(fr),uA=ea({page:"item-page",navigator:"navigator",item:"item"},"items"),dM=function(t,n,e){return e===void 0&&(e=!0),t?n(t):e},elt=(function(t){dn(n,t);function n(e){var r=t.call(this,e,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:vm,mouseenter:vm,mouseleave:vm})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(n.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){var e=this.attributes,r=e.gridRow,i=e.gridCol,a=e.data;if(!r&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&i?[r,i]:r?[r,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderData",{get:function(){var e=this.attributes,r=e.data,i=e.layout,a=e.poptip,o=e.focus,s=e.focusMarkerSize,A=e.classNamePrefix,c=Ae(this.attributes,"item"),l=r.map(function(u,f){var d=u.id,h=d===void 0?f:d,p=u.label,v=u.value;return{id:"".concat(h),index:f,style:dt({layout:i,labelText:p,valueText:v,poptip:a,focus:o,focusMarkerSize:s,classNamePrefix:A},Object.fromEntries(Object.entries(c).map(function(y){var m=z(y,2),b=m[0],B=m[1];return[b,ii(B,[u,f,r])]})))}});return l},enumerable:!1,configurable:!0}),n.prototype.getGridLayout=function(){var e=this,r=this.attributes,i=r.orientation,a=r.width,o=r.rowPadding,s=r.colPadding,A=z(this.navigatorShape,1),c=A[0],l=z(this.grid,2),u=l[0],f=l[1],d=f*u,h=0;return this.pageViews.children.map(function(p,v){var y,m,b=Math.floor(v/d),B=v%d,x=e.ifHorizontal(f,u),C=[Math.floor(B/x),B%x];i==="vertical"&&C.reverse();var O=z(C,2),_=O[0],S=O[1],F=(a-c-(f-1)*s)/f,M=p.getBBox().height,T=z([0,0],2),k=T[0],L=T[1];return i==="horizontal"?(y=z([h,_*(M+o)],2),k=y[0],L=y[1],h=S===f-1?0:h+F+s):(m=z([S*(F+s),h],2),k=m[0],L=m[1],h=_===u-1?0:h+M+o),{page:b,index:v,row:_,col:S,pageIndex:B,width:F,height:M,x:k,y:L}})},n.prototype.getFlexLayout=function(){var e=this.attributes,r=e.width,i=e.height,a=e.rowPadding,o=e.colPadding,s=z(this.navigatorShape,1),A=s[0],c=z(this.grid,2),l=c[0],u=c[1],f=z([r-A,i],2),d=f[0],h=f[1],p=z([0,0,0,0,0,0,0,0],8),v=p[0],y=p[1],m=p[2],b=p[3],B=p[4],x=p[5],C=p[6],O=p[7];return this.pageViews.children.map(function(_,S){var F,M,T,k,L=_.getBBox(),U=L.width,N=L.height,P=C===0?0:o,Q=C+P+U;if(Q<=d&&dM(B,function(H){return H<u}))return F=z([C+P,O,Q],3),v=F[0],y=F[1],C=F[2],{width:U,height:N,x:v,y,page:m,index:S,pageIndex:b++,row:x,col:B++};M=z([x+1,0,0,O+N+a],4),x=M[0],B=M[1],C=M[2],O=M[3];var R=O+N;return R<=h&&dM(x,function(H){return H<l})?(T=z([C,O,U],3),v=T[0],y=T[1],C=T[2],{width:U,height:N,x:v,y,page:m,index:S,pageIndex:b++,row:x,col:B++}):(k=z([0,0,U,0,m+1,0,0,0],8),v=k[0],y=k[1],C=k[2],O=k[3],m=k[4],b=k[5],x=k[6],B=k[7],{width:U,height:N,x:v,y,page:m,index:S,pageIndex:b++,row:x,col:B++})})},Object.defineProperty(n.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var e=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=e.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],e.call(this)):r},enumerable:!1,configurable:!0}),n.prototype.ifHorizontal=function(e,r){var i=this.attributes.orientation;return Ka(i,e,r)},n.prototype.flattenPage=function(e){e.querySelectorAll(uA.item.class).forEach(function(r){e.appendChild(r)}),e.querySelectorAll(uA.page.class).forEach(function(r){var i=e.removeChild(r);i.destroy()})},n.prototype.renderItems=function(e){var r=this.attributes,i=r.click,a=r.mouseenter,o=r.mouseleave,s=r.classNamePrefix;this.flattenPage(e);var A=this.dispatchCustomEvent.bind(this),c=Mn(uA.item.name,kn.item,s);Yt(e).selectAll(uA.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){var f=u.style,d=Xn(u,["style"]);return new tlt({style:f},d)}).attr("className",c).on("click",function(){i?.(this),A("itemClick",{item:this})}).on("pointerenter",function(){a?.(this),A("itemMouseenter",{item:this})}).on("pointerleave",function(){o?.(this),A("itemMouseleave",{item:this})})},function(l){return l.each(function(u){var f=u.style;this.update(f)})},function(l){return l.remove()})},n.prototype.relayoutNavigator=function(){var e,r=this.attributes,i=r.layout,a=r.width,o=((e=this.pageViews.children[0])===null||e===void 0?void 0:e.getBBox().height)||0,s=z(this.navigatorShape,2),A=s[0],c=s[1];this.navigator.update(i==="grid"?{pageWidth:a-A,pageHeight:o-c}:{})},n.prototype.adjustLayout=function(){var e=this,r=Object.entries(Kot(this.itemsLayout,"page")).map(function(a){var o=z(a,2),s=o[0],A=o[1];return{page:s,layouts:A}}),i=Ut([],z(this.navigator.getContainer().children),!1);r.forEach(function(a){var o=a.layouts,s=e.pageViews.appendChild(new ur({className:uA.page.name}));o.forEach(function(A){var c=A.x,l=A.y,u=A.index,f=A.width,d=A.height,h=i[u];s.appendChild(h),N0(h,"__layout__",A),h.update({x:c,y:l,width:f,height:d})})}),this.relayoutNavigator()},n.prototype.renderNavigator=function(e){var r=this.attributes,i=r.orientation,a=r.classNamePrefix,o=Ae(this.attributes,"nav"),s=ba({orientation:i,classNamePrefix:a},o),A=this;return e.selectAll(uA.navigator.class).data(["nav"]).join(function(c){return c.append(function(){return new Gct({style:s})}).attr("className",uA.navigator.name).each(function(){A.navigator=this})},function(c){return c.each(function(){this.update(s)})},function(c){return c.remove()}),this.navigator},n.prototype.getBBox=function(){return this.navigator.getBBox()},n.prototype.render=function(e,r){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(Yt(r));this.renderItems(a.getContainer()),this.adjustLayout()}},n.prototype.dispatchCustomEvent=function(e,r){var i=new Ve(e,{detail:r});this.dispatchEvent(i)},n})(fr),nlt=(function(t){dn(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.update=function(e){this.attr(e)},n})(WA),hM=(function(t){dn(n,t);function n(e){return t.call(this,e,Rct)||this}return n.prototype.renderTitle=function(e,r,i){var a=this.attributes,o=a.showTitle,s=a.titleText,A=a.classNamePrefix,c=Ae(this.attributes,"title"),l=z(Po(c),2),u=l[0],f=l[1];this.titleGroup=e.maybeAppendByClassName(Vn.titleGroup,"g").styles(f);var d=dt(dt({width:r,height:i},u),{text:o?s:"",classNamePrefix:A});this.title=this.titleGroup.maybeAppendByClassName(Vn.title,function(){return new WP({style:d})}).update(d)},n.prototype.renderCustom=function(e){var r=this.attributes.data,i={innerHTML:this.attributes.render(r),pointerEvents:"auto"};e.maybeAppendByClassName(Vn.html,function(){return new nlt({className:Vn.html.name,style:i})}).update(i)},n.prototype.renderItems=function(e,r){var i=r.x,a=r.y,o=r.width,s=r.height,A=Ae(this.attributes,"title",!0),c=z(Po(A),2),l=c[0],u=c[1],f=dt(dt({},l),{width:o,height:s,x:0,y:0});this.itemsGroup=e.maybeAppendByClassName(Vn.itemsGroup,"g").styles(dt(dt({},u),{transform:"translate(".concat(i,", ").concat(a,")")}));var d=this;this.itemsGroup.selectAll(Vn.items.class).data(["items"]).join(function(h){return h.append(function(){return new elt({style:f})}).attr("className",Vn.items.name).each(function(){d.items=Yt(this)})},function(h){return h.update(f)},function(h){return h.remove()})},n.prototype.adjustLayout=function(){var e=this.attributes.showTitle;if(e){var r=this.title.node().getAvailableSpace(),i=r.x,a=r.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(n.prototype,"availableSpace",{get:function(){var e=this.attributes,r=e.showTitle,i=e.width,a=e.height;return r?this.title.node().getAvailableSpace():new gn(0,0,i,a)},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var e,r,i=(e=this.title)===null||e===void 0?void 0:e.node(),a=(r=this.items)===null||r===void 0?void 0:r.node();return!i||!a?t.prototype.getBBox.call(this):Hct(i,a)},n.prototype.render=function(e,r){var i=this.attributes,a=i.width,o=i.height,s=i.x,A=s===void 0?0:s,c=i.y,l=c===void 0?0:c,u=i.classNamePrefix,f=i.render,d=Yt(r),h=r.className||"legend-category";u?r.attr("className","".concat(h," ").concat(u,"legend")):r.className||r.attr("className","legend-category"),r.style.transform="translate(".concat(A,", ").concat(l,")"),f?this.renderCustom(d):(this.renderTitle(d,a,o),this.renderItems(d,this.availableSpace),this.adjustLayout())},n})(fr),rlt={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},u1=ea({background:"background",labelGroup:"label-group",label:"label"},"indicator"),ilt=(function(t){dn(n,t);function n(e){var r=t.call(this,e,rlt)||this;return r.point=[0,0],r.group=r.appendChild(new ur({})),r.isMutationObserved=!0,r}return n.prototype.renderBackground=function(){if(this.label){var e=this.attributes,r=e.position,i=e.padding,a=z(Br(i),4),o=a[0],s=a[1],A=a[2],c=a[3],l=this.label.node().getLocalBounds(),u=l.min,f=l.max,d=new gn(u[0]-c,u[1]-o,f[0]+s-u[0]+c,f[1]+A-u[1]+o),h=this.getPath(r,d),p=Ae(this.attributes,"background");this.background=Yt(this.group).maybeAppendByClassName(u1.background,"path").styles(dt(dt({},p),{d:h})),this.group.appendChild(this.label.node())}},n.prototype.renderLabel=function(){var e=this.attributes,r=e.formatter,i=e.labelText,a=Ae(this.attributes,"label"),o=z(Po(a),2),s=o[0],A=o[1];s.text;var c=Xn(s,["text"]);if(this.label=Yt(this.group).maybeAppendByClassName(u1.labelGroup,"g").styles(A),!!i){var l=this.label.maybeAppendByClassName(u1.label,function(){return PA(r(i))}).style("text",r(i).toString());l.selectAll("text").styles(c)}},n.prototype.adjustLayout=function(){var e=z(this.point,2),r=e[0],i=e[1],a=this.attributes,o=a.x,s=a.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-i,")"))},n.prototype.getPath=function(e,r){var i=this.attributes.radius,a=r.x,o=r.y,s=r.width,A=r.height,c=[["M",a+i,o],["L",a+s-i,o],["A",i,i,0,0,1,a+s,o+i],["L",a+s,o+A-i],["A",i,i,0,0,1,a+s-i,o+A],["L",a+i,o+A],["A",i,i,0,0,1,a,o+A-i],["L",a,o+i],["A",i,i,0,0,1,a+i,o],["Z"]],l={top:4,right:6,bottom:0,left:2},u=l[e],f=this.createCorner([c[u].slice(-2),c[u+1].slice(-2)]);return c.splice.apply(c,Ut([u+1,1],z(f),!1)),c[0][0]="M",c},n.prototype.createCorner=function(e,r){r===void 0&&(r=10);var i=.8,a=cst.apply(void 0,Ut([],z(e),!1)),o=z(e,2),s=z(o[0],2),A=s[0],c=s[1],l=z(o[1],2),u=l[0],f=l[1],d=z(a?[u-A,[A,u]]:[f-c,[c,f]],2),h=d[0],p=z(d[1],2),v=p[0],y=p[1],m=h/2,b=h/Math.abs(h),B=r*b,x=B/2,C=B*Math.sqrt(3)/2*i,O=z([v,v+m-x,v+m,v+m+x,y],5),_=O[0],S=O[1],F=O[2],M=O[3],T=O[4];return a?(this.point=[F,c-C],[["L",_,c],["L",S,c],["L",F,c-C],["L",M,c],["L",T,c]]):(this.point=[A+C,F],[["L",A,_],["L",A,S],["L",A+C,F],["L",A,M],["L",A,T]])},n.prototype.applyVisibility=function(){var e=this.attributes.visibility;e==="hidden"?Rs(this):id(this)},n.prototype.bindEvents=function(){this.label.on(me.BOUNDS_CHANGED,this.renderBackground)},n.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},n})(fr);function alt(t,n){for(var e=1;e<t.length;e+=1){var r=t[e-1],i=t[e];if(n>=r&&n<=i)return[r,i]}return[n,n]}function olt(t,n,e){var r=Array.from(n),i=t.length;return new Array(i).fill(0).reduce(function(a,o,s){var A=r[s%r.length];return a+=" ".concat(t[s],":").concat(A).concat(s<i-1?" ".concat(t[s+1],":").concat(A):"")},"l(".concat(e==="horizontal"?"0":"270",")"))}function pM(t,n){var e=z(alt(t,n),2),r=e[0],i=e[1];return{tick:n>(r+i)/2?i:r,range:[r,i]}}var SA=ea({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function VP(t){var n=t.orientation,e=t.size,r=t.length;return Ka(n,[r,e],[e,r])}function YP(t){var n=t.type,e=z(VP(t),2),r=e[0],i=e[1];return n==="size"?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function slt(t){return YP(t)}function Alt(t){var n=t.orientation,e=t.color,r=t.block,i=t.partition,a;if(or(e)){var o=20;a=new Array(o).fill(0).map(function(c,l,u){return e(l/(u.length-1))})}else a=e;var s=a.length,A=a.map(function(c){return xs(c).toString()});return s?s===1?A[0]:r?olt(i,A,n):A.reduce(function(c,l,u){return c+=" ".concat(u/(s-1),":").concat(l)},"l(".concat(Ka(n,"0","270"),")")):""}function clt(t){var n=t.orientation,e=t.range;if(!e)return[];var r=z(VP(t),2),i=r[0],a=r[1],o=z(e,2),s=o[0],A=o[1],c=Ka(n,s*i,0),l=Ka(n,0,s*a),u=Ka(n,A*i,i),f=Ka(n,a,A*a);return[["M",c,l],["L",c,f],["L",u,f],["L",u,l],["Z"]]}function llt(t,n){var e=Ae(n,"track"),r=n.classNamePrefix,i=Mn(SA.track.name,kn.track,r);t.maybeAppendByClassName(SA.track,"path").attr("className",i).styles(dt({d:YP(n)},e))}function ult(t,n){var e=Ae(n,"selection"),r=Alt(n),i=n.classNamePrefix,a=Mn(SA.selection.name,kn.selection,i),o=t.maybeAppendByClassName(SA.selection,"path").attr("className",a).styles(dt({d:slt(n),fill:r},e)),s=o.maybeAppendByClassName(SA.clipPath,"path").styles({d:clt(n)}).node();o.style("clipPath",s)}var flt=(function(t){dn(n,t);function n(e){return t.call(this,e,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return n.prototype.render=function(e,r){var i=Yt(r).maybeAppendByClassName(SA.trackGroup,"g");llt(i,e);var a=Yt(r).maybeAppendByClassName(SA.selectionGroup,"g");ult(a,e)},n})(fr);function dlt(t){return{min:Math.min.apply(Math,Ut([],z(t.map(function(n){return n.value})),!1)),max:Math.max.apply(Math,Ut([],z(t.map(function(n){return n.value})),!1))}}var hlt=(function(t){dn(n,t);function n(e){var r=t.call(this,e,Nct)||this;return r.eventToOffsetScale=new Xu({}),r.innerRibbonScale=new Xu({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(i){var a=r.attributes,o=a.data,s=a.block;i.stopPropagation();var A=r.getValueByCanvasPoint(i);if(s){var c=pM(o.map(function(f){var d=f.value;return d}),A).range,l=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(l[0],"-").concat(l[1])),r.dispatchIndicated(A,c)}else{var u=r.getTickValue(A);r.showIndicator(u,"".concat(r.getRealValue(u))),r.dispatchIndicated(u)}},r.onDragStart=function(i){return function(a){a.stopPropagation(),r.attributes.slidable&&(r.target=i,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(a)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(i){var a=r.target;r.updateMouse();var o=z(r.selection,2),s=o[0],A=o[1],c=r.getTickValue(r.getValueByCanvasPoint(i)),l=c-r.prevValue;a==="start"?s!==c&&r.updateSelection(c,A):a==="end"?A!==c&&r.updateSelection(s,c):a==="ribbon"&&l!==0&&(r.prevValue=c,r.updateSelection(l,l,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(n.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var e=this.attributes,r=e.width,i=e.height;return new gn(0,0,r,i)},n.prototype.render=function(e,r){var i=this,a=e.classNamePrefix,o=r.className||"legend-continuous";a?r.attr("className","".concat(o," ").concat(a,"legend")):r.className||r.attr("className","legend-continuous");var s=e.showLabel;this.renderTitle(Yt(r));var A=this.availableSpace,c=A.x,l=A.y,u=Yt(r).maybeAppendByClassName(Vn.contentGroup,"g").styles({transform:"translate(".concat(c,", ").concat(l,")")}),f=u.maybeAppendByClassName(Vn.labelGroup,"g").styles({zIndex:1});Gr(!!s,f,function(h){i.renderLabel(h)});var d=u.maybeAppendByClassName(Vn.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=u.maybeAppendByClassName(Vn.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(d),this.renderIndicator(u),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(n.prototype,"range",{get:function(){var e=this.attributes,r=e.data,i=e.domain;return i?{min:i[0],max:i[1]}:dlt(r)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonScale",{get:function(){var e=this.range,r=e.min,i=e.max;return this.innerRibbonScale.update({domain:[r,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonRange",{get:function(){var e=z(this.selection,2),r=e[0],i=e[1],a=this.ribbonScale;return[a.map(r),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){var e=this.range,r=e.min,i=e.max,a=this.attributes.defaultValue,o=a===void 0?[r,i]:a,s=z(o,2),A=s[0],c=s[1];return[A,c]},enumerable:!1,configurable:!0}),n.prototype.ifHorizontal=function(e,r){return Ka(this.attributes.orientation,typeof e=="function"?e():e,typeof r=="function"?r():r)},n.prototype.renderTitle=function(e){var r=this.attributes,i=r.showTitle,a=r.titleText,o=r.width,s=r.height,A=r.classNamePrefix,c=Ae(this.attributes,"title"),l=dt(dt({},c),{width:o,height:s,text:a,classNamePrefix:A}),u=this;e.selectAll(Vn.title.class).data(i?[a]:[]).join(function(f){return f.append(function(){return new WP({style:l})}).attr("className",Vn.title.name).each(function(){u.title=this})},function(f){return f.update(l)},function(f){return f.each(function(){u.title=void 0}).remove()})},Object.defineProperty(n.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var e=this.attributes,r=e.width,i=e.height;return new gn(0,0,r,i)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelFixedSpacing",{get:function(){var e=this.attributes.showTick;return e?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelPosition",{get:function(){var e=this.attributes,r=e.orientation,i=e.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[r][i]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelBBox",{get:function(){var e,r=this.attributes.showLabel;if(!r)return new gn(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((e=this.label.querySelector(Wt.labelGroup.class))===null||e===void 0?void 0:e.children.slice(-1)[0]).getBBox(),a=i.width,o=i.height;return this.cacheLabelBBox=new gn(0,0,a,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelShape",{get:function(){var e=this.attributes,r=e.showLabel,i=e.labelSpacing,a=i===void 0?0:i;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,A=o.height,c=this.ifHorizontal(A,s)+a+this.labelFixedSpacing,l=this.ifHorizontal(s,A);return{width:s,height:A,size:c,length:l}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonBBox",{get:function(){var e=this.attributes,r=e.showHandle,i=e.ribbonSize,a=this.availableSpace,o=a.width,s=a.height,A=this.labelShape,c=A.size,l=A.length,u=z(this.ifHorizontal([s,o],[o,s]),2),f=u[0],d=u[1],h=r?this.handleShape:{size:0,length:0},p=h.size,v=h.length,y=this.handleOffsetRatio,m=0,b=this.labelPosition;i?m=i:["bottom","right"].includes(b)?m=Math.min(f-c,(f-p)/y):f*(1-y)>p?m=Math.max(f-c,0):m=Math.max((f-c-p)/y,0);var B=Math.max(v,l),x=d-B,C=z(this.ifHorizontal([x,m],[m,x]),2),O=C[0],_=C[1],S=["top","left"].includes(b)?c:0,F=z(this.ifHorizontal([B/2,S],[S,B/2]),2),M=F[0],T=F[1];return new gn(M,T,O,_)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ribbonShape",{get:function(){var e=this.ribbonBBox,r=e.width,i=e.height;return this.ifHorizontal({size:i,length:r},{size:r,length:i})},enumerable:!1,configurable:!0}),n.prototype.renderRibbon=function(e){var r=this.attributes,i=r.data,a=r.type,o=r.orientation,s=r.color,A=r.block,c=r.classNamePrefix,l=Ae(this.attributes,"ribbon"),u=this.range,f=u.min,d=u.max,h=this.ribbonBBox,p=h.x,v=h.y,y=this.ribbonShape,m=y.length,b=y.size,B=ba({transform:"translate(".concat(p,", ").concat(v,")"),length:m,size:b,type:a,orientation:o,color:s,block:A,partition:i.map(function(C){return(C.value-f)/(d-f)}),range:this.ribbonRange,classNamePrefix:c},l),x=Mn(Vn.ribbon.name,kn.ribbon,c);this.ribbon=e.maybeAppendByClassName(Vn.ribbon,function(){return new flt({style:B,className:x})}).update(B)},n.prototype.getHandleClassName=function(e){return"".concat(Vn.prefix("".concat(e,"-handle")))},n.prototype.renderHandles=function(){var e=this.attributes,r=e.showHandle,i=e.orientation,a=e.classNamePrefix,o=Ae(this.attributes,"handle"),s=z(this.selection,2),A=s[0],c=s[1],l=dt(dt({},o),{orientation:i,classNamePrefix:a}),u=o.shape,f=u===void 0?"slider":u,d=f==="basic"?Pct:TP,h=this,p=Mn(Vn.handle.name,kn.handle,a);this.handlesGroup.selectAll(Vn.handle.class).data(r?[{value:A,type:"start"},{value:c,type:"end"}]:[],function(v){return v.type}).join(function(v){return v.append(function(){return new d({style:l,className:p})}).attr("className",function(y){var m=y.type;return"".concat(p," ").concat(h.getHandleClassName(m))}).each(function(y){var m=y.type,b=y.value;this.update({labelText:b});var B="".concat(m,"Handle");h[B]=this,this.addEventListener("pointerdown",h.onDragStart(m))})},function(v){return v.update(l).each(function(y){var m=y.value;this.update({labelText:m})})},function(v){return v.each(function(y){var m=y.type,b="".concat(m,"Handle");h[b]=void 0}).remove()})},n.prototype.adjustHandles=function(){var e=z(this.selection,2),r=e[0],i=e[1];this.setHandlePosition("start",r),this.setHandlePosition("end",i);var a=this.attributes,o=a.classNamePrefix,s=a.showHandle,A=Ae(this.attributes,"handle").shape,c=A===void 0?"slider":A;s&&c==="slider"&&o&&(this.startHandle&&this.updateSliderHandleClassNames(this.startHandle,o),this.endHandle&&this.updateSliderHandleClassNames(this.endHandle,o))},n.prototype.updateSliderHandleClassNames=function(e,r){var i=e.container||e,a=i.querySelector(".handle-icon-rect");if(a){var o=Mn("handle-icon-rect",kn.handleMarker,r);a.setAttribute("class",o);var s=a.querySelectorAll("line");s.forEach(function(l){var u=l.getAttribute("class")||"",f=u.split(" ")[0],d=Mn(f,kn.handleMarker,r);l.setAttribute("class",d)})}var A=i.querySelector(".handle-label");if(A){var c=Mn("handle-label",kn.handleLabel,r);A.setAttribute("class",c)}},Object.defineProperty(n.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new gn(0,0,0,0);var e=this.startHandle.getBBox(),r=e.width,i=e.height,a=this.endHandle.getBBox(),o=a.width,s=a.height,A=z([Math.max(r,o),Math.max(i,s)],2),c=A[0],l=A[1];return this.cacheHandleBBox=new gn(0,0,c,l),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"handleShape",{get:function(){var e=this.handleBBox,r=e.width,i=e.height,a=z(this.ifHorizontal([i,r],[r,i]),2),o=a[0],s=a[1];return{width:r,height:i,size:o,length:s}},enumerable:!1,configurable:!0}),n.prototype.setHandlePosition=function(e,r){var i=this.attributes.handleFormatter,a=this.ribbonBBox,o=a.x,s=a.y,A=this.ribbonShape.size,c=this.getOffset(r),l=z(this.ifHorizontal([o+c,s+A*this.handleOffsetRatio],[o+A*this.handleOffsetRatio,s+c]),2),u=l[0],f=l[1],d=this.handlesGroup.select(".".concat(this.getHandleClassName(e))).node();d?.update({transform:"translate(".concat(u,", ").concat(f,")"),formatter:i})},n.prototype.renderIndicator=function(e){var r=this.attributes.classNamePrefix,i=Ae(this.attributes,"indicator"),a=Mn(Vn.indicator.name,kn.indicator,r);this.indicator=e.maybeAppendByClassName(Vn.indicator,function(){return new ilt({style:i,className:a})}).update(i)},Object.defineProperty(n.prototype,"labelData",{get:function(){var e=this,r=this.attributes.data;return r.reduce(function(i,a,o,s){var A,c,l=(A=a?.id)!==null&&A!==void 0?A:o.toString();if(i.push(dt(dt({},a),{id:l,index:o,type:"value",label:(c=a?.label)!==null&&c!==void 0?c:a.value.toString(),value:e.ribbonScale.map(a.value)})),o<s.length-1){var u=s[o+1],f=z([a.value,u.value],2),d=f[0],h=f[1],p=(d+h)/2;i.push(dt(dt({},a),{id:l,index:o,type:"range",range:[d,h],label:[d,h].join("~"),value:e.ribbonScale.map(p)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"labelStyle",{get:function(){var e=z(["center","middle"],2),r=e[0],i=e[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?r="end":a==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:i}},enumerable:!1,configurable:!0}),n.prototype.renderLabel=function(e){var r=this.attributes,i=r.showTick,a=i===void 0?!1:i,o=r.labelFilter,s=r.labelFormatter,A=Ae(this.attributes,"tick"),c=Ae(this.attributes,"label"),l=c.align,u=ba(dt({showLine:!1,showGrid:!1,showTick:a,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),Pa(A,"tick"),Pa(c,"label"),{data:this.labelData}),f={tickFilter:function(h,p,v){return h?.type!=="value"?!1:o?o(h,h.index,v.filter(function(y){return y.type!=="value"})):!0},labelFilter:function(h,p,v){return h?.type!==l?!1:o?o(h,h.index,v.filter(function(y){return y.type===l})):!0},labelFormatter:s},d=dt(dt(dt({},u),f),{labelOverlap:[{type:"hide"}]});this.label=e.maybeAppendByClassName(Vn.label,function(){return new dx({style:d})}).node(),this.label.update(d,!1)},Object.defineProperty(n.prototype,"labelAxisStyle",{get:function(){var e=this.attributes,r=e.showTick,i=e.labelDirection,a=e.labelSpacing,o=e.tickLength,s=this.ribbonShape.size,A=this.labelPosition,c=this.labelFixedSpacing,l=z([0,0,0],3),u=l[0],f=l[1],d=l[2],h=o??s;return r?(d=h,f=c,i==="positive"?A==="right"?(u=h,d=h):A==="bottom"&&(u=d):i==="negative"&&(A==="top"||A==="left")&&(u=s)):i==="positive"?A==="right"?f=h:A==="bottom"&&(u=s+c,f=a):i==="negative"&&(A==="left"||A==="top")&&(f=a),{offset:u,spacing:f,tickLength:d}},enumerable:!1,configurable:!0}),n.prototype.adjustLabel=function(){var e=this.attributes.showLabel;if(e){var r=this.ribbonBBox,i=r.x,a=r.y,o=r.width,s=r.height,A=this.labelAxisStyle,c=A.offset,l=A.spacing,u=A.tickLength,f=z(this.ifHorizontal([[i,a+c],[i+o,a+c]],[[i+c,a+s],[i+c,a]]),2),d=f[0],h=f[1];this.label.update({startPos:d,endPos:h,tickLength:u,labelSpacing:l},!1)}},n.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},n.prototype.showIndicator=function(e,r){r===void 0&&(r="".concat(e));var i=this.attributes.showIndicator;if(!i||typeof e!="number"){this.hideIndicator();return}var a=this.range,o=a.min,s=a.max,A=this.ribbonBBox,c=A.x,l=A.y,u=In(e,o,s),f=this.getOffset(u),d=this.ifHorizontal([f+c,l],[c,f+l]);this.indicator.update({x:d[0],y:d[1],position:this.ifHorizontal("top","left"),labelText:r}),id(this.indicator.node())},n.prototype.hideIndicator=function(){Rs(this.indicator.node())},n.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},n.prototype.setSelection=function(e,r){this.updateSelection(e,r)},n.prototype.updateSelection=function(e,r,i){var a;i===void 0&&(i=!1);var o=z(this.selection,2),s=o[0],A=o[1],c=z([e,r],2),l=c[0],u=c[1];i&&(l+=s,u+=A);var f=this.range,d=f.min,h=f.max;a=z(Uct([d,h],[l,u],this.selection),2),l=a[0],u=a[1],this.update({defaultValue:[l,u]}),this.dispatchSelection()},Object.defineProperty(n.prototype,"step",{get:function(){var e=this.attributes.step,r=e===void 0?1:e,i=this.range,a=i.min,o=i.max;return We(r)?rb((o-a)*Dct,0):r},enumerable:!1,configurable:!0}),n.prototype.getTickValue=function(e){var r=this.attributes,i=r.data,a=r.block,o=this.range.min;return a?pM(i.map(function(s){var A=s.value;return A}),e).tick:Tct(e,this.step,o)},n.prototype.getValueByCanvasPoint=function(e){var r=this.range,i=r.min,a=r.max,o=z(this.ribbon.node().getPosition(),2),s=o[0],A=o[1],c=this.ifHorizontal(s,A),l=this.ifHorizontal.apply(this,Ut([],z(hP(e)),!1)),u=l-c,f=In(this.getOffset(u,!0),i,a);return f},n.prototype.getOffset=function(e,r){r===void 0&&(r=!1);var i=this.range,a=i.min,o=i.max,s=this.ribbonShape.length,A=this.eventToOffsetScale;return A.update({domain:[a,o],range:[0,s]}),r?A.invert(e):A.map(e)},n.prototype.getRealSelection=function(e){var r=this.range.max,i=z(e,2),a=i[0],o=i[1];return this.ifHorizontal([a,o],[r-o,r-a])},n.prototype.getRealValue=function(e){var r=this.range.max;return this.ifHorizontal(e,r-e)},n.prototype.dispatchSelection=function(){var e=this.getRealSelection(this.selection),r=new Ve("valuechange",{detail:{value:e}});this.dispatchEvent(r)},n.prototype.dispatchIndicated=function(e,r){var i=this,a=this.range.max,o=this.ifHorizontal(function(){return{value:e,range:r}},function(){return{value:a-e,range:r?i.getRealSelection(r):void 0}}),s=new Ve("indicate",{detail:o});this.dispatchEvent(s)},n})(fr);function ub(t){return t===void 0&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var gM={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function plt(t){var n;t===void 0&&(t="");var e=ub(t);return n={},n[".".concat(e.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},n[".".concat(e.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},n[".".concat(e.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},n[".".concat(e.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},n[".".concat(e.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},n[".".concat(e.NAME)]={display:"flex","align-items":"center","max-width":"216px"},n[".".concat(e.NAME_LABEL)]=dt({flex:1},gM),n[".".concat(e.VALUE)]=dt({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},gM),n[".".concat(e.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},n[".".concat(e.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},n}var glt=(function(t){dn(n,t);function n(e){var r=this,i,a,o=(a=(i=e.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,s=ub(o);return r=t.call(this,e,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:plt(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(n.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),n.prototype.getContainer=function(){return this.element},Object.defineProperty(n.prototype,"elementSize",{get:function(){var e=this.element.offsetWidth,r=this.element.offsetHeight;return{width:e,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"HTMLTooltipItemsElements",{get:function(){var e=this.attributes,r=e.data,i=e.template;return r.map(function(a,o){var s=a.name,A=s===void 0?"":s,c=a.color,l=c===void 0?"black":c,u=a.index,f=Xn(a,["name","color","index"]),d=dt({name:A,color:l,index:u??o},f);return Q_(_V(i.item,d))})},enumerable:!1,configurable:!0}),n.prototype.render=function(e,r){this.renderHTMLTooltipElement(),this.updatePosition()},n.prototype.destroy=function(){var e;(e=this.element)===null||e===void 0||e.remove(),t.prototype.destroy.call(this)},n.prototype.show=function(e,r){var i=this;if(e!==void 0&&r!==void 0){var a=this.element.style.visibility==="hidden",o=function(){i.attributes.x=e??i.attributes.x,i.attributes.y=r??i.attributes.y,i.updatePosition()};a?this.closeTransition(o):o()}this.element.style.visibility="visible"},n.prototype.hide=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i=this.attributes.enterable;i&&this.isCursorEntered(e,r)||(this.element.style.visibility="hidden")},n.prototype.initShape=function(){var e=this.attributes.template;this.element=Q_(e.container),this.id&&this.element.setAttribute("id",this.id)},n.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var e=this.attributes.content;e&&(typeof e=="string"?this.element.innerHTML=e:RF(this.element,e))}},n.prototype.renderHTMLTooltipElement=function(){var e,r,i=this.attributes,a=i.template,o=i.title,s=i.enterable,A=i.style,c=i.content,l=ub(a.prefixCls),u=this.element;if(this.element.style.pointerEvents=s?"auto":"none",c)this.renderCustomContent();else{o?(u.innerHTML=a.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=o):(r=(e=u.getElementsByClassName(l.TITLE))===null||e===void 0?void 0:e[0])===null||r===void 0||r.remove();var f=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=l.LIST,RF(d,f);var h=this.element.querySelector(".".concat(l.LIST));h?h.replaceWith(d):u.appendChild(d)}dst(u,A)},n.prototype.getRelativeOffsetFromCursor=function(e){var r=this.attributes,i=r.position,a=r.offset,o=e||i,s=o.split("-"),A={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,l=c.width,u=c.height,f=[-l/2,-u/2];return s.forEach(function(d){var h=z(f,2),p=h[0],v=h[1],y=z(A[d],2),m=y[0],b=y[1];f=[p+(l/2+a[0])*m,v+(u/2+a[1])*b]}),f},n.prototype.setOffsetPosition=function(e){var r=z(e,2),i=r[0],a=r[1],o=this.attributes,s=o.x,A=s===void 0?0:s,c=o.y,l=c===void 0?0:c,u=o.container,f=u.x,d=u.y;this.element.style.left="".concat(+A+f+i,"px"),this.element.style.top="".concat(+l+d+a,"px")},n.prototype.updatePosition=function(){var e=this.attributes.showDelay,r=e===void 0?60:e,i=Date.now();this.timestamp>0&&i-this.timestamp<r||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},n.prototype.autoPosition=function(e){var r=z(e,2),i=r[0],a=r[1],o=this.attributes,s=o.x,A=o.y,c=o.bounding,l=o.position;if(!c)return[i,a];var u=this.element,f=u.offsetWidth,d=u.offsetHeight,h=z([+s+i,+A+a],2),p=h[0],v=h[1],y={left:"right",right:"left",top:"bottom",bottom:"top"},m=c.x,b=c.y,B=c.width,x=c.height,C={left:p<m,right:p+f>m+B,top:v<b,bottom:v+d>b+x},O=[];l.split("-").forEach(function(S){C[S]?O.push(y[S]):O.push(S)});var _=O.join("-");return this.getRelativeOffsetFromCursor(_)},n.prototype.isCursorEntered=function(e,r){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,o=i.y,s=i.width,A=i.height;return new gn(a,o,s,A).isPointIn(e,r)}return!1},n.prototype.closeTransition=function(e){var r=this,i=this.element.style.transition;this.element.style.transition="none",e(),setTimeout(function(){r.element.style.transition=i},10)},n.tag="tooltip",n})(fr),vlt=(function(t){dn(n,t);function n(e){var r=t.call(this,e)||this;r.layoutEvents=[me.BOUNDS_CHANGED,me.INSERTED,me.REMOVED],r.$margin=Br(0),r.$padding=Br(0);var i=e.style||{},a=i.margin,o=a===void 0?0:a,s=i.padding,A=s===void 0?0:s;return r.margin=o,r.padding=A,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(n.prototype,"margin",{get:function(){return this.$margin},set:function(e){this.$margin=Br(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this.$padding},set:function(e){this.$padding=Br(e)},enumerable:!1,configurable:!0}),n.prototype.getBBox=function(){var e=this.attributes,r=e.x,i=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.width,A=e.height,c=z(this.$margin,4),l=c[0],u=c[1],f=c[2],d=c[3];return new gn(i-d,o-l,s+d+u,A+l+f)},n.prototype.appendChild=function(e,r){return e.isMutationObserved=!0,t.prototype.appendChild.call(this,e,r),e},n.prototype.getAvailableSpace=function(){var e=this.attributes,r=e.width,i=e.height,a=z(this.$padding,4),o=a[0],s=a[1],A=a[2],c=a[3],l=z(this.$margin,4),u=l[0],f=l[3];return new gn(c+f,o+u,r-c-s,i-o-A)},n.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var e=this.attributes,r=e.x,i=e.y;this.style.transform="translate(".concat(r,", ").concat(i,")");var a=Zot(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var A=a[s],c=A.x,l=A.y;o.style.transform="translate(".concat(c,", ").concat(l,")")})}catch{}},n.prototype.bindEvents=function(){var e=this;this.layoutEvents.forEach(function(r){e.addEventListener(r,function(i){i.target&&(i.target.isMutationObserved=!0,e.layout())})})},n.prototype.attributeChangedCallback=function(e,r,i){e==="margin"?this.margin=i:e==="padding"&&(this.padding=i),this.layout()},n})(ur);var XP=(function(){function t(n){ut(this,t),this.dragndropPluginOptions=n}return lt(t,[{key:"apply",value:function(e){var r=this,i=e.renderingService,a=e.renderingContext,o=a.root.ownerDocument,s=o.defaultView,A=function(l){var u=l.target,f=u===o,d=f&&r.dragndropPluginOptions.isDocumentDraggable?o:u.closest&&u.closest("[draggable=true]");if(d){var h=!1,p=l.timeStamp,v=[l.clientX,l.clientY],y=null,m=[l.clientX,l.clientY],b=(function(){var x=Ss(gr().mark(function C(O){var _,S,F,M,T,k;return gr().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(h){L.next=2;break}if(_=O.timeStamp-p,S=ti([O.clientX,O.clientY],v),!(_<=r.dragndropPluginOptions.dragstartTimeThreshold||S<=r.dragndropPluginOptions.dragstartDistanceThreshold)){L.next=1;break}return L.abrupt("return");case 1:O.type="dragstart",d.dispatchEvent(O),h=!0;case 2:if(O.type="drag",O.dx=O.clientX-m[0],O.dy=O.clientY-m[1],d.dispatchEvent(O),m=[O.clientX,O.clientY],f){L.next=4;break}return F=r.dragndropPluginOptions.overlap==="pointer"?[O.canvasX,O.canvasY]:u.getBounds().center,L.next=3,o.elementsFromPoint(F[0],F[1]);case 3:M=L.sent,T=M[M.indexOf(u)+1],k=T?.closest("[droppable=true]")||(r.dragndropPluginOptions.isDocumentDroppable?o:null),y!==k&&(y&&(O.type="dragleave",O.target=y,y.dispatchEvent(O)),k&&(O.type="dragenter",O.target=k,k.dispatchEvent(O)),y=k,y&&(O.type="dragover",O.target=y,y.dispatchEvent(O)));case 4:case"end":return L.stop()}},C)}));return function(O){return x.apply(this,arguments)}})();s.addEventListener("pointermove",b);var B=function(C){if(h){C.detail={preventClick:!0};var O=C.clone();y&&(O.type="drop",O.target=y,y.dispatchEvent(O)),O.type="dragend",d.dispatchEvent(O),h=!1}s.removeEventListener("pointermove",b)};u.addEventListener("pointerup",B,{once:!0}),u.addEventListener("pointerupoutside",B,{once:!0})}};i.hooks.init.tap(t.tag,function(){s.addEventListener("pointerdown",A)}),i.hooks.destroy.tap(t.tag,function(){s.removeEventListener("pointerdown",A)})}}])})();XP.tag="Dragndrop";var qP=(function(t){function n(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ut(this,n),e=ne(this,n),e.name="dragndrop",e.options=r,e}return ee(n,t),lt(n,[{key:"init",value:function(){this.addRenderingPlugin(new XP(Vt({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])})(Us),Lu={exports:{}};var ylt=Lu.exports,vM;function mlt(){return vM||(vM=1,(function(t,n){(function(){var e,r="4.17.23",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",u=1,f=2,d=4,h=1,p=2,v=1,y=2,m=4,b=8,B=16,x=32,C=64,O=128,_=256,S=512,F=30,M="...",T=800,k=16,L=1,U=2,N=3,P=1/0,Q=9007199254740991,R=17976931348623157e292,H=NaN,G=4294967295,K=G-1,W=G>>>1,X=[["ary",O],["bind",v],["bindKey",y],["curry",b],["curryRight",B],["flip",S],["partial",x],["partialRight",C],["rearg",_]],Y="[object Arguments]",et="[object Array]",nt="[object AsyncFunction]",Z="[object Boolean]",ot="[object Date]",ct="[object DOMException]",vt="[object Error]",ht="[object Function]",bt="[object GeneratorFunction]",Bt="[object Map]",Ct="[object Number]",kt="[object Null]",Ot="[object Object]",_t="[object Promise]",Lt="[object Proxy]",de="[object RegExp]",qt="[object Set]",Zt="[object String]",Me="[object Symbol]",Ue="[object Undefined]",Ee="[object WeakMap]",ge="[object WeakSet]",ve="[object ArrayBuffer]",ke="[object DataView]",Jt="[object Float32Array]",Kt="[object Float64Array]",Bn="[object Int8Array]",Ye="[object Int16Array]",Jn="[object Int32Array]",oi="[object Uint8Array]",si="[object Uint8ClampedArray]",aa="[object Uint16Array]",zs="[object Uint32Array]",ec=/\b__p \+= '';/g,nc=/\b(__p \+=) '' \+/g,Jv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Od=/&(?:amp|lt|gt|quot|#39);/g,KC=/[&<>"']/g,S6=RegExp(Od.source),F6=RegExp(KC.source),M6=/<%-([\s\S]+?)%>/g,k6=/<%([\s\S]+?)%>/g,zC=/<%=([\s\S]+?)%>/g,T6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I6=/^\w*$/,L6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ty=/[\\^$.*+?()[\]{}|]/g,Q6=RegExp(ty.source),ey=/^\s+/,U6=/\s/,P6=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,R6=/\{\n\/\* \[wrapped with (.+)\] \*/,N6=/,? & /,D6=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,H6=/[()=,{}\[\]\/\s]/,j6=/\\(\\)?/g,$6=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,WC=/\w*$/,G6=/^[-+]0x[0-9a-f]+$/i,K6=/^0b[01]+$/i,z6=/^\[object .+?Constructor\]$/,W6=/^0o[0-7]+$/i,V6=/^(?:0|[1-9]\d*)$/,Y6=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ed=/($^)/,X6=/['\n\r\u2028\u2029\\]/g,_d="\\ud800-\\udfff",q6="\\u0300-\\u036f",Z6="\\ufe20-\\ufe2f",J6="\\u20d0-\\u20ff",VC=q6+Z6+J6,YC="\\u2700-\\u27bf",XC="a-z\\xdf-\\xf6\\xf8-\\xff",tj="\\xac\\xb1\\xd7\\xf7",ej="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nj="\\u2000-\\u206f",rj=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qC="A-Z\\xc0-\\xd6\\xd8-\\xde",ZC="\\ufe0e\\ufe0f",JC=tj+ej+nj+rj,ny="[']",ij="["+_d+"]",tO="["+JC+"]",Sd="["+VC+"]",eO="\\d+",aj="["+YC+"]",nO="["+XC+"]",rO="[^"+_d+JC+eO+YC+XC+qC+"]",ry="\\ud83c[\\udffb-\\udfff]",oj="(?:"+Sd+"|"+ry+")",iO="[^"+_d+"]",iy="(?:\\ud83c[\\udde6-\\uddff]){2}",ay="[\\ud800-\\udbff][\\udc00-\\udfff]",rc="["+qC+"]",aO="\\u200d",oO="(?:"+nO+"|"+rO+")",sj="(?:"+rc+"|"+rO+")",sO="(?:"+ny+"(?:d|ll|m|re|s|t|ve))?",AO="(?:"+ny+"(?:D|LL|M|RE|S|T|VE))?",cO=oj+"?",lO="["+ZC+"]?",Aj="(?:"+aO+"(?:"+[iO,iy,ay].join("|")+")"+lO+cO+")*",cj="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lj="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",uO=lO+cO+Aj,uj="(?:"+[aj,iy,ay].join("|")+")"+uO,fj="(?:"+[iO+Sd+"?",Sd,iy,ay,ij].join("|")+")",dj=RegExp(ny,"g"),hj=RegExp(Sd,"g"),oy=RegExp(ry+"(?="+ry+")|"+fj+uO,"g"),pj=RegExp([rc+"?"+nO+"+"+sO+"(?="+[tO,rc,"$"].join("|")+")",sj+"+"+AO+"(?="+[tO,rc+oO,"$"].join("|")+")",rc+"?"+oO+"+"+sO,rc+"+"+AO,lj,cj,eO,uj].join("|"),"g"),gj=RegExp("["+aO+_d+VC+ZC+"]"),vj=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yj=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mj=-1,hn={};hn[Jt]=hn[Kt]=hn[Bn]=hn[Ye]=hn[Jn]=hn[oi]=hn[si]=hn[aa]=hn[zs]=!0,hn[Y]=hn[et]=hn[ve]=hn[Z]=hn[ke]=hn[ot]=hn[vt]=hn[ht]=hn[Bt]=hn[Ct]=hn[Ot]=hn[de]=hn[qt]=hn[Zt]=hn[Ee]=!1;var ln={};ln[Y]=ln[et]=ln[ve]=ln[ke]=ln[Z]=ln[ot]=ln[Jt]=ln[Kt]=ln[Bn]=ln[Ye]=ln[Jn]=ln[Bt]=ln[Ct]=ln[Ot]=ln[de]=ln[qt]=ln[Zt]=ln[Me]=ln[oi]=ln[si]=ln[aa]=ln[zs]=!0,ln[vt]=ln[ht]=ln[Ee]=!1;var wj={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},bj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bj={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cj=parseFloat,Oj=parseInt,fO=typeof hh=="object"&&hh&&hh.Object===Object&&hh,Ej=typeof self=="object"&&self&&self.Object===Object&&self,vr=fO||Ej||Function("return this")(),sy=n&&!n.nodeType&&n,Ws=sy&&!0&&t&&!t.nodeType&&t,dO=Ws&&Ws.exports===sy,Ay=dO&&fO.process,xi=(function(){try{var tt=Ws&&Ws.require&&Ws.require("util").types;return tt||Ay&&Ay.binding&&Ay.binding("util")}catch{}})(),hO=xi&&xi.isArrayBuffer,pO=xi&&xi.isDate,gO=xi&&xi.isMap,vO=xi&&xi.isRegExp,yO=xi&&xi.isSet,mO=xi&&xi.isTypedArray;function Ai(tt,At,st){switch(st.length){case 0:return tt.call(At);case 1:return tt.call(At,st[0]);case 2:return tt.call(At,st[0],st[1]);case 3:return tt.call(At,st[0],st[1],st[2])}return tt.apply(At,st)}function _j(tt,At,st,Tt){for(var re=-1,Pe=tt==null?0:tt.length;++re<Pe;){var Ar=tt[re];At(Tt,Ar,st(Ar),tt)}return Tt}function Ci(tt,At){for(var st=-1,Tt=tt==null?0:tt.length;++st<Tt&&At(tt[st],st,tt)!==!1;);return tt}function Sj(tt,At){for(var st=tt==null?0:tt.length;st--&&At(tt[st],st,tt)!==!1;);return tt}function wO(tt,At){for(var st=-1,Tt=tt==null?0:tt.length;++st<Tt;)if(!At(tt[st],st,tt))return!1;return!0}function Ko(tt,At){for(var st=-1,Tt=tt==null?0:tt.length,re=0,Pe=[];++st<Tt;){var Ar=tt[st];At(Ar,st,tt)&&(Pe[re++]=Ar)}return Pe}function Fd(tt,At){var st=tt==null?0:tt.length;return!!st&&ic(tt,At,0)>-1}function cy(tt,At,st){for(var Tt=-1,re=tt==null?0:tt.length;++Tt<re;)if(st(At,tt[Tt]))return!0;return!1}function yn(tt,At){for(var st=-1,Tt=tt==null?0:tt.length,re=Array(Tt);++st<Tt;)re[st]=At(tt[st],st,tt);return re}function zo(tt,At){for(var st=-1,Tt=At.length,re=tt.length;++st<Tt;)tt[re+st]=At[st];return tt}function ly(tt,At,st,Tt){var re=-1,Pe=tt==null?0:tt.length;for(Tt&&Pe&&(st=tt[++re]);++re<Pe;)st=At(st,tt[re],re,tt);return st}function Fj(tt,At,st,Tt){var re=tt==null?0:tt.length;for(Tt&&re&&(st=tt[--re]);re--;)st=At(st,tt[re],re,tt);return st}function uy(tt,At){for(var st=-1,Tt=tt==null?0:tt.length;++st<Tt;)if(At(tt[st],st,tt))return!0;return!1}var Mj=fy("length");function kj(tt){return tt.split("")}function Tj(tt){return tt.match(D6)||[]}function bO(tt,At,st){var Tt;return st(tt,function(re,Pe,Ar){if(At(re,Pe,Ar))return Tt=Pe,!1}),Tt}function Md(tt,At,st,Tt){for(var re=tt.length,Pe=st+(Tt?1:-1);Tt?Pe--:++Pe<re;)if(At(tt[Pe],Pe,tt))return Pe;return-1}function ic(tt,At,st){return At===At?Gj(tt,At,st):Md(tt,BO,st)}function Ij(tt,At,st,Tt){for(var re=st-1,Pe=tt.length;++re<Pe;)if(Tt(tt[re],At))return re;return-1}function BO(tt){return tt!==tt}function xO(tt,At){var st=tt==null?0:tt.length;return st?hy(tt,At)/st:H}function fy(tt){return function(At){return At==null?e:At[tt]}}function dy(tt){return function(At){return tt==null?e:tt[At]}}function CO(tt,At,st,Tt,re){return re(tt,function(Pe,Ar,on){st=Tt?(Tt=!1,Pe):At(st,Pe,Ar,on)}),st}function Lj(tt,At){var st=tt.length;for(tt.sort(At);st--;)tt[st]=tt[st].value;return tt}function hy(tt,At){for(var st,Tt=-1,re=tt.length;++Tt<re;){var Pe=At(tt[Tt]);Pe!==e&&(st=st===e?Pe:st+Pe)}return st}function py(tt,At){for(var st=-1,Tt=Array(tt);++st<tt;)Tt[st]=At(st);return Tt}function Qj(tt,At){return yn(At,function(st){return[st,tt[st]]})}function OO(tt){return tt&&tt.slice(0,FO(tt)+1).replace(ey,"")}function ci(tt){return function(At){return tt(At)}}function gy(tt,At){return yn(At,function(st){return tt[st]})}function Pl(tt,At){return tt.has(At)}function EO(tt,At){for(var st=-1,Tt=tt.length;++st<Tt&&ic(At,tt[st],0)>-1;);return st}function _O(tt,At){for(var st=tt.length;st--&&ic(At,tt[st],0)>-1;);return st}function Uj(tt,At){for(var st=tt.length,Tt=0;st--;)tt[st]===At&&++Tt;return Tt}var Pj=dy(wj),Rj=dy(bj);function Nj(tt){return"\\"+xj[tt]}function Dj(tt,At){return tt==null?e:tt[At]}function ac(tt){return gj.test(tt)}function Hj(tt){return vj.test(tt)}function jj(tt){for(var At,st=[];!(At=tt.next()).done;)st.push(At.value);return st}function vy(tt){var At=-1,st=Array(tt.size);return tt.forEach(function(Tt,re){st[++At]=[re,Tt]}),st}function SO(tt,At){return function(st){return tt(At(st))}}function Wo(tt,At){for(var st=-1,Tt=tt.length,re=0,Pe=[];++st<Tt;){var Ar=tt[st];(Ar===At||Ar===l)&&(tt[st]=l,Pe[re++]=st)}return Pe}function kd(tt){var At=-1,st=Array(tt.size);return tt.forEach(function(Tt){st[++At]=Tt}),st}function $j(tt){var At=-1,st=Array(tt.size);return tt.forEach(function(Tt){st[++At]=[Tt,Tt]}),st}function Gj(tt,At,st){for(var Tt=st-1,re=tt.length;++Tt<re;)if(tt[Tt]===At)return Tt;return-1}function Kj(tt,At,st){for(var Tt=st+1;Tt--;)if(tt[Tt]===At)return Tt;return Tt}function oc(tt){return ac(tt)?Wj(tt):Mj(tt)}function oa(tt){return ac(tt)?Vj(tt):kj(tt)}function FO(tt){for(var At=tt.length;At--&&U6.test(tt.charAt(At)););return At}var zj=dy(Bj);function Wj(tt){for(var At=oy.lastIndex=0;oy.test(tt);)++At;return At}function Vj(tt){return tt.match(oy)||[]}function Yj(tt){return tt.match(pj)||[]}var Xj=(function tt(At){At=At==null?vr:sc.defaults(vr.Object(),At,sc.pick(vr,yj));var st=At.Array,Tt=At.Date,re=At.Error,Pe=At.Function,Ar=At.Math,on=At.Object,yy=At.RegExp,qj=At.String,Oi=At.TypeError,Td=st.prototype,Zj=Pe.prototype,Ac=on.prototype,Id=At["__core-js_shared__"],Ld=Zj.toString,Ge=Ac.hasOwnProperty,Jj=0,MO=(function(){var g=/[^.]+$/.exec(Id&&Id.keys&&Id.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""})(),Qd=Ac.toString,t$=Ld.call(on),e$=vr._,n$=yy("^"+Ld.call(Ge).replace(ty,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ud=dO?At.Buffer:e,Vo=At.Symbol,Pd=At.Uint8Array,kO=Ud?Ud.allocUnsafe:e,Rd=SO(on.getPrototypeOf,on),TO=on.create,IO=Ac.propertyIsEnumerable,Nd=Td.splice,LO=Vo?Vo.isConcatSpreadable:e,Rl=Vo?Vo.iterator:e,Vs=Vo?Vo.toStringTag:e,Dd=(function(){try{var g=Js(on,"defineProperty");return g({},"",{}),g}catch{}})(),r$=At.clearTimeout!==vr.clearTimeout&&At.clearTimeout,i$=Tt&&Tt.now!==vr.Date.now&&Tt.now,a$=At.setTimeout!==vr.setTimeout&&At.setTimeout,Hd=Ar.ceil,jd=Ar.floor,my=on.getOwnPropertySymbols,o$=Ud?Ud.isBuffer:e,QO=At.isFinite,s$=Td.join,A$=SO(on.keys,on),cr=Ar.max,xr=Ar.min,c$=Tt.now,l$=At.parseInt,UO=Ar.random,u$=Td.reverse,wy=Js(At,"DataView"),Nl=Js(At,"Map"),by=Js(At,"Promise"),cc=Js(At,"Set"),Dl=Js(At,"WeakMap"),Hl=Js(on,"create"),$d=Dl&&new Dl,lc={},f$=tA(wy),d$=tA(Nl),h$=tA(by),p$=tA(cc),g$=tA(Dl),Gd=Vo?Vo.prototype:e,jl=Gd?Gd.valueOf:e,PO=Gd?Gd.toString:e;function j(g){if(Un(g)&&!ae(g)&&!(g instanceof xe)){if(g instanceof Ei)return g;if(Ge.call(g,"__wrapped__"))return RE(g)}return new Ei(g)}var uc=(function(){function g(){}return function(w){if(!xn(w))return{};if(TO)return TO(w);g.prototype=w;var E=new g;return g.prototype=e,E}})();function Kd(){}function Ei(g,w){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=e}j.templateSettings={escape:M6,evaluate:k6,interpolate:zC,variable:"",imports:{_:j}},j.prototype=Kd.prototype,j.prototype.constructor=j,Ei.prototype=uc(Kd.prototype),Ei.prototype.constructor=Ei;function xe(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function v$(){var g=new xe(this.__wrapped__);return g.__actions__=Wr(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=Wr(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=Wr(this.__views__),g}function y$(){if(this.__filtered__){var g=new xe(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function m$(){var g=this.__wrapped__.value(),w=this.__dir__,E=ae(g),I=w<0,D=E?g.length:0,$=k9(0,D,this.__views__),V=$.start,q=$.end,rt=q-V,ft=I?q:V-1,pt=this.__iteratees__,yt=pt.length,St=0,Pt=xr(rt,this.__takeCount__);if(!E||!I&&D==rt&&Pt==rt)return sE(g,this.__actions__);var Ht=[];t:for(;rt--&&St<Pt;){ft+=w;for(var he=-1,jt=g[ft];++he<yt;){var Be=pt[he],_e=Be.iteratee,fi=Be.type,Rr=_e(jt);if(fi==U)jt=Rr;else if(!Rr){if(fi==L)continue t;break t}}Ht[St++]=jt}return Ht}xe.prototype=uc(Kd.prototype),xe.prototype.constructor=xe;function Ys(g){var w=-1,E=g==null?0:g.length;for(this.clear();++w<E;){var I=g[w];this.set(I[0],I[1])}}function w$(){this.__data__=Hl?Hl(null):{},this.size=0}function b$(g){var w=this.has(g)&&delete this.__data__[g];return this.size-=w?1:0,w}function B$(g){var w=this.__data__;if(Hl){var E=w[g];return E===A?e:E}return Ge.call(w,g)?w[g]:e}function x$(g){var w=this.__data__;return Hl?w[g]!==e:Ge.call(w,g)}function C$(g,w){var E=this.__data__;return this.size+=this.has(g)?0:1,E[g]=Hl&&w===e?A:w,this}Ys.prototype.clear=w$,Ys.prototype.delete=b$,Ys.prototype.get=B$,Ys.prototype.has=x$,Ys.prototype.set=C$;function Ao(g){var w=-1,E=g==null?0:g.length;for(this.clear();++w<E;){var I=g[w];this.set(I[0],I[1])}}function O$(){this.__data__=[],this.size=0}function E$(g){var w=this.__data__,E=zd(w,g);if(E<0)return!1;var I=w.length-1;return E==I?w.pop():Nd.call(w,E,1),--this.size,!0}function _$(g){var w=this.__data__,E=zd(w,g);return E<0?e:w[E][1]}function S$(g){return zd(this.__data__,g)>-1}function F$(g,w){var E=this.__data__,I=zd(E,g);return I<0?(++this.size,E.push([g,w])):E[I][1]=w,this}Ao.prototype.clear=O$,Ao.prototype.delete=E$,Ao.prototype.get=_$,Ao.prototype.has=S$,Ao.prototype.set=F$;function co(g){var w=-1,E=g==null?0:g.length;for(this.clear();++w<E;){var I=g[w];this.set(I[0],I[1])}}function M$(){this.size=0,this.__data__={hash:new Ys,map:new(Nl||Ao),string:new Ys}}function k$(g){var w=ih(this,g).delete(g);return this.size-=w?1:0,w}function T$(g){return ih(this,g).get(g)}function I$(g){return ih(this,g).has(g)}function L$(g,w){var E=ih(this,g),I=E.size;return E.set(g,w),this.size+=E.size==I?0:1,this}co.prototype.clear=M$,co.prototype.delete=k$,co.prototype.get=T$,co.prototype.has=I$,co.prototype.set=L$;function Xs(g){var w=-1,E=g==null?0:g.length;for(this.__data__=new co;++w<E;)this.add(g[w])}function Q$(g){return this.__data__.set(g,A),this}function U$(g){return this.__data__.has(g)}Xs.prototype.add=Xs.prototype.push=Q$,Xs.prototype.has=U$;function sa(g){var w=this.__data__=new Ao(g);this.size=w.size}function P$(){this.__data__=new Ao,this.size=0}function R$(g){var w=this.__data__,E=w.delete(g);return this.size=w.size,E}function N$(g){return this.__data__.get(g)}function D$(g){return this.__data__.has(g)}function H$(g,w){var E=this.__data__;if(E instanceof Ao){var I=E.__data__;if(!Nl||I.length<i-1)return I.push([g,w]),this.size=++E.size,this;E=this.__data__=new co(I)}return E.set(g,w),this.size=E.size,this}sa.prototype.clear=P$,sa.prototype.delete=R$,sa.prototype.get=N$,sa.prototype.has=D$,sa.prototype.set=H$;function RO(g,w){var E=ae(g),I=!E&&eA(g),D=!E&&!I&&Jo(g),$=!E&&!I&&!D&&pc(g),V=E||I||D||$,q=V?py(g.length,qj):[],rt=q.length;for(var ft in g)(w||Ge.call(g,ft))&&!(V&&(ft=="length"||D&&(ft=="offset"||ft=="parent")||$&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||ho(ft,rt)))&&q.push(ft);return q}function NO(g){var w=g.length;return w?g[Ty(0,w-1)]:e}function j$(g,w){return ah(Wr(g),qs(w,0,g.length))}function $$(g){return ah(Wr(g))}function By(g,w,E){(E!==e&&!Aa(g[w],E)||E===e&&!(w in g))&&lo(g,w,E)}function $l(g,w,E){var I=g[w];(!(Ge.call(g,w)&&Aa(I,E))||E===e&&!(w in g))&&lo(g,w,E)}function zd(g,w){for(var E=g.length;E--;)if(Aa(g[E][0],w))return E;return-1}function G$(g,w,E,I){return Yo(g,function(D,$,V){w(I,D,E(D),V)}),I}function DO(g,w){return g&&Ea(w,dr(w),g)}function K$(g,w){return g&&Ea(w,Yr(w),g)}function lo(g,w,E){w=="__proto__"&&Dd?Dd(g,w,{configurable:!0,enumerable:!0,value:E,writable:!0}):g[w]=E}function xy(g,w){for(var E=-1,I=w.length,D=st(I),$=g==null;++E<I;)D[E]=$?e:rm(g,w[E]);return D}function qs(g,w,E){return g===g&&(E!==e&&(g=g<=E?g:E),w!==e&&(g=g>=w?g:w)),g}function _i(g,w,E,I,D,$){var V,q=w&u,rt=w&f,ft=w&d;if(E&&(V=D?E(g,I,D,$):E(g)),V!==e)return V;if(!xn(g))return g;var pt=ae(g);if(pt){if(V=I9(g),!q)return Wr(g,V)}else{var yt=Cr(g),St=yt==ht||yt==bt;if(Jo(g))return lE(g,q);if(yt==Ot||yt==Y||St&&!D){if(V=rt||St?{}:FE(g),!q)return rt?B9(g,K$(V,g)):b9(g,DO(V,g))}else{if(!ln[yt])return D?g:{};V=L9(g,yt,q)}}$||($=new sa);var Pt=$.get(g);if(Pt)return Pt;$.set(g,V),i_(g)?g.forEach(function(jt){V.add(_i(jt,w,E,jt,g,$))}):n_(g)&&g.forEach(function(jt,Be){V.set(Be,_i(jt,w,E,Be,g,$))});var Ht=ft?rt?$y:jy:rt?Yr:dr,he=pt?e:Ht(g);return Ci(he||g,function(jt,Be){he&&(Be=jt,jt=g[Be]),$l(V,Be,_i(jt,w,E,Be,g,$))}),V}function z$(g){var w=dr(g);return function(E){return HO(E,g,w)}}function HO(g,w,E){var I=E.length;if(g==null)return!I;for(g=on(g);I--;){var D=E[I],$=w[D],V=g[D];if(V===e&&!(D in g)||!$(V))return!1}return!0}function jO(g,w,E){if(typeof g!="function")throw new Oi(o);return Xl(function(){g.apply(e,E)},w)}function Gl(g,w,E,I){var D=-1,$=Fd,V=!0,q=g.length,rt=[],ft=w.length;if(!q)return rt;E&&(w=yn(w,ci(E))),I?($=cy,V=!1):w.length>=i&&($=Pl,V=!1,w=new Xs(w));t:for(;++D<q;){var pt=g[D],yt=E==null?pt:E(pt);if(pt=I||pt!==0?pt:0,V&&yt===yt){for(var St=ft;St--;)if(w[St]===yt)continue t;rt.push(pt)}else $(w,yt,I)||rt.push(pt)}return rt}var Yo=pE(Oa),$O=pE(Oy,!0);function W$(g,w){var E=!0;return Yo(g,function(I,D,$){return E=!!w(I,D,$),E}),E}function Wd(g,w,E){for(var I=-1,D=g.length;++I<D;){var $=g[I],V=w($);if(V!=null&&(q===e?V===V&&!ui(V):E(V,q)))var q=V,rt=$}return rt}function V$(g,w,E,I){var D=g.length;for(E=ue(E),E<0&&(E=-E>D?0:D+E),I=I===e||I>D?D:ue(I),I<0&&(I+=D),I=E>I?0:o_(I);E<I;)g[E++]=w;return g}function GO(g,w){var E=[];return Yo(g,function(I,D,$){w(I,D,$)&&E.push(I)}),E}function yr(g,w,E,I,D){var $=-1,V=g.length;for(E||(E=U9),D||(D=[]);++$<V;){var q=g[$];w>0&&E(q)?w>1?yr(q,w-1,E,I,D):zo(D,q):I||(D[D.length]=q)}return D}var Cy=gE(),KO=gE(!0);function Oa(g,w){return g&&Cy(g,w,dr)}function Oy(g,w){return g&&KO(g,w,dr)}function Vd(g,w){return Ko(w,function(E){return po(g[E])})}function Zs(g,w){w=qo(w,g);for(var E=0,I=w.length;g!=null&&E<I;)g=g[_a(w[E++])];return E&&E==I?g:e}function zO(g,w,E){var I=w(g);return ae(g)?I:zo(I,E(g))}function Ur(g){return g==null?g===e?Ue:kt:Vs&&Vs in on(g)?M9(g):$9(g)}function Ey(g,w){return g>w}function Y$(g,w){return g!=null&&Ge.call(g,w)}function X$(g,w){return g!=null&&w in on(g)}function q$(g,w,E){return g>=xr(w,E)&&g<cr(w,E)}function _y(g,w,E){for(var I=E?cy:Fd,D=g[0].length,$=g.length,V=$,q=st($),rt=1/0,ft=[];V--;){var pt=g[V];V&&w&&(pt=yn(pt,ci(w))),rt=xr(pt.length,rt),q[V]=!E&&(w||D>=120&&pt.length>=120)?new Xs(V&&pt):e}pt=g[0];var yt=-1,St=q[0];t:for(;++yt<D&&ft.length<rt;){var Pt=pt[yt],Ht=w?w(Pt):Pt;if(Pt=E||Pt!==0?Pt:0,!(St?Pl(St,Ht):I(ft,Ht,E))){for(V=$;--V;){var he=q[V];if(!(he?Pl(he,Ht):I(g[V],Ht,E)))continue t}St&&St.push(Ht),ft.push(Pt)}}return ft}function Z$(g,w,E,I){return Oa(g,function(D,$,V){w(I,E(D),$,V)}),I}function Kl(g,w,E){w=qo(w,g),g=IE(g,w);var I=g==null?g:g[_a(Fi(w))];return I==null?e:Ai(I,g,E)}function WO(g){return Un(g)&&Ur(g)==Y}function J$(g){return Un(g)&&Ur(g)==ve}function t9(g){return Un(g)&&Ur(g)==ot}function zl(g,w,E,I,D){return g===w?!0:g==null||w==null||!Un(g)&&!Un(w)?g!==g&&w!==w:e9(g,w,E,I,zl,D)}function e9(g,w,E,I,D,$){var V=ae(g),q=ae(w),rt=V?et:Cr(g),ft=q?et:Cr(w);rt=rt==Y?Ot:rt,ft=ft==Y?Ot:ft;var pt=rt==Ot,yt=ft==Ot,St=rt==ft;if(St&&Jo(g)){if(!Jo(w))return!1;V=!0,pt=!1}if(St&&!pt)return $||($=new sa),V||pc(g)?EE(g,w,E,I,D,$):S9(g,w,rt,E,I,D,$);if(!(E&h)){var Pt=pt&&Ge.call(g,"__wrapped__"),Ht=yt&&Ge.call(w,"__wrapped__");if(Pt||Ht){var he=Pt?g.value():g,jt=Ht?w.value():w;return $||($=new sa),D(he,jt,E,I,$)}}return St?($||($=new sa),F9(g,w,E,I,D,$)):!1}function n9(g){return Un(g)&&Cr(g)==Bt}function Sy(g,w,E,I){var D=E.length,$=D,V=!I;if(g==null)return!$;for(g=on(g);D--;){var q=E[D];if(V&&q[2]?q[1]!==g[q[0]]:!(q[0]in g))return!1}for(;++D<$;){q=E[D];var rt=q[0],ft=g[rt],pt=q[1];if(V&&q[2]){if(ft===e&&!(rt in g))return!1}else{var yt=new sa;if(I)var St=I(ft,pt,rt,g,w,yt);if(!(St===e?zl(pt,ft,h|p,I,yt):St))return!1}}return!0}function VO(g){if(!xn(g)||R9(g))return!1;var w=po(g)?n$:z6;return w.test(tA(g))}function r9(g){return Un(g)&&Ur(g)==de}function i9(g){return Un(g)&&Cr(g)==qt}function a9(g){return Un(g)&&uh(g.length)&&!!hn[Ur(g)]}function YO(g){return typeof g=="function"?g:g==null?Xr:typeof g=="object"?ae(g)?ZO(g[0],g[1]):qO(g):v_(g)}function Fy(g){if(!Yl(g))return A$(g);var w=[];for(var E in on(g))Ge.call(g,E)&&E!="constructor"&&w.push(E);return w}function o9(g){if(!xn(g))return j9(g);var w=Yl(g),E=[];for(var I in g)I=="constructor"&&(w||!Ge.call(g,I))||E.push(I);return E}function My(g,w){return g<w}function XO(g,w){var E=-1,I=Vr(g)?st(g.length):[];return Yo(g,function(D,$,V){I[++E]=w(D,$,V)}),I}function qO(g){var w=Ky(g);return w.length==1&&w[0][2]?kE(w[0][0],w[0][1]):function(E){return E===g||Sy(E,g,w)}}function ZO(g,w){return Wy(g)&&ME(w)?kE(_a(g),w):function(E){var I=rm(E,g);return I===e&&I===w?im(E,g):zl(w,I,h|p)}}function Yd(g,w,E,I,D){g!==w&&Cy(w,function($,V){if(D||(D=new sa),xn($))s9(g,w,V,E,Yd,I,D);else{var q=I?I(Yy(g,V),$,V+"",g,w,D):e;q===e&&(q=$),By(g,V,q)}},Yr)}function s9(g,w,E,I,D,$,V){var q=Yy(g,E),rt=Yy(w,E),ft=V.get(rt);if(ft){By(g,E,ft);return}var pt=$?$(q,rt,E+"",g,w,V):e,yt=pt===e;if(yt){var St=ae(rt),Pt=!St&&Jo(rt),Ht=!St&&!Pt&&pc(rt);pt=rt,St||Pt||Ht?ae(q)?pt=q:jn(q)?pt=Wr(q):Pt?(yt=!1,pt=lE(rt,!0)):Ht?(yt=!1,pt=uE(rt,!0)):pt=[]:ql(rt)||eA(rt)?(pt=q,eA(q)?pt=s_(q):(!xn(q)||po(q))&&(pt=FE(rt))):yt=!1}yt&&(V.set(rt,pt),D(pt,rt,I,$,V),V.delete(rt)),By(g,E,pt)}function JO(g,w){var E=g.length;if(E)return w+=w<0?E:0,ho(w,E)?g[w]:e}function tE(g,w,E){w.length?w=yn(w,function($){return ae($)?function(V){return Zs(V,$.length===1?$[0]:$)}:$}):w=[Xr];var I=-1;w=yn(w,ci(Dt()));var D=XO(g,function($,V,q){var rt=yn(w,function(ft){return ft($)});return{criteria:rt,index:++I,value:$}});return Lj(D,function($,V){return w9($,V,E)})}function A9(g,w){return eE(g,w,function(E,I){return im(g,I)})}function eE(g,w,E){for(var I=-1,D=w.length,$={};++I<D;){var V=w[I],q=Zs(g,V);E(q,V)&&Wl($,qo(V,g),q)}return $}function c9(g){return function(w){return Zs(w,g)}}function ky(g,w,E,I){var D=I?Ij:ic,$=-1,V=w.length,q=g;for(g===w&&(w=Wr(w)),E&&(q=yn(g,ci(E)));++$<V;)for(var rt=0,ft=w[$],pt=E?E(ft):ft;(rt=D(q,pt,rt,I))>-1;)q!==g&&Nd.call(q,rt,1),Nd.call(g,rt,1);return g}function nE(g,w){for(var E=g?w.length:0,I=E-1;E--;){var D=w[E];if(E==I||D!==$){var $=D;ho(D)?Nd.call(g,D,1):Qy(g,D)}}return g}function Ty(g,w){return g+jd(UO()*(w-g+1))}function l9(g,w,E,I){for(var D=-1,$=cr(Hd((w-g)/(E||1)),0),V=st($);$--;)V[I?$:++D]=g,g+=E;return V}function Iy(g,w){var E="";if(!g||w<1||w>Q)return E;do w%2&&(E+=g),w=jd(w/2),w&&(g+=g);while(w);return E}function ye(g,w){return Xy(TE(g,w,Xr),g+"")}function u9(g){return NO(gc(g))}function f9(g,w){var E=gc(g);return ah(E,qs(w,0,E.length))}function Wl(g,w,E,I){if(!xn(g))return g;w=qo(w,g);for(var D=-1,$=w.length,V=$-1,q=g;q!=null&&++D<$;){var rt=_a(w[D]),ft=E;if(rt==="__proto__"||rt==="constructor"||rt==="prototype")return g;if(D!=V){var pt=q[rt];ft=I?I(pt,rt,q):e,ft===e&&(ft=xn(pt)?pt:ho(w[D+1])?[]:{})}$l(q,rt,ft),q=q[rt]}return g}var rE=$d?function(g,w){return $d.set(g,w),g}:Xr,d9=Dd?function(g,w){return Dd(g,"toString",{configurable:!0,enumerable:!1,value:om(w),writable:!0})}:Xr;function h9(g){return ah(gc(g))}function Si(g,w,E){var I=-1,D=g.length;w<0&&(w=-w>D?0:D+w),E=E>D?D:E,E<0&&(E+=D),D=w>E?0:E-w>>>0,w>>>=0;for(var $=st(D);++I<D;)$[I]=g[I+w];return $}function p9(g,w){var E;return Yo(g,function(I,D,$){return E=w(I,D,$),!E}),!!E}function Xd(g,w,E){var I=0,D=g==null?I:g.length;if(typeof w=="number"&&w===w&&D<=W){for(;I<D;){var $=I+D>>>1,V=g[$];V!==null&&!ui(V)&&(E?V<=w:V<w)?I=$+1:D=$}return D}return Ly(g,w,Xr,E)}function Ly(g,w,E,I){var D=0,$=g==null?0:g.length;if($===0)return 0;w=E(w);for(var V=w!==w,q=w===null,rt=ui(w),ft=w===e;D<$;){var pt=jd((D+$)/2),yt=E(g[pt]),St=yt!==e,Pt=yt===null,Ht=yt===yt,he=ui(yt);if(V)var jt=I||Ht;else ft?jt=Ht&&(I||St):q?jt=Ht&&St&&(I||!Pt):rt?jt=Ht&&St&&!Pt&&(I||!he):Pt||he?jt=!1:jt=I?yt<=w:yt<w;jt?D=pt+1:$=pt}return xr($,K)}function iE(g,w){for(var E=-1,I=g.length,D=0,$=[];++E<I;){var V=g[E],q=w?w(V):V;if(!E||!Aa(q,rt)){var rt=q;$[D++]=V===0?0:V}}return $}function aE(g){return typeof g=="number"?g:ui(g)?H:+g}function li(g){if(typeof g=="string")return g;if(ae(g))return yn(g,li)+"";if(ui(g))return PO?PO.call(g):"";var w=g+"";return w=="0"&&1/g==-P?"-0":w}function Xo(g,w,E){var I=-1,D=Fd,$=g.length,V=!0,q=[],rt=q;if(E)V=!1,D=cy;else if($>=i){var ft=w?null:E9(g);if(ft)return kd(ft);V=!1,D=Pl,rt=new Xs}else rt=w?[]:q;t:for(;++I<$;){var pt=g[I],yt=w?w(pt):pt;if(pt=E||pt!==0?pt:0,V&&yt===yt){for(var St=rt.length;St--;)if(rt[St]===yt)continue t;w&&rt.push(yt),q.push(pt)}else D(rt,yt,E)||(rt!==q&&rt.push(yt),q.push(pt))}return q}function Qy(g,w){w=qo(w,g);var E=-1,I=w.length;if(!I)return!0;for(var D=g==null||typeof g!="object"&&typeof g!="function";++E<I;){var $=w[E];if(typeof $=="string"){if($==="__proto__"&&!Ge.call(g,"__proto__"))return!1;if($==="constructor"&&E+1<I&&typeof w[E+1]=="string"&&w[E+1]==="prototype"){if(D&&E===0)continue;return!1}}}var V=IE(g,w);return V==null||delete V[_a(Fi(w))]}function oE(g,w,E,I){return Wl(g,w,E(Zs(g,w)),I)}function qd(g,w,E,I){for(var D=g.length,$=I?D:-1;(I?$--:++$<D)&&w(g[$],$,g););return E?Si(g,I?0:$,I?$+1:D):Si(g,I?$+1:0,I?D:$)}function sE(g,w){var E=g;return E instanceof xe&&(E=E.value()),ly(w,function(I,D){return D.func.apply(D.thisArg,zo([I],D.args))},E)}function Uy(g,w,E){var I=g.length;if(I<2)return I?Xo(g[0]):[];for(var D=-1,$=st(I);++D<I;)for(var V=g[D],q=-1;++q<I;)q!=D&&($[D]=Gl($[D]||V,g[q],w,E));return Xo(yr($,1),w,E)}function AE(g,w,E){for(var I=-1,D=g.length,$=w.length,V={};++I<D;){var q=I<$?w[I]:e;E(V,g[I],q)}return V}function Py(g){return jn(g)?g:[]}function Ry(g){return typeof g=="function"?g:Xr}function qo(g,w){return ae(g)?g:Wy(g,w)?[g]:PE(Ke(g))}var g9=ye;function Zo(g,w,E){var I=g.length;return E=E===e?I:E,!w&&E>=I?g:Si(g,w,E)}var cE=r$||function(g){return vr.clearTimeout(g)};function lE(g,w){if(w)return g.slice();var E=g.length,I=kO?kO(E):new g.constructor(E);return g.copy(I),I}function Ny(g){var w=new g.constructor(g.byteLength);return new Pd(w).set(new Pd(g)),w}function v9(g,w){var E=w?Ny(g.buffer):g.buffer;return new g.constructor(E,g.byteOffset,g.byteLength)}function y9(g){var w=new g.constructor(g.source,WC.exec(g));return w.lastIndex=g.lastIndex,w}function m9(g){return jl?on(jl.call(g)):{}}function uE(g,w){var E=w?Ny(g.buffer):g.buffer;return new g.constructor(E,g.byteOffset,g.length)}function fE(g,w){if(g!==w){var E=g!==e,I=g===null,D=g===g,$=ui(g),V=w!==e,q=w===null,rt=w===w,ft=ui(w);if(!q&&!ft&&!$&&g>w||$&&V&&rt&&!q&&!ft||I&&V&&rt||!E&&rt||!D)return 1;if(!I&&!$&&!ft&&g<w||ft&&E&&D&&!I&&!$||q&&E&&D||!V&&D||!rt)return-1}return 0}function w9(g,w,E){for(var I=-1,D=g.criteria,$=w.criteria,V=D.length,q=E.length;++I<V;){var rt=fE(D[I],$[I]);if(rt){if(I>=q)return rt;var ft=E[I];return rt*(ft=="desc"?-1:1)}}return g.index-w.index}function dE(g,w,E,I){for(var D=-1,$=g.length,V=E.length,q=-1,rt=w.length,ft=cr($-V,0),pt=st(rt+ft),yt=!I;++q<rt;)pt[q]=w[q];for(;++D<V;)(yt||D<$)&&(pt[E[D]]=g[D]);for(;ft--;)pt[q++]=g[D++];return pt}function hE(g,w,E,I){for(var D=-1,$=g.length,V=-1,q=E.length,rt=-1,ft=w.length,pt=cr($-q,0),yt=st(pt+ft),St=!I;++D<pt;)yt[D]=g[D];for(var Pt=D;++rt<ft;)yt[Pt+rt]=w[rt];for(;++V<q;)(St||D<$)&&(yt[Pt+E[V]]=g[D++]);return yt}function Wr(g,w){var E=-1,I=g.length;for(w||(w=st(I));++E<I;)w[E]=g[E];return w}function Ea(g,w,E,I){var D=!E;E||(E={});for(var $=-1,V=w.length;++$<V;){var q=w[$],rt=I?I(E[q],g[q],q,E,g):e;rt===e&&(rt=g[q]),D?lo(E,q,rt):$l(E,q,rt)}return E}function b9(g,w){return Ea(g,zy(g),w)}function B9(g,w){return Ea(g,_E(g),w)}function Zd(g,w){return function(E,I){var D=ae(E)?_j:G$,$=w?w():{};return D(E,g,Dt(I,2),$)}}function fc(g){return ye(function(w,E){var I=-1,D=E.length,$=D>1?E[D-1]:e,V=D>2?E[2]:e;for($=g.length>3&&typeof $=="function"?(D--,$):e,V&&Pr(E[0],E[1],V)&&($=D<3?e:$,D=1),w=on(w);++I<D;){var q=E[I];q&&g(w,q,I,$)}return w})}function pE(g,w){return function(E,I){if(E==null)return E;if(!Vr(E))return g(E,I);for(var D=E.length,$=w?D:-1,V=on(E);(w?$--:++$<D)&&I(V[$],$,V)!==!1;);return E}}function gE(g){return function(w,E,I){for(var D=-1,$=on(w),V=I(w),q=V.length;q--;){var rt=V[g?q:++D];if(E($[rt],rt,$)===!1)break}return w}}function x9(g,w,E){var I=w&v,D=Vl(g);function $(){var V=this&&this!==vr&&this instanceof $?D:g;return V.apply(I?E:this,arguments)}return $}function vE(g){return function(w){w=Ke(w);var E=ac(w)?oa(w):e,I=E?E[0]:w.charAt(0),D=E?Zo(E,1).join(""):w.slice(1);return I[g]()+D}}function dc(g){return function(w){return ly(p_(h_(w).replace(dj,"")),g,"")}}function Vl(g){return function(){var w=arguments;switch(w.length){case 0:return new g;case 1:return new g(w[0]);case 2:return new g(w[0],w[1]);case 3:return new g(w[0],w[1],w[2]);case 4:return new g(w[0],w[1],w[2],w[3]);case 5:return new g(w[0],w[1],w[2],w[3],w[4]);case 6:return new g(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new g(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var E=uc(g.prototype),I=g.apply(E,w);return xn(I)?I:E}}function C9(g,w,E){var I=Vl(g);function D(){for(var $=arguments.length,V=st($),q=$,rt=hc(D);q--;)V[q]=arguments[q];var ft=$<3&&V[0]!==rt&&V[$-1]!==rt?[]:Wo(V,rt);if($-=ft.length,$<E)return BE(g,w,Jd,D.placeholder,e,V,ft,e,e,E-$);var pt=this&&this!==vr&&this instanceof D?I:g;return Ai(pt,this,V)}return D}function yE(g){return function(w,E,I){var D=on(w);if(!Vr(w)){var $=Dt(E,3);w=dr(w),E=function(q){return $(D[q],q,D)}}var V=g(w,E,I);return V>-1?D[$?w[V]:V]:e}}function mE(g){return fo(function(w){var E=w.length,I=E,D=Ei.prototype.thru;for(g&&w.reverse();I--;){var $=w[I];if(typeof $!="function")throw new Oi(o);if(D&&!V&&rh($)=="wrapper")var V=new Ei([],!0)}for(I=V?I:E;++I<E;){$=w[I];var q=rh($),rt=q=="wrapper"?Gy($):e;rt&&Vy(rt[0])&&rt[1]==(O|b|x|_)&&!rt[4].length&&rt[9]==1?V=V[rh(rt[0])].apply(V,rt[3]):V=$.length==1&&Vy($)?V[q]():V.thru($)}return function(){var ft=arguments,pt=ft[0];if(V&&ft.length==1&&ae(pt))return V.plant(pt).value();for(var yt=0,St=E?w[yt].apply(this,ft):pt;++yt<E;)St=w[yt].call(this,St);return St}})}function Jd(g,w,E,I,D,$,V,q,rt,ft){var pt=w&O,yt=w&v,St=w&y,Pt=w&(b|B),Ht=w&S,he=St?e:Vl(g);function jt(){for(var Be=arguments.length,_e=st(Be),fi=Be;fi--;)_e[fi]=arguments[fi];if(Pt)var Rr=hc(jt),di=Uj(_e,Rr);if(I&&(_e=dE(_e,I,D,Pt)),$&&(_e=hE(_e,$,V,Pt)),Be-=di,Pt&&Be<ft){var $n=Wo(_e,Rr);return BE(g,w,Jd,jt.placeholder,E,_e,$n,q,rt,ft-Be)}var ca=yt?E:this,vo=St?ca[g]:g;return Be=_e.length,q?_e=G9(_e,q):Ht&&Be>1&&_e.reverse(),pt&&rt<Be&&(_e.length=rt),this&&this!==vr&&this instanceof jt&&(vo=he||Vl(vo)),vo.apply(ca,_e)}return jt}function wE(g,w){return function(E,I){return Z$(E,g,w(I),{})}}function th(g,w){return function(E,I){var D;if(E===e&&I===e)return w;if(E!==e&&(D=E),I!==e){if(D===e)return I;typeof E=="string"||typeof I=="string"?(E=li(E),I=li(I)):(E=aE(E),I=aE(I)),D=g(E,I)}return D}}function Dy(g){return fo(function(w){return w=yn(w,ci(Dt())),ye(function(E){var I=this;return g(w,function(D){return Ai(D,I,E)})})})}function eh(g,w){w=w===e?" ":li(w);var E=w.length;if(E<2)return E?Iy(w,g):w;var I=Iy(w,Hd(g/oc(w)));return ac(w)?Zo(oa(I),0,g).join(""):I.slice(0,g)}function O9(g,w,E,I){var D=w&v,$=Vl(g);function V(){for(var q=-1,rt=arguments.length,ft=-1,pt=I.length,yt=st(pt+rt),St=this&&this!==vr&&this instanceof V?$:g;++ft<pt;)yt[ft]=I[ft];for(;rt--;)yt[ft++]=arguments[++q];return Ai(St,D?E:this,yt)}return V}function bE(g){return function(w,E,I){return I&&typeof I!="number"&&Pr(w,E,I)&&(E=I=e),w=go(w),E===e?(E=w,w=0):E=go(E),I=I===e?w<E?1:-1:go(I),l9(w,E,I,g)}}function nh(g){return function(w,E){return typeof w=="string"&&typeof E=="string"||(w=Mi(w),E=Mi(E)),g(w,E)}}function BE(g,w,E,I,D,$,V,q,rt,ft){var pt=w&b,yt=pt?V:e,St=pt?e:V,Pt=pt?$:e,Ht=pt?e:$;w|=pt?x:C,w&=~(pt?C:x),w&m||(w&=-4);var he=[g,w,D,Pt,yt,Ht,St,q,rt,ft],jt=E.apply(e,he);return Vy(g)&&LE(jt,he),jt.placeholder=I,QE(jt,g,w)}function Hy(g){var w=Ar[g];return function(E,I){if(E=Mi(E),I=I==null?0:xr(ue(I),292),I&&QO(E)){var D=(Ke(E)+"e").split("e"),$=w(D[0]+"e"+(+D[1]+I));return D=(Ke($)+"e").split("e"),+(D[0]+"e"+(+D[1]-I))}return w(E)}}var E9=cc&&1/kd(new cc([,-0]))[1]==P?function(g){return new cc(g)}:cm;function xE(g){return function(w){var E=Cr(w);return E==Bt?vy(w):E==qt?$j(w):Qj(w,g(w))}}function uo(g,w,E,I,D,$,V,q){var rt=w&y;if(!rt&&typeof g!="function")throw new Oi(o);var ft=I?I.length:0;if(ft||(w&=-97,I=D=e),V=V===e?V:cr(ue(V),0),q=q===e?q:ue(q),ft-=D?D.length:0,w&C){var pt=I,yt=D;I=D=e}var St=rt?e:Gy(g),Pt=[g,w,E,I,D,pt,yt,$,V,q];if(St&&H9(Pt,St),g=Pt[0],w=Pt[1],E=Pt[2],I=Pt[3],D=Pt[4],q=Pt[9]=Pt[9]===e?rt?0:g.length:cr(Pt[9]-ft,0),!q&&w&(b|B)&&(w&=-25),!w||w==v)var Ht=x9(g,w,E);else w==b||w==B?Ht=C9(g,w,q):(w==x||w==(v|x))&&!D.length?Ht=O9(g,w,E,I):Ht=Jd.apply(e,Pt);var he=St?rE:LE;return QE(he(Ht,Pt),g,w)}function CE(g,w,E,I){return g===e||Aa(g,Ac[E])&&!Ge.call(I,E)?w:g}function OE(g,w,E,I,D,$){return xn(g)&&xn(w)&&($.set(w,g),Yd(g,w,e,OE,$),$.delete(w)),g}function _9(g){return ql(g)?e:g}function EE(g,w,E,I,D,$){var V=E&h,q=g.length,rt=w.length;if(q!=rt&&!(V&&rt>q))return!1;var ft=$.get(g),pt=$.get(w);if(ft&&pt)return ft==w&&pt==g;var yt=-1,St=!0,Pt=E&p?new Xs:e;for($.set(g,w),$.set(w,g);++yt<q;){var Ht=g[yt],he=w[yt];if(I)var jt=V?I(he,Ht,yt,w,g,$):I(Ht,he,yt,g,w,$);if(jt!==e){if(jt)continue;St=!1;break}if(Pt){if(!uy(w,function(Be,_e){if(!Pl(Pt,_e)&&(Ht===Be||D(Ht,Be,E,I,$)))return Pt.push(_e)})){St=!1;break}}else if(!(Ht===he||D(Ht,he,E,I,$))){St=!1;break}}return $.delete(g),$.delete(w),St}function S9(g,w,E,I,D,$,V){switch(E){case ke:if(g.byteLength!=w.byteLength||g.byteOffset!=w.byteOffset)return!1;g=g.buffer,w=w.buffer;case ve:return!(g.byteLength!=w.byteLength||!$(new Pd(g),new Pd(w)));case Z:case ot:case Ct:return Aa(+g,+w);case vt:return g.name==w.name&&g.message==w.message;case de:case Zt:return g==w+"";case Bt:var q=vy;case qt:var rt=I&h;if(q||(q=kd),g.size!=w.size&&!rt)return!1;var ft=V.get(g);if(ft)return ft==w;I|=p,V.set(g,w);var pt=EE(q(g),q(w),I,D,$,V);return V.delete(g),pt;case Me:if(jl)return jl.call(g)==jl.call(w)}return!1}function F9(g,w,E,I,D,$){var V=E&h,q=jy(g),rt=q.length,ft=jy(w),pt=ft.length;if(rt!=pt&&!V)return!1;for(var yt=rt;yt--;){var St=q[yt];if(!(V?St in w:Ge.call(w,St)))return!1}var Pt=$.get(g),Ht=$.get(w);if(Pt&&Ht)return Pt==w&&Ht==g;var he=!0;$.set(g,w),$.set(w,g);for(var jt=V;++yt<rt;){St=q[yt];var Be=g[St],_e=w[St];if(I)var fi=V?I(_e,Be,St,w,g,$):I(Be,_e,St,g,w,$);if(!(fi===e?Be===_e||D(Be,_e,E,I,$):fi)){he=!1;break}jt||(jt=St=="constructor")}if(he&&!jt){var Rr=g.constructor,di=w.constructor;Rr!=di&&"constructor"in g&&"constructor"in w&&!(typeof Rr=="function"&&Rr instanceof Rr&&typeof di=="function"&&di instanceof di)&&(he=!1)}return $.delete(g),$.delete(w),he}function fo(g){return Xy(TE(g,e,HE),g+"")}function jy(g){return zO(g,dr,zy)}function $y(g){return zO(g,Yr,_E)}var Gy=$d?function(g){return $d.get(g)}:cm;function rh(g){for(var w=g.name+"",E=lc[w],I=Ge.call(lc,w)?E.length:0;I--;){var D=E[I],$=D.func;if($==null||$==g)return D.name}return w}function hc(g){var w=Ge.call(j,"placeholder")?j:g;return w.placeholder}function Dt(){var g=j.iteratee||sm;return g=g===sm?YO:g,arguments.length?g(arguments[0],arguments[1]):g}function ih(g,w){var E=g.__data__;return P9(w)?E[typeof w=="string"?"string":"hash"]:E.map}function Ky(g){for(var w=dr(g),E=w.length;E--;){var I=w[E],D=g[I];w[E]=[I,D,ME(D)]}return w}function Js(g,w){var E=Dj(g,w);return VO(E)?E:e}function M9(g){var w=Ge.call(g,Vs),E=g[Vs];try{g[Vs]=e;var I=!0}catch{}var D=Qd.call(g);return I&&(w?g[Vs]=E:delete g[Vs]),D}var zy=my?function(g){return g==null?[]:(g=on(g),Ko(my(g),function(w){return IO.call(g,w)}))}:lm,_E=my?function(g){for(var w=[];g;)zo(w,zy(g)),g=Rd(g);return w}:lm,Cr=Ur;(wy&&Cr(new wy(new ArrayBuffer(1)))!=ke||Nl&&Cr(new Nl)!=Bt||by&&Cr(by.resolve())!=_t||cc&&Cr(new cc)!=qt||Dl&&Cr(new Dl)!=Ee)&&(Cr=function(g){var w=Ur(g),E=w==Ot?g.constructor:e,I=E?tA(E):"";if(I)switch(I){case f$:return ke;case d$:return Bt;case h$:return _t;case p$:return qt;case g$:return Ee}return w});function k9(g,w,E){for(var I=-1,D=E.length;++I<D;){var $=E[I],V=$.size;switch($.type){case"drop":g+=V;break;case"dropRight":w-=V;break;case"take":w=xr(w,g+V);break;case"takeRight":g=cr(g,w-V);break}}return{start:g,end:w}}function T9(g){var w=g.match(R6);return w?w[1].split(N6):[]}function SE(g,w,E){w=qo(w,g);for(var I=-1,D=w.length,$=!1;++I<D;){var V=_a(w[I]);if(!($=g!=null&&E(g,V)))break;g=g[V]}return $||++I!=D?$:(D=g==null?0:g.length,!!D&&uh(D)&&ho(V,D)&&(ae(g)||eA(g)))}function I9(g){var w=g.length,E=new g.constructor(w);return w&&typeof g[0]=="string"&&Ge.call(g,"index")&&(E.index=g.index,E.input=g.input),E}function FE(g){return typeof g.constructor=="function"&&!Yl(g)?uc(Rd(g)):{}}function L9(g,w,E){var I=g.constructor;switch(w){case ve:return Ny(g);case Z:case ot:return new I(+g);case ke:return v9(g,E);case Jt:case Kt:case Bn:case Ye:case Jn:case oi:case si:case aa:case zs:return uE(g,E);case Bt:return new I;case Ct:case Zt:return new I(g);case de:return y9(g);case qt:return new I;case Me:return m9(g)}}function Q9(g,w){var E=w.length;if(!E)return g;var I=E-1;return w[I]=(E>1?"& ":"")+w[I],w=w.join(E>2?", ":" "),g.replace(P6,`{
/* [wrapped with `+w+`] */
`)}function U9(g){return ae(g)||eA(g)||!!(LO&&g&&g[LO])}function ho(g,w){var E=typeof g;return w=w??Q,!!w&&(E=="number"||E!="symbol"&&V6.test(g))&&g>-1&&g%1==0&&g<w}function Pr(g,w,E){if(!xn(E))return!1;var I=typeof w;return(I=="number"?Vr(E)&&ho(w,E.length):I=="string"&&w in E)?Aa(E[w],g):!1}function Wy(g,w){if(ae(g))return!1;var E=typeof g;return E=="number"||E=="symbol"||E=="boolean"||g==null||ui(g)?!0:I6.test(g)||!T6.test(g)||w!=null&&g in on(w)}function P9(g){var w=typeof g;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?g!=="__proto__":g===null}function Vy(g){var w=rh(g),E=j[w];if(typeof E!="function"||!(w in xe.prototype))return!1;if(g===E)return!0;var I=Gy(E);return!!I&&g===I[0]}function R9(g){return!!MO&&MO in g}var N9=Id?po:um;function Yl(g){var w=g&&g.constructor,E=typeof w=="function"&&w.prototype||Ac;return g===E}function ME(g){return g===g&&!xn(g)}function kE(g,w){return function(E){return E==null?!1:E[g]===w&&(w!==e||g in on(E))}}function D9(g){var w=ch(g,function(I){return E.size===c&&E.clear(),I}),E=w.cache;return w}function H9(g,w){var E=g[1],I=w[1],D=E|I,$=D<(v|y|O),V=I==O&&E==b||I==O&&E==_&&g[7].length<=w[8]||I==(O|_)&&w[7].length<=w[8]&&E==b;if(!($||V))return g;I&v&&(g[2]=w[2],D|=E&v?0:m);var q=w[3];if(q){var rt=g[3];g[3]=rt?dE(rt,q,w[4]):q,g[4]=rt?Wo(g[3],l):w[4]}return q=w[5],q&&(rt=g[5],g[5]=rt?hE(rt,q,w[6]):q,g[6]=rt?Wo(g[5],l):w[6]),q=w[7],q&&(g[7]=q),I&O&&(g[8]=g[8]==null?w[8]:xr(g[8],w[8])),g[9]==null&&(g[9]=w[9]),g[0]=w[0],g[1]=D,g}function j9(g){var w=[];if(g!=null)for(var E in on(g))w.push(E);return w}function $9(g){return Qd.call(g)}function TE(g,w,E){return w=cr(w===e?g.length-1:w,0),function(){for(var I=arguments,D=-1,$=cr(I.length-w,0),V=st($);++D<$;)V[D]=I[w+D];D=-1;for(var q=st(w+1);++D<w;)q[D]=I[D];return q[w]=E(V),Ai(g,this,q)}}function IE(g,w){return w.length<2?g:Zs(g,Si(w,0,-1))}function G9(g,w){for(var E=g.length,I=xr(w.length,E),D=Wr(g);I--;){var $=w[I];g[I]=ho($,E)?D[$]:e}return g}function Yy(g,w){if(!(w==="constructor"&&typeof g[w]=="function")&&w!="__proto__")return g[w]}var LE=UE(rE),Xl=a$||function(g,w){return vr.setTimeout(g,w)},Xy=UE(d9);function QE(g,w,E){var I=w+"";return Xy(g,Q9(I,K9(T9(I),E)))}function UE(g){var w=0,E=0;return function(){var I=c$(),D=k-(I-E);if(E=I,D>0){if(++w>=T)return arguments[0]}else w=0;return g.apply(e,arguments)}}function ah(g,w){var E=-1,I=g.length,D=I-1;for(w=w===e?I:w;++E<w;){var $=Ty(E,D),V=g[$];g[$]=g[E],g[E]=V}return g.length=w,g}var PE=D9(function(g){var w=[];return g.charCodeAt(0)===46&&w.push(""),g.replace(L6,function(E,I,D,$){w.push(D?$.replace(j6,"$1"):I||E)}),w});function _a(g){if(typeof g=="string"||ui(g))return g;var w=g+"";return w=="0"&&1/g==-P?"-0":w}function tA(g){if(g!=null){try{return Ld.call(g)}catch{}try{return g+""}catch{}}return""}function K9(g,w){return Ci(X,function(E){var I="_."+E[0];w&E[1]&&!Fd(g,I)&&g.push(I)}),g.sort()}function RE(g){if(g instanceof xe)return g.clone();var w=new Ei(g.__wrapped__,g.__chain__);return w.__actions__=Wr(g.__actions__),w.__index__=g.__index__,w.__values__=g.__values__,w}function z9(g,w,E){(E?Pr(g,w,E):w===e)?w=1:w=cr(ue(w),0);var I=g==null?0:g.length;if(!I||w<1)return[];for(var D=0,$=0,V=st(Hd(I/w));D<I;)V[$++]=Si(g,D,D+=w);return V}function W9(g){for(var w=-1,E=g==null?0:g.length,I=0,D=[];++w<E;){var $=g[w];$&&(D[I++]=$)}return D}function V9(){var g=arguments.length;if(!g)return[];for(var w=st(g-1),E=arguments[0],I=g;I--;)w[I-1]=arguments[I];return zo(ae(E)?Wr(E):[E],yr(w,1))}var Y9=ye(function(g,w){return jn(g)?Gl(g,yr(w,1,jn,!0)):[]}),X9=ye(function(g,w){var E=Fi(w);return jn(E)&&(E=e),jn(g)?Gl(g,yr(w,1,jn,!0),Dt(E,2)):[]}),q9=ye(function(g,w){var E=Fi(w);return jn(E)&&(E=e),jn(g)?Gl(g,yr(w,1,jn,!0),e,E):[]});function Z9(g,w,E){var I=g==null?0:g.length;return I?(w=E||w===e?1:ue(w),Si(g,w<0?0:w,I)):[]}function J9(g,w,E){var I=g==null?0:g.length;return I?(w=E||w===e?1:ue(w),w=I-w,Si(g,0,w<0?0:w)):[]}function t7(g,w){return g&&g.length?qd(g,Dt(w,3),!0,!0):[]}function e7(g,w){return g&&g.length?qd(g,Dt(w,3),!0):[]}function n7(g,w,E,I){var D=g==null?0:g.length;return D?(E&&typeof E!="number"&&Pr(g,w,E)&&(E=0,I=D),V$(g,w,E,I)):[]}function NE(g,w,E){var I=g==null?0:g.length;if(!I)return-1;var D=E==null?0:ue(E);return D<0&&(D=cr(I+D,0)),Md(g,Dt(w,3),D)}function DE(g,w,E){var I=g==null?0:g.length;if(!I)return-1;var D=I-1;return E!==e&&(D=ue(E),D=E<0?cr(I+D,0):xr(D,I-1)),Md(g,Dt(w,3),D,!0)}function HE(g){var w=g==null?0:g.length;return w?yr(g,1):[]}function r7(g){var w=g==null?0:g.length;return w?yr(g,P):[]}function i7(g,w){var E=g==null?0:g.length;return E?(w=w===e?1:ue(w),yr(g,w)):[]}function a7(g){for(var w=-1,E=g==null?0:g.length,I={};++w<E;){var D=g[w];I[D[0]]=D[1]}return I}function jE(g){return g&&g.length?g[0]:e}function o7(g,w,E){var I=g==null?0:g.length;if(!I)return-1;var D=E==null?0:ue(E);return D<0&&(D=cr(I+D,0)),ic(g,w,D)}function s7(g){var w=g==null?0:g.length;return w?Si(g,0,-1):[]}var A7=ye(function(g){var w=yn(g,Py);return w.length&&w[0]===g[0]?_y(w):[]}),c7=ye(function(g){var w=Fi(g),E=yn(g,Py);return w===Fi(E)?w=e:E.pop(),E.length&&E[0]===g[0]?_y(E,Dt(w,2)):[]}),l7=ye(function(g){var w=Fi(g),E=yn(g,Py);return w=typeof w=="function"?w:e,w&&E.pop(),E.length&&E[0]===g[0]?_y(E,e,w):[]});function u7(g,w){return g==null?"":s$.call(g,w)}function Fi(g){var w=g==null?0:g.length;return w?g[w-1]:e}function f7(g,w,E){var I=g==null?0:g.length;if(!I)return-1;var D=I;return E!==e&&(D=ue(E),D=D<0?cr(I+D,0):xr(D,I-1)),w===w?Kj(g,w,D):Md(g,BO,D,!0)}function d7(g,w){return g&&g.length?JO(g,ue(w)):e}var h7=ye($E);function $E(g,w){return g&&g.length&&w&&w.length?ky(g,w):g}function p7(g,w,E){return g&&g.length&&w&&w.length?ky(g,w,Dt(E,2)):g}function g7(g,w,E){return g&&g.length&&w&&w.length?ky(g,w,e,E):g}var v7=fo(function(g,w){var E=g==null?0:g.length,I=xy(g,w);return nE(g,yn(w,function(D){return ho(D,E)?+D:D}).sort(fE)),I});function y7(g,w){var E=[];if(!(g&&g.length))return E;var I=-1,D=[],$=g.length;for(w=Dt(w,3);++I<$;){var V=g[I];w(V,I,g)&&(E.push(V),D.push(I))}return nE(g,D),E}function qy(g){return g==null?g:u$.call(g)}function m7(g,w,E){var I=g==null?0:g.length;return I?(E&&typeof E!="number"&&Pr(g,w,E)?(w=0,E=I):(w=w==null?0:ue(w),E=E===e?I:ue(E)),Si(g,w,E)):[]}function w7(g,w){return Xd(g,w)}function b7(g,w,E){return Ly(g,w,Dt(E,2))}function B7(g,w){var E=g==null?0:g.length;if(E){var I=Xd(g,w);if(I<E&&Aa(g[I],w))return I}return-1}function x7(g,w){return Xd(g,w,!0)}function C7(g,w,E){return Ly(g,w,Dt(E,2),!0)}function O7(g,w){var E=g==null?0:g.length;if(E){var I=Xd(g,w,!0)-1;if(Aa(g[I],w))return I}return-1}function E7(g){return g&&g.length?iE(g):[]}function _7(g,w){return g&&g.length?iE(g,Dt(w,2)):[]}function S7(g){var w=g==null?0:g.length;return w?Si(g,1,w):[]}function F7(g,w,E){return g&&g.length?(w=E||w===e?1:ue(w),Si(g,0,w<0?0:w)):[]}function M7(g,w,E){var I=g==null?0:g.length;return I?(w=E||w===e?1:ue(w),w=I-w,Si(g,w<0?0:w,I)):[]}function k7(g,w){return g&&g.length?qd(g,Dt(w,3),!1,!0):[]}function T7(g,w){return g&&g.length?qd(g,Dt(w,3)):[]}var I7=ye(function(g){return Xo(yr(g,1,jn,!0))}),L7=ye(function(g){var w=Fi(g);return jn(w)&&(w=e),Xo(yr(g,1,jn,!0),Dt(w,2))}),Q7=ye(function(g){var w=Fi(g);return w=typeof w=="function"?w:e,Xo(yr(g,1,jn,!0),e,w)});function U7(g){return g&&g.length?Xo(g):[]}function P7(g,w){return g&&g.length?Xo(g,Dt(w,2)):[]}function R7(g,w){return w=typeof w=="function"?w:e,g&&g.length?Xo(g,e,w):[]}function Zy(g){if(!(g&&g.length))return[];var w=0;return g=Ko(g,function(E){if(jn(E))return w=cr(E.length,w),!0}),py(w,function(E){return yn(g,fy(E))})}function GE(g,w){if(!(g&&g.length))return[];var E=Zy(g);return w==null?E:yn(E,function(I){return Ai(w,e,I)})}var N7=ye(function(g,w){return jn(g)?Gl(g,w):[]}),D7=ye(function(g){return Uy(Ko(g,jn))}),H7=ye(function(g){var w=Fi(g);return jn(w)&&(w=e),Uy(Ko(g,jn),Dt(w,2))}),j7=ye(function(g){var w=Fi(g);return w=typeof w=="function"?w:e,Uy(Ko(g,jn),e,w)}),$7=ye(Zy);function G7(g,w){return AE(g||[],w||[],$l)}function K7(g,w){return AE(g||[],w||[],Wl)}var z7=ye(function(g){var w=g.length,E=w>1?g[w-1]:e;return E=typeof E=="function"?(g.pop(),E):e,GE(g,E)});function KE(g){var w=j(g);return w.__chain__=!0,w}function W7(g,w){return w(g),g}function oh(g,w){return w(g)}var V7=fo(function(g){var w=g.length,E=w?g[0]:0,I=this.__wrapped__,D=function($){return xy($,g)};return w>1||this.__actions__.length||!(I instanceof xe)||!ho(E)?this.thru(D):(I=I.slice(E,+E+(w?1:0)),I.__actions__.push({func:oh,args:[D],thisArg:e}),new Ei(I,this.__chain__).thru(function($){return w&&!$.length&&$.push(e),$}))});function Y7(){return KE(this)}function X7(){return new Ei(this.value(),this.__chain__)}function q7(){this.__values__===e&&(this.__values__=a_(this.value()));var g=this.__index__>=this.__values__.length,w=g?e:this.__values__[this.__index__++];return{done:g,value:w}}function Z7(){return this}function J7(g){for(var w,E=this;E instanceof Kd;){var I=RE(E);I.__index__=0,I.__values__=e,w?D.__wrapped__=I:w=I;var D=I;E=E.__wrapped__}return D.__wrapped__=g,w}function tG(){var g=this.__wrapped__;if(g instanceof xe){var w=g;return this.__actions__.length&&(w=new xe(this)),w=w.reverse(),w.__actions__.push({func:oh,args:[qy],thisArg:e}),new Ei(w,this.__chain__)}return this.thru(qy)}function eG(){return sE(this.__wrapped__,this.__actions__)}var nG=Zd(function(g,w,E){Ge.call(g,E)?++g[E]:lo(g,E,1)});function rG(g,w,E){var I=ae(g)?wO:W$;return E&&Pr(g,w,E)&&(w=e),I(g,Dt(w,3))}function iG(g,w){var E=ae(g)?Ko:GO;return E(g,Dt(w,3))}var aG=yE(NE),oG=yE(DE);function sG(g,w){return yr(sh(g,w),1)}function AG(g,w){return yr(sh(g,w),P)}function cG(g,w,E){return E=E===e?1:ue(E),yr(sh(g,w),E)}function zE(g,w){var E=ae(g)?Ci:Yo;return E(g,Dt(w,3))}function WE(g,w){var E=ae(g)?Sj:$O;return E(g,Dt(w,3))}var lG=Zd(function(g,w,E){Ge.call(g,E)?g[E].push(w):lo(g,E,[w])});function uG(g,w,E,I){g=Vr(g)?g:gc(g),E=E&&!I?ue(E):0;var D=g.length;return E<0&&(E=cr(D+E,0)),fh(g)?E<=D&&g.indexOf(w,E)>-1:!!D&&ic(g,w,E)>-1}var fG=ye(function(g,w,E){var I=-1,D=typeof w=="function",$=Vr(g)?st(g.length):[];return Yo(g,function(V){$[++I]=D?Ai(w,V,E):Kl(V,w,E)}),$}),dG=Zd(function(g,w,E){lo(g,E,w)});function sh(g,w){var E=ae(g)?yn:XO;return E(g,Dt(w,3))}function hG(g,w,E,I){return g==null?[]:(ae(w)||(w=w==null?[]:[w]),E=I?e:E,ae(E)||(E=E==null?[]:[E]),tE(g,w,E))}var pG=Zd(function(g,w,E){g[E?0:1].push(w)},function(){return[[],[]]});function gG(g,w,E){var I=ae(g)?ly:CO,D=arguments.length<3;return I(g,Dt(w,4),E,D,Yo)}function vG(g,w,E){var I=ae(g)?Fj:CO,D=arguments.length<3;return I(g,Dt(w,4),E,D,$O)}function yG(g,w){var E=ae(g)?Ko:GO;return E(g,lh(Dt(w,3)))}function mG(g){var w=ae(g)?NO:u9;return w(g)}function wG(g,w,E){(E?Pr(g,w,E):w===e)?w=1:w=ue(w);var I=ae(g)?j$:f9;return I(g,w)}function bG(g){var w=ae(g)?$$:h9;return w(g)}function BG(g){if(g==null)return 0;if(Vr(g))return fh(g)?oc(g):g.length;var w=Cr(g);return w==Bt||w==qt?g.size:Fy(g).length}function xG(g,w,E){var I=ae(g)?uy:p9;return E&&Pr(g,w,E)&&(w=e),I(g,Dt(w,3))}var CG=ye(function(g,w){if(g==null)return[];var E=w.length;return E>1&&Pr(g,w[0],w[1])?w=[]:E>2&&Pr(w[0],w[1],w[2])&&(w=[w[0]]),tE(g,yr(w,1),[])}),Ah=i$||function(){return vr.Date.now()};function OG(g,w){if(typeof w!="function")throw new Oi(o);return g=ue(g),function(){if(--g<1)return w.apply(this,arguments)}}function VE(g,w,E){return w=E?e:w,w=g&&w==null?g.length:w,uo(g,O,e,e,e,e,w)}function YE(g,w){var E;if(typeof w!="function")throw new Oi(o);return g=ue(g),function(){return--g>0&&(E=w.apply(this,arguments)),g<=1&&(w=e),E}}var Jy=ye(function(g,w,E){var I=v;if(E.length){var D=Wo(E,hc(Jy));I|=x}return uo(g,I,w,E,D)}),XE=ye(function(g,w,E){var I=v|y;if(E.length){var D=Wo(E,hc(XE));I|=x}return uo(w,I,g,E,D)});function qE(g,w,E){w=E?e:w;var I=uo(g,b,e,e,e,e,e,w);return I.placeholder=qE.placeholder,I}function ZE(g,w,E){w=E?e:w;var I=uo(g,B,e,e,e,e,e,w);return I.placeholder=ZE.placeholder,I}function JE(g,w,E){var I,D,$,V,q,rt,ft=0,pt=!1,yt=!1,St=!0;if(typeof g!="function")throw new Oi(o);w=Mi(w)||0,xn(E)&&(pt=!!E.leading,yt="maxWait"in E,$=yt?cr(Mi(E.maxWait)||0,w):$,St="trailing"in E?!!E.trailing:St);function Pt($n){var ca=I,vo=D;return I=D=e,ft=$n,V=g.apply(vo,ca),V}function Ht($n){return ft=$n,q=Xl(Be,w),pt?Pt($n):V}function he($n){var ca=$n-rt,vo=$n-ft,y_=w-ca;return yt?xr(y_,$-vo):y_}function jt($n){var ca=$n-rt,vo=$n-ft;return rt===e||ca>=w||ca<0||yt&&vo>=$}function Be(){var $n=Ah();if(jt($n))return _e($n);q=Xl(Be,he($n))}function _e($n){return q=e,St&&I?Pt($n):(I=D=e,V)}function fi(){q!==e&&cE(q),ft=0,I=rt=D=q=e}function Rr(){return q===e?V:_e(Ah())}function di(){var $n=Ah(),ca=jt($n);if(I=arguments,D=this,rt=$n,ca){if(q===e)return Ht(rt);if(yt)return cE(q),q=Xl(Be,w),Pt(rt)}return q===e&&(q=Xl(Be,w)),V}return di.cancel=fi,di.flush=Rr,di}var EG=ye(function(g,w){return jO(g,1,w)}),_G=ye(function(g,w,E){return jO(g,Mi(w)||0,E)});function SG(g){return uo(g,S)}function ch(g,w){if(typeof g!="function"||w!=null&&typeof w!="function")throw new Oi(o);var E=function(){var I=arguments,D=w?w.apply(this,I):I[0],$=E.cache;if($.has(D))return $.get(D);var V=g.apply(this,I);return E.cache=$.set(D,V)||$,V};return E.cache=new(ch.Cache||co),E}ch.Cache=co;function lh(g){if(typeof g!="function")throw new Oi(o);return function(){var w=arguments;switch(w.length){case 0:return!g.call(this);case 1:return!g.call(this,w[0]);case 2:return!g.call(this,w[0],w[1]);case 3:return!g.call(this,w[0],w[1],w[2])}return!g.apply(this,w)}}function FG(g){return YE(2,g)}var MG=g9(function(g,w){w=w.length==1&&ae(w[0])?yn(w[0],ci(Dt())):yn(yr(w,1),ci(Dt()));var E=w.length;return ye(function(I){for(var D=-1,$=xr(I.length,E);++D<$;)I[D]=w[D].call(this,I[D]);return Ai(g,this,I)})}),tm=ye(function(g,w){var E=Wo(w,hc(tm));return uo(g,x,e,w,E)}),t_=ye(function(g,w){var E=Wo(w,hc(t_));return uo(g,C,e,w,E)}),kG=fo(function(g,w){return uo(g,_,e,e,e,w)});function TG(g,w){if(typeof g!="function")throw new Oi(o);return w=w===e?w:ue(w),ye(g,w)}function IG(g,w){if(typeof g!="function")throw new Oi(o);return w=w==null?0:cr(ue(w),0),ye(function(E){var I=E[w],D=Zo(E,0,w);return I&&zo(D,I),Ai(g,this,D)})}function LG(g,w,E){var I=!0,D=!0;if(typeof g!="function")throw new Oi(o);return xn(E)&&(I="leading"in E?!!E.leading:I,D="trailing"in E?!!E.trailing:D),JE(g,w,{leading:I,maxWait:w,trailing:D})}function QG(g){return VE(g,1)}function UG(g,w){return tm(Ry(w),g)}function PG(){if(!arguments.length)return[];var g=arguments[0];return ae(g)?g:[g]}function RG(g){return _i(g,d)}function NG(g,w){return w=typeof w=="function"?w:e,_i(g,d,w)}function DG(g){return _i(g,u|d)}function HG(g,w){return w=typeof w=="function"?w:e,_i(g,u|d,w)}function jG(g,w){return w==null||HO(g,w,dr(w))}function Aa(g,w){return g===w||g!==g&&w!==w}var $G=nh(Ey),GG=nh(function(g,w){return g>=w}),eA=WO((function(){return arguments})())?WO:function(g){return Un(g)&&Ge.call(g,"callee")&&!IO.call(g,"callee")},ae=st.isArray,KG=hO?ci(hO):J$;function Vr(g){return g!=null&&uh(g.length)&&!po(g)}function jn(g){return Un(g)&&Vr(g)}function zG(g){return g===!0||g===!1||Un(g)&&Ur(g)==Z}var Jo=o$||um,WG=pO?ci(pO):t9;function VG(g){return Un(g)&&g.nodeType===1&&!ql(g)}function YG(g){if(g==null)return!0;if(Vr(g)&&(ae(g)||typeof g=="string"||typeof g.splice=="function"||Jo(g)||pc(g)||eA(g)))return!g.length;var w=Cr(g);if(w==Bt||w==qt)return!g.size;if(Yl(g))return!Fy(g).length;for(var E in g)if(Ge.call(g,E))return!1;return!0}function XG(g,w){return zl(g,w)}function qG(g,w,E){E=typeof E=="function"?E:e;var I=E?E(g,w):e;return I===e?zl(g,w,e,E):!!I}function em(g){if(!Un(g))return!1;var w=Ur(g);return w==vt||w==ct||typeof g.message=="string"&&typeof g.name=="string"&&!ql(g)}function ZG(g){return typeof g=="number"&&QO(g)}function po(g){if(!xn(g))return!1;var w=Ur(g);return w==ht||w==bt||w==nt||w==Lt}function e_(g){return typeof g=="number"&&g==ue(g)}function uh(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=Q}function xn(g){var w=typeof g;return g!=null&&(w=="object"||w=="function")}function Un(g){return g!=null&&typeof g=="object"}var n_=gO?ci(gO):n9;function JG(g,w){return g===w||Sy(g,w,Ky(w))}function tK(g,w,E){return E=typeof E=="function"?E:e,Sy(g,w,Ky(w),E)}function eK(g){return r_(g)&&g!=+g}function nK(g){if(N9(g))throw new re(a);return VO(g)}function rK(g){return g===null}function iK(g){return g==null}function r_(g){return typeof g=="number"||Un(g)&&Ur(g)==Ct}function ql(g){if(!Un(g)||Ur(g)!=Ot)return!1;var w=Rd(g);if(w===null)return!0;var E=Ge.call(w,"constructor")&&w.constructor;return typeof E=="function"&&E instanceof E&&Ld.call(E)==t$}var nm=vO?ci(vO):r9;function aK(g){return e_(g)&&g>=-Q&&g<=Q}var i_=yO?ci(yO):i9;function fh(g){return typeof g=="string"||!ae(g)&&Un(g)&&Ur(g)==Zt}function ui(g){return typeof g=="symbol"||Un(g)&&Ur(g)==Me}var pc=mO?ci(mO):a9;function oK(g){return g===e}function sK(g){return Un(g)&&Cr(g)==Ee}function AK(g){return Un(g)&&Ur(g)==ge}var cK=nh(My),lK=nh(function(g,w){return g<=w});function a_(g){if(!g)return[];if(Vr(g))return fh(g)?oa(g):Wr(g);if(Rl&&g[Rl])return jj(g[Rl]());var w=Cr(g),E=w==Bt?vy:w==qt?kd:gc;return E(g)}function go(g){if(!g)return g===0?g:0;if(g=Mi(g),g===P||g===-P){var w=g<0?-1:1;return w*R}return g===g?g:0}function ue(g){var w=go(g),E=w%1;return w===w?E?w-E:w:0}function o_(g){return g?qs(ue(g),0,G):0}function Mi(g){if(typeof g=="number")return g;if(ui(g))return H;if(xn(g)){var w=typeof g.valueOf=="function"?g.valueOf():g;g=xn(w)?w+"":w}if(typeof g!="string")return g===0?g:+g;g=OO(g);var E=K6.test(g);return E||W6.test(g)?Oj(g.slice(2),E?2:8):G6.test(g)?H:+g}function s_(g){return Ea(g,Yr(g))}function uK(g){return g?qs(ue(g),-Q,Q):g===0?g:0}function Ke(g){return g==null?"":li(g)}var fK=fc(function(g,w){if(Yl(w)||Vr(w)){Ea(w,dr(w),g);return}for(var E in w)Ge.call(w,E)&&$l(g,E,w[E])}),A_=fc(function(g,w){Ea(w,Yr(w),g)}),dh=fc(function(g,w,E,I){Ea(w,Yr(w),g,I)}),dK=fc(function(g,w,E,I){Ea(w,dr(w),g,I)}),hK=fo(xy);function pK(g,w){var E=uc(g);return w==null?E:DO(E,w)}var gK=ye(function(g,w){g=on(g);var E=-1,I=w.length,D=I>2?w[2]:e;for(D&&Pr(w[0],w[1],D)&&(I=1);++E<I;)for(var $=w[E],V=Yr($),q=-1,rt=V.length;++q<rt;){var ft=V[q],pt=g[ft];(pt===e||Aa(pt,Ac[ft])&&!Ge.call(g,ft))&&(g[ft]=$[ft])}return g}),vK=ye(function(g){return g.push(e,OE),Ai(c_,e,g)});function yK(g,w){return bO(g,Dt(w,3),Oa)}function mK(g,w){return bO(g,Dt(w,3),Oy)}function wK(g,w){return g==null?g:Cy(g,Dt(w,3),Yr)}function bK(g,w){return g==null?g:KO(g,Dt(w,3),Yr)}function BK(g,w){return g&&Oa(g,Dt(w,3))}function xK(g,w){return g&&Oy(g,Dt(w,3))}function CK(g){return g==null?[]:Vd(g,dr(g))}function OK(g){return g==null?[]:Vd(g,Yr(g))}function rm(g,w,E){var I=g==null?e:Zs(g,w);return I===e?E:I}function EK(g,w){return g!=null&&SE(g,w,Y$)}function im(g,w){return g!=null&&SE(g,w,X$)}var _K=wE(function(g,w,E){w!=null&&typeof w.toString!="function"&&(w=Qd.call(w)),g[w]=E},om(Xr)),SK=wE(function(g,w,E){w!=null&&typeof w.toString!="function"&&(w=Qd.call(w)),Ge.call(g,w)?g[w].push(E):g[w]=[E]},Dt),FK=ye(Kl);function dr(g){return Vr(g)?RO(g):Fy(g)}function Yr(g){return Vr(g)?RO(g,!0):o9(g)}function MK(g,w){var E={};return w=Dt(w,3),Oa(g,function(I,D,$){lo(E,w(I,D,$),I)}),E}function kK(g,w){var E={};return w=Dt(w,3),Oa(g,function(I,D,$){lo(E,D,w(I,D,$))}),E}var TK=fc(function(g,w,E){Yd(g,w,E)}),c_=fc(function(g,w,E,I){Yd(g,w,E,I)}),IK=fo(function(g,w){var E={};if(g==null)return E;var I=!1;w=yn(w,function($){return $=qo($,g),I||(I=$.length>1),$}),Ea(g,$y(g),E),I&&(E=_i(E,u|f|d,_9));for(var D=w.length;D--;)Qy(E,w[D]);return E});function LK(g,w){return l_(g,lh(Dt(w)))}var QK=fo(function(g,w){return g==null?{}:A9(g,w)});function l_(g,w){if(g==null)return{};var E=yn($y(g),function(I){return[I]});return w=Dt(w),eE(g,E,function(I,D){return w(I,D[0])})}function UK(g,w,E){w=qo(w,g);var I=-1,D=w.length;for(D||(D=1,g=e);++I<D;){var $=g==null?e:g[_a(w[I])];$===e&&(I=D,$=E),g=po($)?$.call(g):$}return g}function PK(g,w,E){return g==null?g:Wl(g,w,E)}function RK(g,w,E,I){return I=typeof I=="function"?I:e,g==null?g:Wl(g,w,E,I)}var u_=xE(dr),f_=xE(Yr);function NK(g,w,E){var I=ae(g),D=I||Jo(g)||pc(g);if(w=Dt(w,4),E==null){var $=g&&g.constructor;D?E=I?new $:[]:xn(g)?E=po($)?uc(Rd(g)):{}:E={}}return(D?Ci:Oa)(g,function(V,q,rt){return w(E,V,q,rt)}),E}function DK(g,w){return g==null?!0:Qy(g,w)}function HK(g,w,E){return g==null?g:oE(g,w,Ry(E))}function jK(g,w,E,I){return I=typeof I=="function"?I:e,g==null?g:oE(g,w,Ry(E),I)}function gc(g){return g==null?[]:gy(g,dr(g))}function $K(g){return g==null?[]:gy(g,Yr(g))}function GK(g,w,E){return E===e&&(E=w,w=e),E!==e&&(E=Mi(E),E=E===E?E:0),w!==e&&(w=Mi(w),w=w===w?w:0),qs(Mi(g),w,E)}function KK(g,w,E){return w=go(w),E===e?(E=w,w=0):E=go(E),g=Mi(g),q$(g,w,E)}function zK(g,w,E){if(E&&typeof E!="boolean"&&Pr(g,w,E)&&(w=E=e),E===e&&(typeof w=="boolean"?(E=w,w=e):typeof g=="boolean"&&(E=g,g=e)),g===e&&w===e?(g=0,w=1):(g=go(g),w===e?(w=g,g=0):w=go(w)),g>w){var I=g;g=w,w=I}if(E||g%1||w%1){var D=UO();return xr(g+D*(w-g+Cj("1e-"+((D+"").length-1))),w)}return Ty(g,w)}var WK=dc(function(g,w,E){return w=w.toLowerCase(),g+(E?d_(w):w)});function d_(g){return am(Ke(g).toLowerCase())}function h_(g){return g=Ke(g),g&&g.replace(Y6,Pj).replace(hj,"")}function VK(g,w,E){g=Ke(g),w=li(w);var I=g.length;E=E===e?I:qs(ue(E),0,I);var D=E;return E-=w.length,E>=0&&g.slice(E,D)==w}function YK(g){return g=Ke(g),g&&F6.test(g)?g.replace(KC,Rj):g}function XK(g){return g=Ke(g),g&&Q6.test(g)?g.replace(ty,"\\$&"):g}var qK=dc(function(g,w,E){return g+(E?"-":"")+w.toLowerCase()}),ZK=dc(function(g,w,E){return g+(E?" ":"")+w.toLowerCase()}),JK=vE("toLowerCase");function tz(g,w,E){g=Ke(g),w=ue(w);var I=w?oc(g):0;if(!w||I>=w)return g;var D=(w-I)/2;return eh(jd(D),E)+g+eh(Hd(D),E)}function ez(g,w,E){g=Ke(g),w=ue(w);var I=w?oc(g):0;return w&&I<w?g+eh(w-I,E):g}function nz(g,w,E){g=Ke(g),w=ue(w);var I=w?oc(g):0;return w&&I<w?eh(w-I,E)+g:g}function rz(g,w,E){return E||w==null?w=0:w&&(w=+w),l$(Ke(g).replace(ey,""),w||0)}function iz(g,w,E){return(E?Pr(g,w,E):w===e)?w=1:w=ue(w),Iy(Ke(g),w)}function az(){var g=arguments,w=Ke(g[0]);return g.length<3?w:w.replace(g[1],g[2])}var oz=dc(function(g,w,E){return g+(E?"_":"")+w.toLowerCase()});function sz(g,w,E){return E&&typeof E!="number"&&Pr(g,w,E)&&(w=E=e),E=E===e?G:E>>>0,E?(g=Ke(g),g&&(typeof w=="string"||w!=null&&!nm(w))&&(w=li(w),!w&&ac(g))?Zo(oa(g),0,E):g.split(w,E)):[]}var Az=dc(function(g,w,E){return g+(E?" ":"")+am(w)});function cz(g,w,E){return g=Ke(g),E=E==null?0:qs(ue(E),0,g.length),w=li(w),g.slice(E,E+w.length)==w}function lz(g,w,E){var I=j.templateSettings;E&&Pr(g,w,E)&&(w=e),g=Ke(g),w=dh({},w,I,CE);var D=dh({},w.imports,I.imports,CE),$=dr(D),V=gy(D,$),q,rt,ft=0,pt=w.interpolate||Ed,yt="__p += '",St=yy((w.escape||Ed).source+"|"+pt.source+"|"+(pt===zC?$6:Ed).source+"|"+(w.evaluate||Ed).source+"|$","g"),Pt="//# sourceURL="+(Ge.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++mj+"]")+`
`;g.replace(St,function(jt,Be,_e,fi,Rr,di){return _e||(_e=fi),yt+=g.slice(ft,di).replace(X6,Nj),Be&&(q=!0,yt+=`' +
__e(`+Be+`) +
'`),Rr&&(rt=!0,yt+=`';
`+Rr+`;
__p += '`),_e&&(yt+=`' +
((__t = (`+_e+`)) == null ? '' : __t) +
'`),ft=di+jt.length,jt}),yt+=`';
`;var Ht=Ge.call(w,"variable")&&w.variable;if(!Ht)yt=`with (obj) {
`+yt+`
}
`;else if(H6.test(Ht))throw new re(s);yt=(rt?yt.replace(ec,""):yt).replace(nc,"$1").replace(Jv,"$1;"),yt="function("+(Ht||"obj")+`) {
`+(Ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(rt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var he=g_(function(){return Pe($,Pt+"return "+yt).apply(e,V)});if(he.source=yt,em(he))throw he;return he}function uz(g){return Ke(g).toLowerCase()}function fz(g){return Ke(g).toUpperCase()}function dz(g,w,E){if(g=Ke(g),g&&(E||w===e))return OO(g);if(!g||!(w=li(w)))return g;var I=oa(g),D=oa(w),$=EO(I,D),V=_O(I,D)+1;return Zo(I,$,V).join("")}function hz(g,w,E){if(g=Ke(g),g&&(E||w===e))return g.slice(0,FO(g)+1);if(!g||!(w=li(w)))return g;var I=oa(g),D=_O(I,oa(w))+1;return Zo(I,0,D).join("")}function pz(g,w,E){if(g=Ke(g),g&&(E||w===e))return g.replace(ey,"");if(!g||!(w=li(w)))return g;var I=oa(g),D=EO(I,oa(w));return Zo(I,D).join("")}function gz(g,w){var E=F,I=M;if(xn(w)){var D="separator"in w?w.separator:D;E="length"in w?ue(w.length):E,I="omission"in w?li(w.omission):I}g=Ke(g);var $=g.length;if(ac(g)){var V=oa(g);$=V.length}if(E>=$)return g;var q=E-oc(I);if(q<1)return I;var rt=V?Zo(V,0,q).join(""):g.slice(0,q);if(D===e)return rt+I;if(V&&(q+=rt.length-q),nm(D)){if(g.slice(q).search(D)){var ft,pt=rt;for(D.global||(D=yy(D.source,Ke(WC.exec(D))+"g")),D.lastIndex=0;ft=D.exec(pt);)var yt=ft.index;rt=rt.slice(0,yt===e?q:yt)}}else if(g.indexOf(li(D),q)!=q){var St=rt.lastIndexOf(D);St>-1&&(rt=rt.slice(0,St))}return rt+I}function vz(g){return g=Ke(g),g&&S6.test(g)?g.replace(Od,zj):g}var yz=dc(function(g,w,E){return g+(E?" ":"")+w.toUpperCase()}),am=vE("toUpperCase");function p_(g,w,E){return g=Ke(g),w=E?e:w,w===e?Hj(g)?Yj(g):Tj(g):g.match(w)||[]}var g_=ye(function(g,w){try{return Ai(g,e,w)}catch(E){return em(E)?E:new re(E)}}),mz=fo(function(g,w){return Ci(w,function(E){E=_a(E),lo(g,E,Jy(g[E],g))}),g});function wz(g){var w=g==null?0:g.length,E=Dt();return g=w?yn(g,function(I){if(typeof I[1]!="function")throw new Oi(o);return[E(I[0]),I[1]]}):[],ye(function(I){for(var D=-1;++D<w;){var $=g[D];if(Ai($[0],this,I))return Ai($[1],this,I)}})}function bz(g){return z$(_i(g,u))}function om(g){return function(){return g}}function Bz(g,w){return g==null||g!==g?w:g}var xz=mE(),Cz=mE(!0);function Xr(g){return g}function sm(g){return YO(typeof g=="function"?g:_i(g,u))}function Oz(g){return qO(_i(g,u))}function Ez(g,w){return ZO(g,_i(w,u))}var _z=ye(function(g,w){return function(E){return Kl(E,g,w)}}),Sz=ye(function(g,w){return function(E){return Kl(g,E,w)}});function Am(g,w,E){var I=dr(w),D=Vd(w,I);E==null&&!(xn(w)&&(D.length||!I.length))&&(E=w,w=g,g=this,D=Vd(w,dr(w)));var $=!(xn(E)&&"chain"in E)||!!E.chain,V=po(g);return Ci(D,function(q){var rt=w[q];g[q]=rt,V&&(g.prototype[q]=function(){var ft=this.__chain__;if($||ft){var pt=g(this.__wrapped__),yt=pt.__actions__=Wr(this.__actions__);return yt.push({func:rt,args:arguments,thisArg:g}),pt.__chain__=ft,pt}return rt.apply(g,zo([this.value()],arguments))})}),g}function Fz(){return vr._===this&&(vr._=e$),this}function cm(){}function Mz(g){return g=ue(g),ye(function(w){return JO(w,g)})}var kz=Dy(yn),Tz=Dy(wO),Iz=Dy(uy);function v_(g){return Wy(g)?fy(_a(g)):c9(g)}function Lz(g){return function(w){return g==null?e:Zs(g,w)}}var Qz=bE(),Uz=bE(!0);function lm(){return[]}function um(){return!1}function Pz(){return{}}function Rz(){return""}function Nz(){return!0}function Dz(g,w){if(g=ue(g),g<1||g>Q)return[];var E=G,I=xr(g,G);w=Dt(w),g-=G;for(var D=py(I,w);++E<g;)w(E);return D}function Hz(g){return ae(g)?yn(g,_a):ui(g)?[g]:Wr(PE(Ke(g)))}function jz(g){var w=++Jj;return Ke(g)+w}var $z=th(function(g,w){return g+w},0),Gz=Hy("ceil"),Kz=th(function(g,w){return g/w},1),zz=Hy("floor");function Wz(g){return g&&g.length?Wd(g,Xr,Ey):e}function Vz(g,w){return g&&g.length?Wd(g,Dt(w,2),Ey):e}function Yz(g){return xO(g,Xr)}function Xz(g,w){return xO(g,Dt(w,2))}function qz(g){return g&&g.length?Wd(g,Xr,My):e}function Zz(g,w){return g&&g.length?Wd(g,Dt(w,2),My):e}var Jz=th(function(g,w){return g*w},1),tW=Hy("round"),eW=th(function(g,w){return g-w},0);function nW(g){return g&&g.length?hy(g,Xr):0}function rW(g,w){return g&&g.length?hy(g,Dt(w,2)):0}return j.after=OG,j.ary=VE,j.assign=fK,j.assignIn=A_,j.assignInWith=dh,j.assignWith=dK,j.at=hK,j.before=YE,j.bind=Jy,j.bindAll=mz,j.bindKey=XE,j.castArray=PG,j.chain=KE,j.chunk=z9,j.compact=W9,j.concat=V9,j.cond=wz,j.conforms=bz,j.constant=om,j.countBy=nG,j.create=pK,j.curry=qE,j.curryRight=ZE,j.debounce=JE,j.defaults=gK,j.defaultsDeep=vK,j.defer=EG,j.delay=_G,j.difference=Y9,j.differenceBy=X9,j.differenceWith=q9,j.drop=Z9,j.dropRight=J9,j.dropRightWhile=t7,j.dropWhile=e7,j.fill=n7,j.filter=iG,j.flatMap=sG,j.flatMapDeep=AG,j.flatMapDepth=cG,j.flatten=HE,j.flattenDeep=r7,j.flattenDepth=i7,j.flip=SG,j.flow=xz,j.flowRight=Cz,j.fromPairs=a7,j.functions=CK,j.functionsIn=OK,j.groupBy=lG,j.initial=s7,j.intersection=A7,j.intersectionBy=c7,j.intersectionWith=l7,j.invert=_K,j.invertBy=SK,j.invokeMap=fG,j.iteratee=sm,j.keyBy=dG,j.keys=dr,j.keysIn=Yr,j.map=sh,j.mapKeys=MK,j.mapValues=kK,j.matches=Oz,j.matchesProperty=Ez,j.memoize=ch,j.merge=TK,j.mergeWith=c_,j.method=_z,j.methodOf=Sz,j.mixin=Am,j.negate=lh,j.nthArg=Mz,j.omit=IK,j.omitBy=LK,j.once=FG,j.orderBy=hG,j.over=kz,j.overArgs=MG,j.overEvery=Tz,j.overSome=Iz,j.partial=tm,j.partialRight=t_,j.partition=pG,j.pick=QK,j.pickBy=l_,j.property=v_,j.propertyOf=Lz,j.pull=h7,j.pullAll=$E,j.pullAllBy=p7,j.pullAllWith=g7,j.pullAt=v7,j.range=Qz,j.rangeRight=Uz,j.rearg=kG,j.reject=yG,j.remove=y7,j.rest=TG,j.reverse=qy,j.sampleSize=wG,j.set=PK,j.setWith=RK,j.shuffle=bG,j.slice=m7,j.sortBy=CG,j.sortedUniq=E7,j.sortedUniqBy=_7,j.split=sz,j.spread=IG,j.tail=S7,j.take=F7,j.takeRight=M7,j.takeRightWhile=k7,j.takeWhile=T7,j.tap=W7,j.throttle=LG,j.thru=oh,j.toArray=a_,j.toPairs=u_,j.toPairsIn=f_,j.toPath=Hz,j.toPlainObject=s_,j.transform=NK,j.unary=QG,j.union=I7,j.unionBy=L7,j.unionWith=Q7,j.uniq=U7,j.uniqBy=P7,j.uniqWith=R7,j.unset=DK,j.unzip=Zy,j.unzipWith=GE,j.update=HK,j.updateWith=jK,j.values=gc,j.valuesIn=$K,j.without=N7,j.words=p_,j.wrap=UG,j.xor=D7,j.xorBy=H7,j.xorWith=j7,j.zip=$7,j.zipObject=G7,j.zipObjectDeep=K7,j.zipWith=z7,j.entries=u_,j.entriesIn=f_,j.extend=A_,j.extendWith=dh,Am(j,j),j.add=$z,j.attempt=g_,j.camelCase=WK,j.capitalize=d_,j.ceil=Gz,j.clamp=GK,j.clone=RG,j.cloneDeep=DG,j.cloneDeepWith=HG,j.cloneWith=NG,j.conformsTo=jG,j.deburr=h_,j.defaultTo=Bz,j.divide=Kz,j.endsWith=VK,j.eq=Aa,j.escape=YK,j.escapeRegExp=XK,j.every=rG,j.find=aG,j.findIndex=NE,j.findKey=yK,j.findLast=oG,j.findLastIndex=DE,j.findLastKey=mK,j.floor=zz,j.forEach=zE,j.forEachRight=WE,j.forIn=wK,j.forInRight=bK,j.forOwn=BK,j.forOwnRight=xK,j.get=rm,j.gt=$G,j.gte=GG,j.has=EK,j.hasIn=im,j.head=jE,j.identity=Xr,j.includes=uG,j.indexOf=o7,j.inRange=KK,j.invoke=FK,j.isArguments=eA,j.isArray=ae,j.isArrayBuffer=KG,j.isArrayLike=Vr,j.isArrayLikeObject=jn,j.isBoolean=zG,j.isBuffer=Jo,j.isDate=WG,j.isElement=VG,j.isEmpty=YG,j.isEqual=XG,j.isEqualWith=qG,j.isError=em,j.isFinite=ZG,j.isFunction=po,j.isInteger=e_,j.isLength=uh,j.isMap=n_,j.isMatch=JG,j.isMatchWith=tK,j.isNaN=eK,j.isNative=nK,j.isNil=iK,j.isNull=rK,j.isNumber=r_,j.isObject=xn,j.isObjectLike=Un,j.isPlainObject=ql,j.isRegExp=nm,j.isSafeInteger=aK,j.isSet=i_,j.isString=fh,j.isSymbol=ui,j.isTypedArray=pc,j.isUndefined=oK,j.isWeakMap=sK,j.isWeakSet=AK,j.join=u7,j.kebabCase=qK,j.last=Fi,j.lastIndexOf=f7,j.lowerCase=ZK,j.lowerFirst=JK,j.lt=cK,j.lte=lK,j.max=Wz,j.maxBy=Vz,j.mean=Yz,j.meanBy=Xz,j.min=qz,j.minBy=Zz,j.stubArray=lm,j.stubFalse=um,j.stubObject=Pz,j.stubString=Rz,j.stubTrue=Nz,j.multiply=Jz,j.nth=d7,j.noConflict=Fz,j.noop=cm,j.now=Ah,j.pad=tz,j.padEnd=ez,j.padStart=nz,j.parseInt=rz,j.random=zK,j.reduce=gG,j.reduceRight=vG,j.repeat=iz,j.replace=az,j.result=UK,j.round=tW,j.runInContext=tt,j.sample=mG,j.size=BG,j.snakeCase=oz,j.some=xG,j.sortedIndex=w7,j.sortedIndexBy=b7,j.sortedIndexOf=B7,j.sortedLastIndex=x7,j.sortedLastIndexBy=C7,j.sortedLastIndexOf=O7,j.startCase=Az,j.startsWith=cz,j.subtract=eW,j.sum=nW,j.sumBy=rW,j.template=lz,j.times=Dz,j.toFinite=go,j.toInteger=ue,j.toLength=o_,j.toLower=uz,j.toNumber=Mi,j.toSafeInteger=uK,j.toString=Ke,j.toUpper=fz,j.trim=dz,j.trimEnd=hz,j.trimStart=pz,j.truncate=gz,j.unescape=vz,j.uniqueId=jz,j.upperCase=yz,j.upperFirst=am,j.each=zE,j.eachRight=WE,j.first=jE,Am(j,(function(){var g={};return Oa(j,function(w,E){Ge.call(j.prototype,E)||(g[E]=w)}),g})(),{chain:!1}),j.VERSION=r,Ci(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){j[g].placeholder=j}),Ci(["drop","take"],function(g,w){xe.prototype[g]=function(E){E=E===e?1:cr(ue(E),0);var I=this.__filtered__&&!w?new xe(this):this.clone();return I.__filtered__?I.__takeCount__=xr(E,I.__takeCount__):I.__views__.push({size:xr(E,G),type:g+(I.__dir__<0?"Right":"")}),I},xe.prototype[g+"Right"]=function(E){return this.reverse()[g](E).reverse()}}),Ci(["filter","map","takeWhile"],function(g,w){var E=w+1,I=E==L||E==N;xe.prototype[g]=function(D){var $=this.clone();return $.__iteratees__.push({iteratee:Dt(D,3),type:E}),$.__filtered__=$.__filtered__||I,$}}),Ci(["head","last"],function(g,w){var E="take"+(w?"Right":"");xe.prototype[g]=function(){return this[E](1).value()[0]}}),Ci(["initial","tail"],function(g,w){var E="drop"+(w?"":"Right");xe.prototype[g]=function(){return this.__filtered__?new xe(this):this[E](1)}}),xe.prototype.compact=function(){return this.filter(Xr)},xe.prototype.find=function(g){return this.filter(g).head()},xe.prototype.findLast=function(g){return this.reverse().find(g)},xe.prototype.invokeMap=ye(function(g,w){return typeof g=="function"?new xe(this):this.map(function(E){return Kl(E,g,w)})}),xe.prototype.reject=function(g){return this.filter(lh(Dt(g)))},xe.prototype.slice=function(g,w){g=ue(g);var E=this;return E.__filtered__&&(g>0||w<0)?new xe(E):(g<0?E=E.takeRight(-g):g&&(E=E.drop(g)),w!==e&&(w=ue(w),E=w<0?E.dropRight(-w):E.take(w-g)),E)},xe.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},xe.prototype.toArray=function(){return this.take(G)},Oa(xe.prototype,function(g,w){var E=/^(?:filter|find|map|reject)|While$/.test(w),I=/^(?:head|last)$/.test(w),D=j[I?"take"+(w=="last"?"Right":""):w],$=I||/^find/.test(w);D&&(j.prototype[w]=function(){var V=this.__wrapped__,q=I?[1]:arguments,rt=V instanceof xe,ft=q[0],pt=rt||ae(V),yt=function(Be){var _e=D.apply(j,zo([Be],q));return I&&St?_e[0]:_e};pt&&E&&typeof ft=="function"&&ft.length!=1&&(rt=pt=!1);var St=this.__chain__,Pt=!!this.__actions__.length,Ht=$&&!St,he=rt&&!Pt;if(!$&&pt){V=he?V:new xe(this);var jt=g.apply(V,q);return jt.__actions__.push({func:oh,args:[yt],thisArg:e}),new Ei(jt,St)}return Ht&&he?g.apply(this,q):(jt=this.thru(yt),Ht?I?jt.value()[0]:jt.value():jt)})}),Ci(["pop","push","shift","sort","splice","unshift"],function(g){var w=Td[g],E=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",I=/^(?:pop|shift)$/.test(g);j.prototype[g]=function(){var D=arguments;if(I&&!this.__chain__){var $=this.value();return w.apply(ae($)?$:[],D)}return this[E](function(V){return w.apply(ae(V)?V:[],D)})}}),Oa(xe.prototype,function(g,w){var E=j[w];if(E){var I=E.name+"";Ge.call(lc,I)||(lc[I]=[]),lc[I].push({name:w,func:E})}}),lc[Jd(e,y).name]=[{name:"wrapper",func:e}],xe.prototype.clone=v$,xe.prototype.reverse=y$,xe.prototype.value=m$,j.prototype.at=V7,j.prototype.chain=Y7,j.prototype.commit=X7,j.prototype.next=q7,j.prototype.plant=J7,j.prototype.reverse=tG,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=eG,j.prototype.first=j.prototype.head,Rl&&(j.prototype[Rl]=Z7),j}),sc=Xj();Ws?((Ws.exports=sc)._=sc,sy._=sc):vr._=sc}).call(ylt)})(Lu,Lu.exports)),Lu.exports}var J=mlt();const ZP=()=>[["cartesian"]];ZP.props={};function wlt(t,n){return t=t%(2*Math.PI),n=n%(2*Math.PI),t<0&&(t=2*Math.PI+t),n<0&&(n=2*Math.PI+n),t>=n&&(n=n+2*Math.PI),{startAngle:t,endAngle:n}}const JP=(t={})=>{const n={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},e=Object.assign(Object.assign({},n),t);return Object.assign(Object.assign({},e),wlt(e.startAngle,e.endAngle))},ad=t=>{const{startAngle:n,endAngle:e,innerRadius:r,outerRadius:i}=JP(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",n,e,r,i]]};ad.props={};const t4=({startAngle:t=0,endAngle:n=Math.PI*6,innerRadius:e=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",t,n,e,r]];t4.props={};const hx=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];hx.props={transform:!0};const blt=(t={})=>{const n={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},n),t)},e4=t=>{const{startAngle:n,endAngle:e,innerRadius:r,outerRadius:i}=blt(t);return[...hx(),...ad({startAngle:n,endAngle:e,innerRadius:r,outerRadius:i})]};e4.props={};const n4=(t={})=>{const n={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},n),t)},px=t=>{const{startAngle:n,endAngle:e,innerRadius:r,outerRadius:i}=n4(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...ad({startAngle:n,endAngle:e,innerRadius:r,outerRadius:i})]};px.props={};const gx=()=>[["parallel",0,1,0,1]];gx.props={};const r4=({focusX:t=0,focusY:n=0,distortionX:e=2,distortionY:r=2,visual:i=!1})=>[["fisheye",t,n,e,r,i]];r4.props={transform:!0};const i4=t=>{const{startAngle:n=-Math.PI/2,endAngle:e=Math.PI*3/2,innerRadius:r=0,outerRadius:i=1}=t;return[...gx(),...ad({startAngle:n,endAngle:e,innerRadius:r,outerRadius:i})]};i4.props={};const a4=({value:t})=>n=>n.map(()=>t);a4.props={};const o4=({value:t})=>n=>n.map(t);o4.props={};const s4=({value:t})=>n=>n.map(e=>e[t]);s4.props={};const A4=({value:t})=>()=>t;A4.props={};function tn(t,n){if(t!==null)return{type:"column",value:t,field:n}}function xf(t,n){const e=tn(t,n);return Object.assign(Object.assign({},e),{inferred:!0})}function Hg(t,n){if(t!==null)return{type:"column",value:t,field:n,visual:!0}}function Blt(t,n){const e=tn(t,n);return Object.assign(Object.assign({},e),{constant:!1})}function Os(t,n){const e=[];for(const r of t)e[r]=n;return e}function Oe(t,n){const e=t[n];if(!e)return[null,null];const{value:r,field:i=null}=e;return[r,i]}function jg(t,...n){for(const e of n)if(typeof e=="string"){const[r,i]=Oe(t,e);if(r!==null)return[r,i]}else return[e,null];return[null,null]}function od(t){return t instanceof Date?!1:typeof t=="object"}const sd=()=>(t,n)=>{const{encode:e}=n,{y1:r}=e;return r!==void 0?[t,n]:[t,at({},n,{encode:{y1:xf(Os(t,0))}})]};sd.props={};function Sn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function xlt(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function To(t){let n,e,r;t.length!==2?(n=Sn,e=(s,A)=>Sn(t(s),A),r=(s,A)=>t(s)-A):(n=t===Sn||t===xlt?t:Clt,e=t,r=t);function i(s,A,c=0,l=s.length){if(c<l){if(n(A,A)!==0)return l;do{const u=c+l>>>1;e(s[u],A)<0?c=u+1:l=u}while(c<l)}return c}function a(s,A,c=0,l=s.length){if(c<l){if(n(A,A)!==0)return l;do{const u=c+l>>>1;e(s[u],A)<=0?c=u+1:l=u}while(c<l)}return c}function o(s,A,c=0,l=s.length){const u=i(s,A,c,l-1);return u>c&&r(s[u-1],A)>-r(s[u],A)?u-1:u}return{left:i,center:o,right:a}}function Clt(){return 0}function fb(t){return t===null?NaN:+t}function*Olt(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const c4=To(Sn),Elt=c4.right,_lt=c4.left,Slt=To(fb).center;function l4(t,n){let e=0;for(let r of t)r!=null&&(r=+r)>=r&&++e;return e}function Flt(t,n){let e=0,r,i=0,a=0;if(n===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let s of t)(s=n(s,++o,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++e,a+=r*(s-i))}if(e>1)return a/(e-1)}function u4(t,n){const e=Flt(t,n);return e&&Math.sqrt(e)}function Io(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class RA{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,s=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);s&&(e[r++]=s),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}let Mlt=class extends Map{constructor(n,e=Ilt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(yM(this,n))}has(n){return super.has(yM(this,n))}set(n,e){return super.set(klt(this,n),e)}delete(n){return super.delete(Tlt(this,n))}};function yM({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function klt({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Tlt({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Ilt(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cf(t){return t}function Je(t,...n){return uv(t,Cf,Cf,n)}function vx(t,...n){return uv(t,Array.from,Cf,n)}function yx(t,n,...e){return uv(t,Cf,n,e)}function mx(t,n,...e){return uv(t,Array.from,n,e)}function uv(t,n,e,r){return(function i(a,o){if(o>=r.length)return e(a);const s=new Mlt,A=r[o++];let c=-1;for(const l of a){const u=A(l,++c,a),f=s.get(u);f?f.push(l):s.set(u,[l])}for(const[l,u]of s)s.set(l,i(u,o));return n(s)})(t,0)}function Llt(t,n){return Array.from(n,e=>t[e])}function wa(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,a)=>a);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of n){const s=Of(o[i],o[a]);if(s)return s}})):(e=t.map(e),r.sort((i,a)=>Of(e[i],e[a]))),Llt(t,r)}return t.sort(f4(e))}function f4(t=Sn){if(t===Sn)return Of;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Of(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function Qlt(t,n,e){return(n.length!==2?wa(yx(t,n,e),(([r,i],[a,o])=>Sn(i,o)||Sn(r,a))):wa(Je(t,e),(([r,i],[a,o])=>n(i,o)||Sn(r,a)))).map(([r])=>r)}var Ult=Array.prototype,Plt=Ult.slice;function f1(t){return()=>t}const Rlt=Math.sqrt(50),Nlt=Math.sqrt(10),Dlt=Math.sqrt(2);function $g(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Rlt?10:a>=Nlt?5:a>=Dlt?2:1;let s,A,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),A=Math.round(n*c),s/c<t&&++s,A/c>n&&--A,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),A=Math.round(n/c),s*c<t&&++s,A*c>n&&--A),A<s&&.5<=e&&e<2?$g(t,n,e*2):[s,A,c]}function Hlt(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?$g(n,t,e):$g(t,n,e);if(!(a>=i))return[];const s=a-i+1,A=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)A[c]=(a-c)/-o;else for(let c=0;c<s;++c)A[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)A[c]=(i+c)/-o;else for(let c=0;c<s;++c)A[c]=(i+c)*o;return A}function db(t,n,e){return n=+n,t=+t,e=+e,$g(t,n,e)[2]}function jlt(t,n,e){let r;for(;;){const i=db(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function $lt(t){return Math.max(1,Math.ceil(Math.log(l4(t))/Math.LN2)+1)}function Glt(){var t=Cf,n=Io,e=$lt;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,A,c=new Array(o);for(a=0;a<o;++a)c[a]=t(i[a],a,i);var l=n(c),u=l[0],f=l[1],d=e(c,u,f);if(!Array.isArray(d)){const b=f,B=+d;if(n===Io&&([u,f]=jlt(u,f,B)),d=Hlt(u,f,B),d[0]<=u&&(A=db(u,f,B)),d[d.length-1]>=f)if(b>=f&&n===Io){const x=db(u,f,B);isFinite(x)&&(x>0?f=(Math.floor(f/x)+1)*x:x<0&&(f=(Math.ceil(f*-x)+1)/-x))}else d.pop()}for(var h=d.length,p=0,v=h;d[p]<=u;)++p;for(;d[v-1]>f;)--v;(p||v<h)&&(d=d.slice(p,v),h=v-p);var y=new Array(h+1),m;for(a=0;a<=h;++a)m=y[a]=[],m.x0=a>0?d[a-1]:u,m.x1=a<h?d[a]:f;if(isFinite(A)){if(A>0)for(a=0;a<o;++a)(s=c[a])!=null&&u<=s&&s<=f&&y[Math.min(h,Math.floor((s-u)/A))].push(i[a]);else if(A<0){for(a=0;a<o;++a)if((s=c[a])!=null&&u<=s&&s<=f){const b=Math.floor((u-s)*A);y[Math.min(h,b+(d[b]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&u<=s&&s<=f&&y[Elt(d,s,0,h)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:f1(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:f1([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:f1(Array.isArray(i)?Plt.call(i):i),r):e},r}function He(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Fl(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function bi(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Ad(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function wx(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Of:f4(i);r>e;){if(r-e>600){const A=r-e+1,c=n-e+1,l=Math.log(A),u=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*u*(A-u)/A)*(c-A/2<0?-1:1),d=Math.max(e,Math.floor(n-c*u/A+f)),h=Math.min(r,Math.floor(n+(A-c)*u/A+f));wx(t,n,d,h,i)}const a=t[n];let o=e,s=r;for(du(t,e,n),i(t[r],a)>0&&du(t,e,r);o<s;){for(du(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[e],a)===0?du(t,e,s):(++s,du(t,s,r)),s<=n&&(e=s+1),n<=s&&(r=s-1)}return t}function du(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Klt(t,n=Sn){let e,r=!1;if(n.length===1){let i;for(const a of t){const o=n(a);(r?Sn(o,i)>0:Sn(o,o)===0)&&(e=a,i=o,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function fv(t,n,e){if(t=Float64Array.from(Olt(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return bi(t);if(n>=1)return He(t);var r,i=(r-1)*n,a=Math.floor(i),o=He(wx(t,a).subarray(0,a+1)),s=bi(t.subarray(a+1));return o+(s-o)*(i-a)}}function zlt(t,n,e=fb){if(!isNaN(n=+n)){if(r=Float64Array.from(t,(s,A)=>fb(e(t[A],A,t))),n<=0)return Ad(r);if(n>=1)return Fl(r);var r,i=Uint32Array.from(t,(s,A)=>A),a=r.length-1,o=Math.floor(a*n);return wx(i,o,0,a,(s,A)=>Of(r[s],r[A])),o=Klt(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function Wlt(t,n,e){const r=l4(t),i=u4(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function Ef(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function bx(t,n){return fv(t,.5,n)}function Vlt(t,n){return zlt(t,.5,n)}function*Ylt(t){for(const n of t)yield*n}function d4(t){return Array.from(Ylt(t))}function Pc(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function Yi(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function fl(t,...n){return n.reduce((e,r)=>i=>e(r(i)),t)}function Gg(t,n){return n-t?e=>(e-t)/(n-t):e=>.5}function Xlt(t,n){const e=n<t?n:t,r=t>n?t:n;return i=>Math.min(Math.max(e,i),r)}function Bx(t,n,e,r,i){let a=e||0,o=r||t.length;const s=i||(A=>A);for(;a<o;){const A=Math.floor((a+o)/2);s(t[A])>n?o=A:a=A+1}return a}const hb=Math.sqrt(50),pb=Math.sqrt(10),gb=Math.sqrt(2);function Vp(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=hb?10:a>=pb?5:a>=gb?2:1)*10**i:-(10**-i)/(a>=hb?10:a>=pb?5:a>=gb?2:1)}function mM(t,n,e){const r=Math.abs(n-t)/Math.max(0,e);let i=10**Math.floor(Math.log(r)/Math.LN10);const a=r/i;return a>=hb?i*=10:a>=pb?i*=5:a>=gb&&(i*=2),n<t?-i:i}const xx=(t,n,e=5)=>{const r=[t,n];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=Vp(o,s,e),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=Vp(o,s,e)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=Vp(o,s,e)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r},_f=1e3,Sf=_f*60,Ff=Sf*60,NA=Ff*24,qu=NA*7,h4=NA*30,p4=NA*365;function Lr(t,n,e,r){const i=(c,l)=>{const u=d=>r(d)%l===0;let f=l;for(;f&&!u(c);)e(c,-1),f-=1;return c},a=(c,l)=>{l&&i(c,l),n(c)},o=(c,l)=>{const u=new Date(+c);return a(u,l),u},s=(c,l)=>{const u=new Date(+c-1);return a(u,l),e(u,l),a(u),u};return{ceil:s,floor:o,range:(c,l,u,f)=>{const d=[],h=Math.floor(u),p=f?s(c,u):s(c);for(let v=p;v<l;e(v,h),a(v))d.push(new Date(+v));return d},duration:t}}const qlt=Lr(1,t=>t,(t,n=1)=>{t.setTime(+t+n)},t=>t.getTime()),Zlt=Lr(_f,t=>{t.setMilliseconds(0)},(t,n=1)=>{t.setTime(+t+_f*n)},t=>t.getSeconds()),Jlt=Lr(Sf,t=>{t.setSeconds(0,0)},(t,n=1)=>{t.setTime(+t+Sf*n)},t=>t.getMinutes()),tut=Lr(Ff,t=>{t.setMinutes(0,0,0)},(t,n=1)=>{t.setTime(+t+Ff*n)},t=>t.getHours()),eut=Lr(NA,t=>{t.setHours(0,0,0,0)},(t,n=1)=>{t.setTime(+t+NA*n)},t=>t.getDate()-1),g4=Lr(h4,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n=1)=>{const e=t.getMonth();t.setMonth(e+n)},t=>t.getMonth()),nut=Lr(qu,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,n=1)=>{t.setDate(t.getDate()+7*n)},t=>{const n=g4.floor(t),e=new Date(+t);return Math.floor((+e-+n)/qu)}),rut=Lr(p4,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n=1)=>{const e=t.getFullYear();t.setFullYear(e+n)},t=>t.getFullYear()),v4={millisecond:qlt,second:Zlt,minute:Jlt,hour:tut,day:eut,week:nut,month:g4,year:rut},iut=Lr(1,t=>t,(t,n=1)=>{t.setTime(+t+n)},t=>t.getTime()),aut=Lr(_f,t=>{t.setUTCMilliseconds(0)},(t,n=1)=>{t.setTime(+t+_f*n)},t=>t.getUTCSeconds()),out=Lr(Sf,t=>{t.setUTCSeconds(0,0)},(t,n=1)=>{t.setTime(+t+Sf*n)},t=>t.getUTCMinutes()),sut=Lr(Ff,t=>{t.setUTCMinutes(0,0,0)},(t,n=1)=>{t.setTime(+t+Ff*n)},t=>t.getUTCHours()),Aut=Lr(NA,t=>{t.setUTCHours(0,0,0,0)},(t,n=1)=>{t.setTime(+t+NA*n)},t=>t.getUTCDate()-1),y4=Lr(h4,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n=1)=>{const e=t.getUTCMonth();t.setUTCMonth(e+n)},t=>t.getUTCMonth()),cut=Lr(qu,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,n=1)=>{t.setTime(+t+qu*n)},t=>{const n=y4.floor(t),e=new Date(+t);return Math.floor((+e-+n)/qu)}),lut=Lr(p4,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n=1)=>{const e=t.getUTCFullYear();t.setUTCFullYear(e+n)},t=>t.getUTCFullYear()),m4={millisecond:iut,second:aut,minute:out,hour:sut,day:Aut,week:cut,month:y4,year:lut};function uut(t){const n=t?m4:v4,{year:e,month:r,week:i,day:a,hour:o,minute:s,second:A,millisecond:c}=n;return{tickIntervals:[[A,1],[A,5],[A,15],[A,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[a,1],[a,2],[i,1],[r,1],[r,3],[e,1]],year:e,millisecond:c}}function w4(t,n,e,r,i){const a=+t,o=+n,{tickIntervals:s,year:A,millisecond:c}=uut(i),l=([v,y])=>v.duration*y,u=r?(o-a)/r:e||5,f=r||(o-a)/u,d=s.length,h=Bx(s,f,0,d,l);let p;if(h===d){const v=mM(a/A.duration,o/A.duration,u);p=[A,v]}else if(h){const v=f/l(s[h-1])<l(s[h])/f,[y,m]=v?s[h-1]:s[h],b=r?Math.ceil(r/y.duration):m;p=[y,b]}else{const v=Math.max(mM(a,o,u),1);p=[c,v]}return p}const fut=(t,n,e,r,i)=>{const a=t>n,o=a?n:t,s=a?t:n,[A,c]=w4(o,s,e,r,i),l=[A.floor(o,c),A.ceil(s,c)];return a?l.reverse():l};function Kg(t){return!We(t)&&!PL(t)&&!Number.isNaN(t)}const b4=t=>n=>-t(-n),Cx=(t,n)=>{const e=Math.log(t),r=t===Math.E?Math.log:t===10?Math.log10:t===2?Math.log2:i=>Math.log(i)/e;return n?b4(r):r},Ox=(t,n)=>{const e=t===Math.E?Math.exp:r=>t**r;return n?b4(e):e},dut=(t,n,e,r)=>{const i=t<0,a=Cx(r,i),o=Ox(r,i),s=t>n,A=s?n:t,c=s?t:n,l=[o(Math.floor(a(A))),o(Math.ceil(a(c)))];return s?l.reverse():l},hut=t=>n=>{const e=t(n);return rn(e)?Math.round(e):e};function put(t,n){return e=>{e.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},e.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=t(r)},e.prototype.composeOutput=function(r,i){const{domain:a,interpolator:o,round:s}=this.getOptions(),A=n(a.map(r)),c=s?hut(o):o;this.output=fl(c,A,i,r)},e.prototype.invert=void 0}}function d1(t,n,e){let r=e;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function gut(t){const n=t[0]/360,e=t[1]/100,r=t[2]/100,i=t[3];if(e===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+e):r+e-r*e,o=2*r-a,s=d1(o,a,n+1/3),A=d1(o,a,n),c=d1(o,a,n-1/3);return[s*255,A*255,c*255,i]}function wM(t){const n=ox.get(t);if(!n)return null;const{model:e,value:r}=n;return e==="rgb"?r:e==="hsl"?gut(r):null}const dl=(t,n)=>e=>t*(1-e)+n*e,vut=(t,n)=>{const e=wM(t),r=wM(n);return e===null||r===null?e?()=>t:()=>n:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=e[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},cd=(t,n)=>typeof t=="number"&&typeof n=="number"?dl(t,n):typeof t=="string"&&typeof n=="string"?vut(t,n):()=>t,yut=(t,n)=>{const e=dl(t,n);return r=>Math.round(e(r))};function mut(t,n){const{second:e,minute:r,hour:i,day:a,week:o,month:s,year:A}=n;return e.floor(t)<t?".SSS":r.floor(t)<t?":ss":i.floor(t)<t?"hh:mm":a.floor(t)<t?"hh A":s.floor(t)<t?o.floor(t)<t?"MMM DD":"ddd DD":A.floor(t)<t?"MMMM":"YYYY"}function bM({map:t,initKey:n},e){const r=n(e);return t.has(r)?t.get(r):e}function wut({map:t,initKey:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function but({map:t,initKey:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function But(t){return typeof t=="object"?t.valueOf():t}let BM=class extends Map{constructor(n){if(super(),this.map=new Map,this.initKey=But,n!==null)for(const[e,r]of n)this.set(e,r)}get(n){return super.get(bM({map:this.map,initKey:this.initKey},n))}has(n){return super.has(bM({map:this.map,initKey:this.initKey},n))}set(n,e){return super.set(wut({map:this.map,initKey:this.initKey},n),e)}delete(n){return super.delete(but({map:this.map,initKey:this.initKey},n))}},ld=class{transformBreaks(n){return n}constructor(n){var e;this.options=at({},this.getDefaultOptions()),this.update(!((e=n?.breaks)===null||e===void 0)&&e.length?this.transformBreaks(n):n)}getOptions(){return this.options}update(n={}){const e=n.breaks?this.transformBreaks(n):n;this.options=at({},this.options,e),this.rescale(e)}rescale(n){}};const dv=Symbol("defaultUnknown");function xM(t,n,e){for(let r=0;r<n.length;r+=1)t.has(n[r])||t.set(e(n[r]),r)}function CM(t){const{value:n,from:e,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(n);if(o===void 0){if(a!==dv)return a;o=e.push(n)-1,i.set(n,o)}return r[o%r.length]}function OM(t){return t instanceof Date?n=>`${n}`:typeof t=="object"?n=>JSON.stringify(n):n=>n}let B4=class x4 extends ld{getDefaultOptions(){return{domain:[],range:[],unknown:dv}}constructor(n){super(n)}map(n){return this.domainIndexMap.size===0&&xM(this.domainIndexMap,this.getDomain(),this.domainKey),CM({value:this.domainKey(n),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(n){return this.rangeIndexMap.size===0&&xM(this.rangeIndexMap,this.getRange(),this.rangeKey),CM({value:this.rangeKey(n),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(n){const[e]=this.options.domain,[r]=this.options.range;if(this.domainKey=OM(e),this.rangeKey=OM(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!n||n.range)&&this.rangeIndexMap.clear(),(!n||n.domain||n.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new x4(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:n,compare:e}=this.options;return this.sortedDomain=e?[...n].sort(e):n,this.sortedDomain}};function xut(t){const n=t.reduce((e,r)=>Math.min(e,r),1/0);return n===1/0?[]:t.map(e=>e/n)}function Cut(t,n){const e=t.length,r=n-e;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,n):t}function Out(t){return Math.round(t*1e12)/1e12}function Eut(t){const{domain:n,range:e,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,A=n.length,c=Cut(a,A),[l,u]=e,f=u-l,d=2/A*r+1-1/A*i,h=f/d,p=h*i/A,v=h-A*p,y=xut(c),m=y.reduce((T,k)=>T+k),b=v/m,B=new BM(n.map((T,k)=>{const L=y[k]*b;return[T,o?Math.floor(L):L]})),x=new BM(n.map((T,k)=>{const U=y[k]*b+p;return[T,o?Math.floor(U):U]})),C=Array.from(x.values()).reduce((T,k)=>T+k),_=(f-(C-C/A*i))*s,S=l+_;let F=o?Math.round(S):S;const M=new Array(A);for(let T=0;T<A;T+=1){M[T]=Out(F);const k=n[T];F+=x.get(k)}return{valueBandWidth:B,valueStep:x,adjustedRange:M}}function _ut(t){var n;const{domain:e}=t,r=e.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((n=t.flex)===null||n===void 0)&&n.length))return Eut(t);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=t;let l,u,f=a[0];const h=a[1]-f,p=o*2,v=r-s;l=h/Math.max(1,p+v),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const y=new Array(r).fill(0).map((m,b)=>f+b*l);return{valueStep:l,valueBandWidth:u,adjustedRange:y}}let Mf=class C4 extends B4{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:dv,flex:[]}}constructor(n){super(n)}clone(){return new C4(this.options)}getStep(n){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:n===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(n)}getBandWidth(n){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:n===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(n)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:n,paddingInner:e}=this.options;return n>0?n:e}getPaddingOuter(){const{padding:n,paddingOuter:e}=this.options;return n>0?n:e}rescale(){super.rescale();const{align:n,domain:e,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=_ut({align:n,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}};const Sut=(t,n)=>{if(!n?.length)return t;const e=[...t,...n.flatMap(a=>[a.start,a.end])],i=Array.from(new Set(e)).sort((a,o)=>a-o).filter(a=>!n.some(({start:o,end:s})=>a>o&&a<s));return i.length?i:t},Ms=(t,n,e,r)=>{let i,a,o=t,s=n;if(o===s&&e>0)return[o];let A=Vp(o,s,e);if(A===0||!Number.isFinite(A))return[];if(A>0){o=Math.ceil(o/A),s=Math.floor(s/A),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)*A}else{A=-A,o=Math.ceil(o*A),s=Math.floor(s*A),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)/A}return Sut(a,r)};let Ex=class O4 extends ld{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:Ms}}map(n){const[e]=this.options.range;return e!==void 0?e:this.options.unknown}invert(n){const[e]=this.options.range;return n===e&&e!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:n,domain:e,tickCount:r}=this.options,[i,a]=e;return!rn(i)||!rn(a)?[]:n(i,a,r)}clone(){return new O4(this.options)}};function hu(t){return Math.abs(t)<1e-14?t:parseFloat(t.toFixed(14))}const Fut=[1,5,2,2.5,4,3],EM=Number.EPSILON*100;function Mut(t,n){return(t%n+n)%n}function kut(t){return Math.round(t*1e12)/1e12}function Tut(t,n,e,r,i,a){const o=df(n),s=HL(n,t);let A=0;const c=Mut(r,a);return(c<EM||a-c<EM)&&r<=0&&i>=0&&(A=1),1-s/(o-1)-e+A}function Iut(t,n,e){const r=df(n);return 1-HL(n,t)/(r-1)-e+1}function Lut(t,n,e,r,i,a){const o=(t-1)/(a-i),s=(n-1)/(Math.max(a,r)-Math.min(e,i));return 2-Math.max(o/s,s/o)}function Qut(t,n){return t>=n?2-(t-1)/(n-1):1}function Uut(t,n,e,r){const i=n-t;return 1-.5*((n-r)**2+(t-e)**2)/(.1*i)**2}function Put(t,n,e){const r=n-t;return e>r?1-((e-r)/2)**2/(.1*r)**2:1}function Rut(){return 1}const _x=(t,n,e=5,r=!0,i=Fut,a=[.25,.2,.5,.05])=>{const o=e<0?0:Math.round(e);if(Number.isNaN(t)||Number.isNaN(n)||typeof t!="number"||typeof n!="number"||!o)return[];if(n-t<1e-15||o===1)return[t];const s={score:-2,lmin:0,lmax:0,lstep:0};let A=1;for(;A<1/0;){for(let h=0;h<i.length;h+=1){const p=i[h],v=Iut(p,i,A);if(a[0]*v+a[1]+a[2]+a[3]<s.score){A=1/0;break}let y=2;for(;y<1/0;){const m=Qut(y,o);if(a[0]*v+a[1]+a[2]*m+a[3]<s.score)break;const b=(n-t)/(y+1)/A/p;let B=Math.ceil(Math.log10(b));for(;B<1/0;){const x=A*p*10**B,C=Put(t,n,x*(y-1));if(a[0]*v+a[1]*C+a[2]*m+a[3]<s.score)break;const O=Math.floor(n/x)*A-(y-1)*A,_=Math.ceil(t/x)*A;if(O<=_){const S=_-O;for(let F=0;F<=S;F+=1){const T=(O+F)*(x/A),k=T+x*(y-1),L=x,U=Tut(p,i,A,T,k,L),N=Uut(t,n,T,k),P=Lut(y,o,t,n,T,k),Q=Rut(),R=a[0]*U+a[1]*N+a[2]*P+a[3]*Q;R>s.score&&(!r||T<=t&&k>=n)&&(s.lmin=T,s.lmax=k,s.lstep=L,s.score=R)}}B+=1}y+=1}}A+=1}const c=hu(s.lmax),l=hu(s.lmin),u=hu(s.lstep),f=Math.floor(kut((c-l)/u))+1,d=new Array(f);d[0]=hu(l);for(let h=1;h<f;h+=1)d[h]=hu(d[h-1]+u);return d};let E4=class _4 extends ld{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:_x}}map(n){return Kg(n)?n:this.options.unknown}invert(n){return this.map(n)}clone(){return new _4(this.options)}getTicks(){const{domain:n,tickCount:e,tickMethod:r}=this.options,[i,a]=n;return!rn(i)||!rn(a)?[]:r(i,a,e)}};const Nut=(t,n,e)=>{const[r,i]=t,[a,o]=n;let s,A;return r<i?(s=Gg(r,i),A=e(a,o)):(s=Gg(i,r),A=e(o,a)),fl(A,s)},Dut=(t,n,e)=>{const r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,A=o?[...n].reverse():n;for(let c=0;c<r;c+=1)i[c]=Gg(s[c],s[c+1]),a[c]=e(A[c],A[c+1]);return c=>{const l=Bx(t,c,1,r)-1,u=i[l],f=a[l];return fl(f,u)(c)}},_M=(t,n,e,r)=>(Math.min(t.length,n.length)>2?Dut:Nut)(t,n,r?yut:e);let hv=class extends ld{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:dl,tickCount:5}}map(n){return Kg(n)?this.output(n):this.options.unknown}invert(n){return Kg(n)?this.input(n):this.options.unknown}nice(){if(!this.options.nice||Nn(this.options.breaks))return;const[n,e,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(n,e,r,...i)}getTicks(){const{tickMethod:n}=this.options,[e,r,i,...a]=this.getTickMethodOptions();return n(e,r,i,...a)}getTickMethodOptions(){const{domain:n,tickCount:e}=this.options,r=n[0],i=n[n.length-1];return[r,i,e]}chooseNice(){return xx}rescale(){this.nice();const[n,e]=this.chooseTransforms();this.composeOutput(n,this.chooseClamp(n)),this.composeInput(n,e,this.chooseClamp(e))}chooseClamp(n){const{clamp:e,range:r}=this.options,i=this.options.domain.map(n),a=Math.min(i.length,r.length);return e?Xlt(i[0],i[a-1]):Za}composeOutput(n,e){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=_M(r.map(n),i,o,a);this.output=fl(s,e,n)}composeInput(n,e,r){const{domain:i,range:a}=this.options,o=_M(a,i.map(n),dl);this.input=fl(e,r,o)}},Ro=class S4 extends hv{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:cd,tickMethod:Ms,tickCount:5}}removeUnsortedValues(n,e,r){let i=-1/0;return e.reduce((o,s,A)=>{if(A===0)return o;const c=i>0?i:s;return i>0&&(r?s>i:s<i)?o.push(A):(c-e[A-1])*(r?-1:1)<0?(i<0&&(i=e[A-1]),o.push(A)):i=-1/0,o},[]).slice().reverse().forEach(o=>{n.splice(o,1),e.splice(o,1)}),{breaksDomain:n,breaksRange:e}}transformDomain(n){const e=[.2,.8],r=.03,{domain:i=[],range:a=[1,0],breaks:o=[],tickCount:s=5,nice:A}=n,[c,l]=[Math.min(...i),Math.max(...i)];let u=c,f=l;if(A&&o.length<2){const S=this.chooseNice()(c,l,s);u=S[0],f=S[S.length-1]}const d=Math.min(u,c);let h=Math.max(f,l);const p=o.filter(({end:S})=>S<h).sort((S,F)=>S.start-F.start),v=Ms(d,h,s,p);if(mi(v)<h){const S=xx(0,h-mi(v),3);v.push(mi(v)+mi(S)),h=mi(v)}const[y,m]=[a[0],mi(a)],b=h-d,B=Math.abs(m-y),x=y>m,C=v.map(S=>{const F=(S-d)/b;return x?y-F*B:y+F*B}),[O,_]=e;return p.forEach(({start:S,end:F,gap:M=r,compress:T="middle"})=>{const k=v.indexOf(S),L=v.indexOf(F);let U=(C[k]+C[L])/2;T==="start"&&(U=C[k]),T==="end"&&(U=C[L]);const N=M*B/2;let P=x?U+N:U-N,Q=x?U-N:U+N;P<O&&(Q+=O-P,P=O),Q>_&&(P-=Q-_,Q=_),P>_&&(Q-=P-_,P=_),Q<O&&(P+=O-Q,Q=O),C[k]=P,C[L]=Q}),this.removeUnsortedValues(v,C,x)}transformBreaks(n){const{domain:e,breaks:r=[]}=n;if(!Nn(n.breaks))return n;const i=Math.max(...e),a=r.filter(({end:c})=>c<i),o={...n,breaks:a},{breaksDomain:s,breaksRange:A}=this.transformDomain(o);return{...n,domain:s,range:A,breaks:a,tickMethod:()=>[...s]}}chooseTransforms(){return[Za,Za]}clone(){return new S4(this.options)}},Hut=class F4 extends Mf{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:dv,paddingInner:1,paddingOuter:0}}constructor(n){super(n)}getPaddingInner(){return 1}clone(){return new F4(this.options)}update(n){super.update(n)}getPaddingOuter(){return this.options.padding}};const jut=t=>n=>n<0?-((-n)**t):n**t,$ut=t=>n=>n<0?-((-n)**(1/t)):n**(1/t),Gut=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);let M4=class k4 extends hv{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:cd,tickMethod:Ms,tickCount:5}}constructor(n){super(n)}chooseTransforms(){const{exponent:n}=this.options;if(n===1)return[Za,Za];const e=n===.5?Gut:jut(n),r=$ut(n);return[e,r]}clone(){return new k4(this.options)}},Kut=class T4 extends M4{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:cd,tickMethod:Ms,tickCount:5,exponent:.5}}constructor(n){super(n)}update(n){super.update(n)}clone(){return new T4(this.options)}},pv=class I4 extends ld{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(n){super(n)}map(n){if(!Kg(n))return this.options.unknown;const e=Bx(this.thresholds,n,0,this.n);return this.options.range[e]}invert(n){const{range:e}=this.options,r=e.indexOf(n),i=this.thresholds;return[i[r-1],i[r]]}clone(){return new I4(this.options)}rescale(){const{domain:n,range:e}=this.options;this.n=Math.min(n.length,e.length-1),this.thresholds=n}};const zut=(t,n,e,r=10)=>{const i=t<0,a=Ox(r,i),o=Cx(r,i),s=n<t,A=s?n:t,c=s?t:n;let l=o(A),u=o(c),f=[];if(!(r%1)&&u-l<e){if(l=Math.floor(l),u=Math.ceil(u),i)for(;l<=u;l+=1){const d=a(l);for(let h=r-1;h>=1;h-=1){const p=d*h;if(p>c)break;p>=A&&f.push(p)}}else for(;l<=u;l+=1){const d=a(l);for(let h=1;h<r;h+=1){const p=d*h;if(p>c)break;p>=A&&f.push(p)}}f.length*2<e&&(f=Ms(A,c,e))}else{const d=e===-1?u-l:Math.min(u-l,e);f=Ms(l,u,d).map(a)}return s?f.reverse():f};let Wut=class L4 extends hv{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:cd,tickMethod:zut,tickCount:5}}chooseNice(){return dut}getTickMethodOptions(){const{domain:n,tickCount:e,base:r}=this.options,i=n[0],a=n[n.length-1];return[i,a,e,r]}chooseTransforms(){const{base:n,domain:e}=this.options,r=e[0]<0;return[Cx(n,r),Ox(n,r)]}clone(){return new L4(this.options)}},Q4=class U4 extends pv{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:_x}}constructor(n){super(n)}nice(){const{nice:n}=this.options;if(n){const[e,r,i]=this.getTickMethodOptions();this.options.domain=xx(e,r,i)}}getTicks(){const{tickMethod:n}=this.options,[e,r,i]=this.getTickMethodOptions();return n(e,r,i)}getTickMethodOptions(){const{domain:n,tickCount:e}=this.options,r=n[0],i=n[n.length-1];return[r,i,e]}rescale(){this.nice();const{range:n,domain:e}=this.options,[r,i]=e;this.n=n.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*r)/(this.n+1)}invert(n){const[e,r]=super.invert(n),[i,a]=this.options.domain;return e===void 0&&r===void 0?[e,r]:[e||i,r||a]}getThresholds(){return this.thresholds}clone(){return new U4(this.options)}};function Vut(t,n){const e=t.length;if(!e)return;if(e<2)return t[e-1];const r=(e-1)*n,i=Math.floor(r),a=t[i],o=t[i+1];return a+(o-a)*(r-i)}function Yut(t,n,e=!1){const r=t;e||r.sort((a,o)=>a-o);const i=[];for(let a=1;a<n;a+=1)i.push(Vut(r,a/n));return i}let P4=class R4 extends pv{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:_x}}constructor(n){super(n)}rescale(){const{domain:n,range:e}=this.options;this.n=e.length-1,this.thresholds=Yut(n,this.n+1,!1)}invert(n){const[e,r]=super.invert(n),{domain:i}=this.options,a=i[0],o=i[i.length-1];return e===void 0&&r===void 0?[e,r]:[e||a,r||o]}getThresholds(){return this.thresholds}clone(){return new R4(this.options)}getTicks(){const{tickCount:n,domain:e,tickMethod:r}=this.options,i=e.length-1,a=e[0],o=e[i];return r(a,o,n)}};const Xut=(t,n,e,r,i)=>{const a=t>n,o=a?n:t,s=a?t:n,[A,c]=w4(o,s,e,r,i),l=A.range(o,new Date(+s+1),c,!0);return a?l.reverse():l};function qut(t){const n=t.getTimezoneOffset(),e=new Date(t);return e.setMinutes(e.getMinutes()+n,e.getSeconds(),e.getMilliseconds()),e}let Zut=class N4 extends hv{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:Xut,interpolate:dl,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return fut}getTickMethodOptions(){const{domain:n,tickCount:e,tickInterval:r,utc:i}=this.options,a=n[0],o=n[n.length-1];return[a,o,e,r,i]}getFormatter(){const{mask:n,utc:e}=this.options,r=e?m4:v4,i=e?qut:Za;return a=>yAt(i(a),n||mut(a,r))}clone(){return new N4(this.options)}};var Jut=function(t,n,e,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,n,e,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(n,e,a):o(n,e))||a);return i>3&&a&&Object.defineProperty(n,e,a),a},vb;function tft(t){return[t(0),t(1)]}const eft=t=>{const[n,e]=t;return fl(dl(0,1),Gg(n,e))};let yb=vb=class extends Ro{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Za,tickMethod:Ms,tickCount:5}}constructor(n){super(n)}clone(){return new vb(this.options)}};yb=vb=Jut([put(tft,eft)],yb);var nft=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})};function rft(t){var n;let e=t;for(;e;){if(((n=e.attributes)===null||n===void 0?void 0:n.class)==="view")return e;e=e.parentNode}return null}function gv(t){const{markType:n,nodeName:e}=t;return n==="heatmap"&&e==="image"}function Sx(t,n){const e=n??rft(t).__data__,r=t.__data__,{markKey:i,index:a,seriesIndex:o,normalized:s={x:0}}=r,{markState:A}=e,c=Array.from(A.keys()).find(l=>l.key===i);if(c)return o?o.map(l=>c.data[l]):gv(t)?c.data[Math.round(c.data.length*s.x)]:c.data[a]}function ift(t,n){var e,r,i,a;const o=(e=n.markKey)!==null&&e!==void 0?e:(i=(r=n.element)===null||r===void 0?void 0:r.__data__)===null||i===void 0?void 0:i.markKey,s=Object.keys(t).find(A=>{if(A.startsWith("series")){const c=t[A].getOptions();return c.name==="series"&&c.markKey===o}});return(a=t[s])!==null&&a!==void 0?a:t.series}function aft(t,n){const{color:e,facet:r=!1}=t,{color:i,series:a}=n,o=ift(t,n),s=A=>A&&A.invert&&!(A instanceof Mf)&&!(A instanceof Ex);if(s(o))return o.clone().invert(a);if(a&&o instanceof Mf&&o.invert(a)!==i&&!r)return o.invert(a);if(s(e)){const A=e.invert(i);return Array.isArray(A)?null:A}return null}function DA(t){return t}function Fx(t){return t.reduce((n,e)=>(r,...i)=>e(n(r,...i),...i),DA)}function oft(t){return t.reduce((n,e)=>r=>nft(this,void 0,void 0,function*(){const i=yield n(r);return e(i)}),DA)}function Mx(t){return t.replace(/( |^)[a-z]/g,n=>n.toUpperCase())}function hl(t=""){throw new Error(t)}function vv(t,n){const{attributes:e}=n,r=new Set(["id","className"]);for(const[i,a]of Object.entries(e))r.has(i)||t.attr(i,a)}function en(t){return t!=null&&!Number.isNaN(t)}function sft(t){const n=new Map;return e=>{if(n.has(e))return n.get(e);const r=t(e);return n.set(e,r),r}}function Aft(t,n){const{transform:e}=t.style,i=(a=>a==="none"||a===void 0)(e)?"":e;t.style.transform=`${i} ${n}`.trimStart()}function wt(t,n){return D4(t,n)||{}}function D4(t,n){const e=Object.entries(t||{}).filter(([r])=>r.startsWith(n)).map(([r,i])=>[UL(r.replace(n,"").trim()),i]).filter(([r])=>!!r);return e.length===0?null:Object.fromEntries(e)}function cft(t,n){return Object.fromEntries(Object.entries(t).filter(([e])=>n.find(r=>e.startsWith(r))))}function Yp(t,...n){return Object.fromEntries(Object.entries(t).filter(([e])=>n.every(r=>!e.startsWith(r))))}function SM(t,n){if(t===void 0)return null;if(typeof t=="number")return t;const e=+t.replace("%","");return Number.isNaN(e)?null:e/100*n}function pl(t){return typeof t=="object"&&!(t instanceof Date)&&t!==null&&!Array.isArray(t)}function No(t){return t===null||t===!1}function H4(t,n,e=5,r=0){if(!(r>=e)){for(const i of Object.keys(n)){const a=n[i];!Uo(a)||!Uo(t[i])?t[i]=a:H4(t[i],a,e,r+1)}return t}}function eo(t,n){return Object.entries(t).reduce((e,[r,i])=>(e[r]=n(i,r,t),e),{})}function XA(t){return t.map((n,e)=>e)}function lft(t){return t[0]}function j4(t){return t[t.length-1]}function uft(t){return Array.from(new Set(t))}function $4(t,n){const e=[[],[]];return t.forEach(r=>{e[n(r)?0:1].push(r)}),e}function G4(t,n=t.length){if(n===1)return t.map(r=>[r]);const e=[];for(let r=0;r<t.length;r++){const i=t.slice(r+1);G4(i,n-1).forEach(o=>{e.push([t[r],...o])})}return e}function fft(t){if(t.length===1)return[t];const n=[];for(let e=1;e<=t.length;e++)n.push(...G4(t,e));return n}function Ns(t,n,e){const{encode:r}=e;if(t===null)return[n];const i=dft(t).map(o=>{var s;return[o,(s=Oe(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>en(o));return Array.from(Je(n,o=>i.map(([,s])=>s[o]).join("-")).values())}function K4(t){return Array.isArray(t)?gft(t):typeof t=="function"?pft(t):t==="series"?hft:t==="value"?vft:t==="sum"?yft:t==="maxIndex"?mft:null}function z4(t,n){for(const e of t)e.sort(n)}function W4(t,n){return n?.domain||Array.from(new Set(t))}function dft(t){return Array.isArray(t)?t:[t]}function hft(t,n,e){return ud(r=>e[r])}function pft(t){return(n,e,r)=>ud(i=>t(n[i]))}function gft(t){return(n,e,r)=>(i,a)=>t.reduce((o,s)=>o!==0?o:Sn(n[i][s],n[a][s]),0)}function vft(t,n,e){return ud(r=>n[r])}function yft(t,n,e){const r=XA(t),i=Array.from(Je(r,o=>e[+o]).entries()),a=new Map(i.map(([o,s])=>[o,s.reduce((A,c)=>A+ +n[c])]));return ud(o=>a.get(e[o]))}function mft(t,n,e){const r=XA(t),i=Array.from(Je(r,o=>e[+o]).entries()),a=new Map(i.map(([o,s])=>[o,Fl(s,A=>n[A])]));return ud(o=>a.get(e[o]))}function ud(t){return(n,e)=>Sn(t(n),t(e))}const V4=(t={})=>{const{groupBy:n="x",orderBy:e=null,reverse:r=!1,y:i="y",y1:a="y1",series:o=!0}=t;return(s,A)=>{var c;const{data:l,encode:u,style:f={}}=A,[d,h]=Oe(u,"y"),[p,v]=Oe(u,"y1"),[y]=o?jg(u,"series","color"):Oe(u,"color"),m=Ns(n,s,A),B=((c=K4(e))!==null&&c!==void 0?c:(()=>null))(l,d,y);B&&z4(m,B);const x=new Array(s.length),C=new Array(s.length),O=new Array(s.length),_=[],S=[];for(const U of m){r&&U.reverse();const N=p?+p[U[0]]:0,P=[],Q=[];for(const Y of U){const et=O[Y]=+d[Y]-N;et<0?Q.push(Y):et>=0&&P.push(Y)}const R=P.length>0?P:Q,H=Q.length>0?Q:P;let G=P.length-1,K=0;for(;G>0&&d[R[G]]===0;)G--;for(;K<H.length-1&&d[H[K]]===0;)K++;_.push(R[G]),S.push(H[K]);let W=N;for(const Y of Q.reverse()){const et=O[Y];W=x[Y]=(C[Y]=W)+et}let X=N;for(const Y of P){const et=O[Y];et>0?X=x[Y]=(C[Y]=X)+et:x[Y]=C[Y]=X}}const F=new Set(_),M=new Set(S),T=i==="y"?x:C,k=a==="y"?x:C;let L;return A.type==="point"?L={y0:xf(d,h),y:tn(T,h)}:L={y0:xf(d,h),y:tn(T,h),y1:tn(k,v)},[s,at({},A,{encode:Object.assign({},L),style:Object.assign({first:(U,N)=>F.has(N),last:(U,N)=>M.has(N)},f)})]}};V4.props={};function pu(t){return Math.abs(t)>10?String(t):t.toString().padStart(2,"0")}function wft(t){const n=t.getFullYear(),e=pu(t.getMonth()+1),r=pu(t.getDate()),i=`${n}-${e}-${r}`,a=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return a||o||s?`${i} ${pu(a)}:${pu(o)}:${pu(s)}`:i}const yv=(t={})=>{const{channel:n="x"}=t;return(e,r)=>{const{encode:i}=r,{tooltip:a}=r;if(No(a))return[e,r];const{title:o}=a;if(o!==void 0)return[e,r];const s=Object.keys(i).filter(c=>c.startsWith(n)).filter(c=>!i[c].inferred).map(c=>Oe(i,c)).filter(([c])=>c).map(c=>c[0]);if(s.length===0)return[e,r];const A=[];for(const c of e)A[c]={value:s.map(l=>l[c]instanceof Date?wft(l[c]):l[c]).join(", ")};return[e,at({},r,{tooltip:{title:A}})]}};yv.props={};const Ds=()=>(t,n)=>{const{encode:e}=n,{x:r}=e;return r!==void 0?[t,n]:[t,at({},n,{encode:{x:xf(Os(t,0))},scale:{x:{guide:null}}})]};Ds.props={};const fd=()=>(t,n)=>{const{encode:e}=n,{y:r}=e;return r!==void 0?[t,n]:[t,at({},n,{encode:{y:xf(Os(t,0))},scale:{y:{guide:null}}})]};fd.props={};const kx=()=>(t,n)=>{const{encode:e}=n,{size:r}=e;return r!==void 0?[t,n]:[t,at({},n,{encode:{size:Hg(Os(t,3))}})]};kx.props={};var bft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Y4=()=>(t,n)=>{const{encode:e}=n,{key:r}=e,i=bft(e,["key"]);if(r!==void 0)return[t,n];const a=Object.values(i).map(({value:s})=>s),o=t.map(s=>a.filter(Array.isArray).map(A=>A[s]).join("-"));return[t,at({},n,{encode:{key:tn(o)}})]};Y4.props={};const Tx=()=>(t,n)=>{const{encode:e}=n,{series:r,color:i}=e;if(r!==void 0||i===void 0)return[t,n];const[a,o]=Oe(e,"color");return[t,at({},n,{encode:{series:tn(a,o)}})]};Tx.props={};const X4=()=>(t,n)=>{const{data:e}=n;return!Array.isArray(e)||e.some(od)?[t,n]:[t,at({},n,{encode:{y:tn(e)}})]};X4.props={};const q4=()=>(t,n)=>{const{data:e}=n;return!Array.isArray(e)||e.some(od)?[t,n]:[t,at({},n,{encode:{x:tn(e)}})]};q4.props={};const Z4=()=>(t,n)=>{const{encode:e}=n,{y1:r}=e;if(r)return[t,n];const[i]=Oe(e,"y");return[t,at({},n,{encode:{y1:tn([...i])}})]};Z4.props={};const J4=()=>(t,n)=>{const{encode:e}=n,{x1:r}=e;if(r)return[t,n];const[i]=Oe(e,"x");return[t,at({},n,{encode:{x1:tn([...i])}})]};J4.props={};const t3=()=>(t,n)=>{const{data:e}=n;if(Array.isArray(e)&&(e.every(Array.isArray)||!e.some(od))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,at({},n,{encode:{x:tn(r(e,0)),x1:tn(r(e,1))}})]}return[t,n]};t3.props={};const e3=()=>(t,n)=>{const{data:e}=n;if(Array.isArray(e)&&(e.every(Array.isArray)||!e.some(od))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,at({},n,{encode:{y:tn(r(e,0)),y1:tn(r(e,1))}})]}return[t,n]};e3.props={};const mv=t=>{const{channel:n}=t;return(e,r)=>{const{encode:i,tooltip:a}=r;if(No(a))return[e,r];const{items:o=[]}=a;if(!o||o.length>0)return[e,r];const A=(Array.isArray(n)?n:[n]).flatMap(c=>Object.keys(i).filter(l=>l.startsWith(c)).map(l=>{const{field:u,value:f,inferred:d=!1,aggregate:h}=i[l];return d?null:h&&f?{channel:l}:u?{field:u}:f?{channel:l}:null}).filter(l=>l!==null));return[e,at({},r,{tooltip:{items:A}})]}};mv.props={};const Ix=()=>(t,n)=>[t,at({scale:{x:{padding:0},y:{padding:0}}},n)];Ix.props={};var FM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const wv=()=>(t,n)=>{const{data:e,style:r={}}=n,i=FM(n,["data","style"]),{x:a,y:o}=r,s=FM(r,["x","y"]);if(a==null||o==null)return[t,n];const A=a||0,c=o||0;return[[0],at({},i,{data:[0],cartesian:!0,encode:{x:tn([A]),y:tn([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};wv.props={};const n3=()=>(t,n)=>{const{style:e={}}=n;return[t,at({},n,{style:Object.assign(Object.assign({},e),Object.fromEntries(Object.entries(e).filter(([,r])=>typeof r=="function").map(([r,i])=>[r,()=>i])))})]};n3.props={};const bv=()=>(t,n)=>{const{data:e}=n;if(!Array.isArray(e)||e.some(od))return[t,n];const r=Array.isArray(e[0])?e:[e],i=r.map(o=>o[0]),a=r.map(o=>o[1]);return[t,at({},n,{encode:{x:tn(i),y:tn(a)}})]};bv.props={};const r3=()=>(t,n)=>{const{style:e={},encode:r}=n,{series:i}=r,{gradient:a}=e;return!a||i?[t,n]:[t,at({},n,{encode:{series:Hg(Os(t,void 0))}})]};r3.props={};var Bft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const i3=(t={})=>{const{groupBy:n="x",reverse:e=!1,orderBy:r,padding:i}=t;return Bft(t,["groupBy","reverse","orderBy","padding"]),(a,o)=>{const{data:s,encode:A,scale:c}=o,{series:l}=c,[u]=Oe(A,"y"),[f]=jg(A,"series","color"),d=W4(f,l),h=at({},o,{scale:{series:{domain:d,paddingInner:i}}}),p=Ns(n,a,o),v=K4(r);if(!v)return[a,at(h,{encode:{series:tn(f)}})];const y=v(s,u,f);y&&z4(p,y);const m=new Array(a.length);for(const b of p){e&&b.reverse();for(let B=0;B<b.length;B++)m[b[B]]=d[B]}return[a,at(h,{encode:{series:tn(r?m:f)}})]}};i3.props={};const a3=t=>{const{groupBy:n=["x"],reducer:e=(o,s)=>s[o[0]],orderBy:r=null,reverse:i=!1,duration:a}=t;return(o,s)=>{const{encode:A}=s,l=(Array.isArray(n)?n:[n]).map(v=>[v,Oe(A,v)[0]]);if(l.length===0)return[o,s];let u=[o];for(const[,v]of l){const y=[];for(const m of u){const b=Array.from(Je(m,B=>v[B]).values());y.push(...b)}u=y}if(r){const[v]=Oe(A,r);v&&u.sort((y,m)=>e(y,v)-e(m,v)),i&&u.reverse()}const f=(a||3e3)/u.length,[d]=a?[Os(o,f)]:jg(A,"enterDuration",Os(o,f)),[h]=jg(A,"enterDelay",Os(o,0)),p=new Array(o.length);for(let v=0,y=0;v<u.length;v++){const m=u[v],b=He(m,B=>+d[B]);for(const B of m)p[B]=+h[B]+y;y+=b}return[o,at({},s,{encode:{enterDuration:Hg(d),enterDelay:Hg(p)}})]}};a3.props={};var xft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Cft(t){return typeof t=="function"?t:{min:(e,r)=>bi(e,i=>r[+i]),max:(e,r)=>He(e,i=>r[+i]),first:(e,r)=>r[e[0]],last:(e,r)=>r[e[e.length-1]],mean:(e,r)=>Ef(e,i=>r[+i]),median:(e,r)=>bx(e,i=>r[+i]),sum:(e,r)=>Yi(e,i=>r[+i]),deviation:(e,r)=>u4(e,i=>r[+i])}[t]||He}const o3=(t={})=>{const{groupBy:n="x",basis:e="max"}=t;return(r,i)=>{const{encode:a,tooltip:o}=i,{x:s}=a,A=xft(a,["x"]),c=Object.entries(A).filter(([p])=>p.startsWith("y")).map(([p])=>[p,Oe(a,p)[0]]),[,l]=c.find(([p])=>p==="y"),u=c.map(([p])=>[p,new Array(r.length)]),f=Ns(n,r,i),d=Cft(e);for(const p of f){const v=d(p,l);for(const y of p)for(let m=0;m<c.length;m++){const[,b]=c[m],[,B]=u[m];B[y]=+b[y]/v}}const h=No(o)||o?.items&&o?.items.length!==0;return[r,at({},i,Object.assign({encode:Object.fromEntries(u.map(([p,v])=>[p,tn(v,Oe(a,p)[1])]))},!h&&a.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};o3.props={};function zg(t,n,e){if(t===null)return[-.5,.5];const r=W4(t,n),a=new Mf({domain:r,range:[0,1],padding:e}).getBandWidth();return[-a/2,a/2]}function Wg(t,n,e){return n*(1-t)+e*t}const s3=(t={})=>{const{padding:n=0,paddingX:e=n,paddingY:r=n,random:i=Math.random}=t;return(a,o)=>{const{encode:s,scale:A}=o,{x:c,y:l}=A,[u]=Oe(s,"x"),[f]=Oe(s,"y"),d=zg(u,c,e),h=zg(f,l,r),p=a.map(()=>Wg(i(),...h)),v=a.map(()=>Wg(i(),...d));return[a,at({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:tn(p),dx:tn(v)}})]}};s3.props={};const A3=(t={})=>{const{padding:n=0,random:e=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{x:s}=o,[A]=Oe(a,"x"),c=zg(A,s,n),l=r.map(()=>Wg(e(),...c));return[r,at({scale:{x:{padding:.5}}},i,{encode:{dx:tn(l)}})]}};A3.props={};const c3=(t={})=>{const{padding:n=0,random:e=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{y:s}=o,[A]=Oe(a,"y"),c=zg(A,s,n),l=r.map(()=>Wg(e(),...c));return[r,at({scale:{y:{padding:.5}}},i,{encode:{dy:tn(l)}})]}};c3.props={};var Oft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const l3=(t={})=>{const{groupBy:n="x"}=t;return(e,r)=>{const{encode:i,style:a={}}=r,{x:o}=i,s=Oft(i,["x"]),A=Object.entries(s).filter(([d])=>d.startsWith("y")).map(([d])=>[d,Oe(i,d)[0]]),c=A.map(([d])=>[d,new Array(e.length)]),l=Ns(n,e,r),u=new Array(l.length);for(let d=0;d<l.length;d++){const p=l[d].flatMap(m=>A.map(([,b])=>+b[m])),[v,y]=Io(p);u[d]=(v+y)/2}const f=Math.max(...u);for(let d=0;d<l.length;d++){const h=f-u[d],p=l[d];for(const v of p)for(let y=0;y<A.length;y++){const[,m]=A[y],[,b]=c[y];b[v]=+m[v]+h}}return[e,at({},r,{encode:Object.fromEntries(c.map(([d,h])=>[d,tn(h,Oe(i,d)[1])])),style:Object.assign({first:(d,h)=>h===0,last:(d,h)=>h===l.length-1},a)})]}};l3.props={};const u3=(t={})=>{const{groupBy:n="x"}=t;return(e,r)=>{const{encode:i}=r,[a]=Oe(i,"y"),[o,s]=Oe(i,"y1"),A=Ns(n,e,r),c=new Array(e.length);for(const l of A){const u=l.map(f=>+a[f]);for(let f=0;f<l.length;f++){const d=l[f],h=Math.max(...u.filter((p,v)=>v!==f));c[d]=+a[d]>h?h:a[d]}}return[e,at({},r,{encode:{y1:tn(c,s)}})]}};u3.props={};function MM(t,n){return[t[0]]}function Eft(t,n){const e=t.length-1;return[t[e]]}function _ft(t,n){const e=Fl(t,r=>n[r]);return[t[e]]}function Sft(t,n){const e=Ad(t,r=>n[r]);return[t[e]]}function Fft(t){return typeof t=="function"?t:{first:MM,last:Eft,max:_ft,min:Sft}[t]||MM}const Bv=(t={})=>{const{groupBy:n="series",channel:e,selector:r}=t;return(i,a)=>{const{encode:o}=a,s=Ns(n,i,a),[A]=Oe(o,e),c=Fft(r);return[s.flatMap(l=>c(l,A)),a]}};Bv.props={};var Mft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const f3=(t={})=>{const{selector:n}=t,e=Mft(t,["selector"]);return Bv(Object.assign({channel:"x",selector:n},e))};f3.props={};var kft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const d3=(t={})=>{const{selector:n}=t,e=kft(t,["selector"]);return Bv(Object.assign({channel:"y",selector:n},e))};d3.props={};var Tft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Hs(t){return n=>n===null?t:`${t} of ${n}`}function Ift(t){if(typeof t=="function")return[t,null];const e={mean:Lft,max:Uft,count:Rft,first:Dft,last:Hft,sum:Nft,min:Pft,median:Qft}[t];if(!e)throw new Error(`Unknown reducer: ${t}.`);return e()}function Lft(){const t=(e,r)=>Ef(e,i=>+r[i]),n=Hs("mean");return[t,n]}function Qft(){const t=(e,r)=>bx(e,i=>+r[i]),n=Hs("median");return[t,n]}function Uft(){const t=(e,r)=>He(e,i=>+r[i]),n=Hs("max");return[t,n]}function Pft(){const t=(e,r)=>bi(e,i=>+r[i]),n=Hs("min");return[t,n]}function Rft(){const t=(e,r)=>e.length,n=Hs("count");return[t,n]}function Nft(){const t=(e,r)=>Yi(e,i=>+r[i]),n=Hs("sum");return[t,n]}function Dft(){const t=(e,r)=>r[e[0]],n=Hs("first");return[t,n]}function Hft(){const t=(e,r)=>r[e[e.length-1]],n=Hs("last");return[t,n]}const Lx=(t={})=>{const{groupBy:n}=t,e=Tft(t,["groupBy"]);return(r,i)=>{const{data:a,encode:o}=i,s=n(r,i);if(!s)return[r,i];const A=(d,h)=>{if(d)return d;const{from:p}=h;if(!p)return d;const[,v]=Oe(o,p);return v},c=Object.entries(e).map(([d,h])=>{const[p,v]=Ift(h),[y,m]=Oe(o,d),b=A(m,h),B=s.map(x=>p(x,y??a));return[d,Object.assign(Object.assign({},Blt(B,v?.(b)||b)),{aggregate:!0})]}),l=Object.keys(o).map(d=>{const[h,p]=Oe(o,d),v=s.map(y=>h[y[0]]);return[d,tn(v,p)]}),u=s.map(d=>a[d[0]]);return[XA(s),at({},i,{data:u,encode:Object.fromEntries([...l,...c])})]}};Lx.props={};var jft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const dd=(t={})=>{const{channels:n=["x","y"]}=t,e=jft(t,["channels"]),r=(i,a)=>Ns(n,i,a);return Lx(Object.assign(Object.assign({},e),{groupBy:r}))};dd.props={};const h3=(t={})=>dd(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));h3.props={};const p3=(t={})=>dd(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));p3.props={};const g3=(t={})=>dd(Object.assign(Object.assign({},t),{channels:["color"]}));g3.props={};function $ft(t,n,e){const{by:r=t,reducer:i="max"}=n,[a]=Oe(e,r);if(typeof i=="function")return o=>i(o,a);if(i==="max")return o=>He(o,s=>+a[s]);if(i==="min")return o=>bi(o,s=>+a[s]);if(i==="sum")return o=>Yi(o,s=>+a[s]);if(i==="median")return o=>bx(o,s=>+a[s]);if(i==="mean")return o=>Ef(o,s=>+a[s]);if(i==="first")return o=>a[o[0]];if(i==="last")return o=>a[o[o.length-1]];throw new Error(`Unknown reducer: ${i}`)}function Gft(t,n,e){if(!Array.isArray(e))return t;const r=new Set(e);return t.filter(i=>r.has(n[i]))}const xv=(t={})=>(n,e)=>{const{reverse:r,slice:i,channel:a,by:o,ordinal:s=!0,reducer:A}=t,{encode:c,scale:l={}}=e,u=l[a].domain,[f]=Oe(c,o??a),[d]=Oe(c,a),h=$ft(a,{by:o,reducer:A},c),p=Gft(n,d,u),v=Qlt(p,h,B=>d[B]),y=s?n:wa(n,B=>f[B]);r&&(!s&&y.reverse(),v.reverse());const m=typeof i=="number"?[0,i]:i,b=i?v.slice(...m):v;return[y,at(e,{scale:{[a]:{domain:b}}})]};xv.props={};const v3=(t={})=>xv(Object.assign(Object.assign({},t),{channel:"x"}));v3.props={};const y3=(t={})=>xv(Object.assign(Object.assign({},t),{channel:"color"}));y3.props={};const m3=(t={})=>xv(Object.assign(Object.assign({},t),{channel:"y"}));m3.props={};function Kft(t,n){return typeof n=="string"?t.map(e=>e[n]):t.map(n)}function zft(t,n){if(typeof t=="function")return e=>t(e,n);if(t==="sum")return e=>Yi(e,r=>+n[r]);throw new Error(`Unknown reducer: ${t}`)}const w3=(t={})=>{const{field:n,channel:e="y",reducer:r="sum"}=t;return(i,a)=>{const{data:o,encode:s}=a,[A]=Oe(s,"x"),c=n?Kft(o,n):Oe(s,e)[0],l=zft(r,c),u=mx(i,l,f=>A[f]).map(f=>f[1]);return[i,at({},a,{scale:{x:{flex:u}}})]}};w3.props={};function Tn([t,n],[e,r]){return[t-e,n-r]}function vp([t,n],[e,r]){return[t+e,n+r]}function bn([t,n],[e,r]){return Math.sqrt(Math.pow(t-e,2)+Math.pow(n-r,2))}function Zi([t,n]){return Math.atan2(n,t)}function gl([t,n]){return Zi([t,n])+Math.PI/2}function b3(t,n){const e=Zi(t),r=Zi(n);return e<r?r-e:Math.PI*2-(e-r)}function Qx(t){let n=1/0,e=-1/0,r=1/0,i=-1/0;for(const[s,A]of t)n=Math.min(s,n),e=Math.max(s,e),r=Math.min(A,r),i=Math.max(A,i);const a=e-n,o=i-r;return[n,r,a,o]}function B3([t,n],[e,r]){return[(t+e)/2,(n+r)/2]}function Wft(t){const{padding:n=0,direction:e="col"}=t;return(r,i,a)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:A}=a,c=A/s;let l=Math.ceil(Math.sqrt(i/c)),u=s/l,f=Math.ceil(i/l),d=f*u;for(;d>A;)l=l+1,u=s/l,f=Math.ceil(i/l),d=f*u;const h=A-f*u,p=f<=1?0:h/(f-1),[v,y]=f<=1?[(s-o*u)/(o-1),(A-u)/2]:[0,0];return r.map((m,b)=>{const[B,x,C,O]=Qx(m),_=e==="col"?b%l:Math.floor(b/f),S=e==="col"?Math.floor(b/l):b%f,F=_*u,M=(f-S-1)*u+h,T=(u-n)/C,k=(u-n)/O,L=F-B+v*_+1/2*n,U=M-x-p*S-y+1/2*n;return`translate(${L}, ${U}) scale(${T}, ${k})`})}}const x3=t=>(n,e)=>[n,at({},e,{modifier:Wft(t),axis:!1})];x3.props={};var Vft=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const kM="thresholds";function Yft(t){const[n,e]=Io(t);return Math.min(200,Wlt(t,n,e))}const Ux=(t={})=>{const{groupChannels:n=["color"],binChannels:e=["x","y"]}=t,r=Vft(t,["groupChannels","binChannels"]),i={},a=(o,s)=>{const{encode:A}=s,c=e.map(h=>{const[p]=Oe(A,h);return p}),l=wt(r,kM),u=o.filter(h=>c.every(p=>en(p[h]))),f=[...n.map(h=>{const[p]=Oe(A,h);return p}).filter(en).map(h=>p=>h[p]),...e.map((h,p)=>{const v=c[p],y=l[h]||Yft(v),m=Glt().thresholds(y).value(B=>+v[B])(u),b=new Map(m.flatMap(B=>{const{x0:x,x1:C}=B,O=`${x},${C}`;return B.map(_=>[_,O])}));return i[h]=b,B=>b.get(B)})];return Array.from(Je(u,h=>f.map(p=>p(h)).join("-")).values())};return Lx(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith(kM)))),Object.fromEntries(e.flatMap(o=>{const s=([c])=>+i[o].get(c).split(",")[0],A=([c])=>+i[o].get(c).split(",")[1];return A.from=o,[[o,s],[`${o}1`,A]]}))),{groupBy:a}))};Ux.props={};const C3=(t={})=>{const{thresholds:n}=t;return Ux(Object.assign(Object.assign({},t),{thresholdsX:n,groupChannels:["color"],binChannels:["x"]}))};C3.props={};function Xft(t,n,e,r){const i=t.length;if(r>=i||r===0)return t;const a=d=>n[t[d]]*1,o=d=>e[t[d]]*1,s=[],A=(i-2)/(r-2);let c=0,l,u,f;s.push(c);for(let d=0;d<r-2;d++){let h=0,p=0,v=Math.floor((d+1)*A)+1,y=Math.floor((d+2)*A)+1;y=Math.min(y,i);const m=y-v;for(;v<y;v++)h+=a(v),p+=o(v);h/=m,p/=m;let b=Math.floor((d+0)*A)+1;const B=Math.floor((d+1)*A)+1,x=[a(c),o(c)];for(l=u=-1;b<B;b++)u=Math.abs((x[0]-h)*(a(b)-x[1])-(x[0]-o(b))*(p-x[0]))*.5,u>l&&(l=u,f=b);s.push(f),c=f}return s.push(i-1),s.map(d=>t[d])}function qft(t){if(typeof t=="function")return t;if(t==="lttb")return Xft;const n={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,i,a)=>[r[Ad(r,o=>a[o])]],max:(r,i,a)=>[r[Fl(r,o=>a[o])]],median:(r,i,a)=>[r[Vlt(r,o=>a[o])]]},e=n[t]||n.median;return(r,i,a,o)=>{const s=Math.max(1,Math.floor(r.length/o));return Zft(r,s).flatMap(c=>e(c,i,a))}}function Zft(t,n){const e=t.length,r=[];let i=0;for(;i<e;)r.push(t.slice(i,i+=n));return r}const O3=(t={})=>{const{strategy:n="median",thresholds:e=2e3,groupBy:r=["series","color"]}=t,i=qft(n);return(a,o)=>{const{encode:s}=o,A=Ns(r,a,o),[c]=Oe(s,"x"),[l]=Oe(s,"y");return[A.flatMap(u=>i(u,c,l,e)),o]}};O3.props={};function Jft(t){return typeof t=="object"?[t.value,t.ordinal]:[t,!0]}function tdt(t){var n;const{encode:e}=t,r=Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),{y:Object.assign(Object.assign({},t.encode.y),{value:[]})})}),i=(n=e?.color)===null||n===void 0?void 0:n.field;if(!e||!i)return r;let a;for(const[o,s]of Object.entries(e))(o==="x"||o==="y")&&s.field===i&&(a=Object.assign(Object.assign({},a),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return a?Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),a)}):r}const E3=(t={})=>(n,e)=>{const{encode:r,data:i}=e,a=Object.keys(t).length>0,o=Object.entries(t).map(([u,f])=>{const[d]=Oe(r,u);if(!d)return null;const[h,p=!0]=Jft(f);if(typeof h=="function")return v=>h(d[v]);if(p){const v=Array.isArray(h)?h:[h];return v.length===0?null:y=>v.includes(d[y])}else{const[v,y]=h;return m=>d[m]>=v&&d[m]<=y}}).filter(en),s=u=>o.every(f=>f(u)),A=n.filter(s),c=A.map((u,f)=>f);if(o.length===0&&a){const u=tdt(e);return[[],u]}const l=Object.entries(r).map(([u,f])=>[u,Object.assign(Object.assign({},f),{value:c.map(d=>f.value[A[d]]).filter(d=>d!==void 0)})]);return[c,at({},e,{encode:Object.fromEntries(l),data:A.map(u=>i[u])})]};E3.props={};function un(t){return function(){return t}}const TM=Math.abs,Er=Math.atan2,fA=Math.cos,edt=Math.max,h1=Math.min,Ia=Math.sin,Rc=Math.sqrt,_r=1e-12,kf=Math.PI,Vg=kf/2,ndt=2*kf;function rdt(t){return t>1?0:t<-1?kf:Math.acos(t)}function IM(t){return t>=1?Vg:t<=-1?-Vg:Math.asin(t)}const mb=Math.PI,wb=2*mb,hA=1e-6,idt=wb-hA;function _3(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function adt(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return _3;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let Px=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?_3:adt(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,A=r-n,c=i-e,l=o-n,u=s-e,f=l*l+u*u;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>hA)if(!(Math.abs(u*A-c*l)>hA)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-o,h=i-s,p=A*A+c*c,v=d*d+h*h,y=Math.sqrt(p),m=Math.sqrt(f),b=a*Math.tan((mb-Math.acos((p+f-v)/(2*y*m)))/2),B=b/m,x=b/y;Math.abs(B-1)>hA&&this._append`L${n+B*l},${e+B*u}`,this._append`A${a},${a},0,0,${+(u*d>l*h)},${this._x1=n+x*A},${this._y1=e+x*c}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),A=r*Math.sin(i),c=n+s,l=e+A,u=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>hA||Math.abs(this._y1-l)>hA)&&this._append`L${c},${l}`,r&&(f<0&&(f=f%wb+wb),f>idt?this._append`A${r},${r},0,1,${u},${n-s},${e-A}A${r},${r},0,1,${u},${this._x1=c},${this._y1=l}`:f>hA&&this._append`A${r},${r},0,${+(f>=mb)},${u},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function na(){return new Px}na.prototype=Px.prototype;function Rx(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Px(n)}function odt(t){return t.innerRadius}function sdt(t){return t.outerRadius}function Adt(t){return t.startAngle}function cdt(t){return t.endAngle}function ldt(t){return t&&t.padAngle}function udt(t,n,e,r,i,a,o,s){var A=e-t,c=r-n,l=o-i,u=s-a,f=u*A-l*c;if(!(f*f<_r))return f=(l*(n-a)-u*(t-i))/f,[t+f*A,n+f*c]}function yp(t,n,e,r,i,a,o){var s=t-e,A=n-r,c=(o?a:-a)/Rc(s*s+A*A),l=c*A,u=-c*s,f=t+l,d=n+u,h=e+l,p=r+u,v=(f+h)/2,y=(d+p)/2,m=h-f,b=p-d,B=m*m+b*b,x=i-a,C=f*p-h*d,O=(b<0?-1:1)*Rc(edt(0,x*x*B-C*C)),_=(C*b-m*O)/B,S=(-C*m-b*O)/B,F=(C*b+m*O)/B,M=(-C*m+b*O)/B,T=_-v,k=S-y,L=F-v,U=M-y;return T*T+k*k>L*L+U*U&&(_=F,S=M),{cx:_,cy:S,x01:-l,y01:-u,x11:_*(i/x-1),y11:S*(i/x-1)}}function Nx(){var t=odt,n=sdt,e=un(0),r=null,i=Adt,a=cdt,o=ldt,s=null,A=Rx(c);function c(){var l,u,f=+t.apply(this,arguments),d=+n.apply(this,arguments),h=i.apply(this,arguments)-Vg,p=a.apply(this,arguments)-Vg,v=TM(p-h),y=p>h;if(s||(s=l=A()),d<f&&(u=d,d=f,f=u),!(d>_r))s.moveTo(0,0);else if(v>ndt-_r)s.moveTo(d*fA(h),d*Ia(h)),s.arc(0,0,d,h,p,!y),f>_r&&(s.moveTo(f*fA(p),f*Ia(p)),s.arc(0,0,f,p,h,y));else{var m=h,b=p,B=h,x=p,C=v,O=v,_=o.apply(this,arguments)/2,S=_>_r&&(r?+r.apply(this,arguments):Rc(f*f+d*d)),F=h1(TM(d-f)/2,+e.apply(this,arguments)),M=F,T=F,k,L;if(S>_r){var U=IM(S/f*Ia(_)),N=IM(S/d*Ia(_));(C-=U*2)>_r?(U*=y?1:-1,B+=U,x-=U):(C=0,B=x=(h+p)/2),(O-=N*2)>_r?(N*=y?1:-1,m+=N,b-=N):(O=0,m=b=(h+p)/2)}var P=d*fA(m),Q=d*Ia(m),R=f*fA(x),H=f*Ia(x);if(F>_r){var G=d*fA(b),K=d*Ia(b),W=f*fA(B),X=f*Ia(B),Y;if(v<kf)if(Y=udt(P,Q,W,X,G,K,R,H)){var et=P-Y[0],nt=Q-Y[1],Z=G-Y[0],ot=K-Y[1],ct=1/Ia(rdt((et*Z+nt*ot)/(Rc(et*et+nt*nt)*Rc(Z*Z+ot*ot)))/2),vt=Rc(Y[0]*Y[0]+Y[1]*Y[1]);M=h1(F,(f-vt)/(ct-1)),T=h1(F,(d-vt)/(ct+1))}else M=T=0}O>_r?T>_r?(k=yp(W,X,P,Q,d,T,y),L=yp(G,K,R,H,d,T,y),s.moveTo(k.cx+k.x01,k.cy+k.y01),T<F?s.arc(k.cx,k.cy,T,Er(k.y01,k.x01),Er(L.y01,L.x01),!y):(s.arc(k.cx,k.cy,T,Er(k.y01,k.x01),Er(k.y11,k.x11),!y),s.arc(0,0,d,Er(k.cy+k.y11,k.cx+k.x11),Er(L.cy+L.y11,L.cx+L.x11),!y),s.arc(L.cx,L.cy,T,Er(L.y11,L.x11),Er(L.y01,L.x01),!y))):(s.moveTo(P,Q),s.arc(0,0,d,m,b,!y)):s.moveTo(P,Q),!(f>_r)||!(C>_r)?s.lineTo(R,H):M>_r?(k=yp(R,H,G,K,f,-M,y),L=yp(P,Q,W,X,f,-M,y),s.lineTo(k.cx+k.x01,k.cy+k.y01),M<F?s.arc(k.cx,k.cy,M,Er(k.y01,k.x01),Er(L.y01,L.x01),!y):(s.arc(k.cx,k.cy,M,Er(k.y01,k.x01),Er(k.y11,k.x11),!y),s.arc(0,0,f,Er(k.cy+k.y11,k.cx+k.x11),Er(L.cy+L.y11,L.cx+L.x11),y),s.arc(L.cx,L.cy,M,Er(L.y11,L.x11),Er(L.y01,L.x01),!y))):s.arc(0,0,f,x,B,y)}if(s.closePath(),l)return s=null,l+""||null}return c.centroid=function(){var l=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-kf/2;return[fA(u)*l,Ia(u)*l]},c.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:un(+l),c):t},c.outerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:un(+l),c):n},c.cornerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:un(+l),c):e},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:un(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:un(+l),c):i},c.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:un(+l),c):a},c.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:un(+l),c):o},c.context=function(l){return arguments.length?(s=l??null,c):s},c}function S3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function F3(t){this._context=t}F3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function hd(t){return new F3(t)}function M3(t){return t[0]}function k3(t){return t[1]}function qA(t,n){var e=un(!0),r=null,i=hd,a=null,o=Rx(s);t=typeof t=="function"?t:t===void 0?M3:un(t),n=typeof n=="function"?n:n===void 0?k3:un(n);function s(A){var c,l=(A=S3(A)).length,u,f=!1,d;for(r==null&&(a=i(d=o())),c=0;c<=l;++c)!(c<l&&e(u=A[c],c,A))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(u,c,A),+n(u,c,A));if(d)return a=null,d+""||null}return s.x=function(A){return arguments.length?(t=typeof A=="function"?A:un(+A),s):t},s.y=function(A){return arguments.length?(n=typeof A=="function"?A:un(+A),s):n},s.defined=function(A){return arguments.length?(e=typeof A=="function"?A:un(!!A),s):e},s.curve=function(A){return arguments.length?(i=A,r!=null&&(a=i(r)),s):i},s.context=function(A){return arguments.length?(A==null?r=a=null:a=i(r=A),s):r},s}function bb(t,n,e){var r=null,i=un(!0),a=null,o=hd,s=null,A=Rx(c);t=typeof t=="function"?t:t===void 0?M3:un(+t),n=typeof n=="function"?n:un(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?k3:un(+e);function c(u){var f,d,h,p=(u=S3(u)).length,v,y=!1,m,b=new Array(p),B=new Array(p);for(a==null&&(s=o(m=A())),f=0;f<=p;++f){if(!(f<p&&i(v=u[f],f,u))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=f-1;h>=d;--h)s.point(b[h],B[h]);s.lineEnd(),s.areaEnd()}y&&(b[f]=+t(v,f,u),B[f]=+n(v,f,u),s.point(r?+r(v,f,u):b[f],e?+e(v,f,u):B[f]))}if(m)return s=null,m+""||null}function l(){return qA().defined(i).curve(o).context(a)}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:un(+u),r=null,c):t},c.x0=function(u){return arguments.length?(t=typeof u=="function"?u:un(+u),c):t},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:un(+u),c):r},c.y=function(u){return arguments.length?(n=typeof u=="function"?u:un(+u),e=null,c):n},c.y0=function(u){return arguments.length?(n=typeof u=="function"?u:un(+u),c):n},c.y1=function(u){return arguments.length?(e=u==null?null:typeof u=="function"?u:un(+u),c):e},c.lineX0=c.lineY0=function(){return l().x(t).y(n)},c.lineY1=function(){return l().x(t).y(e)},c.lineX1=function(){return l().x(r).y(n)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:un(!!u),c):i},c.curve=function(u){return arguments.length?(o=u,a!=null&&(s=o(a)),c):o},c.context=function(u){return arguments.length?(u==null?a=s=null:s=o(a=u),c):a},c}var T3=Dx(hd);function I3(t){this._curve=t}I3.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function Dx(t){function n(e){return new I3(t(e))}return n._curve=t,n}function Qu(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(e){return arguments.length?n(Dx(e)):n()._curve},t}function fdt(){return Qu(qA().curve(T3))}function ddt(){var t=bb().curve(T3),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Qu(e())},delete t.lineX0,t.lineEndAngle=function(){return Qu(r())},delete t.lineX1,t.lineInnerRadius=function(){return Qu(i())},delete t.lineY0,t.lineOuterRadius=function(){return Qu(a())},delete t.lineY1,t.curve=function(o){return arguments.length?n(Dx(o)):n()._curve},t}function vl(){}function Bb(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Hx(t,n){this._context=t,this._k=(1-n)/6}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Bb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Bb(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return new Hx(r,n)}return e.tension=function(r){return t(+r)},e})(0);function jx(t,n){this._context=t,this._k=(1-n)/6}jx.prototype={areaStart:vl,areaEnd:vl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Bb(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return new jx(r,n)}return e.tension=function(r){return t(+r)},e})(0);function L3(t,n,e){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>_r){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,A=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/A,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/A}if(t._l23_a>_r){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-n*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Q3(t,n){this._context=t,this._alpha=n}Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:L3(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function e(r){return n?new Q3(r,n):new Hx(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function U3(t,n){this._context=t,this._alpha=n}U3.prototype={areaStart:vl,areaEnd:vl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:L3(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const P3=(function t(n){function e(r){return n?new U3(r,n):new jx(r,0)}return e.alpha=function(r){return t(+r)},e})(.5);function R3(t){this._context=t}R3.prototype={areaStart:vl,areaEnd:vl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function $x(t){return new R3(t)}function LM(t){return t<0?-1:1}function QM(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(e-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(LM(a)+LM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function UM(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function p1(t,n,e){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*n,a-s,o-s*e,a,o)}function Yg(t){this._context=t}Yg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p1(this,this._t0,UM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,p1(this,UM(this,e=QM(this,t,n)),e);break;default:p1(this,this._t0,e=QM(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function N3(t){this._context=new D3(t)}(N3.prototype=Object.create(Yg.prototype)).point=function(t,n){Yg.prototype.point.call(this,n,t)};function D3(t){this._context=t}D3.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,a){this._context.bezierCurveTo(n,t,r,e,a,i)}};function H3(t){return new Yg(t)}function j3(t){return new N3(t)}function Cv(t,n){this._context=t,this._t=n}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function $3(t){return new Cv(t,.5)}function G3(t){return new Cv(t,0)}function K3(t){return new Cv(t,1)}function nn(t){const{transformations:n}=t.getOptions();return n.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function je(t){const{transformations:n}=t.getOptions();return n.some(([e])=>e==="polar")}function Ov(t){const{transformations:n}=t.getOptions();return n.some(([e])=>e==="reflect")&&n.some(([e])=>e.startsWith("transpose"))}function z3(t){const{transformations:n}=t.getOptions();return n.some(([e])=>e==="helix")}function Ev(t){const{transformations:n}=t.getOptions();return n.some(([e])=>e==="parallel")}function W3(t){const{transformations:n}=t.getOptions();return n.some(([e])=>e==="fisheye")}function hdt(t){return Ev(t)&&je(t)}function Ml(t){return z3(t)||je(t)}function pdt(t){return je(t)&&nn(t)}function gdt(t){if(Ml(t)){const[n,e]=t.getSize(),r=t.getOptions().transformations.find(i=>i[0]==="polar");if(r)return Math.max(n,e)/2*r[4]}return 0}function _v(t){const{transformations:n}=t.getOptions(),[,,,e,r]=n.find(i=>i[0]==="polar");return[+e,+r]}function Gx(t,n=!0){const{transformations:e}=t.getOptions(),[,r,i]=e.find(a=>a[0]==="polar");return n?[+r*180/Math.PI,+i*180/Math.PI]:[r,i]}function vdt(t,n){const{transformations:e}=t.getOptions(),[,...r]=e.find(i=>i[0]===n);return r}function Nt(t){return new Wn([t],null,t,t.ownerDocument)}class Wn{constructor(n=null,e=null,r=null,i=null,a=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(n),this._data=e,this._parent=r,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=o,this._facetElements=s}selectAll(n){const e=typeof n=="string"?this._parent.querySelectorAll(n):n;return new Wn(e,null,this._elements[0],this._document)}selectFacetAll(n){const e=typeof n=="string"?this._parent.querySelectorAll(n):n;return new Wn(this._elements,null,this._parent,this._document,void 0,void 0,e)}select(n){const e=typeof n=="string"?this._parent.querySelectorAll(n)[0]||null:n;return new Wn([e],null,e,this._document)}append(n){const e=typeof n=="function"?n:()=>this.createElement(n),r=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[o,s]=Array.isArray(a)?a:[a,null],A=e(o,i);A.__data__=o,s!==null&&(A.__fromElements__=s),this._parent.appendChild(A),r.push(A)}return new Wn(r,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],o=a.__data__,s=e(o,i);a.appendChild(s),r.push(s)}return new Wn(r,null,r[0],this._document)}}maybeAppend(n,e,r){const i=this._elements[0],a=i.getElementById(n);if(a)return new Wn([a],null,this._parent,this._document);const o=typeof e=="string"?this.createElement(e):e();return o.id=n,r&&(o.className=r),i.appendChild(o),new Wn([o],null,this._parent,this._document)}data(n,e=i=>i,r=()=>null){const i=[],a=[],o=new Set(this._elements),s=[],A=new Set,c=new Map(this._elements.map((d,h)=>[e(d.__data__,h),d])),l=new Map(this._facetElements.map((d,h)=>[e(d.__data__,h),d])),u=Je(this._elements,d=>r(d.__data__));for(let d=0;d<n.length;d++){const h=n[d],p=e(h,d),v=r(h,d);if(c.has(p)){const y=c.get(p);y.__data__=h,y.__facet__=!1,a.push(y),o.delete(y),c.delete(p)}else if(l.has(p)){const y=l.get(p);y.__data__=h,y.__facet__=!0,a.push(y),l.delete(p)}else if(u.has(p)){const y=u.get(p);s.push([h,y]);for(const m of y)o.delete(m);u.delete(p)}else if(c.has(v)){const y=c.get(v);y.__toData__?y.__toData__.push(h):y.__toData__=[h],A.add(y),o.delete(y)}else i.push(h)}const f=[new Wn([],i,this._parent,this._document),new Wn(a,null,this._parent,this._document),new Wn(o,null,this._parent,this._document),new Wn([],s,this._parent,this._document),new Wn(A,null,this._parent,this._document)];return new Wn(this._elements,null,this._parent,this._document,f)}merge(n){const e=[...this._elements,...n._elements],r=[...this._transitions,...n._transitions];return new Wn(e,null,this._parent,this._document,void 0,r)}createElement(n){if(this._document)return this._document.createElement(n,{});const e=Wn.registry[n];return e?new e:hl(`Unknown node type: ${n}`)}join(n=o=>o,e=o=>o,r=o=>o.remove(),i=o=>o,a=o=>o.remove()){const o=n(this._enter),s=e(this._update),A=r(this._exit),c=i(this._merge),l=a(this._split);return s.merge(o).merge(A).merge(c).merge(l)}remove(){for(let n=0;n<this._elements.length;n++){const e=this._transitions[n];if(this._elements[n].__removed__=!0,e){const r=Array.isArray(e)?e:[e];Promise.all(r.map(i=>i.finished)).then(()=>{const i=this._elements[n];i.__removed__&&i.remove()})}else{const r=this._elements[n];r.__removed__&&r.remove()}}return new Wn([],null,this._parent,this._document,void 0,this._transitions)}each(n){for(let e=0;e<this._elements.length;e++){const r=this._elements[e],i=r.__data__;n(i,e,r)}return this}attr(n,e){const r=typeof e!="function"?()=>e:e;return this.each(function(i,a,o){e!==void 0&&(o[n]=r(i,a,o))})}style(n,e){const r=typeof e!="function"?()=>e:e;return this.each(function(i,a,o){e!==void 0&&(o.style[n]=r(i,a,o))})}transition(n){const e=typeof n!="function"?()=>n:n,{_transitions:r}=this;return this.each(function(i,a,o){r[a]=e(i,a,o)})}on(n,e){return this.each(function(r,i,a){a.addEventListener(n,e)}),this}call(n,...e){return n(this,...e),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}Wn.registry={g:ur,rect:Ps,circle:to,path:sr,text:qi,ellipse:$0,image:G0,line:VA,polygon:YA,polyline:K0,html:WA};function mp(t,n,e){return Math.max(n,Math.min(t,e))}function Xg(t,n=10){return typeof t!="number"||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(n))}function It(t,n){for(const[e,r]of Object.entries(n))t.style(e,r)}function ydt(t,n){return n.forEach((e,r)=>r===0?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])),t.closePath(),t}function mdt(t,n,e){const{arrowSize:r}=e,i=typeof r=="string"?+parseFloat(r)/100*bn(t,n):r,a=Math.PI/6,o=Math.atan2(n[1]-t[1],n[0]-t[0]),s=Math.PI/2-o-a,A=[n[0]-i*Math.sin(s),n[1]-i*Math.cos(s)],c=o-a,l=[n[0]-i*Math.cos(c),n[1]-i*Math.sin(c)];return[A,l]}function Tf(t,n,e,r,i){const a=Zi(Tn(r,n))+Math.PI,o=Zi(Tn(r,e))+Math.PI;return t.arc(r[0],r[1],i,a,o,o-a<0),t}function V3(t,n,e,r="y",i="between",a=!1){const o=(v,y)=>v==="y"||v===!0?y?180:90:y?90:0,s=r==="y"||r===!0?e:n,A=o(r,a),c=XA(s),[l,u]=Io(c,v=>s[v]),f=new Ro({domain:[l,u],range:[0,100]}),d=v=>rn(s[v])&&!Number.isNaN(s[v])?f.map(s[v]):0,h={between:v=>`${t[v]} ${d(v)}%`,start:v=>v===0?`${t[v]} ${d(v)}%`:`${t[v-1]} ${d(v)}%, ${t[v]} ${d(v)}%`,end:v=>v===t.length-1?`${t[v]} ${d(v)}%`:`${t[v]} ${d(v)}%, ${t[v+1]} ${d(v)}%`},p=c.sort((v,y)=>d(v)-d(y)).map(h[i]||h.between).join(",");return`linear-gradient(${A}deg, ${p})`}function Sv(t){const[n,e,r,i]=t;return[i,n,e,r]}function ZA(t,n,e){const[r,i,,a]=nn(t)?Sv(n):n,[o,s]=e,A=t.getCenter(),c=gl(Tn(r,A)),l=gl(Tn(i,A)),u=l===c&&o!==s?l+Math.PI*2:l,f=1e-4;return{startAngle:c+f,endAngle:(u-c>=0?u:Math.PI*2+u)-f,innerRadius:bn(a,A),outerRadius:bn(r,A)}}function Kx(t){const{colorAttribute:n,opacityAttribute:e=n}=t;return`${e}Opacity`}function Y3(t,n){if(!je(t))return"";const e=t.getCenter(),{transform:r}=n;return`translate(${e[0]}, ${e[1]}) ${r||""}`}function zx(t){if(t.length===1)return t[0];const[[n,e,r=0],[i,a,o=0]]=t;return[(n+i)/2,(e+a)/2,(r+o)/2]}var Xp=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function X3(t,n,e,r,i={}){const{inset:a=0,radius:o=0,insetLeft:s=a,insetTop:A=a,insetRight:c=a,insetBottom:l=a,radiusBottomLeft:u=o,radiusBottomRight:f=o,radiusTopLeft:d=o,radiusTopRight:h=o,minWidth:p=-1/0,maxWidth:v=1/0,minHeight:y=-1/0}=i,m=Xp(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!je(r)&&!z3(r)){const _=!!nn(r),[S,,F]=_?Sv(n):n,[M,T]=S,[k,L]=Tn(F,S),U=k>0?M:M+k,N=L>0?T:T+L,P=Math.abs(k),Q=Math.abs(L),R=U+s,H=N+A,G=P-(s+c),K=Q-(A+l),W=_?mp(G,y,1/0):mp(G,p,v),X=_?mp(K,p,v):mp(K,y,1/0),Y=_?R:R-(W-G)/2,et=_?H-(X-K)/2:H-(X-K);return Nt(t.createElement("rect",{})).style("x",Y).style("y",et).style("width",W).style("height",X).style("radius",[d,h,f,u]).call(It,m).node()}const{y:b,y1:B}=e,x=r.getCenter(),C=ZA(r,n,[b,B]),O=Nx().cornerRadius(o).padAngle(a*Math.PI/180);return Nt(t.createElement("path",{})).style("d",O(C)).style("transform",`translate(${x[0]}, ${x[1]})`).style("radius",o).style("inset",a).call(It,m).node()}const pd=(t,n)=>{const{colorAttribute:e,opacityAttribute:r="fill",first:i=!0,last:a=!0}=t,o=Xp(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:A}=n;return(c,l,u)=>{const{color:f,radius:d=0}=u,h=Xp(u,["color","radius"]),p=h.lineWidth||1,{stroke:v,radius:y=d,radiusTopLeft:m=y,radiusTopRight:b=y,radiusBottomRight:B=y,radiusBottomLeft:x=y,innerRadius:C=0,innerRadiusTopLeft:O=C,innerRadiusTopRight:_=C,innerRadiusBottomRight:S=C,innerRadiusBottomLeft:F=C,lineWidth:M=e==="stroke"||v?p:0,inset:T=0,insetLeft:k=T,insetRight:L=T,insetBottom:U=T,insetTop:N=T,minWidth:P,maxWidth:Q,minHeight:R}=o,H=Xp(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:G=f,opacity:K}=l,W=[i?m:O,i?b:_,a?B:S,a?x:F],X=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];nn(s)&&X.push(X.shift());const Y=Object.assign(Object.assign({radius:y},Object.fromEntries(X.map((et,nt)=>[et,W[nt]]))),{inset:T,insetLeft:k,insetRight:L,insetBottom:U,insetTop:N,minWidth:P,maxWidth:Q,minHeight:R});return Nt(X3(A,c,l,s,Y)).call(It,h).style("fill","transparent").style(e,G).style(Kx(t),K).style("lineWidth",M).style("stroke",v===void 0?G:v).call(It,H).node()}};pd.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const JA=(t,n)=>pd(Object.assign({colorAttribute:"fill"},t),n);JA.props=Object.assign(Object.assign({},pd.props),{defaultMarker:"square"});const Fv=(t,n)=>pd(Object.assign({colorAttribute:"stroke"},t),n);Fv.props=Object.assign(Object.assign({},pd.props),{defaultMarker:"hollowSquare"});var PM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function wdt(t,n,e,r,i){const[a,o,s,A]=t;if(nn(r)){if(i){const d=[e?e[1][0]:a[0],a[1]],h=[e?e[2][0]:A[0],A[1]];return[d,o,s,h]}const u=[n?n[0][0]:o[0],o[1]],f=[n?n[3][0]:s[0],s[1]];return[a,u,f,A]}if(i){const u=[a[0],e?e[1][1]:a[1]],f=[A[0],e?e[2][1]:A[1]];return[u,o,s,f]}const c=[o[0],n?n[0][1]:o[1]],l=[s[0],n?n[3][1]:s[1]];return[a,c,l,A]}const bdt=(t,n,e)=>{const r=Math.cos(t)*n,i=Math.sin(t)*n;return{x:r*e,y:i}},wp=(t,n)=>n/Math.tan(t/2);function Bdt(t,n){const[e,r,i,a]=t,[o,s,A,c]=n,l=r[0]-e[0]>i[0]-a[0],u=Math.atan2(Math.abs(r[1]-i[1]),Math.abs(r[0]-i[0])),f=l?[wp(u,o),wp(u,s),A,c]:[o,s,wp(u,A),wp(u,c)],d=l?1:-1,h=f.map(p=>bdt(u,p,d));return[`M${e[0]+f[0]} ${e[1]}`,`L${r[0]-f[1]} ${r[1]}`,`Q${r[0]} ${r[1]} ${r[0]-h[1].x} ${r[1]+h[1].y}`,`L${i[0]+h[2].x} ${i[1]-h[2].y}`,`Q${i[0]} ${i[1]} ${i[0]-f[2]} ${i[1]}`,`L${a[0]+f[3]} ${a[1]}`,`Q${a[0]} ${a[1]} ${a[0]-h[3].x} ${a[1]-h[3].y}`,`L${e[0]+h[0].x} ${e[1]+h[0].y}`,`Q${e[0]} ${e[1]} ${e[0]+f[0]} ${e[1]}`,"Z"].join(" ")}const Wx=(t,n)=>{const{adjustPoints:e=wdt,radius:r,radiusTopLeft:i=r,radiusTopRight:a=r,radiusBottomRight:o=r,radiusBottomLeft:s=r,innerRadius:A=0,innerRadiusTopLeft:c=A,innerRadiusTopRight:l=A,innerRadiusBottomRight:u=A,innerRadiusBottomLeft:f=A,first:d=!0,last:h=!0}=t,p=PM(t,["adjustPoints","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","first","last"]),{coordinate:v,document:y}=n;return(m,b,B,x)=>{const{index:C}=b,{color:O}=B,_=PM(B,["color"]),S=x[C+1],F=x[C-1],M=e(m,S,F,v,p.reverse),T=!!nn(v),[k,L,U,N]=T?Sv(M):M,{color:P=O,opacity:Q}=b,R=[d?i??c:c,d?a??l:l,h?o??u:u,h?s??f:f],H=R.find(G=>G>0)?Bdt([k,L,U,N],R):qA().curve($x)([k,L,U,N]);return Nt(y.createElement("path",{})).call(It,_).style("d",H).style("fill",P).style("fillOpacity",Q).call(It,p).node()}};Wx.props={defaultMarker:"square"};function xdt(t,n,e,r,i){const[a,o,s,A]=t;if(nn(r)){if(i){const d=[e?e[1][0]:(a[0]+A[0])/2,a[1]],h=[e?e[2][0]:(a[0]+A[0])/2,A[1]];return[d,o,s,h]}const u=[n?n[0][0]:(o[0]+s[0])/2,o[1]],f=[n?n[3][0]:(o[0]+s[0])/2,s[1]];return[a,u,f,A]}if(i){const u=[a[0],e?e[1][1]:(a[1]+A[1])/2],f=[A[0],e?e[2][1]:(a[1]+A[1])/2];return[u,o,s,f]}const c=[o[0],n?n[0][1]:(o[1]+s[1])/2],l=[s[0],n?n[3][1]:(o[1]+s[1])/2];return[a,c,l,A]}const q3=(t,n)=>Wx(Object.assign({adjustPoints:xdt},t),n);q3.props={defaultMarker:"square"};function yl(t){const n=typeof t=="function"?t:t.render;return class extends zA{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){n(this)}}}var RM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Cdt=yl(t=>{const{d1:n,d2:e,style1:r,style2:i}=t.attributes,a=t.ownerDocument;Nt(t).maybeAppend("line",()=>a.createElement("path",{})).style("d",n).call(It,r),Nt(t).maybeAppend("line1",()=>a.createElement("path",{})).style("d",e).call(It,i)});function Odt(t,n){const e=[],r=[];let i=!1,a=null;for(const o of t)!n(o[0])||!n(o[1])?i=!0:(e.push(o),i&&(i=!1,r.push([a,o])),a=o);return[e,r]}const ra=(t,n)=>{const{curve:e,gradient:r=!1,gradientColor:i="between",defined:a=l=>!Number.isNaN(l)&&l!==void 0&&l!==null,connect:o=!1}=t,s=RM(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:A,document:c}=n;return(l,u,f)=>{const{color:d,lineWidth:h}=f,p=RM(f,["color","lineWidth"]),{color:v=d,size:y=h,seriesColor:m,seriesX:b,seriesY:B}=u,x=Y3(A,u),C=nn(A),O=r&&m?V3(m,b,B,r,i,C):v,_=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},p),O&&{stroke:O}),y&&{lineWidth:y}),x&&{transform:x}),s);let S;if(je(A)){const U=A.getCenter();S=N=>fdt().angle((P,Q)=>gl(Tn(N[Q],U))).radius((P,Q)=>bn(N[Q],U)).defined(([P,Q])=>a(P)&&a(Q)).curve(e)(N)}else S=qA().x(U=>U[0]).y(U=>U[1]).defined(([U,N])=>a(U)&&a(N)).curve(e);const[F,M]=Odt(l,a),T=wt(_,"connect"),k=!!M.length;if(!k||o&&!Object.keys(T).length)return Nt(c.createElement("path",{})).style("d",S(F)||[]).call(It,_).node();if(k&&!o)return Nt(c.createElement("path",{})).style("d",S(l)).call(It,_).node();const L=U=>U.map(S).join(",");return Nt(new Cdt).style("style1",Object.assign(Object.assign({},_),T)).style("style2",_).style("d1",L(M)).style("d2",S(l)).node()}};ra.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Z3=(t,n)=>{const{coordinate:e}=n;return(...r)=>{const i=je(e)?$x:hd;return ra(Object.assign({curve:i},t),n)(...r)}};Z3.props=Object.assign(Object.assign({},ra.props),{defaultMarker:"line"});var Edt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const J3=(t,n)=>{const e=Edt(t,[]),{coordinate:r}=n;return(...i)=>{const a=je(r)?P3:nn(r)?j3:H3;return ra(Object.assign({curve:a},e),n)(...i)}};J3.props=Object.assign(Object.assign({},ra.props),{defaultMarker:"smooth"});const tR=(t,n)=>ra(Object.assign({curve:K3},t),n);tR.props=Object.assign(Object.assign({},ra.props),{defaultMarker:"hv"});const eR=(t,n)=>ra(Object.assign({curve:G3},t),n);eR.props=Object.assign(Object.assign({},ra.props),{defaultMarker:"vh"});const nR=(t,n)=>ra(Object.assign({curve:$3},t),n);nR.props=Object.assign(Object.assign({},ra.props),{defaultMarker:"hvh"});var _dt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Sdt(t,n,e,r,i){const a=Tn(e,n),o=Zi(a),s=o+Math.PI/2,A=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[i/2*Math.cos(s),i/2*Math.sin(s)],l=[i/2*Math.cos(o),i/2*Math.sin(o)],u=[r/2*Math.cos(o),r/2*Math.sin(o)],f=vp(n,A),d=vp(e,c),h=vp(d,l),p=vp(e,l),v=Tn(p,c),y=Tn(e,c),m=Tn(n,A),b=Tn(m,u),B=Tn(n,u),x=Tn(f,u);t.moveTo(...f),t.lineTo(...d),t.arcTo(...h,...p,i/2),t.arcTo(...v,...y,i/2),t.lineTo(...m),t.arcTo(...b,...B,r/2),t.arcTo(...x,...f,r/2),t.closePath()}const rR=(t,n)=>{const{document:e}=n;return(r,i,a)=>{const{seriesSize:o,color:s}=i,{color:A}=a,c=_dt(a,["color"]),l=na();for(let u=0;u<r.length-1;u++){const f=r[u],d=r[u+1],h=o[u],p=o[u+1];[...f,...d].every(en)&&Sdt(l,f,d,h,p)}return Nt(e.createElement("path",{})).call(It,c).style("fill",s||A).style("d",l.toString()).call(It,t).node()}};rR.props=Object.assign(Object.assign({},ra.props),{defaultMarker:"line"});var Fdt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Vx=(t,n,e)=>[["M",t-e,n],["A",e,e,0,1,0,t+e,n],["A",e,e,0,1,0,t-e,n],["Z"]];Vx.style=["fill"];const iR=Vx.bind(void 0);iR.style=["stroke","lineWidth"];const Mv=(t,n,e)=>[["M",t-e,n-e],["L",t+e,n-e],["L",t+e,n+e],["L",t-e,n+e],["Z"]];Mv.style=["fill"];const aR=Mv.bind(void 0);aR.style=["fill"];const oR=Mv.bind(void 0);oR.style=["stroke","lineWidth"];const Yx=(t,n,e)=>{const r=e*.618;return[["M",t-r,n],["L",t,n-e],["L",t+r,n],["L",t,n+e],["Z"]]};Yx.style=["fill"];const sR=Yx.bind(void 0);sR.style=["stroke","lineWidth"];const Xx=(t,n,e)=>{const r=e*Math.sin(.3333333333333333*Math.PI);return[["M",t-e,n+r],["L",t,n-r],["L",t+e,n+r],["Z"]]};Xx.style=["fill"];const AR=Xx.bind(void 0);AR.style=["stroke","lineWidth"];const qx=(t,n,e)=>{const r=e*Math.sin(.3333333333333333*Math.PI);return[["M",t-e,n-r],["L",t+e,n-r],["L",t,n+r],["Z"]]};qx.style=["fill"];const cR=qx.bind(void 0);cR.style=["stroke","lineWidth"];const Zx=(t,n,e)=>{const r=e/2*Math.sqrt(3);return[["M",t,n-e],["L",t+r,n-e/2],["L",t+r,n+e/2],["L",t,n+e],["L",t-r,n+e/2],["L",t-r,n-e/2],["Z"]]};Zx.style=["fill"];const lR=Zx.bind(void 0);lR.style=["stroke","lineWidth"];const Jx=(t,n,e)=>{const r=e-1.5;return[["M",t-e,n-r],["L",t+e,n+r],["L",t+e,n-r],["L",t-e,n+r],["Z"]]};Jx.style=["fill"];const uR=Jx.bind(void 0);uR.style=["stroke","lineWidth"];const fR=(t,n,e)=>[["M",t,n+e],["L",t,n-e]];fR.style=["stroke","lineWidth"];const dR=(t,n,e)=>[["M",t-e,n-e],["L",t+e,n+e],["M",t+e,n-e],["L",t-e,n+e]];dR.style=["stroke","lineWidth"];const hR=(t,n,e)=>[["M",t-e/2,n-e],["L",t+e/2,n-e],["M",t,n-e],["L",t,n+e],["M",t-e/2,n+e],["L",t+e/2,n+e]];hR.style=["stroke","lineWidth"];const pR=(t,n,e)=>[["M",t-e,n],["L",t+e,n],["M",t,n-e],["L",t,n+e]];pR.style=["stroke","lineWidth"];const gR=(t,n,e)=>[["M",t-e,n],["L",t+e,n]];gR.style=["stroke","lineWidth"];const t2=(t,n,e)=>[["M",t-e,n],["L",t+e,n]];t2.style=["stroke","lineWidth"];const vR=t2.bind(void 0);vR.style=["stroke","lineWidth"];const yR=(t,n,e)=>[["M",t-e,n],["A",e/2,e/2,0,1,1,t,n],["A",e/2,e/2,0,1,0,t+e,n]];yR.style=["stroke","lineWidth"];const mR=(t,n,e)=>[["M",t-e-1,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+e+1,n+2.5]];mR.style=["stroke","lineWidth"];const wR=(t,n,e)=>[["M",t-e-1,n+2.5],["L",t,n+2.5],["L",t,n-2.5],["L",t+e+1,n-2.5]];wR.style=["stroke","lineWidth"];const bR=(t,n,e)=>[["M",t-(e+1),n+2.5],["L",t-e/2,n+2.5],["L",t-e/2,n-2.5],["L",t+e/2,n-2.5],["L",t+e/2,n+2.5],["L",t+e+1,n+2.5]];bR.style=["stroke","lineWidth"];const BR=(t,n,e)=>[["M",t-5,n+2.5],["L",t-5,n],["L",t,n],["L",t,n-3],["L",t,n+3],["L",t+6.5,n+3]];BR.style=["stroke","lineWidth"];const If=new Map([["bowtie",Jx],["cross",dR],["dash",vR],["diamond",Yx],["dot",t2],["hexagon",Zx],["hollowBowtie",uR],["hollowDiamond",sR],["hollowHexagon",lR],["hollowPoint",iR],["hollowSquare",oR],["hollowTriangle",AR],["hollowTriangleDown",cR],["hv",mR],["hvh",bR],["hyphen",gR],["line",fR],["plus",pR],["point",Vx],["rect",aR],["smooth",yR],["square",Mv],["tick",hR],["triangleDown",qx],["triangle",Xx],["vh",wR],["vhv",BR]]);function Mdt(t,n){var{d:e,fill:r,lineWidth:i,path:a,stroke:o,color:s}=n,A=Fdt(n,["d","fill","lineWidth","path","stroke","color"]);const c=If.get(t)||If.get("point");return(...l)=>new sr({style:Object.assign(Object.assign({},A),{d:c(...l),stroke:c.style.includes("stroke")?s||o:"",fill:c.style.includes("fill")?s||r:"",lineWidth:c.style.includes("lineWidth")?i||i||2:0})})}function kdt(t,n){If.set(t,n)}function e2(t){return t.replace(/-(\w)/g,function(n,e){return e.toUpperCase()})}function Tdt(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}var Idt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function xR(t,n,e,r){if(n.length===1)return;const{size:i}=e;if(t==="fixed")return i;if(t==="normal"||W3(r)){const[[a,o],[s,A]]=n,c=Math.abs((s-a)/2),l=Math.abs((A-o)/2);return Math.max(0,(c+l)/2)}return i}const we=(t,n)=>{const{colorAttribute:e,symbol:r,mode:i="auto"}=t,a=Idt(t,["colorAttribute","symbol","mode"]),o=If.get(e2(r))||If.get("point"),{coordinate:s,document:A}=n;return(c,l,u)=>{const{lineWidth:f,color:d}=u,h=a.stroke?f||1:f,{color:p=d,transform:v,opacity:y}=l,[m,b]=zx(c),x=xR(i,c,l,s)||a.r||u.r;return Nt(A.createElement("path",{})).call(It,u).style("fill","transparent").style("d",o(m,b,x)).style("lineWidth",h).style("transform",v).style("transformOrigin",`${m-x} ${b-x}`).style("stroke",p).style(Kx(t),y).style(e,p).call(It,a).node()}};we.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const n2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),n);n2.props=Object.assign({defaultMarker:"hollowBowtie"},we.props);const r2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),n);r2.props=Object.assign({defaultMarker:"hollowDiamond"},we.props);const i2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),n);i2.props=Object.assign({defaultMarker:"hollowHexagon"},we.props);const a2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"point"},t),n);a2.props=Object.assign({defaultMarker:"hollowPoint"},we.props);const o2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"square"},t),n);o2.props=Object.assign({defaultMarker:"hollowSquare"},we.props);const s2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),n);s2.props=Object.assign({defaultMarker:"hollowTriangle"},we.props);const A2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),n);A2.props=Object.assign({defaultMarker:"hollowTriangleDown"},we.props);var Ldt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const CR=(t,n)=>{const{colorAttribute:e,mode:r="auto"}=t,i=Ldt(t,["colorAttribute","mode"]),{coordinate:a,document:o}=n;return(s,A,c)=>{const{lineWidth:l,color:u}=c,f=i.stroke?l||1:l,{color:d=u,transform:h,opacity:p}=A,[v,y]=zx(s),b=xR(r,s,A,a)||i.r||c.r;return Nt(o.createElement("circle",{})).call(It,c).style("fill","transparent").style("cx",v).style("cy",y).style("r",b).style("lineWidth",f).style("transform",h).style("transformOrigin",`${v} ${y}`).style("stroke",d).style(Kx(t),p).style(e,d).call(It,i).node()}},kv=(t,n)=>CR(Object.assign({colorAttribute:"fill"},t),n);kv.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const c2=(t,n)=>CR(Object.assign({colorAttribute:"stroke"},t),n);c2.props=Object.assign({defaultMarker:"hollowPoint"},kv.props);const l2=(t,n)=>we(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),n);l2.props=Object.assign({defaultMarker:"bowtie"},we.props);const u2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),n);u2.props=Object.assign({defaultMarker:"cross"},we.props);const f2=(t,n)=>we(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),n);f2.props=Object.assign({defaultMarker:"diamond"},we.props);const d2=(t,n)=>we(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),n);d2.props=Object.assign({defaultMarker:"hexagon"},we.props);const h2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),n);h2.props=Object.assign({defaultMarker:"hyphen"},we.props);const p2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"line"},t),n);p2.props=Object.assign({defaultMarker:"line"},we.props);const g2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),n);g2.props=Object.assign({defaultMarker:"plus"},we.props);const v2=(t,n)=>we(Object.assign({colorAttribute:"fill",symbol:"point"},t),n);v2.props=Object.assign({defaultMarker:"point"},we.props);const y2=(t,n)=>we(Object.assign({colorAttribute:"fill",symbol:"square"},t),n);y2.props=Object.assign({defaultMarker:"square"},we.props);const m2=(t,n)=>we(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),n);m2.props=Object.assign({defaultMarker:"tick"},we.props);const w2=(t,n)=>we(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),n);w2.props=Object.assign({defaultMarker:"triangle"},we.props);const b2=(t,n)=>we(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),n);b2.props=Object.assign({defaultMarker:"triangleDown"},we.props);var NM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const B2=(t,n)=>{const{arrow:e=!0,arrowSize:r="40%"}=t,i=NM(t,["arrow","arrowSize"]),{document:a}=n;return(o,s,A)=>{const{defaultColor:c}=A,l=NM(A,["defaultColor"]),{color:u=c,transform:f}=s,[d,h]=o,p=na();if(p.moveTo(...d),p.lineTo(...h),e){const[v,y]=mdt(d,h,{arrowSize:r});p.moveTo(...v),p.lineTo(...h),p.lineTo(...y)}return Nt(a.createElement("path",{})).call(It,l).style("d",p.toString()).style("stroke",u).style("transform",f).call(It,i).node()}};B2.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var g1=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Qdt(t){const{min:[n,e],max:[r,i]}=t.getLocalBounds();let a=0,o=0;return n>0&&(a=n),r<0&&(a=r),e>0&&(o=e),i<0&&(o=i),[a,o]}function Udt(t,n=[]){const[e=0,r=0,i=e,a=r]=n,o=t.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:A,halfExtents:c}=t.getLocalBounds(),[l,u]=A,[f,d]=c;return o.setEulerAngles(s),{x:l-a,y:u-e,width:f*2+a+r,height:d*2+e+i}}function Pdt(t,n,e,r,i=!0,a=!0){const o=u=>qA()(u);if(!n[0]&&!n[1])return o([Qdt(t),n]);if(!e.length)return o([[0,0],n]);const[s,A]=e,c=[...A],l=[...s];if(A[0]!==s[0]){const u=i?-4:4;c[1]=A[1],a&&!i&&(c[0]=Math.max(s[0],A[0]-u),A[1]<s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.max(l[0],c[0]-u))),!a&&!i&&(c[0]=Math.max(s[0],A[0]-u),A[1]>s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.max(l[0],c[0]-u))),!a&&i&&(c[0]=Math.min(s[0],A[0]-u),A[1]>s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.min(l[0],c[0]-u))),a&&i&&(c[0]=Math.min(s[0],A[0]-u),A[1]<s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.min(l[0],c[0]-u)))}return o([A,c,l,s,n])}const OR=yl(t=>{const n=t.attributes,{className:e,class:r,transform:i,rotate:a,labelTransform:o,labelTransformOrigin:s,x:A,y:c,x0:l=A,y0:u=c,text:f,background:d,connector:h,startMarker:p,endMarker:v,coordCenter:y,innerHTML:m}=n,b=g1(n,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(t.style.transform=`translate(${A}, ${c})`,[A,c,l,u].some(Q=>!rn(Q))){t.children.forEach(Q=>Q.remove());return}const B=wt(b,"background"),{padding:x}=B,C=g1(B,["padding"]),O=wt(b,"connector"),{points:_=[]}=O,S=g1(O,["points"]);let F;m?F=Nt(t).maybeAppend("html","html",e).style("zIndex",0).style("innerHTML",m).call(It,Object.assign({transform:o,transformOrigin:s},b)).node():F=Nt(t).maybeAppend("text","text").style("zIndex",0).style("text",f).call(It,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},b)).node();const M=Nt(t).maybeAppend("background","rect").style("zIndex",-1).call(It,Udt(F,x)).call(It,d?C:{}).node(),T=+l<y[0],k=+u<y[1],L=[+l-+A,+u-+c],U=Pdt(M,L,_,y,T,k),N=p&&new Fe({id:"startMarker",style:Object.assign({x:0,y:0},wt(b,"startMarker"))}),P=v&&new Fe({id:"endMarker",style:Object.assign({x:0,y:0},wt(b,"endMarker"))});Nt(t).maybeAppend("connector","path").style("zIndex",0).style("d",U).style("markerStart",N).style("markerEnd",P).call(It,h?S:{})}),ER=(t,n)=>{const{coordinate:e}=n;return(r,i,a)=>{const{color:o,text:s="",fontSize:A,rotate:c=0,transform:l=""}=i,u={text:String(s),stroke:o,fill:o,fontSize:A},[[f,d]]=r;return Nt(new OR).style("x",f).style("y",d).call(It,a).style("transform",`${l}rotate(${+c})`).style("coordCenter",e.getCenter()).call(It,u).call(It,t).node()}};ER.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var xb=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Rdt(t){const n=t/Math.sqrt(2),e=t*Math.sqrt(2),[r,i]=[-n,n-e],[a,o]=[0,0],[s,A]=[n,n-e];return[["M",r,i],["A",t,t,0,1,1,s,A],["L",a,o],["Z"]]}function Ndt(t){const{min:n,max:e}=t.getLocalBounds();return[(n[0]+e[0])*.5,(n[1]+e[1])*.5]}const Ddt=yl(t=>{const n=t.attributes,{class:e,x:r,y:i,transform:a}=n,o=xb(n,["class","x","y","transform"]),s=wt(o,"marker"),{size:A=24}=s,c=()=>Rdt(A/2),l=Nt(t).maybeAppend("marker",()=>new Fe({})).call(d=>d.node().update(Object.assign({symbol:c},s))).node(),[u,f]=Ndt(l);Nt(t).maybeAppend("text","text").style("x",u).style("y",f).call(It,o)}),_R=(t,n)=>{const e=xb(t,[]);return(r,i,a)=>{const{color:o}=a,s=xb(a,["color"]),{color:A=o,text:c=""}=i,l={text:String(c),stroke:A,fill:A},[[u,f]]=r;return Nt(new Ddt).call(It,s).style("transform",`translate(${u},${f})`).call(It,l).call(It,e).node()}};_R.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const SR=(t,n)=>{const{coordinate:e}=n;return(r,i,a)=>{const{color:o,text:s="",fontSize:A,rotate:c=0,transform:l=""}=i,u={text:String(s),stroke:o,fill:o,fontSize:A,textAlign:"center",textBaseline:"middle"},[[f,d]]=r;return Nt(new qi).style("x",f).style("y",d).call(It,a).style("transformOrigin","center center").style("transform",`${l}rotate(${c}deg)`).style("coordCenter",e.getCenter()).call(It,u).call(It,t).node()}};SR.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Hdt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function jdt(t,n){const e=[],r=[],i=[];let a=!1,o=null;const s=t.length/2;for(let A=0;A<s;A++){const c=t[A],l=t[A+s];if([...c,...l].some(u=>!n(u)))a=!0;else{if(e.push(c),r.push(l),a&&o){a=!1;const[u,f]=o;i.push([u,c,f,l])}o=[c,l]}}return[e.concat(r),i]}const DM=yl(t=>{const{areaPath:n,connectPath:e,areaStyle:r,connectStyle:i}=t.attributes,a=t.ownerDocument;Nt(t).maybeAppend("connect-path",()=>a.createElement("path",{})).style("d",e).call(It,i),Nt(t).maybeAppend("area-path",()=>a.createElement("path",{})).style("d",n).call(It,r)}),Ca=(t,n)=>{const{curve:e,gradient:r=!1,defined:i=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:a=!1}=t,o=Hdt(t,["curve","gradient","defined","connect"]),{coordinate:s,document:A}=n;return(c,l,u)=>{const{color:f}=u,{color:d=f,seriesColor:h,seriesX:p,seriesY:v}=l,y=nn(s),m=Y3(s,l),b=r&&h?V3(h,p,v,r,void 0,y):d,B=Object.assign(Object.assign(Object.assign(Object.assign({},u),{stroke:b,fill:b}),m&&{transform:m}),o),[x,C]=jdt(c,i),O=wt(B,"connect"),_=!!C.length,S=F=>Nt(A.createElement("path",{})).style("d",F||"").call(It,B).node();if(je(s)){const F=M=>{const T=s.getCenter(),k=M.slice(0,M.length/2),L=M.slice(M.length/2);return ddt().angle((U,N)=>gl(Tn(k[N],T))).outerRadius((U,N)=>bn(k[N],T)).innerRadius((U,N)=>bn(L[N],T)).defined((U,N)=>[...k[N],...L[N]].every(i)).curve(e)(L)};return!_||a&&!Object.keys(O).length?S(F(x)):_&&!a?S(F(c)):Nt(new DM).style("areaStyle",B).style("connectStyle",Object.assign(Object.assign({},O),o)).style("areaPath",F(c)).style("connectPath",C.map(F).join("")).node()}else{const F=M=>{const T=M.slice(0,M.length/2),k=M.slice(M.length/2);return y?bb().y((L,U)=>T[U][1]).x1((L,U)=>T[U][0]).x0((L,U)=>k[U][0]).defined((L,U)=>[...T[U],...k[U]].every(i)).curve(e)(T):bb().x((L,U)=>T[U][0]).y1((L,U)=>T[U][1]).y0((L,U)=>k[U][1]).defined((L,U)=>[...T[U],...k[U]].every(i)).curve(e)(T)};return!_||a&&!Object.keys(O).length?S(F(x)):_&&!a?S(F(c)):Nt(new DM).style("areaStyle",B).style("connectStyle",Object.assign(Object.assign({},O),o)).style("areaPath",F(c)).style("connectPath",C.map(F).join("")).node()}}};Ca.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const FR=(t,n)=>{const{coordinate:e}=n;return(...r)=>{const i=je(e)?$x:hd;return Ca(Object.assign({curve:i},t),n)(...r)}};FR.props=Object.assign(Object.assign({},Ca.props),{defaultMarker:"square"});var $dt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const MR=(t,n)=>{const e=$dt(t,[]),{coordinate:r}=n;return(...i)=>{const a=je(r)?P3:nn(r)?j3:H3;return Ca(Object.assign({curve:a},e),n)(...i)}};MR.props=Object.assign(Object.assign({},Ca.props),{defaultMarker:"smooth"});const kR=(t,n)=>(...e)=>Ca(Object.assign({curve:$3},t),n)(...e);kR.props=Object.assign(Object.assign({},Ca.props),{defaultMarker:"hvh"});const TR=(t,n)=>(...e)=>Ca(Object.assign({curve:G3},t),n)(...e);TR.props=Object.assign(Object.assign({},Ca.props),{defaultMarker:"vh"});const IR=(t,n)=>(...e)=>Ca(Object.assign({curve:K3},t),n)(...e);IR.props=Object.assign(Object.assign({},Ca.props),{defaultMarker:"hv"});const LR=(t,n)=>{const{arrow:e=!1}=t;return(...r)=>B2(Object.assign(Object.assign({},t),{arrow:e}),n)(...r)};LR.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var HM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const QR=(t,n)=>{const e=HM(t,[]),{document:r}=n;return(i,a,o)=>{const{color:s}=o,A=HM(o,["color"]),{color:c=s,transform:l}=a,[u,f]=i,d=na();return d.moveTo(u[0],u[1]),d.bezierCurveTo(u[0]/2+f[0]/2,u[1],u[0]/2+f[0]/2,f[1],f[0],f[1]),Nt(r.createElement("path",{})).call(It,A).style("d",d.toString()).style("stroke",c).style("transform",l).call(It,e).node()}};QR.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var jM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Gdt(t,n,e,r){const i=na();if(je(e)){const a=e.getCenter(),o=bn(t,a),A=(bn(n,a)-o)*r+o;return i.moveTo(t[0],t[1]),Tf(i,t,n,a,A),i.lineTo(n[0],n[1]),i}return nn(e)?(i.moveTo(t[0],t[1]),i.lineTo(t[0]+(n[0]-t[0])*r,t[1]),i.lineTo(t[0]+(n[0]-t[0])*r,n[1]),i.lineTo(n[0],n[1]),i):(i.moveTo(t[0],t[1]),i.lineTo(t[0],t[1]+(n[1]-t[1])*r),i.lineTo(n[0],t[1]+(n[1]-t[1])*r),i.lineTo(n[0],n[1]),i)}const UR=(t,n)=>{const{cornerRatio:e=1/3}=t,r=jM(t,["cornerRatio"]),{coordinate:i,document:a}=n;return(o,s,A)=>{const{defaultColor:c}=A,l=jM(A,["defaultColor"]),{color:u=c,transform:f}=s,[d,h]=o,p=Gdt(d,h,i,e);return Nt(a.createElement("path",{})).call(It,l).style("d",p.toString()).style("stroke",u).style("transform",f).call(It,r).node()}};UR.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var $M=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const PR=(t,n)=>{const e=$M(t,[]),{coordinate:r,document:i}=n;return(a,o,s)=>{const{color:A}=s,c=$M(s,["color"]),{color:l=A,transform:u}=o,[f,d]=a,h=na();if(h.moveTo(f[0],f[1]),je(r)){const p=r.getCenter();h.quadraticCurveTo(p[0],p[1],d[0],d[1])}else{const p=B3(f,d),v=bn(f,d)/2;Tf(h,f,d,p,v)}return Nt(i.createElement("path",{})).call(It,c).style("d",h.toString()).style("stroke",l).style("transform",u).call(It,e).node()}};PR.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function RR(t={}){const{shapes:n}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:n},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Qr(t={}){return[...RR(t),{name:"title",scale:"identity"}]}function jo(){return[{type:yv,channel:"color"},{type:mv,channel:["x","y"]}]}function kl(){return[{type:yv,channel:"x"},{type:mv,channel:["y"]}]}function Kdt(){return[{type:yv,channel:"color"},{type:mv,channel:["position"]}]}function Tl(t={}){return RR(t)}function Ln(){return[{type:Y4}]}function Hn(){return[]}function v1(t,n){return t.getBandWidth(t.invert(n))}function js(t,n,e={}){const{x:r,y:i,series:a}=n,{x:o,y:s,series:A}=t,{style:{bandOffset:c=A?0:.5,bandOffsetX:l=c,bandOffsetY:u=c}={}}=e,f=!!o?.getBandWidth,d=!!s?.getBandWidth,h=!!A?.getBandWidth;return!f&&!d?p=>p:(p,v)=>{const y=f?v1(o,r[v]):0,m=d?v1(s,i[v]):0,B=h&&a?(v1(A,a[v])/2+ +a[v])*y:0,[x,C]=p;return[x+l*y+B,C+u*m]}}function qg(t){return parseFloat(t)/100}function x2(t,n,e,r){const{x:i,y:a}=e,{innerWidth:o,innerHeight:s}=r.getOptions(),A=Array.from(t,c=>{const l=i[c],u=a[c],f=typeof l=="string"?qg(l)*o:+l,d=typeof u=="string"?qg(u)*s:+u;return[[f,d]]});return[t,A]}function Ya(t){return typeof t=="function"?t:n=>n[t]}function y1(t,n){return Array.from(t,Ya(n))}function zdt(t){return Array.isArray(t)?{links:t}:t&&typeof t=="object"?{links:t.links||[],nodes:t.nodes}:{links:[]}}function C2(t,n){const e=zdt(t),{source:r=u=>u.source,target:i=u=>u.target,value:a=u=>u.value}=n,{links:o,nodes:s}=e;if(!o.length)return{links:[],nodes:s||[]};const A=y1(o,r),c=y1(o,i),l=y1(o,a);return{links:o.map((u,f)=>({target:c[f],source:A[f],value:l[f]})),nodes:s||Array.from(new Set([...A,...c]),u=>({key:u}))}}var Wdt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const NR=(t,n)=>{const{coordinate:e,document:r}=n;return(i,a,o)=>{const{color:s}=o,A=Wdt(o,["color"]),{color:c=s,src:l="",size:u=32,transform:f=""}=a;let{width:d=u,height:h=u}=t;const[[p,v]]=i,[y,m]=e.getSize();d=typeof d=="string"?qg(d)*y:d,h=typeof h=="string"?qg(h)*m:h;const b=p-Number(d)/2,B=v-Number(h)/2;return Nt(r.createElement("image",{})).call(It,A).style("x",b).style("y",B).style("src",l).style("stroke",c).style("transform",f).call(It,t).style("width",d).style("height",h).node()}};NR.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Vdt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Ydt(t,n){const e=na();if(je(n)){const r=n.getCenter(),i=[...t,t[0]],a=i.map(o=>bn(o,r));return i.forEach((o,s)=>{if(s===0){e.moveTo(o[0],o[1]);return}const A=a[s],c=t[s-1],l=a[s-1];l!==void 0&&Math.abs(A-l)<1e-10?Tf(e,c,o,r,A):e.lineTo(o[0],o[1])}),e.closePath(),e}return ydt(e,t)}const DR=(t,n)=>{const{coordinate:e,document:r}=n;return(i,a,o)=>{const{color:s}=o,A=Vdt(o,["color"]),{color:c=s,transform:l}=a,u=Ydt(i,e);return Nt(r.createElement("path",{})).call(It,A).style("d",u.toString()).style("stroke",c).style("fill",c).style("transform",l).call(It,t).node()}};DR.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var GM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Xdt(t,n){const[e,r,i,a]=t,o=na();if(je(n)){const s=n.getCenter(),A=bn(s,e);return o.moveTo(e[0],e[1]),o.quadraticCurveTo(s[0],s[1],i[0],i[1]),Tf(o,i,a,s,A),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),Tf(o,r,e,s,A),o.closePath(),o}return o.moveTo(e[0],e[1]),o.bezierCurveTo(e[0]/2+i[0]/2,e[1],e[0]/2+i[0]/2,i[1],i[0],i[1]),o.lineTo(a[0],a[1]),o.bezierCurveTo(a[0]/2+r[0]/2,a[1],a[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(e[0],e[1]),o.closePath(),o}const HR=(t,n)=>{const e=GM(t,[]),{coordinate:r,document:i}=n;return(a,o,s)=>{const{color:A}=s,c=GM(s,["color"]),{color:l=A,transform:u}=o,f=Xdt(a,r);return Nt(i.createElement("path",{})).call(It,c).style("d",f.toString()).style("fill",l||A).style("stroke",l||A).style("transform",u).call(It,e).node()}};HR.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var qdt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Zdt(t,n){const e=na();if(!je(n))e.moveTo(...t[0]),e.lineTo(...t[1]),e.moveTo(...t[2]),e.lineTo(...t[3]),e.moveTo(...t[4]),e.lineTo(...t[5]),e.lineTo(...t[6]),e.lineTo(...t[7]),e.closePath(),e.moveTo(...t[8]),e.lineTo(...t[9]),e.moveTo(...t[10]),e.lineTo(...t[11]),e.moveTo(...t[12]),e.lineTo(...t[13]);else{const r=n.getCenter(),[i,a]=r,o=Zi(Tn(t[0],r)),s=Zi(Tn(t[1],r)),A=bn(r,t[2]),c=bn(r,t[3]),l=bn(r,t[8]),u=bn(r,t[10]),f=bn(r,t[11]);e.moveTo(...t[0]),e.arc(i,a,A,o,s),e.arc(i,a,A,s,o,!0),e.moveTo(...t[2]),e.lineTo(...t[3]),e.moveTo(...t[4]),e.arc(i,a,c,o,s),e.lineTo(...t[6]),e.arc(i,a,u,s,o,!0),e.closePath(),e.moveTo(...t[8]),e.arc(i,a,l,o,s),e.arc(i,a,l,s,o,!0),e.moveTo(...t[10]),e.lineTo(...t[11]),e.moveTo(...t[12]),e.arc(i,a,f,o,s),e.arc(i,a,f,s,o,!0)}return e}const jR=(t,n)=>{const{coordinate:e,document:r}=n;return(i,a,o)=>{const{color:s,transform:A}=a,{color:c,fill:l=c,stroke:u=c}=o,f=qdt(o,["color","fill","stroke"]),d=Zdt(i,e);return Nt(r.createElement("path",{})).call(It,f).style("d",d.toString()).style("stroke",u).style("fill",s||l).style("transform",A).call(It,t).node()}};jR.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Jdt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function tht(t,n,e=4){const r=na();if(!je(n))return r.moveTo(...t[2]),r.lineTo(...t[3]),r.lineTo(t[3][0]-e,t[3][1]),r.lineTo(t[10][0]-e,t[10][1]),r.lineTo(t[10][0]+e,t[10][1]),r.lineTo(t[3][0]+e,t[3][1]),r.lineTo(...t[3]),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(t[3][0]+e/2,t[8][1]),r.arc(t[3][0],t[8][1],e/2,0,Math.PI*2),r.closePath(),r;const i=n.getCenter(),[a,o]=i,s=bn(i,t[3]),A=bn(i,t[8]),c=bn(i,t[10]),l=Zi(Tn(t[2],i)),u=Math.asin(e/A),f=l-u,d=l+u;r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(Math.cos(f)*s+a,Math.sin(f)*s+o),r.arc(a,o,s,f,d),r.lineTo(Math.cos(d)*c+a,Math.sin(d)*c+o),r.arc(a,o,c,d,f,!0),r.lineTo(Math.cos(f)*s+a,Math.sin(f)*s+o),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]);const h=(f+d)/2;return r.moveTo(Math.cos(h)*(A+e/2)+a,Math.sin(h)*(A+e/2)+o),r.arc(Math.cos(h)*A+a,Math.sin(h)*A+o,e/2,h,Math.PI*2+h),r.closePath(),r}const $R=(t,n)=>{const{coordinate:e,document:r}=n;return(i,a,o)=>{const{color:s,transform:A}=a,c=4,{color:l,fill:u=l,stroke:f=l}=o,d=Jdt(o,["color","fill","stroke"]),h=tht(i,e,c);return Nt(r.createElement("path",{})).call(It,d).style("d",h.toString()).style("stroke",f).style("fill",s||u).style("transform",A).call(It,t).node()}};$R.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var KM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function eht(t,n,e){return t.createElement("path",{style:Object.assign({d:`M ${n},${n} L -${n},0 L ${n},-${n} L 0,0 Z`,transformOrigin:"center"},e)})}function nht(t,n){if(!je(n))return qA().x(r=>r[0]).y(r=>r[1])(t);const e=n.getCenter();return Nx()({startAngle:0,endAngle:Math.PI*2,outerRadius:bn(t[0],e),innerRadius:bn(t[1],e)})}function rht(t,n){if(!je(t))return n;const[e,r]=t.getCenter();return`translate(${e}, ${r}) ${n||""}`}const O2=(t,n)=>{const{arrow:e,arrowSize:r=4}=t,i=KM(t,["arrow","arrowSize"]),{coordinate:a,document:o}=n;return(s,A,c)=>{const{color:l,lineWidth:u}=c,f=KM(c,["color","lineWidth"]),{color:d=l,size:h=u}=A,p=e?eht(o,r,Object.assign({fill:i.stroke||d,stroke:i.stroke||d},wt(i,"arrow"))):null,v=nht(s,a),y=rht(a,A.transform);return Nt(o.createElement("path",{})).call(It,f).style("d",v).style("stroke",d).style("lineWidth",h).style("transform",y).style("markerEnd",p).call(It,i).node()}};O2.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var zM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function iht(t,n,e){return[["M",t,n],["L",t+2*e,n-e],["L",t+2*e,n+e],["Z"]]}function aht(t){return qA().x(n=>n[0]).y(n=>n[1])(t)}function oht(t,n,e,r,i,a,o=0){const[[s,A],[c,l]]=n;if(nn(t)){const v=s+e,y=c+r,m=v+o,b=A+i,B=l+a;return[[v,b],[m,b],[m,B],[y,B]]}const u=A-e,f=l-r,d=u-o,h=s-i,p=c-a;return[[h,u],[h,d],[p,d],[p,f]]}const GR=(t,n)=>{const{offsetX:e=0,sourceOffsetX:r=e,targetOffsetX:i=e,offsetY:a=0,sourceOffsetY:o=a,targetOffsetY:s=a,connectLength1:A,endMarker:c=!0}=t,l=zM(t,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:u}=n;return(f,d,h)=>{const{color:p,connectLength1:v}=h,y=zM(h,["color","connectLength1"]),{color:m,transform:b}=d,B=oht(u,f,o,s,r,i,A??v),x=wt(Object.assign(Object.assign({},l),h),"endMarker");return Nt(new sr).call(It,y).style("d",aht(B)).style("stroke",m||p).style("transform",b).style("markerEnd",c?new Fe({className:"marker",style:Object.assign(Object.assign({},x),{symbol:iht})}):null).call(It,l).node()}};GR.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function sht(t,n,e,r){const i=n.length/2,a=n.slice(0,i),o=n.slice(i);let s=Fl(a,(d,h)=>Math.abs(d[1]-o[h][1]));s=Math.max(Math.min(s,i-2),1);const A=d=>[a[d][0],(a[d][1]+o[d][1])/2],c=A(s),l=A(s-1),u=A(s+1),f=Zi(Tn(u,l))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${f})`,textAlign:"center",textBaseline:"middle"}}function KR(t,n,e,r){const{bounds:i}=e,[[a,o],[s,A]]=i,c=s-a,l=A-o,u=f=>{const{x:d,y:h}=f,p=SM(e.x,c),v=SM(e.y,l);return Object.assign(Object.assign({},f),{x:(p||d)+a,y:(v||h)+o})};return u(t==="left"?{x:0,y:l/2,textAlign:"start",textBaseline:"middle"}:t==="right"?{x:c,y:l/2,textAlign:"end",textBaseline:"middle"}:t==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:t==="bottom"?{x:c/2,y:l,textAlign:"center",textBaseline:"bottom"}:t==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:t==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:t==="bottom-left"?{x:0,y:l,textAlign:"start",textBaseline:"bottom"}:t==="bottom-right"?{x:c,y:l,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:l/2,textAlign:"center",textBaseline:"middle"})}function zR(t,n,e,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s}=e,A=r.getCenter(),c=ZA(r,n,[i,a]),{innerRadius:l,outerRadius:u,startAngle:f,endAngle:d}=c,h=t==="inside"?(f+d)/2:d,p=E2(h,o,s),v=(()=>{const[y,m]=n,b=l+(u-l)*.5,[B,x]=t==="inside"?Lf(A,h,b):B3(y,m);return{x:B,y:x}})();return Object.assign(Object.assign({},v),{textAlign:t==="inside"?"center":"start",textBaseline:"middle",rotate:p})}function Lf(t,n,e){return[t[0]+Math.sin(n)*e,t[1]-Math.cos(n)*e]}function E2(t,n,e){if(!n)return 0;const r=e?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+r}function Aht(t,n,e,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s,radius:A=.5,offset:c=0}=e,l=ZA(r,n,[i,a]),{startAngle:u,endAngle:f}=l,d=r.getCenter(),h=(u+f)/2,v={textAlign:"center",textBaseline:"middle",rotate:E2(h,o,s)},{innerRadius:y,outerRadius:m}=l,B=y+(m-y)*A+c,[x,C]=Lf(d,h,B);return Object.assign({x,y:C},v)}function WM(t){return t===void 0?null:t}function WR(t,n,e,r){const{bounds:i}=e,[a]=i;return{x:WM(a[0]),y:WM(a[1])}}function bo(t,n,e,r){const{bounds:i}=e;return i.length===1?WR(t,n,e):(Ov(r)?zR:Ml(r)?Aht:KR)(t,n,e,r)}function cht(t,n,e,r,i){const[a,o]=Lf(t,n,e),[s,A]=Lf(t,n,r),c=Math.sin(n)>0?1:-1;return[[a,o],[s,A],[s+c*i,A]]}function VR(t,n,e){const r=ZA(e,t,[n.y,n.y1]),{innerRadius:i,outerRadius:a}=r;return i+(a-i)}function YR(t,n,e){const r=ZA(e,t,[n.y,n.y1]),{startAngle:i,endAngle:a}=r;return(i+a)/2}function _2(t,n,e,r){const{autoRotate:i,rotateToAlignArc:a,offset:o=0,connector:s=!0,connectorLength:A=o,connectorLength2:c=0,connectorDistance:l=0}=e,u=r.getCenter(),f=YR(n,e,r),d=Math.sin(f)>0?1:-1,h=E2(f,i,a),p={textAlign:d>0||Ov(r)?"start":"end",textBaseline:"middle",rotate:h},v=VR(n,e,r),y=v+(s?A:o),[[m,b],[B,x],[C,O]]=cht(u,f,v,y,s?c:0),_=s?+l*d:0,S=C+_,F=O,M={connector:s,connectorPoints:[[B-S,x-F],[C-S,O-F]]};return Object.assign(Object.assign({x0:m,y0:b,x:C+_,y:O},p),M)}function lht(t,n,e,r){const{bounds:i}=e;return i.length===1?WR(t,n,e):(Ov(r)?zR:Ml(r)?_2:KR)(t,n,e,r)}function VM(t,n={}){const{labelHeight:e=14,height:r}=n,i=wa(t,c=>c.y),a=i.length,o=new Array(a);for(let c=0;c<a;c++){const l=i[c],{y:u}=l;o[c]={y:u,y1:u+e,labels:[u]}}let s=!0;for(;s;){s=!1;for(let c=o.length-1;c>0;c--){const l=o[c],u=o[c-1];if(u.y1>l.y){s=!0,u.labels.push(...l.labels),o.splice(c,1),u.y1+=l.y1-l.y;const f=u.y1-u.y;u.y1=Math.max(Math.min(u.y1,r),f),u.y=u.y1-f}}}let A=0;for(const c of o){const{y:l,labels:u}=c;let f=l-e;for(const d of u){const h=i[A++],v=f+e-d;h.connectorPoints[0][1]-=v,h.y=f+e,f+=e}}}function YM(t,n){const e=wa(t,s=>s.y),{height:r,labelHeight:i=14}=n,a=Math.ceil(r/i);if(e.length<=a)return VM(e,n);const o=[];for(let s=0;s<e.length;s++)s<e.length-a?(e[s].opacity=0,e[s].connector=!1):o.push(e[s]);VM(o,n)}var uht=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const bp=new WeakMap;function fht(t,n,e){const{connectorLength:r,connectorLength2:i,connectorDistance:a}=n,o=uht(_2("outside",t,n,e),[]),s=e.getCenter(),A=VR(t,n,e),c=YR(t,n,e),l=A+r+i,u=Math.sin(c)>0?1:-1,f=s[0]+(l+ +a)*u,{x:d}=o,h=f-d;return o.x+=h,o.connectorPoints[0][0]-=h,o}function dht(t,n,e,r,i,a){if(!Ml(r))return{};if(bp.has(n))return bp.get(n);const o=a.map(f=>fht(f,e,r)),{width:s,height:A}=r.getOptions(),c=o.filter(f=>f.x<s/2),l=o.filter(f=>f.x>=s/2),u=Object.assign(Object.assign({},i),{height:A});return YM(c,u),YM(l,u),o.forEach((f,d)=>bp.set(a[d],f)),bp.get(n)}var hht=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function pht(t,n,e,r){if(!Ml(r))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=e,s=hht(_2("outside",n,e,r),[]),{x0:A,y0:c}=s,l=r.getCenter(),f=gdt(r)+i,d=gl([A-l[0],c-l[1]]),h=Math.sin(d)>0?1:-1,[p,v]=Lf(l,d,f);return s.x=p+(a+o)*h,s.y=v,s}const ght=Object.freeze(Object.defineProperty({__proto__:null,area:sht,bottom:bo,bottomLeft:bo,bottomRight:bo,inside:bo,left:bo,outside:lht,right:bo,spider:dht,surround:pht,top:bo,topLeft:bo,topRight:bo},Symbol.toStringTag,{value:"Module"}));var XM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function vht(t,n){return t!==void 0?t:Ml(n)?"inside":nn(n)?"right":"top"}function yht(t,n,e,r,i,a){const{position:o}=n,{render:s}=i,A=vht(o,e),l=r[s?"htmlLabel":A==="inside"?"innerLabel":"label"],u=Object.assign({},l,n),f=ght[e2(A)];if(!f)throw new Error(`Unknown position: ${A}`);return Object.assign(Object.assign({},l),f(A,t,u,e,i,a))}const XR=(t,n)=>{const{coordinate:e,theme:r}=n,{render:i}=t;return(a,o,s,A)=>{const{text:c,x:l,y:u,transform:f="",transformOrigin:d,className:h=""}=o,p=XM(o,["text","x","y","transform","transformOrigin","className"]),v=yht(a,o,e,r,t,A),{rotate:y=0,transform:m=""}=v,b=XM(v,["rotate","transform"]);return Nt(new OR).call(It,b).style("text",`${c}`).style("className",`${h} g2-label`).style("innerHTML",i?i(c,o.datum,o.index):void 0).style("labelTransform",`${m} rotate(${+y}) ${f}`.trim()).style("labelTransformOrigin",d).style("coordCenter",e.getCenter()).call(It,p).node()}};XR.props={defaultMarker:"point"};var qM=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const S2=(t,n)=>{const{arrow:e,colorAttribute:r}=t,i=qM(t,["arrow","colorAttribute"]),{coordinate:a,document:o}=n;return(s,A,c)=>{const{color:l,stroke:u}=c,f=qM(c,["color","stroke"]),{d,color:h=l}=A,[p,v]=a.getSize();return Nt(o.createElement("path",{})).call(It,f).style("d",typeof d=="function"?d({width:p,height:v}):d).style(r,h).call(It,i).node()}};S2.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const qR=(t,n)=>S2(Object.assign({colorAttribute:"fill"},t),n);qR.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ZR=(t,n)=>S2(Object.assign({fill:"none",colorAttribute:"stroke"},t),n);ZR.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var mht=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const JR=(t,n)=>{const{document:e}=n;return(r,i,a)=>{const{transform:o}=i,{color:s}=a,A=mht(a,["color"]),{color:c=s}=i,[l,...u]=r,f=na();return f.moveTo(...l),u.forEach(([d,h])=>{f.lineTo(d,h)}),f.closePath(),Nt(e.createElement("path",{})).call(It,A).style("d",f.toString()).style("stroke",c||s).style("fill",c||s).style("fillOpacity",.4).style("transform",o).call(It,t).node()}};JR.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function tN(t){var n,e,r,i=t||1;function a(s,A){++n>i&&(r=e,o(1),++n),e[s]=A}function o(s){n=0,e=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return e[s]!==void 0||r[s]!==void 0},get:function(s){var A=e[s];if(A!==void 0)return A;if((A=r[s])!==void 0)return a(s,A),A},set:function(s,A){e[s]!==void 0?e[s]=A:a(s,A)}}}tN(3);function eN(t,n=(...r)=>`${r[0]}`,e=16){const r=tN(e);return(...i)=>{const a=n(...i);let o=r.get(a);return r.has(a)?r.get(a):(o=t(...i),r.set(a,o),o)}}function wht(t){return typeof t=="string"?t.split(" ").map(n=>{const[e,r]=n.split(":");return[+e,r]}):t}function Zg(t,n,e){const r=t?t():document.createElement("canvas");return r.width=n,r.height=e,r}const bht=eN((t,n,e)=>{const r=Zg(e,t*2,t*2),i=r.getContext("2d"),a=t,o=t;if(n===1)i.beginPath(),i.arc(a,o,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const s=i.createRadialGradient(a,o,t*n,a,o,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*t,2*t)}return r},t=>`${t}`);function Bht(t,n){const r=Zg(n,256,1).getContext("2d"),i=r.createLinearGradient(0,0,256,1);return wht(t).forEach(([a,o])=>{i.addColorStop(a,o)}),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function xht(t,n,e,r,i,a){const{blur:o}=i;let s=r.length;for(;s--;){const{x:A,y:c,value:l,radius:u}=r[s],f=Math.min(l,e),d=A-u,h=c-u,p=bht(u,1-o,a),v=(f-n)/(e-n);t.globalAlpha=Math.max(v,.001),t.drawImage(p,d,h)}return t}function Cht(t,n,e,r,i){const{minOpacity:a,opacity:o,maxOpacity:s,useGradientOpacity:A}=i,c=0,l=0,u=n,f=e,d=t.getImageData(c,l,u,f),h=d.data,p=h.length;for(let v=3;v<p;v+=4){const y=h[v],m=y*4;if(!m)continue;const b=o||Math.max(0,Math.min(s,Math.max(a,y)));h[v-3]=r[m],h[v-2]=r[m+1],h[v-1]=r[m+2],h[v]=A?r[m+3]:b}return d}function Oht(t,n,e,r,i,a,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},a);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const c=Zg(o,t,n).getContext("2d"),l=Bht(s.gradient,o);c.clearRect(0,0,t,n),xht(c,e,r,i,s,o);const u=Cht(c,t,n,l,s),d=Zg(o,t,n).getContext("2d");return d.putImageData(u,0,0),d}var Eht=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function _ht(t,n){return Object.keys(t).reduce((e,r)=>{const i=t[r];return n(i,r)||(e[r]=i),e},{})}const nN=(t,n)=>{const{gradient:e,opacity:r,maxOpacity:i,minOpacity:a,blur:o,useGradientOpacity:s}=t,A=Eht(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:l,document:u}=n;return(f,d,h)=>{const{transform:p}=d,[v,y]=c.getSize(),m=f.map(O=>({x:O[0],y:O[1],value:O[2],radius:O[3]})),b=bi(f,O=>O[2]),B=He(f,O=>O[2]),C=v&&y?Oht(v,y,b,B,m,_ht({gradient:e,opacity:r,minOpacity:a,maxOpacity:i,blur:o,useGradientOpacity:s},O=>O===void 0),l):{canvas:null};return Nt(u.createElement("image",{})).call(It,h).style("x",0).style("y",0).style("width",v).style("height",y).style("src",C.canvas.toDataURL()).style("transform",p).call(It,A).node()}};nN.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Sht=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const rN=(t,n)=>{const{render:e}=t,r=Sht(t,["render"]);return i=>{const[[a,o]]=i;return e(Object.assign(Object.assign({},r),{x:a,y:o}),n)}};rN.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ZM=5e3;function JM(t,n,e){return t+(n-t)*e}function Fht(t,n,e,r){return n===0?[[t+1/2*e/Math.PI/2,r/2],[t+1/2*e/Math.PI,r],[t+e/4,r]]:n===1?[[t+1/2*e/Math.PI/2*(Math.PI-2),r],[t+1/2*e/Math.PI/2*(Math.PI-1),r/2],[t+e/4,0]]:n===2?[[t+1/2*e/Math.PI/2,-r/2],[t+1/2*e/Math.PI,-r],[t+e/4,-r]]:[[t+1/2*e/Math.PI/2*(Math.PI-2),-r],[t+1/2*e/Math.PI/2*(Math.PI-1),-r/2],[t+e/4,0]]}function Mht(t,n,e,r,i,a,o){const s=Math.ceil(2*t/e*4)*4,A=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*e;const l=a-t+c-t*2;A.push(["M",l,n]);let u=0;for(let f=0;f<s;++f){const d=f%4,h=Fht(f*e/4,d,e,i);A.push(["C",h[0][0]+l,-h[0][1]+n,h[1][0]+l,-h[1][1]+n,h[2][0]+l,-h[2][1]+n]),f===s-1&&(u=h[2][0])}return A.push(["L",u+l,o+t]),A.push(["L",l,o+t]),A.push(["Z"]),A}function kht(t,n,e,r,i,a,o,s,A,c,l){const{fill:u,fillOpacity:f,opacity:d}=i;for(let h=0;h<r;h++){const p=r<=1?1:h/(r-1),v=Mht(s,o+s*e,A,0,s/40,t,n),y=l.createElement("path",{style:{d:v,fill:u,opacity:JM(.2,.9,p)*Number(d||f)}});a.appendChild(y);try{const m=[{transform:"translate(0, 0)"},{transform:`translate(${A*2}, 0)`}];y.animate(m,{duration:JM(.5*ZM,ZM,p)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function Tht(t,n,e){return`
      M ${t} ${n-e} 
      a ${e} ${e} 0 1 0 0 ${e*2}
      a ${e} ${e} 0 1 0 0 ${-e*2}
      Z
    `}function Iht(t,n,e){const i=e*.618;return`
      M ${t-i} ${n-e}
      L ${t+i} ${n-e}
      L ${t+i} ${n+e}
      L ${t-i} ${n+e}
      Z
    `}function Lht(t,n,e){return`
      M ${t} ${n-e}
      L ${t+e} ${n}
      L ${t} ${n+e}
      L ${t-e} ${n}
      Z
    `}function Qht(t,n,e){return`
      M ${t} ${n-e}
      L ${t+e} ${n+e}
      L ${t-e} ${n+e}
      Z
    `}function Uht(t,n,e){const r=e*4/3,i=Math.max(r,e*2),a=r/2,o=t,s=a+n-i/2,A=Math.asin(a/((i-a)*.85)),c=Math.sin(A)*a,l=Math.cos(A)*a,u=o-l,f=s+c,d=t,h=s+a/Math.sin(A);return`
      M ${u} ${f}
      A ${a} ${a} 0 1 1 ${u+l*2} ${f}
      Q ${d} ${h} ${t} ${n+i/2}
      Q ${d} ${h} ${u} ${f}
      Z 
    `}const tk={pin:Uht,rect:Iht,circle:Tht,diamond:Lht,triangle:Qht};var ek=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Pht=(t="circle")=>tk[t]||tk.circle,iN=(t,n)=>{if(!n)return;const{coordinate:e}=n,{liquidOptions:r,styleOptions:i}=t,{liquidShape:a,percent:o}=r,{background:s,outline:A={},wave:c={}}=i,l=ek(i,["background","outline","wave"]),{border:u=2,distance:f=0}=A,d=ek(A,["border","distance"]),{length:h=192,count:p=3}=c;return(v,y,m)=>{const{document:b}=n.canvas,{color:B,fillOpacity:x}=m,C=Object.assign(Object.assign({fill:B},m),l),O=b.createElement("g",{}),[_,S]=e.getCenter(),F=e.getSize(),M=Math.min(...F)/2,T=or(a)?a:Pht(a),k=T(_,S,M,...F),L=T(_,S,M+u/2,...F);if(Object.keys(s).length){const P=b.createElement("path",{style:Object.assign({d:k,fill:"#fff"},s)});O.appendChild(P)}if(o>0){const P=b.createElement("path",{style:{d:L}});O.appendChild(P),O.style.clipPath=P,kht(_,S,1-o,p,C,O,P.getBBox().y,M*2,h,!0,b)}const U=b.createElement("path",{style:{d:k,fill:"transparent",lineWidth:u+2*f,stroke:"#fff"}}),N=b.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:k,stroke:B,strokeOpacity:x,lineWidth:u},C),d),{fill:"transparent"})});return O.appendChild(U),O.appendChild(N),O}};iN.props={};const nk=(t,n)=>Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))/2,Rht=(t,n,e)=>{const r=Math.atan2(t[1]-e[1],t[0]-e[0]);let a=Math.atan2(n[1]-e[1],n[0]-e[0])-r;return a<0&&(a+=Math.PI*2),a},Nht=(t,n)=>{if(!n)return;const{coordinate:e}=n;if(!e?.getCenter)return;const r=e.getCenter();return(i,a,o)=>{const{document:s}=n.canvas,{color:A,index:c}=a,l=s.createElement("g",{}),u=nk(i[0],i[1]),f=nk(i[0],r)*2,d=Rht(i[3],i[0],r)>Math.PI,h=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...i[0]],["A",u,u,0,1,0,...i[1]],["A",f+u*2,f+u*2,0,d?1:0,0,...i[2]],["A",u,u,0,1,c===0?0:1,...i[3]],["A",f,f,0,d?1:0,1,...i[0]],["Z"]]},o),_B(t,["shape","last","first"])),{fill:A||o.color})});return l.appendChild(h),l}},rk="main-layer",Cb="label-layer",Ua="element",Jg="view",ks="plot",ik="component",Ob="label",ak="area",m1="axis-breaks",aN="axis-breaks-group";var Bp=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},Dht=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Hht=.03,jht={fill:"#fff",stroke:"#aaa",lineDash:"4 3",lineWidth:.5,fillOpacity:1,strokeOpacity:1},dA=0,$ht=(t,n,e,r,i,a)=>{const o=[],s=[],A=r-1;for(let c=1;c<A;c++){const l=c/A*n,u=t+(c%2===0?e:-e);o.push(`${l},${u}`),s.push(`${l},${i?u-a:u+a}`)}return o.push(`${n},${t}`),s.push(`${n+a},${t}`),[o,s]},oN=(t,n)=>{const{context:e,selection:r,view:i}=n,a=r.select(`.${ks}`).node(),{document:o}=e.canvas,{scale:s}=i,A=new Map,c=(u,f,d)=>Bp(void 0,void 0,void 0,function*(){const{update:h,setState:p}=e.externals;p("options",v=>{const{marks:y}=v;if(!y||!y.length)return v;const m=y.map(b=>{const B=$t(b,"scale.y.breaks",[]),x=B.filter(C=>C.start!==f&&C.end!==d&&!C.collapsed);return B.forEach(C=>{C.start===f&&C.end===d&&(C.collapsed=!0)}),console.log("breaks group:",B,x),at({},b,{scale:{y:{breaks:x}}})});return A.set(u,{start:f,end:d}),Object.assign(Object.assign({},v),{marks:m})}),yield h()}),l=()=>Bp(void 0,void 0,void 0,function*(){if(!A.size)return;const{update:u,setState:f}=e.externals;f("options",d=>{const{marks:h}=d,p=h.map(v=>{const y=$t(v,"scale.y.breaks",[]);return N0(v,"scale.y.breaks",y.map(m=>Object.assign(Object.assign({},m),{collapsed:!1}))),v});return A.clear(),Object.assign(Object.assign({},d),{marks:p})}),yield u()});return u=>{const{key:f,start:d,end:h,gap:p=Hht,vertices:v=50,lineWidth:y=.5,verticeOffset:m=3}=u,b=Dht(u,["key","start","end","gap","vertices","lineWidth","verticeOffset"]),B=o.createElement("g",{id:`break-group-${f}`,className:aN}),x=$t(s,"x.sortedDomain",[]),C=s.y.getOptions(),{range:O,domain:_}=C,S=_.indexOf(d),F=_.indexOf(h),{width:M,height:T}=a.getBBox();if(S===-1||F===-1||!x.length)return B;const k=O[0]>O[1],L=O[S]*T,U=O[F]*T;let N="",P="";for(const[R,{y:H,isLower:G}]of[{y:U,isLower:!1},{y:L,isLower:!0}].entries()){const K=k?y:-y,[W,X]=$ht(H,M-dA,m,v,G,K);R===0?(N=`M ${dA},${H} L ${W.join(" L ")} `,P=`M ${dA-y},${H+K} L ${X.join(" L ")} `):(N+=`L ${M-dA},${H} L ${[...W].reverse().join(" L ")} L ${dA},${H} Z`,P+=`L ${M-dA+y+2},${H-K} L ${[...X].reverse().join(" L ")} L ${dA-y},${H-K} Z`)}const Q=Object.assign(Object.assign({},jht),b);try{const R=new sr({style:Object.assign(Object.assign({},Q),{d:N})}),H=new sr({style:Object.assign(Object.assign({},Q),{d:P,lineWidth:0,cursor:"pointer"})});H.addEventListener("click",G=>Bp(void 0,void 0,void 0,function*(){G.stopPropagation(),G.detail===2&&(yield c(f,d,h))})),B.appendChild(R),B.appendChild(H),a.addEventListener("click",G=>Bp(void 0,void 0,void 0,function*(){G.detail===2&&(yield l())})),a.appendChild(B)}catch(R){console.error("Failed to create break path:",R)}return B}};oN.props={};function ok(t,n){return t.getBandWidth(t.invert(n))}const sk={rect:JA,hollow:Fv,funnel:Wx,pyramid:q3},sN=()=>(t,n,e,r)=>{const{x:i,y1:a,series:o,size:s}=e;let{y:A}=e;A=A.map(p=>p!==void 0?p:1);const c=n.x,l=n.series,[u]=r.getSize(),f=s?s.map(p=>+p/u):null,d=s?(p,v,y)=>{const m=p+v/2,b=f[y];return[m-b/2,m+b/2]}:(p,v,y)=>[p,p+v],h=Array.from(t,p=>{const v=ok(c,i[p]),y=l?ok(l,o?.[p]):1,m=v*y,b=(+o?.[p]||0)*v,B=+i[p]+b,[x,C]=d(B,m,p),O=+A[p],_=+a[p];return[[x,O],[C,O],[C,_],[x,_]].map(k=>r.map(k))});return[t,h]};sN.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:sk,channels:[...Qr({shapes:Object.keys(sk)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...Ln(),{type:sd},{type:Ds}],postInference:[...Hn(),...kl()],interaction:{shareTooltip:!0}};const Ak={rect:JA,hollow:Fv},AN=()=>(t,n,e,r)=>{const{x:i,x1:a,y:o,y1:s}=e,A=Array.from(t,c=>{const l=[+i[c],+o[c]],u=[+a[c],+o[c]],f=[+a[c],+s[c]],d=[+i[c],+s[c]];return[l,u,f,d].map(h=>r.map(h))});return[t,A]};AN.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:Ak,channels:[...Qr({shapes:Object.keys(Ak)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ln(),{type:sd}],postInference:[...Hn(),...kl()],interaction:{shareTooltip:!0}};const ck={line:Z3,smooth:J3,hv:tR,vh:eR,hvh:nR,trail:rR},Ght=(t,n,e,r)=>{var i,a;const{series:o,x:s,y:A}=e,{x:c,y:l}=n;if(s===void 0||A===void 0)throw new Error("Missing encode for x or y channel.");const u=o?Array.from(Je(t,v=>o[v]).values()):[t],f=u.map(v=>v[0]).filter(v=>v!==void 0),d=(((i=c?.getBandWidth)===null||i===void 0?void 0:i.call(c))||0)/2,h=(((a=l?.getBandWidth)===null||a===void 0?void 0:a.call(l))||0)/2,p=Array.from(u,v=>v.map(y=>r.map([+s[y]+d,+A[y]+h])));return[f,p,u]},Kht=(t,n,e,r)=>{const i=Object.entries(e).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(i.length===0)throw new Error("Missing encode for position channel.");je(r)&&i.push(i[0]);const a=Array.from(t,o=>{const s=i.map(l=>+l[o]),A=r.map(s),c=[];for(let l=0;l<A.length;l+=2)c.push([A[l],A[l+1]]);return c});return[t,a]},cN=()=>(t,n,e,r)=>(Ev(r)?Kht:Ght)(t,n,e,r);cN.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:ck,channels:[...Qr({shapes:Object.keys(ck)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Ln(),{type:r3},{type:Tx}],postInference:[...Hn(),...kl(),...Kdt()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const lk={hollow:a2,hollowDiamond:r2,hollowHexagon:i2,hollowSquare:o2,hollowTriangleDown:A2,hollowTriangle:s2,hollowBowtie:n2,hollowCircle:c2,point:v2,plus:g2,diamond:f2,square:y2,triangle:w2,hexagon:d2,cross:u2,bowtie:l2,hyphen:h2,line:p2,tick:m2,triangleDown:b2,circle:kv},lN=t=>(n,e,r,i)=>{const{x:a,y:o,x1:s,y1:A,size:c,dx:l,dy:u}=r,[f,d]=i.getSize(),h=js(e,r,t),p=y=>{const m=+(l?.[y]||0),b=+(u?.[y]||0),B=s?(+a[y]+ +s[y])/2:+a[y],x=A?(+o[y]+ +A[y])/2:+o[y],C=B+m,O=x+b;return[C,O]},v=c?Array.from(n,y=>{const[m,b]=p(y),B=+c[y],x=B/f,C=B/d,O=[m-x,b-C],_=[m+x,b+C];return[i.map(h(O,y)),i.map(h(_,y))]}):Array.from(n,y=>[i.map(h(p(y),y))]);return[n,v]};lN.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:lk,channels:[...Qr({shapes:Object.keys(lk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...Ln(),{type:Ds},{type:fd}],postInference:[...Hn(),{type:kx},...jo()]};const uk={text:ER,badge:_R,tag:SR},uN=t=>{const{cartesian:n=!1}=t;return n?x2:((e,r,i,a)=>{const{x:o,y:s}=i,A=js(r,i,t),c=Array.from(e,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[e,c]})};uN.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:uk,channels:[...Qr({shapes:Object.keys(uk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...Ln(),{type:bv},{type:wv}],postInference:[...Hn(),...jo()]};const fk={cell:JA,hollow:Fv},fN=()=>(t,n,e,r)=>{const{x:i,y:a}=e,o=n.x,s=n.y,A=Array.from(t,c=>{const l=o.getBandWidth(o.invert(+i[c])),u=s.getBandWidth(s.invert(+a[c])),f=+i[c],d=+a[c],h=[f,d],p=[f+l,d],v=[f+l,d+u],y=[f,d+u];return[h,p,v,y].map(m=>r.map(m))});return[t,A]};fN.props={defaultShape:"cell",defaultLabelShape:"label",shape:fk,composite:!1,channels:[...Qr({shapes:Object.keys(fk)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...Ln(),{type:Ds},{type:fd},{type:Ix}],postInference:[...Hn(),...jo()]};const dk={area:FR,smooth:MR,hvh:kR,vh:TR,hv:IR},dN=()=>(t,n,e,r)=>{var i,a;const{x:o,y:s,y1:A,series:c}=e,{x:l,y:u}=n,f=c?Array.from(Je(t,y=>c[y]).values()):[t],d=f.map(y=>y[0]).filter(y=>y!==void 0),h=(((i=l?.getBandWidth)===null||i===void 0?void 0:i.call(l))||0)/2,p=(((a=u?.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,v=Array.from(f,y=>{const m=y.length,b=new Array(m*2);for(let B=0;B<y.length;B++){const x=y[B];b[B]=r.map([+o[x]+h,+s[x]+p]),b[m+B]=r.map([+o[x]+h,+A[x]+p])}return b});return[d,v,f]};dN.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:dk,channels:[...Qr({shapes:Object.keys(dk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Ln(),{type:Tx},{type:sd},{type:Ix}],postInference:[...Hn(),...kl()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const hk={link:LR,arc:PR,smooth:QR,vhv:UR},F2=t=>(n,e,r,i)=>{const{x:a,y:o,x1:s=a,y1:A=o}=r,c=js(e,r,t),l=n.map(u=>[i.map(c([+a[u],+o[u]],u)),i.map(c([+s[u],+A[u]],u))]);return[n,l]};F2.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:hk,channels:[...Qr({shapes:Object.keys(hk)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ln(),{type:Z4},{type:J4}],postInference:[...Hn(),...jo()]};const pk={image:NR},hN=t=>{const{cartesian:n}=t;return n?x2:(e,r,i,a)=>{const{x:o,y:s}=i,A=js(r,i,t),c=Array.from(e,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[e,c]}};hN.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:pk,channels:[...Qr({shapes:Object.keys(pk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...Ln(),{type:bv},{type:wv}],postInference:[...Hn(),...jo()]};const gk={polygon:DR,ribbon:HR},pN=()=>(t,n,e,r)=>{const i=Object.entries(e).filter(([s])=>s.startsWith("x")).map(([,s])=>s),a=Object.entries(e).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=t.map(s=>{const A=[];for(let c=0;c<i.length;c++){const l=i[c][s];if(l===void 0)break;const u=a[c][s];A.push(r.map([+l,+u]))}return A});return[t,o]};pN.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:gk,channels:[...Qr({shapes:Object.keys(gk)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ln()],postInference:[...Hn(),...jo()]};const vk={box:jR,violin:$R},gN=()=>(t,n,e,r)=>{const{x:i,y:a,y1:o,y2:s,y3:A,y4:c,series:l}=e,u=n.x,f=n.series,d=Array.from(t,h=>{const p=u.getBandWidth(u.invert(+i[h])),v=f?f.getBandWidth(f.invert(+l?.[h])):1,y=p*v,m=(+l?.[h]||0)*p,b=+i[h]+m+y/2,[B,x,C,O,_]=[+a[h],+o[h],+s[h],+A[h],+c[h]];return[[b-y/2,_],[b+y/2,_],[b,_],[b,O],[b-y/2,O],[b+y/2,O],[b+y/2,x],[b-y/2,x],[b-y/2,C],[b+y/2,C],[b,x],[b,B],[b-y/2,B],[b+y/2,B]].map(F=>r.map(F))});return[t,d]};gN.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:vk,channels:[...Qr({shapes:Object.keys(vk)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...Ln(),{type:Ds}],postInference:[...Hn(),...kl()],interaction:{shareTooltip:!0}};const yk={vector:B2},vN=()=>(t,n,e,r)=>{const{x:i,y:a,size:o,rotate:s}=e,[A,c]=r.getSize(),l=t.map(u=>{const f=+s[u]/180*Math.PI,d=+o[u],h=d/A,p=d/c,v=h*Math.cos(f),y=-p*Math.sin(f);return[r.map([+i[u]-v/2,+a[u]-y/2]),r.map([+i[u]+v/2,+a[u]+y/2])]});return[t,l]};vN.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:yk,channels:[...Qr({shapes:Object.keys(yk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...Ln()],postInference:[...Hn(),...jo()]};const mk={line:O2},yN=t=>(n,e,r,i)=>{const{y:a}=r,o=js(e,r,at({style:{bandOffset:0}},t)),s=Array.from(n,A=>{const c=[0,a[A]],l=[1,a[A]];return[c,l].map(u=>i.map(o(u,A)))});return[n,s]};yN.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:mk,channels:[...Tl({shapes:Object.keys(mk)}),{name:"y",required:!0}],preInference:[...Ln(),{type:X4}],postInference:[...Hn()]};const wk={line:O2},mN=t=>(n,e,r,i)=>{const{x:a}=r,o=js(e,r,at({style:{bandOffset:0}},t)),s=Array.from(n,A=>{const c=[a[A],1],l=[a[A],0];return[c,l].map(u=>i.map(o(u,A)))});return[n,s]};mN.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:wk,channels:[...Tl({shapes:Object.keys(wk)}),{name:"x",required:!0}],preInference:[...Ln(),{type:q4}],postInference:[...Hn()]};const bk={connector:GR},wN=(...t)=>F2(...t);wN.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:bk,channels:[...Tl({shapes:Object.keys(bk)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ln()],postInference:[...Hn()]};function Bk(t,n,e,r){if(n)return()=>[0,1];const{[t]:i,[`${t}1`]:a}=e;return o=>{var s;const A=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+a[o])))||0;return[i[o],a[o]+A]}}function M2(t={}){const{extendX:n=!1,extendY:e=!1}=t;return(r,i,a,o)=>{const s=Bk("x",n,a,i.x),A=Bk("y",e,a,i.y),c=Array.from(r,l=>{const[u,f]=s(l),[d,h]=A(l);return[[u,d],[f,d],[f,h],[u,h]].map(b=>o.map(b))});return[r,c]}}const xk={range:JA},bN=()=>M2();bN.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:xk,channels:[...Tl({shapes:Object.keys(xk)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ln()],postInference:[...Hn()]};const Ck={range:JA},BN=()=>M2({extendY:!0});BN.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:Ck,channels:[...Tl({shapes:Object.keys(Ck)}),{name:"x",required:!0}],preInference:[...Ln(),{type:t3}],postInference:[...Hn()]};const Ok={range:JA},xN=()=>M2({extendX:!0});xN.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:Ok,channels:[...Tl({shapes:Object.keys(Ok)}),{name:"y",required:!0}],preInference:[...Ln(),{type:e3}],postInference:[...Hn()]};function zht(t){return t.target.depth}function Wht(t){return t.depth}function Vht(t,n){return n-1-t.height}function t0(t,n){return t.sourceLinks.length?t.depth:n-1}function Yht(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?bi(t.sourceLinks,zht)-1:0}function xp(t){return function(){return t}}function Ek(t,n){return e0(t.source,n.source)||t.index-n.index}function _k(t,n){return e0(t.target,n.target)||t.index-n.index}function e0(t,n){return t.y0-n.y0}function w1(t){return t.value}function Xht(t){return t.index}function qht(t){return t.nodes}function Zht(t){return t.links}function Sk(t,n){const e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function Fk({nodes:t}){for(const n of t){let e=n.y0,r=e;for(const i of n.sourceLinks)i.y0=e+i.width/2,e+=i.width;for(const i of n.targetLinks)i.y1=r+i.width/2,r+=i.width}}function Jht(){let t=0,n=0,e=1,r=1,i=24,a=8,o,s=Xht,A=t0,c,l,u,f=qht,d=Zht,h=6;function p(N){const P={nodes:f(N),links:d(N)};return v(P),y(P),m(P),b(P),C(P),Fk(P),P}p.update=function(N){return Fk(N),N},p.nodeId=function(N){return arguments.length?(s=typeof N=="function"?N:xp(N),p):s},p.nodeAlign=function(N){return arguments.length?(A=typeof N=="function"?N:xp(N),p):A},p.nodeDepth=function(N){return arguments.length?(c=N,p):c},p.nodeSort=function(N){return arguments.length?(l=N,p):l},p.nodeWidth=function(N){return arguments.length?(i=+N,p):i},p.nodePadding=function(N){return arguments.length?(a=o=+N,p):a},p.nodes=function(N){return arguments.length?(f=typeof N=="function"?N:xp(N),p):f},p.links=function(N){return arguments.length?(d=typeof N=="function"?N:xp(N),p):d},p.linkSort=function(N){return arguments.length?(u=N,p):u},p.size=function(N){return arguments.length?(t=n=0,e=+N[0],r=+N[1],p):[e-t,r-n]},p.extent=function(N){return arguments.length?(t=+N[0][0],e=+N[1][0],n=+N[0][1],r=+N[1][1],p):[[t,n],[e,r]]},p.iterations=function(N){return arguments.length?(h=+N,p):h};function v({nodes:N,links:P}){N.forEach((R,H)=>{R.index=H,R.sourceLinks=[],R.targetLinks=[]});const Q=new Map(N.map(R=>[s(R),R]));if(P.forEach((R,H)=>{R.index=H;let{source:G,target:K}=R;typeof G!="object"&&(G=R.source=Sk(Q,G)),typeof K!="object"&&(K=R.target=Sk(Q,K)),G.sourceLinks.push(R),K.targetLinks.push(R)}),u!=null)for(const{sourceLinks:R,targetLinks:H}of N)R.sort(u),H.sort(u)}function y({nodes:N}){for(const P of N)P.value=P.fixedValue===void 0?Math.max(Yi(P.sourceLinks,w1),Yi(P.targetLinks,w1)):P.fixedValue}function m({nodes:N}){const P=N.length;let Q=new Set(N),R=new Set,H=0;for(;Q.size;){if(Q.forEach(G=>{G.depth=H;for(const{target:K}of G.sourceLinks)R.add(K)}),++H>P)throw new Error("circular link");Q=R,R=new Set}if(c){const G=Math.max(He(N,W=>W.depth)+1,0);let K;for(let W=0;W<N.length;W++)K=N[W],K.depth=c.call(null,K,G)}}function b({nodes:N}){const P=N.length;let Q=new Set(N),R=new Set,H=0;for(;Q.size;){if(Q.forEach(G=>{G.height=H;for(const{source:K}of G.targetLinks)R.add(K)}),++H>P)throw new Error("circular link");Q=R,R=new Set}}function B({nodes:N}){const P=Math.max(He(N,H=>H.depth)+1,0),Q=(e-t-i)/(P-1),R=new Array(P).fill(0).map(()=>[]);for(const H of N){const G=Math.max(0,Math.min(P-1,Math.floor(A.call(null,H,P))));H.layer=G,H.x0=t+G*Q,H.x1=H.x0+i,R[G]?R[G].push(H):R[G]=[H]}if(l)for(const H of R)H.sort(l);return R}function x(N){const P=bi(N,Q=>(r-n-(Q.length-1)*o)/Yi(Q,w1));for(const Q of N){let R=n;for(const H of Q){H.y0=R,H.y1=R+H.value*P,R=H.y1+o;for(const G of H.sourceLinks)G.width=G.value*P}R=(r-R+o)/(Q.length+1);for(let H=0;H<Q.length;++H){const G=Q[H];G.y0+=R*(H+1),G.y1+=R*(H+1)}k(Q)}}function C(N){const P=B(N);o=Math.min(a,(r-n)/(He(P,Q=>Q.length)-1)),x(P);for(let Q=0;Q<h;++Q){const R=Math.pow(.99,Q),H=Math.max(1-R,(Q+1)/h);_(P,R,H),O(P,R,H)}}function O(N,P,Q){for(let R=1,H=N.length;R<H;++R){const G=N[R];for(const K of G){let W=0,X=0;for(const{source:et,value:nt}of K.targetLinks){const Z=nt*(K.layer-et.layer);W+=L(et,K)*Z,X+=Z}if(!(X>0))continue;const Y=(W/X-K.y0)*P;K.y0+=Y,K.y1+=Y,T(K)}l===void 0&&G.sort(e0),G.length&&S(G,Q)}}function _(N,P,Q){for(let R=N.length,H=R-2;H>=0;--H){const G=N[H];for(const K of G){let W=0,X=0;for(const{target:et,value:nt}of K.sourceLinks){const Z=nt*(et.layer-K.layer);W+=U(K,et)*Z,X+=Z}if(!(X>0))continue;const Y=(W/X-K.y0)*P;K.y0+=Y,K.y1+=Y,T(K)}l===void 0&&G.sort(e0),G.length&&S(G,Q)}}function S(N,P){const Q=N.length>>1,R=N[Q];M(N,R.y0-o,Q-1,P),F(N,R.y1+o,Q+1,P),M(N,r,N.length-1,P),F(N,n,0,P)}function F(N,P,Q,R){for(;Q<N.length;++Q){const H=N[Q],G=(P-H.y0)*R;G>1e-6&&(H.y0+=G,H.y1+=G),P=H.y1+o}}function M(N,P,Q,R){for(;Q>=0;--Q){const H=N[Q],G=(H.y1-P)*R;G>1e-6&&(H.y0-=G,H.y1-=G),P=H.y0-o}}function T({sourceLinks:N,targetLinks:P}){if(u===void 0){for(const{source:{sourceLinks:Q}}of P)Q.sort(_k);for(const{target:{targetLinks:Q}}of N)Q.sort(Ek)}}function k(N){if(u===void 0)for(const{sourceLinks:P,targetLinks:Q}of N)P.sort(_k),Q.sort(Ek)}function L(N,P){let Q=N.y0-(N.sourceLinks.length-1)*o/2;for(const{target:R,width:H}of N.sourceLinks){if(R===P)break;Q+=H+o}for(const{source:R,width:H}of P.targetLinks){if(R===N)break;Q-=H}return Q}function U(N,P){let Q=P.y0-(P.targetLinks.length-1)*o/2;for(const{source:R,width:H}of P.targetLinks){if(R===N)break;Q+=H+o}for(const{target:R,width:H}of N.sourceLinks){if(R===P)break;Q-=H}return Q}return p}const tpt={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},ept={left:Wht,right:Vht,center:Yht,justify:t0};function npt(t){const n=typeof t;return n==="string"?ept[t]||t0:n==="function"?t:t0}const CN=t=>n=>{const{nodeId:e,nodeSort:r,nodeAlign:i,nodeWidth:a,nodePadding:o,nodeDepth:s,nodes:A,links:c,linkSort:l,iterations:u}=Object.assign({},tpt,t),f=Jht().nodeSort(r).linkSort(l).links(c).nodes(A).nodeWidth(a).nodePadding(o).nodeDepth(s).nodeAlign(npt(i)).iterations(u).extent([[0,0],[1,1]]);typeof e=="function"&&f.nodeId(e);const d=f(n),{nodes:h,links:p}=d,v=h.map(m=>{const{x0:b,x1:B,y0:x,y1:C}=m;return Object.assign(Object.assign({},m),{x:[b,B,B,b],y:[x,x,C,C]})}),y=p.map(m=>{const{source:b,target:B}=m,x=b.x1,C=B.x0,O=m.width/2;return Object.assign(Object.assign({},m),{x:[x,x,C,C],y:[m.y0+O,m.y0-O,m.y1+O,m.y1-O]})});return{nodes:v,links:y}};CN.props={};function no(t,n,e={},r=!1){if(No(t)||Array.isArray(t)&&r)return t;const i=wt(t,n);return at(e,i)}function n0(t,n={}){return No(t)||Array.isArray(t)||!ON(t)?t:at(n,t)}function ON(t){if(Object.keys(t).length===0)return!0;const{title:n,items:e}=t;return n!==void 0||e!==void 0}function ro(t,n){return typeof t=="object"?wt(t,n):t}var rpt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const ipt={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},Mk={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},kk={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},apt={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},EN=t=>{const{data:n,encode:e={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={},interaction:l,state:u={},viewStyle:f={}}=t,{links:d,nodes:h}=C2(n,e);if(!d||d.length===0)return[at({},Mk,{data:[],encode:{},scale:r,style:wt(i,"node"),viewStyle:f,labels:[],tooltip:!1,animate:!1,axis:!1,interaction:l,state:{}}),at({},kk,{data:[],encode:{},labels:[],style:wt(i,"link"),tooltip:!1,animate:!1,interaction:l,state:{}})];const p=wt(e,"node"),v=wt(e,"link"),{key:y=L=>L.key,color:m=y}=p,{links:b,nodes:B}=CN(Object.assign(Object.assign(Object.assign({},ipt),{nodeId:Ya(y)}),a))({links:d,nodes:h}),x=wt(i,"label"),{text:C=y,spacing:O=5}=x,_=rpt(x,["text","spacing"]),S=Ya(y),F=no(c,"node",{title:S,items:[{field:"value"}]},!0),M=no(c,"link",{title:"",items:[L=>({name:"source",value:S(L.source)}),L=>({name:"target",value:S(L.target)})]}),[T,k]=Object.entries(u).reduce((L,[U,N])=>{const P=Yp(N,"node","link"),Q=wt(N,"node");L[0][U]=Object.assign(Object.assign({},P),Q);const R=wt(N,"link");return L[1][U]=Object.assign(Object.assign({},P),R),L},[{},{}]);return[at({},Mk,{data:B,encode:Object.assign(Object.assign({},p),{color:m}),scale:r,style:wt(i,"node"),viewStyle:f,labels:[Object.assign(Object.assign(Object.assign({},apt),{text:C,dx:L=>L.x[0]<.5?O:-O}),_),...o],tooltip:F,animate:ro(A,"node"),axis:!1,interaction:l,state:T}),at({},kk,{data:b,encode:v,labels:s,style:Object.assign({fill:v.color?void 0:"#aaa",lineWidth:0},wt(i,"link")),tooltip:M,animate:ro(A,"link"),interaction:l,state:k})]};EN.props={};function opt(t,n){return n.value-t.value}function spt(t,n){return n.frequency-t.frequency}function Apt(t,n){return`${t.id}`.localeCompare(`${n.id}`)}function cpt(t,n){return`${t.name}`.localeCompare(`${n.name}`)}const lpt=Object.freeze(Object.defineProperty({__proto__:null,frequency:spt,id:Apt,name:cpt,weight:opt},Symbol.toStringTag,{value:"Module"})),upt={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function fpt(t){const{y:n,thickness:e,weight:r,marginRatio:i,id:a,source:o,target:s,sourceWeight:A,targetWeight:c,sortBy:l}=Object.assign(Object.assign({},upt),t);function u(v){const y=v.nodes.map(b=>Object.assign({},b)),m=v.edges.map(b=>Object.assign({},b));return f(y,m),d(y),h(y,m),p(y,m),{nodes:y,edges:m}}function f(v,y){y.forEach(B=>{B.source=o(B),B.target=s(B),B.sourceWeight=A(B),B.targetWeight=c(B)});const m=Je(y,B=>B.source),b=Je(y,B=>B.target);return v.forEach(B=>{B.id=a(B);const x=m.has(B.id)?m.get(B.id):[],C=b.has(B.id)?b.get(B.id):[];B.frequency=x.length+C.length,B.value=Yi(x,O=>O.sourceWeight)+Yi(C,O=>O.targetWeight)}),{nodes:v,edges:y}}function d(v,y){const m=typeof l=="function"?l:lpt[l];m&&v.sort(m)}function h(v,y){const m=v.length;if(!m)throw hl("Invalid nodes: it's empty!");if(!r){const x=1/m;return v.forEach((C,O)=>{C.x=(O+.5)*x,C.y=n}),{nodes:v,edges:y}}const b=i/(2*m),B=v.reduce((x,C)=>x+=C.value,0);return v.reduce((x,C)=>{C.weight=C.value/B,C.width=C.weight*(1-i),C.height=e;const O=b+x,_=O+C.width,S=n-e/2,F=S+e;return C.x=[O,_,_,O],C.y=[S,S,F,F],x+C.width+2*b},0),{nodes:v,edges:y}}function p(v,y){const m=new Map(v.map(x=>[x.id,x]));if(!r)return y.forEach(x=>{const C=o(x),O=s(x),_=m.get(C),S=m.get(O);_&&S&&(x.x=[_.x,S.x],x.y=[_.y,S.y])}),{nodes:v,edges:y};y.forEach(x=>{x.x=[0,0,0,0],x.y=[n,n,n,n]});const b=Je(y,x=>x.source),B=Je(y,x=>x.target);v.forEach(x=>{const{edges:C,width:O,x:_,y:S,value:F,id:M}=x,T=b.get(M)||[],k=B.get(M)||[];let L=0;T.map(U=>{const N=U.sourceWeight/F*O;U.x[0]=_[0]+L,U.x[1]=_[0]+L+N,L+=N}),k.forEach(U=>{const N=U.targetWeight/F*O;U.x[3]=_[0]+L,U.x[2]=_[0]+L+N,L+=N})})}return u}const k2=t=>n=>fpt(t)(n);k2.props={};var Tk=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const b1={y:0,thickness:.05,marginRatio:.1,id:t=>t.key,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null},dpt={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},hpt={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},ppt={position:"outside",fontSize:10},_N=(t,n)=>{const{data:e,encode:r={},scale:i,style:a={},layout:o={},nodeLabels:s=[],linkLabels:A=[],animate:c={},tooltip:l={}}=t,{nodes:u,links:f}=C2(e,r),d=wt(r,"node"),h=wt(r,"link"),{key:p=U=>U.key,color:v=p}=d,{linkEncodeColor:y=U=>U.source}=h,{nodeWidthRatio:m=b1.thickness,nodePaddingRatio:b=b1.marginRatio}=o,B=Tk(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:x,edges:C}=k2(Object.assign(Object.assign(Object.assign(Object.assign({},b1),{id:Ya(p),thickness:m,marginRatio:b}),B),{weight:!0}))({nodes:u,edges:f}),O=wt(a,"label"),{text:_=p}=O,S=Tk(O,["text"]),F=no(l,"node",{title:"",items:[U=>({name:U.key,value:U.value})]},!0),M=no(l,"link",{title:"",items:[U=>({name:`${U.source} -> ${U.target}`,value:U.value})]}),{height:T,width:k}=n,L=Math.min(T,k);return[at({},hpt,{data:C,encode:Object.assign(Object.assign({},h),{color:y}),labels:A,style:Object.assign({fill:y?void 0:"#aaa"},wt(a,"link")),tooltip:M,animate:ro(c,"link")}),at({},dpt,{data:x,encode:Object.assign(Object.assign({},d),{color:v}),scale:i,style:wt(a,"node"),coordinate:{type:"polar",outerRadius:(L-20)/L,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},ppt),{text:_}),S),...s],tooltip:F,animate:ro(c,"node"),axis:!1})]};_N.props={};const Ik={path:qR,hollow:ZR},SN=t=>(n,e,r,i)=>[n,n.map(()=>[[0,0]])];SN.props={defaultShape:"path",defaultLabelShape:"label",shape:Ik,composite:!1,channels:[...Qr({shapes:Object.keys(Ik)}),{name:"d",scale:"identity"}],preInference:[...Ln()],postInference:[...Hn()]};function gpt(t,n){return t.parent===n.parent?1:2}function vpt(t){return t.reduce(ypt,0)/t.length}function ypt(t,n){return t+n.x}function mpt(t){return 1+t.reduce(wpt,0)}function wpt(t,n){return Math.max(t,n.y)}function bpt(t){for(var n;n=t.children;)t=n[0];return t}function Bpt(t){for(var n;n=t.children;)t=n[n.length-1];return t}function xpt(){var t=gpt,n=1,e=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=vpt(d),f.y=mpt(d)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var A=bpt(a),c=Bpt(a),l=A.x-t(A,c)/2,u=c.x+t(c,A)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*n,f.y=(a.y-f.y)*e}:function(f){f.x=(f.x-l)/(u-l)*n,f.y=(1-(a.y?f.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,n=+a[0],e=+a[1],i):r?null:[n,e]},i.nodeSize=function(a){return arguments.length?(r=!0,n=+a[0],e=+a[1],i):r?[n,e]:null},i}function Cpt(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function Opt(){return this.eachAfter(Cpt)}function Ept(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function _pt(t,n){for(var e=this,r=[e],i,a,o=-1;e=r.pop();)if(t.call(n,e,++o,this),i=e.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Spt(t,n){for(var e=this,r=[e],i=[],a,o,s,A=-1;e=r.pop();)if(i.push(e),a=e.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;e=i.pop();)t.call(n,e,++A,this);return this}function Fpt(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function Mpt(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function kpt(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function Tpt(t){for(var n=this,e=Ipt(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function Ipt(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function Lpt(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function Qpt(){return Array.from(this)}function Upt(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function Ppt(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*Rpt(){var t=this,n,e=[t],r,i,a;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)e.push(r[i]);while(e.length)}function Il(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=Hpt)):n===void 0&&(n=Dpt);for(var e=new ml(t),r,i=[e],a,o,s,A;r=i.pop();)if((o=n(r.data))&&(A=(o=Array.from(o)).length))for(r.children=o,s=A-1;s>=0;--s)i.push(a=o[s]=new ml(o[s])),a.parent=r,a.depth=r.depth+1;return e.eachBefore(FN)}function Npt(){return Il(this).eachBefore(jpt)}function Dpt(t){return t.children}function Hpt(t){return Array.isArray(t)?t[1]:null}function jpt(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function FN(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function ml(t){this.data=t,this.depth=this.height=0,this.parent=null}ml.prototype=Il.prototype={constructor:ml,count:Opt,each:Ept,eachAfter:Spt,eachBefore:_pt,find:Fpt,sum:Mpt,sort:kpt,path:Tpt,ancestors:Lpt,descendants:Qpt,leaves:Upt,links:Ppt,copy:Npt,[Symbol.iterator]:Rpt};function qp(t){return t==null?null:MN(t)}function MN(t){if(typeof t!="function")throw new Error;return t}function gA(){return 0}function Qc(t){return function(){return t}}const $pt=1664525,Gpt=1013904223,Lk=4294967296;function Kpt(){let t=1;return()=>(t=($pt*t+Gpt)%Lk)/Lk}function zpt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wpt(t,n){let e=t.length,r,i;for(;e;)i=n()*e--|0,r=t[e],t[e]=t[i],t[i]=r;return t}function Vpt(t,n){for(var e=0,r=(t=Wpt(Array.from(t),n)).length,i=[],a,o;e<r;)a=t[e],o&&kN(o,a)?++e:(o=Xpt(i=Ypt(i,a)),e=0);return o}function Ypt(t,n){var e,r;if(B1(n,t))return[n];for(e=0;e<t.length;++e)if(Cp(n,t[e])&&B1(Uu(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Cp(Uu(t[e],t[r]),n)&&Cp(Uu(t[e],n),t[r])&&Cp(Uu(t[r],n),t[e])&&B1(TN(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Cp(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function kN(t,n){var e=t.r-n.r+Math.max(t.r,n.r,1)*1e-9,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function B1(t,n){for(var e=0;e<n.length;++e)if(!kN(t,n[e]))return!1;return!0}function Xpt(t){switch(t.length){case 1:return qpt(t[0]);case 2:return Uu(t[0],t[1]);case 3:return TN(t[0],t[1],t[2])}}function qpt(t){return{x:t.x,y:t.y,r:t.r}}function Uu(t,n){var e=t.x,r=t.y,i=t.r,a=n.x,o=n.y,s=n.r,A=a-e,c=o-r,l=s-i,u=Math.sqrt(A*A+c*c);return{x:(e+a+A/u*l)/2,y:(r+o+c/u*l)/2,r:(u+i+s)/2}}function TN(t,n,e){var r=t.x,i=t.y,a=t.r,o=n.x,s=n.y,A=n.r,c=e.x,l=e.y,u=e.r,f=r-o,d=r-c,h=i-s,p=i-l,v=A-a,y=u-a,m=r*r+i*i-a*a,b=m-o*o-s*s+A*A,B=m-c*c-l*l+u*u,x=d*h-f*p,C=(h*B-p*b)/(x*2)-r,O=(p*v-h*y)/x,_=(d*b-f*B)/(x*2)-i,S=(f*y-d*v)/x,F=O*O+S*S-1,M=2*(a+C*O+_*S),T=C*C+_*_-a*a,k=-(Math.abs(F)>1e-6?(M+Math.sqrt(M*M-4*F*T))/(2*F):T/M);return{x:r+C+O*k,y:i+_+S*k,r:k}}function Qk(t,n,e){var r=t.x-n.x,i,a,o=t.y-n.y,s,A,c=r*r+o*o;c?(a=n.r+e.r,a*=a,A=t.r+e.r,A*=A,a>A?(i=(c+A-a)/(2*c),s=Math.sqrt(Math.max(0,A/c-i*i)),e.x=t.x-i*r-s*o,e.y=t.y-i*o+s*r):(i=(c+a-A)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),e.x=n.x+i*r-s*o,e.y=n.y+i*o+s*r)):(e.x=n.x+e.r,e.y=n.y)}function Uk(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Pk(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,a=(n.y*e.r+e.y*n.r)/r;return i*i+a*a}function Op(t){this._=t,this.next=null,this.previous=null}function Zpt(t,n){if(!(a=(t=zpt(t)).length))return 0;var e,r,i,a,o,s,A,c,l,u,f;if(e=t[0],e.x=0,e.y=0,!(a>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(a>2))return e.r+r.r;Qk(r,e,i=t[2]),e=new Op(e),r=new Op(r),i=new Op(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(A=3;A<a;++A){Qk(e._,r._,i=t[A]),i=new Op(i),c=r.next,l=e.previous,u=r._.r,f=e._.r;do if(u<=f){if(Uk(c._,i._)){r=c,e.next=r,r.previous=e,--A;continue t}u+=c._.r,c=c.next}else{if(Uk(l._,i._)){e=l,e.next=r,r.previous=e,--A;continue t}f+=l._.r,l=l.previous}while(c!==l.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,o=Pk(e);(i=i.next)!==r;)(s=Pk(i))<o&&(e=i,o=s);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=Vpt(e,n),A=0;A<a;++A)e=t[A],e.x-=i.x,e.y-=i.y;return i.r}function Jpt(t){return Math.sqrt(t.value)}function tgt(){var t=null,n=1,e=1,r=gA;function i(a){const o=Kpt();return a.x=n/2,a.y=e/2,t?a.eachBefore(Rk(t)).eachAfter(x1(r,.5,o)).eachBefore(Nk(1)):a.eachBefore(Rk(Jpt)).eachAfter(x1(gA,1,o)).eachAfter(x1(r,a.r/Math.min(n,e),o)).eachBefore(Nk(Math.min(n,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=qp(a),i):t},i.size=function(a){return arguments.length?(n=+a[0],e=+a[1],i):[n,e]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Qc(+a),i):r},i}function Rk(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function x1(t,n,e){return function(r){if(i=r.children){var i,a,o=i.length,s=t(r)*n||0,A;if(s)for(a=0;a<o;++a)i[a].r+=s;if(A=Zpt(i,e),s)for(a=0;a<o;++a)i[a].r-=s;r.r=A+s}}}function Nk(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function IN(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function gd(t,n,e,r,i){for(var a=t.children,o,s=-1,A=a.length,c=t.value&&(r-n)/t.value;++s<A;)o=a[s],o.y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c}function egt(){var t=1,n=1,e=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=e,o.x1=t,o.y1=n/s,o.eachBefore(a(n,s)),r&&o.eachBefore(IN),o}function a(o,s){return function(A){A.children&&gd(A,A.x0,o*(A.depth+1)/s,A.x1,o*(A.depth+2)/s);var c=A.x0,l=A.y0,u=A.x1-e,f=A.y1-e;u<c&&(c=u=(c+u)/2),f<l&&(l=f=(l+f)/2),A.x0=c,A.y0=l,A.x1=u,A.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(e=+o,i):e},i}var ngt={depth:-1},Dk={},C1={};function rgt(t){return t.id}function igt(t){return t.parentId}function Eb(){var t=rgt,n=igt,e;function r(i){var a=Array.from(i),o=t,s=n,A,c,l,u,f,d,h,p,v=new Map;if(e!=null){const y=a.map((B,x)=>agt(e(B,x,i))),m=y.map(Hk),b=new Set(y).add("");for(const B of m)b.has(B)||(b.add(B),y.push(B),m.push(Hk(B)),a.push(C1));o=(B,x)=>y[x],s=(B,x)=>m[x]}for(l=0,A=a.length;l<A;++l)c=a[l],d=a[l]=new ml(c),(h=o(c,l,i))!=null&&(h+="")&&(p=d.id=h,v.set(p,v.has(p)?Dk:d)),(h=s(c,l,i))!=null&&(h+="")&&(d.parent=h);for(l=0;l<A;++l)if(d=a[l],h=d.parent){if(f=v.get(h),!f)throw new Error("missing: "+h);if(f===Dk)throw new Error("ambiguous: "+h);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(u)throw new Error("multiple roots");u=d}if(!u)throw new Error("no root");if(e!=null){for(;u.data===C1&&u.children.length===1;)u=u.children[0],--A;for(let y=a.length-1;y>=0&&(d=a[y],d.data===C1);--y)d.data=null}if(u.parent=ngt,u.eachBefore(function(y){y.depth=y.parent.depth+1,--A}).eachBefore(FN),u.parent=null,A>0)throw new Error("cycle");return u}return r.id=function(i){return arguments.length?(t=qp(i),r):t},r.parentId=function(i){return arguments.length?(n=qp(i),r):n},r.path=function(i){return arguments.length?(e=qp(i),r):e},r}function agt(t){t=`${t}`;let n=t.length;return _b(t,n-1)&&!_b(t,n-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function Hk(t){let n=t.length;if(n<2)return"";for(;--n>1&&!_b(t,n););return t.slice(0,n)}function _b(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if((e&1)===0)return!0}return!1}function ogt(t,n){return t.parent===n.parent?1:2}function O1(t){var n=t.children;return n?n[0]:t.t}function E1(t){var n=t.children;return n?n[n.length-1]:t.t}function sgt(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Agt(t){for(var n=0,e=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=n,a.m+=n,n+=a.s+(e+=a.c)}function cgt(t,n,e){return t.a.parent===n.parent?t.a:e}function Zp(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Zp.prototype=Object.create(ml.prototype);function lgt(t){for(var n=new Zp(t,0),e,r=[n],i,a,o,s;e=r.pop();)if(a=e._.children)for(e.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=e.children[o]=new Zp(a[o],o)),i.parent=e;return(n.parent=new Zp(null,0)).children=[n],n}function ugt(){var t=ogt,n=1,e=1,r=null;function i(c){var l=lgt(c);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)c.eachBefore(A);else{var u=c,f=c,d=c;c.eachBefore(function(m){m.x<u.x&&(u=m),m.x>f.x&&(f=m),m.depth>d.depth&&(d=m)});var h=u===f?1:t(u,f)/2,p=h-u.x,v=n/(f.x+h+p),y=e/(d.depth||1);c.eachBefore(function(m){m.x=(m.x+p)*v,m.y=m.depth*y})}return c}function a(c){var l=c.children,u=c.parent.children,f=c.i?u[c.i-1]:null;if(l){Agt(c);var d=(l[0].z+l[l.length-1].z)/2;f?(c.z=f.z+t(c._,f._),c.m=c.z-d):c.z=d}else f&&(c.z=f.z+t(c._,f._));c.parent.A=s(c,f,c.parent.A||u[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,l,u){if(l){for(var f=c,d=c,h=l,p=f.parent.children[0],v=f.m,y=d.m,m=h.m,b=p.m,B;h=E1(h),f=O1(f),h&&f;)p=O1(p),d=E1(d),d.a=c,B=h.z+m-f.z-v+t(h._,f._),B>0&&(sgt(cgt(h,c,u),c,B),v+=B,y+=B),m+=h.m,v+=f.m,b+=p.m,y+=d.m;h&&!E1(d)&&(d.t=h,d.m+=m-y),f&&!O1(p)&&(p.t=f,p.m+=v-b,u=c)}return u}function A(c){c.x*=n,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,n=+c[0],e=+c[1],i):r?null:[n,e]},i.nodeSize=function(c){return arguments.length?(r=!0,n=+c[0],e=+c[1],i):r?[n,e]:null},i}function Tv(t,n,e,r,i){for(var a=t.children,o,s=-1,A=a.length,c=t.value&&(i-e)/t.value;++s<A;)o=a[s],o.x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c}var LN=(1+Math.sqrt(5))/2;function QN(t,n,e,r,i,a){for(var o=[],s=n.children,A,c,l=0,u=0,f=s.length,d,h,p=n.value,v,y,m,b,B,x,C;l<f;){d=i-e,h=a-r;do v=s[u++].value;while(!v&&u<f);for(y=m=v,x=Math.max(h/d,d/h)/(p*t),C=v*v*x,B=Math.max(m/C,C/y);u<f;++u){if(v+=c=s[u].value,c<y&&(y=c),c>m&&(m=c),C=v*v*x,b=Math.max(m/C,C/y),b>B){v-=c;break}B=b}o.push(A={value:v,dice:d<h,children:s.slice(l,u)}),A.dice?gd(A,e,r,i,p?r+=h*v/p:a):Tv(A,e,r,p?e+=d*v/p:i,a),p-=v,l=u}return o}const UN=(function t(n){function e(r,i,a,o,s){QN(n,r,i,a,o,s)}return e.ratio=function(r){return t((r=+r)>1?r:1)},e})(LN);function fgt(){var t=UN,n=!1,e=1,r=1,i=[0],a=gA,o=gA,s=gA,A=gA,c=gA;function l(f){return f.x0=f.y0=0,f.x1=e,f.y1=r,f.eachBefore(u),i=[0],n&&f.eachBefore(IN),f}function u(f){var d=i[f.depth],h=f.x0+d,p=f.y0+d,v=f.x1-d,y=f.y1-d;v<h&&(h=v=(h+v)/2),y<p&&(p=y=(p+y)/2),f.x0=h,f.y0=p,f.x1=v,f.y1=y,f.children&&(d=i[f.depth+1]=a(f)/2,h+=c(f)-d,p+=o(f)-d,v-=s(f)-d,y-=A(f)-d,v<h&&(h=v=(h+v)/2),y<p&&(p=y=(p+y)/2),t(f,h,p,v,y))}return l.round=function(f){return arguments.length?(n=!!f,l):n},l.size=function(f){return arguments.length?(e=+f[0],r=+f[1],l):[e,r]},l.tile=function(f){return arguments.length?(t=MN(f),l):t},l.padding=function(f){return arguments.length?l.paddingInner(f).paddingOuter(f):l.paddingInner()},l.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:Qc(+f),l):a},l.paddingOuter=function(f){return arguments.length?l.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):l.paddingTop()},l.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Qc(+f),l):o},l.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Qc(+f),l):s},l.paddingBottom=function(f){return arguments.length?(A=typeof f=="function"?f:Qc(+f),l):A},l.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:Qc(+f),l):c},l}function dgt(t,n,e,r,i){var a=t.children,o,s=a.length,A,c=new Array(s+1);for(c[0]=A=o=0;o<s;++o)c[o+1]=A+=a[o].value;l(0,s,t.value,n,e,r,i);function l(u,f,d,h,p,v,y){if(u>=f-1){var m=a[u];m.x0=h,m.y0=p,m.x1=v,m.y1=y;return}for(var b=c[u],B=d/2+b,x=u+1,C=f-1;x<C;){var O=x+C>>>1;c[O]<B?x=O+1:C=O}B-c[x-1]<c[x]-B&&u+1<x&&--x;var _=c[x]-b,S=d-_;if(v-h>y-p){var F=d?(h*S+v*_)/d:v;l(u,x,_,h,p,F,y),l(x,f,S,F,p,v,y)}else{var M=d?(p*S+y*_)/d:y;l(u,x,_,h,p,v,M),l(x,f,S,h,M,v,y)}}}function hgt(t,n,e,r,i){(t.depth&1?Tv:gd)(t,n,e,r,i)}const pgt=(function t(n){function e(r,i,a,o,s){if((A=r._squarify)&&A.ratio===n)for(var A,c,l,u,f=-1,d,h=A.length,p=r.value;++f<h;){for(c=A[f],l=c.children,u=c.value=0,d=l.length;u<d;++u)c.value+=l[u].value;c.dice?gd(c,i,a,o,p?a+=(s-a)*c.value/p:s):Tv(c,i,a,p?i+=(o-i)*c.value/p:o,s),p-=c.value}else r._squarify=A=QN(n,r,i,a,o,s),A.ratio=n}return e.ratio=function(r){return t((r=+r)>1?r:1)},e})(LN);function ggt(t,n){return Array.isArray(t)?typeof n=="function"?Eb().path(n)(t):Eb()(t):Il(t)}function PN(t,n=[t.data.name]){t.id=t.id||t.data.name,t.path=n,t.children&&t.children.forEach(e=>{e.id=`${t.id}/${e.data.name}`,e.path=[...n,e.data.name],PN(e,e.path)})}function RN(t){const n=$t(t,["data","name"]);n.replaceAll&&(t.path=n.replaceAll(".","/").split("/")),t.children&&t.children.forEach(e=>{RN(e)})}function vgt(t,n){const e={treemapBinary:dgt,treemapDice:gd,treemapSlice:Tv,treemapSliceDice:hgt,treemapSquarify:UN,treemapResquarify:pgt},r=t==="treemapSquarify"?e[t].ratio(n):e[t];if(!r)throw new TypeError("Invalid tile method!");return r}function NN(t,n,e){const{value:r}=e,i=vgt(n.tile,n.ratio),a=ggt(t,n.path);Nn(t)?RN(a):PN(a),r?a.sum(A=>n.ignoreParentValue&&A.children?0:Ya(r)(A)).sort(n.sort):a.count(),fgt().tile(i).size(n.size).round(n.round).paddingInner(n.paddingInner).paddingOuter(n.paddingOuter).paddingTop(n.paddingTop).paddingRight(n.paddingRight).paddingBottom(n.paddingBottom).paddingLeft(n.paddingLeft)(a);const o=a.descendants().map(A=>Object.assign(A,{id:A.id.replace(/^\//,""),x:[A.x0,A.x1],y:[A.y0,A.y1]}));return[o.filter(typeof n.layer=="function"?n.layer:A=>A.height===n.layer),o]}var ygt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const mgt=(t,n)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,n],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(e,r)=>r.value-e.value,layer:0}),wgt=(t,n)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:e=>e.path[1]},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,n],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),bgt={fontSize:10,text:t=>mi(t.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0,isTreemapLabel:!0},Bgt={title:t=>{var n,e;return(e=(n=t.path)===null||n===void 0?void 0:n.join)===null||e===void 0?void 0:e.call(n,".")},items:[{field:"value"}]},xgt={title:t=>mi(t.path),items:[{field:"value"}]},DN=(t,n)=>{const{width:e,height:r,options:i}=n,{data:a,encode:o={},scale:s,style:A={},layout:c={},labels:l=[],tooltip:u={}}=t,f=ygt(t,["data","encode","scale","style","layout","labels","tooltip"]),d=$t(i,["interaction","treemapDrillDown"])||$t(i,["marks",0,"interaction","treemapDrillDown"]),h=at({},mgt(e,r),c,{layer:d?m=>m.depth===1:c.layer}),[p,v]=NN(a,h,o),y=wt(A,"label");return at({},wgt(e,r),Object.assign(Object.assign({data:p,scale:s,style:A,labels:[Object.assign(Object.assign(Object.assign({},bgt),y),d&&{cursor:"pointer"}),...l]},f),{encode:o,tooltip:n0(u,Bgt),axis:!1}),d?{interaction:Object.assign(Object.assign({},f.interaction),{treemapDrillDown:d?Object.assign(Object.assign({},d),{originData:v,layout:h}):void 0}),encode:Object.assign({color:m=>mi(m.path)},o),tooltip:n0(u,xgt)}:{})};DN.props={};var Cgt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Ogt=(t,n)=>({size:[t,n],padding:0,sort:(e,r)=>r.value-e.value}),Egt=(t,n,e)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,n]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:e.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:e.color?void 0:r=>r.height===0?"":"#000"}}),_gt={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.r*2},Sgt={title:t=>t.data.name,items:[{field:"value"}]},Fgt=(t,n,e)=>{const{value:r}=e,i=Nn(t)?Eb().path(n.path)(t):Il(t);return r?i.sum(a=>Ya(r)(a)).sort(n.sort):i.count(),tgt().size(n.size).padding(n.padding)(i),i.descendants()},HN=(t,n)=>{const{width:e,height:r}=n,{data:i,encode:a={},scale:o={},style:s={},layout:A={},labels:c=[],tooltip:l={}}=t,u=Cgt(t,["data","encode","scale","style","layout","labels","tooltip"]),f=Egt(e,r,a),d=Fgt(i,at({},Ogt(e,r),A),at({},f.encode,a)),h=wt(s,"label");return at({},f,Object.assign(Object.assign({data:d,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},_gt),h),...c]},u),{tooltip:n0(l,Sgt),axis:!1}))};HN.props={};var jk=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Mgt(t,n){return bi(t,e=>n[e])}function kgt(t,n){return He(t,e=>n[e])}function jN(t,n){const e=T2(t,n)*2.5-I2(t,n)*1.5;return bi(t,r=>n[r]>=e?n[r]:NaN)}function T2(t,n){return fv(t,.25,e=>n[e])}function Tgt(t,n){return fv(t,.5,e=>n[e])}function I2(t,n){return fv(t,.75,e=>n[e])}function $N(t,n){const e=I2(t,n)*2.5-T2(t,n)*1.5;return He(t,r=>n[r]<=e?n[r]:NaN)}function Igt(){return(t,n)=>{const{encode:e}=n,{y:r,x:i}=e,{value:a}=r,{value:o}=i;return[Array.from(Je(t,c=>o[+c]).values()).flatMap(c=>{const l=jN(c,a),u=$N(c,a);return c.filter(f=>a[f]<l||a[f]>u)}),n]}}const GN=t=>{const{data:n,encode:e,style:r={},tooltip:i={},transform:a,animate:o}=t,s=jk(t,["data","encode","style","tooltip","transform","animate"]),{point:A=!0}=r,c=jk(r,["point"]),{y:l}=e,u={y:l,y1:l,y2:l,y3:l,y4:l},f={y1:T2,y2:Tgt,y3:I2},d=no(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),h=no(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!A)return Object.assign({type:"box",data:n,transform:[Object.assign(Object.assign({type:"groupX",y:Mgt},f),{y4:kgt})],encode:Object.assign(Object.assign({},e),u),style:c,tooltip:d},s);const p=wt(c,"box"),v=wt(c,"point");return[Object.assign({type:"box",data:n,transform:[Object.assign(Object.assign({type:"groupX",y:jN},f),{y4:$N})],encode:Object.assign(Object.assign({},e),u),style:p,tooltip:d,animate:ro(o,"box")},s),{type:"point",data:n,transform:[{type:Igt}],encode:e,style:Object.assign({},v),tooltip:h,animate:ro(o,"point")}]};GN.props={};const Lgt={shape:rN},KN=t=>{const{cartesian:n}=t;return n?x2:(e,r,i,a)=>{const{x:o,y:s}=i,A=js(r,i,t),c=Array.from(e,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[e,c]}};KN.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:Lgt,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ln(),{type:bv},{type:wv},{type:n3}]};var Qgt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Ugt={joint:!0},Pgt={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},Rgt={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},Ngt={text:""};function Dgt(t,n,e){const{nodes:r,links:i}=t,{joint:a,nodeStrength:o,linkStrength:s}=n,{nodeKey:A=h=>h.id,linkKey:c=h=>h.id}=e,l=Rot(),u=xot(i).id(Ya(c));typeof o=="function"&&l.strength(o),typeof s=="function"&&u.strength(s);const f=rP(r).force("link",u).force("charge",l);a?f.force("center",yot()):f.force("x",iP()).force("y",aP()),f.stop();const d=Math.ceil(Math.log(f.alphaMin())/Math.log(1-f.alphaDecay()));for(let h=0;h<d;h++)f.tick();return{nodesData:r,linksData:i}}const zN=t=>{const{data:n,encode:e={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={}}=t,{nodeKey:l=C=>C.id,linkKey:u=C=>C.id}=e,f=Qgt(e,["nodeKey","linkKey"]),d=Object.assign({nodeKey:l,linkKey:u},f),h=wt(d,"node"),p=wt(d,"link"),{links:v,nodes:y}=C2(n,d),{nodesData:m,linksData:b}=Dgt({links:v,nodes:y},at({},Ugt,a),d),B=no(c,"link",{items:[C=>({name:"source",value:Ya(u)(C.source)}),C=>({name:"target",value:Ya(u)(C.target)})]}),x=no(c,"node",{items:[C=>({name:"key",value:Ya(l)(C)})]},!0);return[at({},Pgt,{data:b,encode:p,labels:s,style:wt(i,"link"),tooltip:B,animate:ro(A,"link")}),at({},Rgt,{data:m,encode:Object.assign({},h),scale:r,style:wt(i,"node"),tooltip:x,labels:[Object.assign(Object.assign({},Ngt),wt(i,"label")),...o],animate:ro(A,"link")})]};zN.props={};const WN=t=>n=>e=>{const{field:r="value",nodeSize:i,separation:a,sortBy:o,as:s=["x","y"]}=n,[A,c]=s,l=Il(e,h=>h.children).sum(h=>h[r]).sort(o),u=t();u.size([1,1]),i&&u.nodeSize(i),a&&u.separation(a),u(l);const f=[];l.each(h=>{h[A]=h.x,h[c]=h.y,h.name=h.data.name,f.push(h)});const d=l.links();return d.forEach(h=>{h[A]=[h.source[A],h.target[A]],h[c]=[h.source[c],h.target[c]]}),{nodes:f,edges:d}},VN=t=>WN(xpt)(t);VN.props={};const YN=t=>WN(ugt)(t);YN.props={};const Hgt={sortBy:(t,n)=>n.value-t.value},jgt={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},$gt={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},Ggt={text:"",fontSize:10},XN=t=>{const{data:n,encode:e={},scale:r={},style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={}}=t,l=e?.value,{nodes:u,edges:f}=YN(Object.assign(Object.assign(Object.assign({},Hgt),a),{field:l}))(n),d=no(c,"node",{title:"name",items:["value"]},!0),h=no(c,"link",{title:"",items:[p=>({name:"source",value:p.source.name}),p=>({name:"target",value:p.target.name})]});return[at({},$gt,{data:f,encode:wt(e,"link"),scale:wt(r,"link"),labels:s,style:Object.assign({stroke:"#999"},wt(i,"link")),tooltip:h,animate:ro(A,"link")}),at({},jgt,{data:u,scale:wt(r,"node"),encode:wt(e,"node"),labels:[Object.assign(Object.assign({},Ggt),wt(i,"label")),...o],style:Object.assign({},wt(i,"node")),tooltip:d,animate:ro(A,"node")})]};XN.props={};var Kgt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},zgt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Wgt(t,n){const{text:e="text",value:r="value"}=n;return t.map(i=>Object.assign(Object.assign({},i),{text:i[e],value:i[r]}))}const Vgt=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:t=>t.fontFamily},tooltip:{items:[t=>({name:t.text,value:t.value})]}}),L2=(t,n)=>Kgt(void 0,void 0,void 0,function*(){const{width:e,height:r}=n,{data:i,encode:a={},scale:o,style:s={},layout:A={}}=t,c=zgt(t,["data","encode","scale","style","layout"]),l=Wgt(i,a);return at({},Vgt(),Object.assign(Object.assign({data:{value:l,transform:[Object.assign({type:"wordCloud",size:[e,r]},A)]},encode:a,scale:o,style:s},c),{axis:!1}))});L2.props={};var Zu=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Ygt=(t,n)=>{const{shape:e,radius:r}=t,i=Zu(t,["shape","radius"]),a=wt(i,"pointer"),o=wt(i,"pin"),{shape:s}=a,A=Zu(a,["shape"]),{shape:c}=o,l=Zu(o,["shape"]),{coordinate:u,theme:f}=n;return(d,h)=>{const p=d.map(L=>u.invert(L)),[v,y,m]=vdt(u,"polar"),b=u.clone(),{color:B}=h,x=px({startAngle:v,endAngle:y,innerRadius:m,outerRadius:r});x.push(["cartesian"]),b.update({transformations:x});const C=p.map(L=>b.map(L)),[O,_]=zx(C),[S,F]=u.getCenter(),M=Object.assign(Object.assign({x1:O,y1:_,x2:S,y2:F,stroke:B},A),i),T=Object.assign(Object.assign({cx:S,cy:F,stroke:B},l),i),k=Nt(new ur);return No(s)||(typeof s=="function"?k.append(()=>s(C,h,b,f)):k.append("line").call(It,M).node()),No(c)||(typeof c=="function"?k.append(()=>c(C,h,b,f)):k.append("circle").call(It,T).node()),k.node()}},$k={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},Xgt={style:{shape:Ygt,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},qgt={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function Zgt(t){if(rn(t)){const n=Math.max(0,Math.min(t,1));return{percent:n,target:n,total:1}}return t}function Jgt(t,n){const{name:e="score",target:r,total:i,percent:a,thresholds:o=[]}=Zgt(t),s=a||r,A=a?1:i,c=Object.assign({y:{domain:[0,A]}},n);return o.length?{targetData:[{x:e,y:s,color:"target"}],totalData:o.map((l,u)=>({x:e,y:u>=1?l-o[u-1]:l,color:u})),target:s,total:A,scale:c}:{targetData:[{x:e,y:s,color:"target"}],totalData:[{x:e,y:s,color:"target"},{x:e,y:A-s,color:"total"}],target:s,total:A,scale:c}}function t0t(t,{target:n,total:e}){const{content:r}=t;return r?r(n,e):n.toString()}const qN=t=>{const{data:n={},scale:e={},style:r={},animate:i={},transform:a=[]}=t,o=Zu(t,["data","scale","style","animate","transform"]),{targetData:s,totalData:A,target:c,total:l,scale:u}=Jgt(n,e),f=wt(r,"text"),{tooltip:d}=f,h=Zu(f,["tooltip"]),p=cft(r,["pointer","pin"]),v=wt(r,"arc"),y=v.shape;return[at({},$k,Object.assign({type:"interval",transform:[{type:"stackY"}],data:A,scale:u,style:y==="round"?Object.assign(Object.assign({},v),{shape:Nht}):v,animate:typeof i=="object"?wt(i,"arc"):i},o)),at({},$k,Xgt,Object.assign({type:"point",data:s,scale:u,style:p,animate:typeof i=="object"?wt(i,"indicator"):i},o)),at({},qgt,{style:Object.assign({text:t0t(h,{target:c,total:l})},h),tooltip:d,animate:typeof i=="object"?wt(i,"text"):i})]};qN.props={};const Gk={density:JR},ZN=()=>(t,n,e,r)=>{const{x:i,series:a}=e,o=Object.entries(e).filter(([u])=>u.startsWith("y")).map(([,u])=>u),s=Object.entries(e).filter(([u])=>u.startsWith("size")).map(([,u])=>u);if(i===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const A=n.x,c=n.series,l=Array.from(t,u=>{const f=A.getBandWidth(A.invert(+i[u])),d=c?c.getBandWidth(c.invert(+a?.[u])):1,h=f*d,p=(+a?.[u]||0)*f,v=+i[u]+p+h/2;return[...o.map((m,b)=>[v+ +s[b][u]/t.length,+o[b][u]]),...o.map((m,b)=>[v-+s[b][u]/t.length,+o[b][u]]).reverse()].map(m=>r.map(m))});return[t,l]};ZN.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:Gk,channels:[...Qr({shapes:Object.keys(Gk)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...Ln(),{type:sd},{type:Ds}],postInference:[...Hn(),...kl()],interaction:{shareTooltip:!0}};const Kk={heatmap:nN},JN=t=>(n,e,r,i)=>{const{x:a,y:o,size:s,color:A}=r,c=Array.from(n,l=>{const u=s?+s[l]:40;return[...i.map([+a[l],+o[l]]),A[l],u]});return[[0],[c]]};JN.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:Kk,channels:[...Qr({shapes:Object.keys(Kk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...Ln(),{type:Ds},{type:fd}],postInference:[...Hn(),...jo()]};var e0t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const n0t={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:iN},animate:{enter:{type:"fadeIn"}}},r0t={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},tD=t=>{const{data:n={},style:e={},animate:r}=t,i=e0t(t,["data","style","animate"]),a=Math.max(0,rn(n)?n:n?.percent),o=[{percent:a,type:"liquid"}],s=Object.assign(Object.assign({},wt(e,"text")),wt(e,"content")),A=wt(e,"outline"),c=wt(e,"wave"),l=wt(e,"background");return[at({},n0t,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:a,liquidShape:e?.shape},styleOptions:Object.assign(Object.assign({},e),{outline:A,wave:c,background:l})},animate:r},i)),at({},r0t,{style:Object.assign({text:`${Xg(a*100)} %`},s),animate:r})]};tD.props={};const zk={hollow:a2,hollowDiamond:r2,hollowHexagon:i2,hollowSquare:o2,hollowTriangleDown:A2,hollowTriangle:s2,hollowBowtie:n2,hollowCircle:c2,point:v2,plus:g2,diamond:f2,square:y2,triangle:w2,hexagon:d2,cross:u2,bowtie:l2,hyphen:h2,line:p2,tick:m2,triangleDown:b2,circle:kv},i0t=4,a0t=200,eD=t=>(n,e,r,i)=>{const{x:a,y:o,size:s}=r;if(!a.length||!o.length)return[n,o.map(()=>[[]])];const[A,c]=i.getSize(),l=js(e,r,t),u=Array.from(n,p=>{const v=+a[p]*A,y=+o[p]*c,m=+s[p]||i0t;return{i:p,x:v,y,r:m}}),f=rP(u).stop().force("collide",bot().radius(p=>p.r+1).strength(1));f.force("x",iP(p=>p.x).strength(0)),f.force("y",aP(p=>p.y).strength(5));for(let p=0;p<a0t;p++)f.tick();f.stop();const d=p=>{const v=u.find(y=>y.i===p);return[v.x/A,v.y/c]},h=s?Array.from(n,p=>{const[v,y]=d(p),m=+s[p],b=m/A,B=m/c,x=[v-b,y-B],C=[v+b,y+B];return[i.map(l(x,p)),i.map(l(C,p))]}):Array.from(n,p=>[i.map(l(d(p),p))]);return[n,h]};eD.props={defaultShape:"point",defaultLabelShape:"label",composite:!1,shape:zk,channels:[...Qr({shapes:Object.keys(zk)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"}],preInference:[...Ln(),{type:Ds},{type:fd}],postInference:[...Hn(),{type:kx},...jo()]};var o0t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function s0t(t,n={}){const{valueField:e="value",sort:r,fillParent:i=!0,nameField:a="name"}=n;if(!t||t.length===0)return[];const o=(c,l=null,u=0)=>{const f={data:c,depth:u,parent:l,children:[],x0:0,x1:0,value:c[e]||0};return c.children&&c.children.length>0&&(f.children=c.children.map(d=>o(d,f,u+1))),f},s=[];let A=0;return t.forEach(c=>{const l=o(c),u=(h,p=0,v=!1,y=0)=>{if(v||h.depth===0)h.x0=v?p:0,h.x1=h.x0+h.value;else if(h.x0=p,i&&y>0){const x=h.parent?h.parent.children.reduce((_,S)=>_+S.value,0):h.value,C=h.parent?h.parent.children.length:1,O=x>0?h.value/x:1/C;h.x1=p+y*O}else h.x1=p+h.value;let m=h.x0;const b=h.x1-h.x0,B=r?[...h.children].sort((x,C)=>r(x.data,C.data)):h.children;if(i&&B.length>0){const x=h.children.reduce((C,O)=>C+O.value,0);B.forEach(C=>{u(C,m,!1,b);const O=x>0?C.value/x:1/B.length;m+=b*O})}else B.forEach(x=>{u(x,m,!1,0),m+=x.x1-x.x0})};u(l,A,!0),A+=l.value;const f=h=>{var p,v,y;const m=x=>{var C;return(C=x[a])!==null&&C!==void 0?C:x.name},b=[m(h.data)];let B=h;for(;B.parent;)b.unshift(m(B.parent.data)),B=B.parent;return Object.assign(Object.assign({},Zf(h.data,[e])),{[nD]:b,[U2]:(y=(v=(p=B.parent)===null||p===void 0?void 0:p.data)===null||v===void 0?void 0:v[a])!==null&&y!==void 0?y:h.data[a],name:h.data[a],depth:h.depth,value:h.value,x:[h.x0,h.x1],y:[h.depth,h.depth+1],[r0]:h.children.length})},d=h=>{s.push(f(h)),h.children.forEach(d)};d(l)}),s}const Xc="partition",Q2="markType",nD="path",U2="ancestor-node",r0="childNodeCount";function A0t(t){const{data:n,encode:e,fillParent:r,sort:i}=t,{color:a,value:o,name:s}=e;return s0t(n,{valueField:o,fillParent:r,nameField:s,sort:i}).map(c=>{const l=Object.assign({},c);return a&&a!==U2&&(l[a]=c[a]),l})}const Wk={id:Xc,encode:{x:"x",y:"y",key:nD,color:U2,value:"value",name:"name"},labels:[{style:{pointerEvents:"none"},text:"value",position:"inside",transform:[{type:"overflowHide"}]}],axis:{x:{title:"Time/Order",label:!0},y:!1},style:{[Q2]:Xc,[r0]:"childNodeCount"},state:{active:{zIndex:2},inactive:{zIndex:1}},legend:!1,coordinate:{type:"cartesian",grid:!1},interaction:{drillDown:!0}},rD=t=>{const{encode:n,data:e=[],layout:r={}}=t,i=o0t(t,["encode","data","layout"]),{fillParent:a=!0,sort:o}=r,s=Object.assign(Object.assign({},Wk.encode),n),{value:A}=s,c=A0t({encode:s,data:e,fillParent:a,sort:o});return[at({},Wk,Object.assign({type:"rect",data:c,encode:s,tooltip:{title:"path",items:[l=>({name:A,value:l[A]})]},interaction:{elementHighlight:!0}},i))]};rD.props={};const iD=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];iD.props={};const aD=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];aD.props={};const oD=t=>new Mf(t);oD.props={};const sD=t=>new Ro(t);sD.props={};const AD=t=>new B4(t);AD.props={};const cD=t=>new E4(t);cD.props={};const lD=t=>new Hut(t);lD.props={};const uD=t=>new Zut(t);uD.props={};const fD=t=>new Wut(t);fD.props={};const dD=t=>new M4(t);dD.props={};const hD=t=>new pv(t);hD.props={};const pD=t=>new P4(t);pD.props={};const gD=t=>new Q4(t);gD.props={};const vD=t=>new Kut(t);vD.props={};const yD=t=>new yb(t);yD.props={};const mD=t=>new Ex(t);mD.props={};const $o="g2-";function wA(t){return`.${$o}${t}`}const c0t=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]],P2=["lineX","lineY","rangeX","rangeY","range","connector"];function R2({colorDefault:t,colorBlack:n,colorWhite:e,colorStroke:r,colorBackground:i,padding1:a,padding2:o,padding3:s,alpha90:A,alpha65:c,alpha45:l,alpha25:u,alpha10:f,category10:d,category20:h,sizeDefault:p=1,padding:v="auto",margin:y=16}){return{padding:v,margin:y,size:p,color:t,category10:d,category20:h,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:n,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:n,gridStrokeOpacity:f,labelAlign:"horizontal",labelFill:n,labelOpacity:l,labelFontSize:12,labelFontWeight:"normal",labelSpacing:a,line:!1,lineLineWidth:.5,lineStroke:n,lineStrokeOpacity:l,tickLength:4,tickLineWidth:1,tickStroke:n,tickOpacity:l,titleFill:n,titleOpacity:A,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:n,itemLabelFillOpacity:A,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,focusMarkerSize:12,itemSpacing:[a,a,a/2],itemValueFill:n,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:n,navButtonFillOpacity:.65,navPageNumFill:n,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:n,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:n,tickStrokeOpacity:.25,rowPadding:a,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:n,handleLabelFillOpacity:l,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:n,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:n,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:n,labelFillOpacity:l,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:A,tickStroke:n,tickStrokeOpacity:l},label:{fill:n,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:n,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:e,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:n,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:t,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:n,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:n,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:n,titleFillOpacity:A,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:n,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{[wA("tooltip")]:{"font-family":"sans-serif"}}}}}const l0t={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},u0t=R2(l0t),N2=t=>at({},u0t,t);N2.props={};const wD=t=>at({},N2(),{category10:"category10",category20:"category20"},t);wD.props={};const f0t={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},d0t=R2(f0t),bD=t=>at({},d0t,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{[wA("tooltip")]:{background:"#1f1f1f",opacity:.95},[wA("tooltip-title")]:{color:"#A6A6A6"},[wA("tooltip-list-item-name-label")]:{color:"#A6A6A6"},[wA("tooltip-list-item-value")]:{color:"#A6A6A6"}}}},t),BD=t=>Object.assign({},bD(),{category10:"category10",category20:"category20"},t);BD.props={};const h0t={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},p0t=R2(h0t),xD=t=>at({},p0t,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(n,e)=>e!==0},axisRight:{gridFilter:(n,e)=>e!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},t);xD.props={};function g0t(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function i0(t,n){if(!isFinite(t)||t===0)return null;var e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"),r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function v0t(t){return t=i0(Math.abs(t)),t?t[1]:NaN}function y0t(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],A=0;i>0&&s>0&&(A+s+1>r&&(s=Math.max(1,r-A)),a.push(e.substring(i-=s,i+s)),!((A+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function m0t(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var w0t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sb(t){if(!(n=w0t.exec(t)))throw new Error("invalid format: "+t);var n;return new D2({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Sb.prototype=D2.prototype;function D2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}D2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b0t(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var a0;function B0t(t,n){var e=i0(t,n);if(!e)return a0=void 0,t.toPrecision(n);var r=e[0],i=e[1],a=i-(a0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+i0(t,Math.max(0,n+a-1))[0]}function Vk(t,n){var e=i0(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Yk={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:g0t,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Vk(t*100,n),r:Vk,s:B0t,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Xk(t){return t}var qk=Array.prototype.map,Zk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function x0t(t){var n=t.grouping===void 0||t.thousands===void 0?Xk:y0t(qk.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Xk:m0t(qk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function c(u,f){u=Sb(u);var d=u.fill,h=u.align,p=u.sign,v=u.symbol,y=u.zero,m=u.width,b=u.comma,B=u.precision,x=u.trim,C=u.type;C==="n"?(b=!0,C="g"):Yk[C]||(B===void 0&&(B=12),x=!0,C="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var O=(f&&f.prefix!==void 0?f.prefix:"")+(v==="$"?e:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),_=(v==="$"?r:/[%p]/.test(C)?o:"")+(f&&f.suffix!==void 0?f.suffix:""),S=Yk[C],F=/[defgprs%]/.test(C);B=B===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function M(T){var k=O,L=_,U,N,P;if(C==="c")L=S(T)+L,T="";else{T=+T;var Q=T<0||1/T<0;if(T=isNaN(T)?A:S(Math.abs(T),B),x&&(T=b0t(T)),Q&&+T==0&&p!=="+"&&(Q=!1),k=(Q?p==="("?p:s:p==="-"||p==="("?"":p)+k,L=(C==="s"&&!isNaN(T)&&a0!==void 0?Zk[8+a0/3]:"")+L+(Q&&p==="("?")":""),F){for(U=-1,N=T.length;++U<N;)if(P=T.charCodeAt(U),48>P||P>57){L=(P===46?i+T.slice(U+1):T.slice(U))+L,T=T.slice(0,U);break}}}b&&!y&&(T=n(T,1/0));var R=k.length+T.length+L.length,H=R<m?new Array(m-R+1).join(d):"";switch(b&&y&&(T=n(H+T,H.length?m-L.length:1/0),H=""),h){case"<":T=k+T+L+H;break;case"=":T=k+H+T+L;break;case"^":T=H.slice(0,R=H.length>>1)+k+T+L+H.slice(R);break;default:T=H+k+T+L;break}return a(T)}return M.toString=function(){return u+""},M}function l(u,f){var d=Math.max(-8,Math.min(8,Math.floor(v0t(f)/3)))*3,h=Math.pow(10,-d),p=c((u=Sb(u),u.type="f",u),{suffix:Zk[8+d/3]});return function(v){return p(h*v)}}return{format:c,formatPrefix:l}}var Ep,Go;C0t({thousands:",",grouping:[3],currency:["$",""]});function C0t(t){return Ep=x0t(t),Go=Ep.format,Ep.formatPrefix,Ep}var O0t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function E0t(t){return class extends zA{constructor(n){super(n),this.descriptor=t}connectedCallback(){var n,e;(e=(n=this.descriptor).render)===null||e===void 0||e.call(n,this.attributes,this)}update(n={}){var e,r;this.attr(at({},this.attributes,n)),(r=(e=this.descriptor).render)===null||r===void 0||r.call(e,this.attributes,this)}}}function Jk(t,n,e){return t.querySelector(n)?Nt(t).select(n):Nt(t).append(e)}function Iv(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function CD(t,n){const e={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:a}=e;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return t in o&&([r,i,a]=o[t]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:a},n)}class OD extends vlt{get child(){var n;return(n=this.children)===null||n===void 0?void 0:n[0]}update(n){var e;const{subOptions:r}=n;(e=this.child)===null||e===void 0||e.update(r),this.attr(n)}}class _0t extends OD{update(n){var e;const{subOptions:r}=n;(e=this.child)===null||e===void 0||e.update(r),this.attr(n)}}function Xa(t,n){var e;return(e=t.filter(r=>r.getOptions().name===n))===null||e===void 0?void 0:e[0]}function S0t(t){return t==="horizontal"||t===0}function F0t(t){return t==="vertical"||t===-Math.PI/2}function ED(t,n,e){const{bbox:r}=t,{position:i="top",size:a,length:o}=n,s=["top","bottom","center"].includes(i),[A,c]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:l,defaultLength:u}=e.props,f=a||l||A,d=o||u||c,h=s?"horizontal":"vertical",[p,v]=s?[d,f]:[f,d];return{orientation:h,width:p,height:v,size:f,length:d}}function M0t(t){return t.find(n=>n.getOptions().domain.length>0).getOptions().domain}function Lv(t){const n=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:e}=t,r=O0t(t,["style"]),i={};return Object.entries(r).forEach(([a,o])=>{n.includes(a)?i[`show${Qs(a)}`]=o:i[a]=o}),Object.assign(Object.assign({},i),e)}var _D=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function SD(t,n){const{eulerAngles:e,origin:r}=n;r&&t.setOrigin(r),e&&t.rotate(e[0],e[1],e[2])}function FD(t){const{innerWidth:n,innerHeight:e,depth:r}=t.getOptions();return[n,e,r]}function k0t(t,n){const{width:e,height:r}=n.getOptions();return i=>{if(!W3(n))return i;const a=t==="bottom"?[i,1]:[0,i],o=n.map(a);if(t==="bottom"){const s=o[0];return new Ro({domain:[0,e],range:[0,1]}).map(s)}else if(t==="left"){const s=o[1];return new Ro({domain:[0,r],range:[0,1]}).map(s)}return i}}function T0t(t,n,e){if(t.getTicks)return t.getTicks();if(!e)return n;const[r,i]=Io(n,o=>+o),{tickCount:a}=t.getOptions();return e(r,i,a)}function I0t(t,n){if(je(n))return d=>d;const e=n.getOptions(),{innerWidth:r,innerHeight:i,insetTop:a,insetBottom:o,insetLeft:s,insetRight:A}=e,[c,l,u]=t==="left"||t==="right"?[a,o,i]:[s,A,r],f=new Ro({domain:[0,1],range:[c/u,1-l/u]});return d=>f.map(d)}function MD(t,n,e,r,i,a,o,s){var A;(e!==void 0||a!==void 0)&&t.update(Object.assign(Object.assign({},e&&{tickCount:e}),a&&{tickMethod:a}));const c=T0t(t,n,a),l=i?c.filter(i):c,u=y=>y instanceof Date?String(y):typeof y=="object"&&y?y:String(y),f=r||((A=t.getFormatter)===null||A===void 0?void 0:A.call(t))||u,d=I0t(o,s),h=k0t(o,s),p=y=>["top","bottom","center","outer"].includes(y),v=y=>["left","right"].includes(y);return je(s)||nn(s)?l.map((y,m,b)=>{var B,x;const C=((B=t.getBandWidth)===null||B===void 0?void 0:B.call(t,y))/2||0,O=d(t.map(y)+C);return{value:Ov(s)&&o==="center"||nn(s)&&((x=t.getTicks)===null||x===void 0?void 0:x.call(t))&&p(o)||nn(s)&&v(o)?1-O:O,label:u(f(Xg(y),m,b)),id:String(m)}}):l.map((y,m,b)=>{var B;const x=((B=t.getBandWidth)===null||B===void 0?void 0:B.call(t,y))/2||0,C=h(d(t.map(y)+x));return{value:v(o)?1-C:C,label:u(f(Xg(y),m,b)),id:String(m)}})}function L0t(t,n,e="xy"){const[r,i,a]=FD(n);return e==="xy"?t.includes("bottom")||t.includes("top")?i:r:e==="xz"?t.includes("bottom")||t.includes("top")?a:r:t.includes("bottom")||t.includes("top")?i:a}function Q0t(t=[],n){if(t.length>0)return t;const{labelAutoRotate:e,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:a}=n,o=[],s=(A,c)=>{c&&o.push(Object.assign(Object.assign({},A),c))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},e),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},a),o}function U0t(t,n,e,r,i){const{x:a,y:o,width:s,height:A}=n,c=[a+s/2,o+A/2],l=Math.min(s,A)/2,[u,f]=Gx(i),[d,h]=FD(i),p=Math.min(d,h)/2,v={center:c,radius:l,startAngle:u,endAngle:f,gridLength:(r-e)*p};if(t==="inner"){const{insetLeft:y,insetTop:m}=i.getOptions();return Object.assign(Object.assign({},v),{center:[c[0]-y,c[1]-m],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},v),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function P0t(t,n,e){return pdt(n)||Ev(n)?!1:t===void 0?!!e.getTicks:t}function R0t(t){const{depth:n}=t.getOptions();return n?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function N0t(t,n,e,r,i){const{x:a,y:o,width:s,height:A}=e;if(t==="bottom")return{startPos:[a,o],endPos:[a+s,o]};if(t==="left")return{startPos:[a+s,o+A],endPos:[a+s,o]};if(t==="right")return{startPos:[a,o+A],endPos:[a,o]};if(t==="top")return{startPos:[a,o+A],endPos:[a+s,o+A]};if(t==="center"){if(n==="vertical")return{startPos:[a,o],endPos:[a,o+A]};if(n==="horizontal")return{startPos:[a,o],endPos:[a+s,o]};if(typeof n=="number"){const[c,l]=r.getCenter(),[u,f]=_v(r),[d,h]=Gx(r),p=Math.min(s,A)/2,{insetLeft:v,insetTop:y}=r.getOptions(),m=u*p,b=f*p,[B,x]=[c+a-v,l+o-y],[C,O]=[Math.cos(n),Math.sin(n)],_=[B+b*C,x+b*O],S=[B+m*C,x+m*O],F=()=>{const{domain:T}=i.getOptions();return T.length},M=je(r)&&i?F():3;return{startPos:_,endPos:S,gridClosed:Math.abs(h-d-360)<1e-6,gridCenter:[B,x],gridControlAngles:new Array(M).fill(0).map((T,k,L)=>(h-d)/M*k)}}}return{}}const D0t=t=>{const{order:n,size:e,position:r,orientation:i,labelFormatter:a,tickFilter:o,tickCount:s,tickMethod:A,tickLength:c,important:l={},style:u={},indexBBox:f,title:d,grid:h=!1}=t,p=_D(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","tickLength","important","style","indexBBox","title","grid"]);return({scales:[v],value:y,coordinate:m,theme:b})=>{const{bbox:B}=y,{domain:x}=v.getOptions(),C=MD(v,x,s,a,o,A,r,m),O=f?C.map((L,U)=>{const N=f.get(U);return!N||N[0]!==L.label?L:Object.assign(Object.assign({},L),{bbox:N[1]})}):C,[_,S]=_v(m),F=U0t(r,B,_,S,m),{axis:M,axisArc:T={}}=b,k=Lv(at({},M,T,F,Object.assign(Object.assign(Object.assign({type:"arc",data:O,titleText:Iv(d),grid:h,classNamePrefix:$o},c!==void 0?{tickLength:c}:null),p),l)));return new dx({style:_B(k,["transform"])})}};function H0t(t,n,e,r,i,a){const o=e.axis,s=["top","right","bottom","left"].includes(i)?e[`axis${Mx(i)}`]:e.axisLinear,A=t.getOptions().name,c=e[`axis${Qs(A)}`]||{};return Object.assign({},o,s,c)}function j0t(t,n,e,r,i,a){const o=H0t(t,n,e,r,i);return i==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:F0t(a)?10:0,tick:r==="center"?!1:void 0}):o}const $0t=t=>{const{direction:n="left",important:e={},labelFormatter:r,order:i,orientation:a,actualPosition:o,position:s,size:A,style:c={},title:l,tickCount:u,tickFilter:f,tickMethod:d,tickLength:h,transform:p,indexBBox:v}=t,y=_D(t,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","tickLength","transform","indexBBox"]);return({scales:m,value:b,coordinate:B,theme:x})=>{const{bbox:C}=b,[O]=m,{domain:_,xScale:S}=O.getOptions(),F=j0t(O,B,x,n,s,a),M=Object.assign(Object.assign(Object.assign({},F),c),y),T=L0t(o||s,B,t.plane),k=N0t(s,a,C,B,S),L=R0t(B),U=MD(O,_,u,r,f,d,s,B),N=v?U.map((R,H)=>{const G=v.get(H);return!G||G[0]!==R.label?R:Object.assign(Object.assign({},R),{bbox:G[1]})}):U,P=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M),{type:"linear",data:N,crossSize:A,titleText:Iv(l),labelOverlap:Q0t(p,M),grid:P0t(M.grid,B,O),gridLength:T,line:!0,indexBBox:v,classNamePrefix:$o}),h!==void 0?{tickLength:h}:null),M.line?null:{lineOpacity:0}),k),L),e);return P.labelOverlap.find(R=>R.type==="hide")&&(P.crossSize=!1),new dx({className:"axis",style:Lv(P)})}},kD=t=>n=>{const{labelFormatter:e,labelFilter:r=()=>!0}=n;return i=>{var a;const{scales:[o]}=i,s=((a=o.getTicks)===null||a===void 0?void 0:a.call(o))||o.getOptions().domain,A=typeof e=="string"?Go(e):e,c=(u,f,d)=>r(s[f],f,s),l=Object.assign(Object.assign({},n),{labelFormatter:A,labelFilter:c,scale:o});return t(l)(i)}},$s=kD($0t),TD=kD(D0t);$s.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};TD.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const ID=t=>(...n)=>{const e=$s(Object.assign({},{crossPadding:50},t))(...n);return SD(e,t),e};ID.props=Object.assign(Object.assign({},$s.props),{defaultPosition:"bottom"});const LD=t=>(...n)=>{const e=$s(Object.assign({},{crossPadding:10},t))(...n);return SD(e,t),e};LD.props=Object.assign(Object.assign({},$s.props),{defaultPosition:"left"});var G0t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function K0t(t){const n=t%(Math.PI*2);return n===Math.PI/2?{titleTransform:"translate(0, 50%)"}:n>-Math.PI/2&&n<Math.PI/2?{titleTransform:"translate(50%, 0)"}:n>Math.PI/2&&n<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function z0t(t,n,e,r){const{radar:i}=t,[a]=r,o=a.getOptions().name,[s,A]=Gx(e),{axisRadar:c={}}=n;return Object.assign(Object.assign({},c),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((l,u)=>(A-s)/i.count*u)})}const QD=t=>{const{important:n={}}=t,e=G0t(t,["important"]);return r=>{const{theme:i,coordinate:a,scales:o}=r;return $s(Object.assign(Object.assign(Object.assign({},e),K0t(t.orientation)),{important:Object.assign(Object.assign({},z0t(t,i,a,o)),n)}))(r)}};QD.props=Object.assign(Object.assign({},$s.props),{defaultPosition:"center"});const Le={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},W0t={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class rr extends Error{constructor(n,e,r){super(n),this.position=e,this.token=r,this.name="ExpressionError"}}var te;(function(t){t[t.STRING=0]="STRING",t[t.NUMBER=1]="NUMBER",t[t.BOOLEAN=2]="BOOLEAN",t[t.NULL=3]="NULL",t[t.IDENTIFIER=4]="IDENTIFIER",t[t.OPERATOR=5]="OPERATOR",t[t.FUNCTION=6]="FUNCTION",t[t.DOT=7]="DOT",t[t.BRACKET_LEFT=8]="BRACKET_LEFT",t[t.BRACKET_RIGHT=9]="BRACKET_RIGHT",t[t.PAREN_LEFT=10]="PAREN_LEFT",t[t.PAREN_RIGHT=11]="PAREN_RIGHT",t[t.COMMA=12]="COMMA",t[t.QUESTION=13]="QUESTION",t[t.COLON=14]="COLON",t[t.DOLLAR=15]="DOLLAR"})(te||(te={}));const V0t=new Set([32,9,10,13]),Y0t=new Set([43,45,42,47,37,33,38,124,61,60,62]),X0t=new Map([["true",te.BOOLEAN],["false",te.BOOLEAN],["null",te.NULL]]),_1=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),q0t=new Map([[46,te.DOT],[91,te.BRACKET_LEFT],[93,te.BRACKET_RIGHT],[40,te.PAREN_LEFT],[41,te.PAREN_RIGHT],[44,te.COMMA],[63,te.QUESTION],[58,te.COLON],[36,te.DOLLAR]]),UD=new Map;for(const[t,n]of q0t.entries())UD.set(t,{type:n,value:String.fromCharCode(t)});function Pu(t){return t>=48&&t<=57}function Fb(t){return t>=97&&t<=122||t>=65&&t<=90||t===95}function tT(t){return Fb(t)||Pu(t)}function Z0t(t){return Y0t.has(t)}var En;(function(t){t[t.Program=0]="Program",t[t.Literal=1]="Literal",t[t.Identifier=2]="Identifier",t[t.MemberExpression=3]="MemberExpression",t[t.CallExpression=4]="CallExpression",t[t.BinaryExpression=5]="BinaryExpression",t[t.UnaryExpression=6]="UnaryExpression",t[t.ConditionalExpression=7]="ConditionalExpression"})(En||(En={}));const J0t=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),tvt={type:En.Literal,value:null},evt={type:En.Literal,value:!0},nvt={type:En.Literal,value:!1},rvt=t=>{let n=0;const e=t.length,r=()=>n>=e?null:t[n],i=()=>t[n++],a=u=>{const f=r();return f!==null&&f.type===u},o=u=>u.type===te.OPERATOR?J0t.get(u.value)||-1:u.type===te.DOT||u.type===te.BRACKET_LEFT?9:u.type===te.QUESTION?1:-1,s=u=>{let f,d;if(i().type===te.DOT){if(!a(te.IDENTIFIER)){const p=r();throw new rr("Expected property name",n,p?p.value:"<end of input>")}const h=i();f={type:En.Identifier,name:h.value},d=!1}else{if(f=c(0),!a(te.BRACKET_RIGHT)){const h=r();throw new rr("Expected closing bracket",n,h?h.value:"<end of input>")}i(),d=!0}return{type:En.MemberExpression,object:u,property:f,computed:d}},A=()=>{const u=r();if(!u)throw new rr("Unexpected end of input",n,"<end of input>");if(u.type===te.OPERATOR&&(u.value==="!"||u.value==="-")){i();const f=A();return{type:En.UnaryExpression,operator:u.value,argument:f,prefix:!0}}switch(u.type){case te.NUMBER:return i(),{type:En.Literal,value:Number(u.value)};case te.STRING:return i(),{type:En.Literal,value:u.value};case te.BOOLEAN:return i(),u.value==="true"?evt:nvt;case te.NULL:return i(),tvt;case te.IDENTIFIER:return i(),{type:En.Identifier,name:u.value};case te.FUNCTION:return(()=>{const f=i(),d=[];if(!a(te.PAREN_LEFT)){const h=r();throw new rr("Expected opening parenthesis after function name",n,h?h.value:"<end of input>")}for(i();;){if(a(te.PAREN_RIGHT)){i();break}if(!r()){const p=r();throw new rr("Expected closing parenthesis",n,p?p.value:"<end of input>")}if(d.length>0){if(!a(te.COMMA)){const p=r();throw new rr("Expected comma between function arguments",n,p?p.value:"<end of input>")}i()}const h=c(0);d.push(h)}return{type:En.CallExpression,callee:{type:En.Identifier,name:f.value},arguments:d}})();case te.PAREN_LEFT:{i();const f=c(0);if(!a(te.PAREN_RIGHT)){const d=r();throw new rr("Expected closing parenthesis",n,d?d.value:"<end of input>")}return i(),f}default:throw new rr(`Unexpected token: ${u.type}`,n,u.value)}},c=(u=0)=>{let f=A();for(;n<e;){const d=t[n],h=o(d);if(h<=u)break;if(d.type!==te.QUESTION)if(d.type!==te.OPERATOR){if(d.type!==te.DOT&&d.type!==te.BRACKET_LEFT)break;f=s(f)}else{i();const p=c(h);f={type:En.BinaryExpression,operator:d.value,left:f,right:p}}else{i();const p=c(0);if(!a(te.COLON)){const y=r();throw new rr("Expected : in conditional expression",n,y?y.value:"<end of input>")}i();const v=c(0);f={type:En.ConditionalExpression,test:f,consequent:p,alternate:v}}}return f},l=c();return{type:En.Program,body:l}},ivt=(t,n,e)=>{let r=n;e&&(r={...n,context:{...n.context,...e}});const i=a=>{switch(a.type){case En.Literal:return(o=>o.value)(a);case En.Identifier:return(o=>{if(!(o.name in r.context))throw new rr(`Undefined variable: ${o.name}`);return r.context[o.name]})(a);case En.MemberExpression:return(o=>{const s=i(o.object);if(s==null)throw new rr("Cannot access property of null or undefined");return s[o.computed?i(o.property):o.property.name]})(a);case En.CallExpression:return(o=>{const s=r.functions[o.callee.name];if(!s)throw new rr(`Undefined function: ${o.callee.name}`);return s(...o.arguments.map((A=>i(A))))})(a);case En.BinaryExpression:return(o=>{if(o.operator==="&&"){const c=i(o.left);return c&&i(o.right)}if(o.operator==="||")return i(o.left)||i(o.right);const s=i(o.left),A=i(o.right);switch(o.operator){case"+":return s+A;case"-":return s-A;case"*":return s*A;case"/":return s/A;case"%":return s%A;case"===":return s===A;case"!==":return s!==A;case">":return s>A;case">=":return s>=A;case"<":return s<A;case"<=":return s<=A;default:throw new rr(`Unknown operator: ${o.operator}`)}})(a);case En.UnaryExpression:return(o=>{const s=i(o.argument);if(o.prefix)switch(o.operator){case"!":return!s;case"-":if(typeof s!="number")throw new rr(`Cannot apply unary - to non-number: ${s}`);return-s;default:throw new rr(`Unknown operator: ${o.operator}`)}throw new rr(`Postfix operators are not supported: ${o.operator}`)})(a);case En.ConditionalExpression:return(o=>{const s=i(o.test);return i(s?o.consequent:o.alternate)})(a);default:throw new rr(`Evaluation error: Unsupported node type: ${a.type}`)}};return i(t.body)};function avt(t){const n=(i=>{const a=i,o=a.length,s=new Array(Math.ceil(o/3));let A=0,c=0;function l(v){const y=c+1;c++;let m="",b=!1;for(;c<o;){const B=a.charCodeAt(c);if(B===v)return b||(m=a.substring(y,c)),c++,{type:te.STRING,value:m};B===92?(b||(m=a.substring(y,c),b=!0),c++,m+=a[c]):b&&(m+=a[c]),c++}throw new rr(`Unterminated string starting with ${String.fromCharCode(v)}`,c,a.substring(Math.max(0,c-10),c))}function u(){const v=c;for(a.charCodeAt(c)===45&&c++;c<o&&Pu(a.charCodeAt(c));)c++;if(c<o&&a.charCodeAt(c)===46)for(c++;c<o&&Pu(a.charCodeAt(c));)c++;const y=a.slice(v,c);return{type:te.NUMBER,value:y}}function f(){c++;const v=c;if(c<o&&Fb(a.charCodeAt(c)))for(c++;c<o&&tT(a.charCodeAt(c));)c++;const y=a.slice(v,c);return{type:te.FUNCTION,value:y}}function d(){const v=c++;for(;c<o&&tT(a.charCodeAt(c));)c++;const y=a.slice(v,c),m=X0t.get(y);return m?{type:m,value:y}:{type:te.IDENTIFIER,value:y}}function h(){if(c+2<o){const y=a.substring(c,c+3);if(_1.has(y))return c+=3,{type:te.OPERATOR,value:y}}if(c+1<o){const y=a.substring(c,c+2);if(_1.has(y))return c+=2,{type:te.OPERATOR,value:y}}const v=a[c];if(_1.has(v))return c++,{type:te.OPERATOR,value:v};throw new rr(`Unknown operator at position ${c}: ${a.substring(c,c+1)}`,c,a.substring(Math.max(0,c-10),c))}for(;c<o;){const v=a.charCodeAt(c);if(p=v,V0t.has(p)){c++;continue}const y=UD.get(v);if(y)s[A++]=y,c++;else if(v!==34&&v!==39)if(Pu(v)||v===45&&c+1<o&&Pu(a.charCodeAt(c+1)))s[A++]=u();else if(v!==64)if(Fb(v))s[A++]=d();else{if(!Z0t(v))throw new rr(`Unexpected character: ${a[c]}`,c,a.substring(Math.max(0,c-10),c));s[A++]=h()}else s[A++]=f();else s[A++]=l(v)}var p;return A===s.length?s:s.slice(0,A)})(t),e=rvt(n),r=((i={},a={})=>({context:i,functions:a}))({},W0t);return(i={})=>ivt(e,r,i)}const ovt=["style","encode","labels","children"],svt=eN(t=>{const n=avt(t);return(...e)=>{const r=Array.from({length:e.length},(a,o)=>String.fromCharCode(97+o)),i=Object.fromEntries(e.map((a,o)=>[r[o],a]));return n(Object.assign(Object.assign({},i),{global:Object.assign({},i)}))}},t=>t,128);function Jp(t,n=!0){if(Array.isArray(t))return t.map((e,r)=>Jp(t[r],n));if(typeof t=="object"&&t)return LV(t,(e,r)=>n&&ovt.includes(r)?Jp(e,r==="children"):n?e:Jp(e,!1));if(typeof t=="string"){const e=t.trim();if(e.startsWith("{")&&e.endsWith("}"))return svt(e.slice(1,-1))}return t}var Avt={}.toString,Qv=function(t,n){return Avt.call(t)==="[object "+n+"]"};const PD=(function(t){return Qv(t,"Function")}),RD=(function(t){return Array.isArray?Array.isArray(t):Qv(t,"Array")}),cvt=(function(t){var n=typeof t;return t!==null&&n==="object"||n==="function"});function lvt(t,n){if(t){var e;if(RD(t))for(var r=0,i=t.length;r<i&&(e=n(t[r],r),e!==!1);r++);else if(cvt(t)){for(var a in t)if(t.hasOwnProperty(a)&&(e=n(t[a],a),e===!1))break}}}var uvt=function(t){return typeof t=="object"&&t!==null},eT=function(t){if(!uvt(t)||!Qv(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n};const fvt=(function(t){return Qv(t,"String")});var dvt=Object.values?function(t){return Object.values(t)}:function(t){var n=[];return lvt(t,function(e,r){PD(t)&&r==="prototype"||n.push(e)}),n};const hvt=(function(t,n){if(!PD(t))throw new TypeError("Expected a function");var e=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=n?n.apply(this,r):r[0],o=e.cache;if(o.has(a))return o.get(a);var s=t.apply(this,r);return o.set(a,s),s};return e.cache=new Map,e});var pvt=5;function ND(t,n,e,r){e=e||0,r=r||pvt;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a!==null&&eT(a)?(eT(t[i])||(t[i]={}),e<r?ND(t[i],a,e+1,r):t[i]=n[i]):RD(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var DD=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r+=1)ND(t,n[r]);return t};const H2=(function(t){return t});var _p;hvt(function(t,n){n===void 0&&(n={});var e=n.fontSize,r=n.fontFamily,i=n.fontWeight,a=n.fontStyle,o=n.fontVariant;return _p||(_p=document.createElement("canvas").getContext("2d")),_p.font=[a,o,i,e+"px",r].join(" "),_p.measureText(fvt(t)?t:"").width},function(t,n){return n===void 0&&(n={}),UV([t],dvt(n)).join("")});function HD(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return t?n.reduce(function(r,i){return function(a){return i(r(a))}},t):H2}function jD(t){return t instanceof Float32Array||t instanceof Array}var $D=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},GD=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))};function gvt(t){return function(n){for(var e=[],r=0;r<n.length-1;r+=2){var i=[n[r],n[r+1]],a=t(i);e.push.apply(e,GD([],$D(a),!1))}return e}}function vvt(t){return function(n){for(var e=[],r=0;r<n.length-1;r+=3){var i=[n[r],n[r+1],n[r+2]],a=t(i);e.push.apply(e,GD([],$D(a),!1))}return e}}function KD(t,n,e){for(;t<n;)t+=Math.PI*2;for(;t>e;)t-=Math.PI*2;return t}var yvt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},mvt=function(t,n,e,r,i){var a=yvt(t,2),o=a[0],s=a[1],A=El();return UW(A,[o,s])};function o0(t,...n){return n.reduce((e,r)=>i=>e(r(i)),t)}function Mb(t,n){return n-t?e=>(e-t)/(n-t):e=>.5}function wvt(t,n){const e=n<t?n:t,r=t>n?t:n;return i=>Math.min(Math.max(e,i),r)}function bvt(t,n,e,r,i){let a=e,o=r||t.length;const s=(A=>A);for(;a<o;){const A=Math.floor((a+o)/2);s(t[A])>n?o=A:a=A+1}return a}const nT=Math.sqrt(50),rT=Math.sqrt(10),iT=Math.sqrt(2);function tg(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=nT?10:a>=rT?5:a>=iT?2:1)*10**i:-(10**-i)/(a>=nT?10:a>=rT?5:a>=iT?2:1)}const Bvt=(t,n,e=5)=>{const r=[t,n];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=tg(o,s,e),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=tg(o,s,e)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=tg(o,s,e)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r};function xvt(t){return Array.isArray(t)}var Cvt=function(t){return typeof t=="object"&&t!==null},Ovt={}.toString,Evt=function(t,n){return Ovt.call(t)==="[object "+n+"]"},aT=function(t){if(!Cvt(t)||!Evt(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n};function _vt(t){return t===null}var Svt=function(t){return t===void 0},Fvt=5;function Mvt(t,n){if(Object.hasOwn)return Object.hasOwn(t,n);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),n)}function zD(t,n,e,r){e=e||0,r=r||Fvt;for(var i in n)if(Mvt(n,i)){var a=n[i];a!==null&&aT(a)?(aT(t[i])||(t[i]={}),e<r?zD(t[i],a,e+1,r):t[i]=n[i]):xvt(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var oT=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];for(var r=0;r<n.length;r+=1)zD(t,n[r]);return t};const kb=(function(t){return t});function sT(t){return!Svt(t)&&!_vt(t)&&!Number.isNaN(t)}function S1(t,n,e){let r=e;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function kvt(t){const n=t[0]/360,e=t[1]/100,r=t[2]/100,i=t[3];if(e===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+e):r+e-r*e,o=2*r-a,s=S1(o,a,n+1/3),A=S1(o,a,n),c=S1(o,a,n-1/3);return[s*255,A*255,c*255,i]}function AT(t){const n=ox.get(t);if(!n)return null;const{model:e,value:r}=n;return e==="rgb"?r:e==="hsl"?kvt(r):null}const s0=(t,n)=>e=>t*(1-e)+n*e,Tvt=(t,n)=>{const e=AT(t),r=AT(n);return e===null||r===null?e?()=>t:()=>n:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=e[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},Ivt=(t,n)=>typeof t=="number"&&typeof n=="number"?s0(t,n):typeof t=="string"&&typeof n=="string"?Tvt(t,n):()=>t,Lvt=(t,n)=>{const e=s0(t,n);return r=>Math.round(e(r))};function cT({map:t,initKey:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Qvt({map:t,initKey:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Uvt({map:t,initKey:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Pvt(t){return typeof t=="object"?t.valueOf():t}class lT extends Map{constructor(n){if(super(),this.map=new Map,this.initKey=Pvt,n!==null)for(const[e,r]of n)this.set(e,r)}get(n){return super.get(cT({map:this.map,initKey:this.initKey},n))}has(n){return super.has(cT({map:this.map,initKey:this.initKey},n))}set(n,e){return super.set(Qvt({map:this.map,initKey:this.initKey},n),e)}delete(n){return super.delete(Uvt({map:this.map,initKey:this.initKey},n))}}let WD=class{constructor(n){this.options=oT({},this.getDefaultOptions()),this.update(n)}getOptions(){return this.options}update(n={}){this.options=oT({},this.options,n),this.rescale(n)}rescale(n){}};const Uv=Symbol("defaultUnknown");function uT(t,n,e){for(let r=0;r<n.length;r+=1)t.has(n[r])||t.set(e(n[r]),r)}function fT(t){const{value:n,from:e,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(n);if(o===void 0){if(a!==Uv)return a;o=e.push(n)-1,i.set(n,o)}return r[o%r.length]}function dT(t){return t instanceof Date?n=>`${n}`:typeof t=="object"?n=>JSON.stringify(n):n=>n}class j2 extends WD{getDefaultOptions(){return{domain:[],range:[],unknown:Uv}}constructor(n){super(n)}map(n){return this.domainIndexMap.size===0&&uT(this.domainIndexMap,this.getDomain(),this.domainKey),fT({value:this.domainKey(n),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(n){return this.rangeIndexMap.size===0&&uT(this.rangeIndexMap,this.getRange(),this.rangeKey),fT({value:this.rangeKey(n),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(n){const[e]=this.options.domain,[r]=this.options.range;if(this.domainKey=dT(e),this.rangeKey=dT(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!n||n.range)&&this.rangeIndexMap.clear(),(!n||n.domain||n.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new j2(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:n,compare:e}=this.options;return this.sortedDomain=e?[...n].sort(e):n,this.sortedDomain}}function Rvt(t){const n=Math.min(...t);return t.map(e=>e/n)}function Nvt(t,n){const e=t.length,r=n-e;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,n):t}function Dvt(t){return Math.round(t*1e12)/1e12}function Hvt(t){const{domain:n,range:e,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,A=n.length,c=Nvt(a,A),[l,u]=e,f=u-l,d=2/A*r+1-1/A*i,h=f/d,p=h*i/A,v=h-A*p,y=Rvt(c),m=y.reduce((T,k)=>T+k),b=v/m,B=new lT(n.map((T,k)=>{const L=y[k]*b;return[T,o?Math.floor(L):L]})),x=new lT(n.map((T,k)=>{const U=y[k]*b+p;return[T,o?Math.floor(U):U]})),C=Array.from(x.values()).reduce((T,k)=>T+k),_=(f-(C-C/A*i))*s,S=l+_;let F=o?Math.round(S):S;const M=new Array(A);for(let T=0;T<A;T+=1){M[T]=Dvt(F);const k=n[T];F+=x.get(k)}return{valueBandWidth:B,valueStep:x,adjustedRange:M}}function jvt(t){var n;const{domain:e}=t,r=e.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((n=t.flex)===null||n===void 0)&&n.length))return Hvt(t);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=t;let l,u,f=a[0];const h=a[1]-f,p=o*2,v=r-s;l=h/Math.max(1,p+v),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const y=new Array(r).fill(0).map((m,b)=>f+b*l);return{valueStep:l,valueBandWidth:u,adjustedRange:y}}class $2 extends j2{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Uv,flex:[]}}constructor(n){super(n)}clone(){return new $2(this.options)}getStep(n){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:n===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(n)}getBandWidth(n){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:n===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(n)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:n,paddingInner:e}=this.options;return n>0?n:e}getPaddingOuter(){const{padding:n,paddingOuter:e}=this.options;return n>0?n:e}rescale(){super.rescale();const{align:n,domain:e,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=jvt({align:n,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}}const $vt=(t,n,e)=>{let r,i,a=t,o=n;if(a===o&&e>0)return[a];let s=tg(a,o,e);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)/s}return i},Gvt=(t,n,e)=>{const[r,i]=t,[a,o]=n;let s,A;return r<i?(s=Mb(r,i),A=e(a,o)):(s=Mb(i,r),A=e(o,a)),o0(A,s)},Kvt=(t,n,e)=>{const r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,A=o?[...n].reverse():n;for(let c=0;c<r;c+=1)i[c]=Mb(s[c],s[c+1]),a[c]=e(A[c],A[c+1]);return c=>{const l=bvt(t,c,1,r)-1,u=i[l],f=a[l];return o0(f,u)(c)}},hT=(t,n,e,r)=>(Math.min(t.length,n.length)>2?Kvt:Gvt)(t,n,r?Lvt:e);class zvt extends WD{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:s0,tickCount:5}}map(n){return sT(n)?this.output(n):this.options.unknown}invert(n){return sT(n)?this.input(n):this.options.unknown}nice(){if(!this.options.nice)return;const[n,e,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(n,e,r,...i)}getTicks(){const{tickMethod:n}=this.options,[e,r,i,...a]=this.getTickMethodOptions();return n(e,r,i,...a)}getTickMethodOptions(){const{domain:n,tickCount:e}=this.options,r=n[0],i=n[n.length-1];return[r,i,e]}chooseNice(){return Bvt}rescale(){this.nice();const[n,e]=this.chooseTransforms();this.composeOutput(n,this.chooseClamp(n)),this.composeInput(n,e,this.chooseClamp(e))}chooseClamp(n){const{clamp:e,range:r}=this.options,i=this.options.domain.map(n),a=Math.min(i.length,r.length);return e?wvt(i[0],i[a-1]):kb}composeOutput(n,e){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=hT(r.map(n),i,o,a);this.output=o0(s,e,n)}composeInput(n,e,r){const{domain:i,range:a}=this.options,o=hT(a,i.map(n),s0);this.input=o0(e,r,o)}}class Kr extends zvt{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Ivt,tickMethod:$vt,tickCount:5}}chooseTransforms(){return[kb,kb]}clone(){return new Kr(this.options)}}class G2 extends $2{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Uv,paddingInner:1,paddingOuter:0}}constructor(n){super(n)}getPaddingInner(){return 1}clone(){return new G2(this.options)}update(n){super.update(n)}getPaddingOuter(){return this.options.padding}}var pT=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Wvt=function(t,n,e,r,i){var a=new Kr({range:[n,n+r]}),o=new Kr({range:[e,e+i]});return{transform:function(s){var A=pT(s,2),c=A[0],l=A[1];return[a.map(c),o.map(l)]},untransform:function(s){var A=pT(s,2),c=A[0],l=A[1];return[a.invert(c),o.invert(l)]}}},Vvt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Yvt=function(t,n,e,r,i){var a=Vvt(t,1),o=a[0];return o(n,e,r,i)},Xvt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},qvt=function(t,n,e,r,i){var a=Xvt(t,1),o=a[0];return o},F1=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Zvt=function(t,n,e,r,i){var a=F1(t,4),o=a[0],s=a[1],A=a[2],c=a[3],l=new Kr({range:[A,c]}),u=new Kr({range:[o,s]}),f=i/r,d=f>1?1:f,h=f>1?1/f:1;return{transform:function(p){var v=F1(p,2),y=v[0],m=v[1],b=u.map(y),B=l.map(m),x=B*Math.cos(b)*d,C=B*Math.sin(b)*h,O=x*.5+.5,_=C*.5+.5;return[O,_]},untransform:function(p){var v=F1(p,2),y=v[0],m=v[1],b=(y-.5)*2/d,B=(m-.5)*2/h,x=Math.sqrt(Math.pow(b,2)+Math.pow(B,2)),C=Math.atan2(B,b),O=KD(C,o,s),_=u.invert(O),S=l.invert(x);return[_,S]}}},gT=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Jvt=function(t,n,e,r,i){return{transform:function(a){var o=gT(a,2),s=o[0],A=o[1];return[A,s]},untransform:function(a){var o=gT(a,2),s=o[0],A=o[1];return[A,s]}}},tyt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Pv=function(t,n,e,r,i){var a=tyt(t,2),o=a[0],s=a[1],A=El();return RW(A,[o,s])},K2=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},z2=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))},eyt=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return Pv.apply(void 0,z2([[-1,-1]],K2(n),!1))},nyt=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return Pv.apply(void 0,z2([[-1,1]],K2(n),!1))},ryt=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return Pv.apply(void 0,z2([[1,-1]],K2(n),!1))},iyt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},ayt=function(t,n,e,r,i){var a=iyt(t,1),o=a[0],s=El();return PW(s,o)},M1=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},oyt=function(t,n,e,r,i){var a=M1(t,4),o=a[0],s=a[1],A=a[2],c=a[3],l=(s-0)/(2*Math.PI)+1,u=(c-A)/l,f=u/(Math.PI*2),d=new Kr({range:[A,A+u*.99]}),h=new Kr({range:[o,s]}),p=i/r,v=p>1?1:p,y=p>1?1/p:1;return{transform:function(m){var b=M1(m,2),B=b[0],x=b[1],C=h.map(B),O=d.map(x),_=Math.cos(C)*(f*C+O)*v,S=Math.sin(C)*(f*C+O)*y,F=_*.5+.5,M=S*.5+.5;return[F,M]},untransform:function(m){var b=M1(m,2),B=b[0],x=b[1],C=(B-.5)*2/v,O=(x-.5)*2/y,_=Math.sqrt(Math.pow(C,2)+Math.pow(O,2)),S=Math.atan2(O,C)+Math.floor(_/u)*Math.PI*2,F=KD(S,o,s),M=_-f*F,T=h.invert(F),k=d.invert(M);return[T,k]}}},syt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Ayt=function(t,n,e,r,i){var a=syt(t,4),o=a[0],s=a[1],A=a[2],c=a[3],l=new Kr({range:[A,c]});return{transform:function(u){for(var f=[],d=u.length,h=new G2({domain:new Array(d).fill(0).map(function(b,B){return B}),range:[o,s]}),p=0;p<d;p++){var v=u[p],y=h.map(p),m=l.map(v);f.push(y,m)}return f},untransform:function(u){for(var f=[],d=0;d<u.length;d+=2){var h=u[d+1];f.push(l.invert(h))}return f}}},qc=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a};function VD(t){return 1/Math.tan(t)}var cyt=function(t,n,e,r,i){var a=qc(t,1),o=a[0],s=VD(o);return{transform:function(A){var c=qc(A,2),l=c[0],u=c[1],f=l+u*s;return[f,u]},untransform:function(A){var c=qc(A,2),l=c[0],u=c[1],f=l-u*s;return[f,u]}}},lyt=function(t,n,e,r,i){var a=qc(t,1),o=a[0],s=VD(o);return{transform:function(A){var c=qc(A,2),l=c[0],u=c[1],f=u+l*s;return[l,f]},untransform:function(A){var c=qc(A,2),l=c[0],u=c[1],f=u-l*s;return[l,f]}}},Xi=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a};function Qf(t,n,e,r,i){var a=t<n,o=(a?n-r:i-n)||i-r,s=a?-1:1;return s*o*(e+1)/(e+o/((t-n)*s))+n}function Uf(t,n,e,r,i){var a=t<n,o=(a?n-r:i-n)||i-r,s=a?-1:1;return o/(o*(e+1)/(t-n)-e*s)+n}function A0(t,n,e){if(!e)return t;var r=new Kr({range:[0,1],domain:[0,n]});return r.map(t)}var uyt=function(t,n,e,r,i){var a=Xi(t,3),o=a[0],s=a[1],A=a[2],c=A===void 0?!1:A,l=A0(o,r,c);return{transform:function(u){var f=Xi(u,2),d=f[0],h=f[1],p=Qf(d,l,s,0,1);return[p,h]},untransform:function(u){var f=Xi(u,2),d=f[0],h=f[1],p=Uf(d,l,s,0,1);return[p,h]}}},fyt=function(t,n,e,r,i){var a=Xi(t,3),o=a[0],s=a[1],A=a[2],c=A===void 0?!1:A,l=A0(o,i,c);return{transform:function(u){var f=Xi(u,2),d=f[0],h=f[1],p=Qf(h,l,s,0,1);return[d,p]},untransform:function(u){var f=Xi(u,2),d=f[0],h=f[1],p=Uf(h,l,s,0,1);return[d,p]}}},dyt=function(t,n,e,r,i){var a=Xi(t,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4],u=l===void 0?!1:l,f=A0(o,r,u),d=A0(s,i,u);return{transform:function(h){var p=Xi(h,2),v=p[0],y=p[1],m=Qf(v,f,A,0,1),b=Qf(y,d,c,0,1);return[m,b]},untransform:function(h){var p=Xi(h,2),v=p[0],y=p[1],m=Uf(v,f,A,0,1),b=Uf(y,d,c,0,1);return[m,b]}}},hyt=function(t,n,e,r,i){var a=Xi(t,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4],u=l===void 0?!1:l,f=new Kr({range:[0,r]}),d=new Kr({range:[0,i]}),h=u?o:f.map(o),p=u?s:d.map(s);return{transform:function(v){var y=Xi(v,2),m=y[0],b=y[1],B=f.map(m)-h,x=d.map(b)-p,C=Math.sqrt(B*B+x*x);if(C>A)return[m,b];var O=Qf(C,0,c,0,A),_=Math.atan2(x,B),S=h+O*Math.cos(_),F=p+O*Math.sin(_);return[f.invert(S),d.invert(F)]},untransform:function(v){var y=Xi(v,2),m=y[0],b=y[1],B=f.map(m)-h,x=d.map(b)-p,C=Math.sqrt(B*B+x*x);if(C>A)return[m,b];var O=Uf(C,0,c,0,A),_=Math.atan2(x,B),S=h+O*Math.cos(_),F=p+O*Math.sin(_);return[f.invert(S),d.invert(F)]}}},vT=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},pyt=function(t,n,e,r,i,a,o){var s=new Kr({range:[n,n+i]}),A=new Kr({range:[e,e+a]}),c=new Kr({range:[r,r+o]});return{transform:function(l){var u=vT(l,3),f=u[0],d=u[1],h=u[2];return[s.map(f),A.map(d),c.map(h)]},untransform:function(l){var u=vT(l,3),f=u[0],d=u[1],h=u[2];return[s.invert(f),A.invert(d),c.invert(h)]}}},gyt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},vyt=function(t,n,e,r,i,a,o){var s=gyt(t,3),A=s[0],c=s[1],l=s[2];return Oo(Ne(),[A,c,l])},yT=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},yyt=function(t,n,e,r,i,a,o){return{transform:function(s){var A=yT(s,3),c=A[0],l=A[1],u=A[2];return[l,c,u]},untransform:function(s){var A=yT(s,3),c=A[0],l=A[1],u=A[2];return[l,c,u]}}},myt=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},wyt=function(t,n,e,r,i,a,o){var s=myt(t,3),A=s[0],c=s[1],l=s[2];return cs(Ne(),[A,c,l])},_c=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Sc=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))},byt=function(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Byt=(function(){function t(n){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:Wvt,translate:mvt,custom:Yvt,matrix:qvt,polar:Zvt,transpose:Jvt,scale:Pv,"shear.x":cyt,"shear.y":lyt,reflect:eyt,"reflect.x":nyt,"reflect.y":ryt,rotate:ayt,helix:oyt,parallel:Ayt,fisheye:dyt,"fisheye.x":uyt,"fisheye.y":fyt,"fisheye.circular":hyt},this.update(n)}return t.prototype.update=function(n){this.options=DD({},this.options,n),this.recoordinate()},t.prototype.clone=function(){return new t(this.options)},t.prototype.getOptions=function(){return this.options},t.prototype.clear=function(){this.update({transformations:[]})},t.prototype.getSize=function(){var n=this.options,e=n.width,r=n.height;return[e,r]},t.prototype.getCenter=function(){var n=this.options,e=n.x,r=n.y,i=n.width,a=n.height;return[(e*2+i)/2,(r*2+a)/2]},t.prototype.transform=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=this.options.transformations;return this.update({transformations:Sc(Sc([],_c(r),!1),[Sc([],_c(n),!1)],!1)}),this},t.prototype.map=function(n){return this.output(n)},t.prototype.invert=function(n){return this.input(n)},t.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},t.prototype.compose=function(n){var e,r;n===void 0&&(n=!1);var i=n?Sc([],_c(this.options.transformations),!1).reverse():this.options.transformations,a=n?function(O){return O.untransform}:function(O){return O.transform},o=[],s=[],A=function(O,_){return _===void 0&&(_=!0),s.push(_?gvt(O):O)};try{for(var c=byt(i),l=c.next();!l.done;l=c.next()){var u=_c(l.value),f=u[0],d=u.slice(1),h=this.transformers[f];if(h){var p=this.options,v=p.x,y=p.y,m=p.width,b=p.height,B=h(Sc([],_c(d),!1),v,y,m,b);if(jD(B))o.push(B);else{if(o.length){var x=this.createMatrixTransform(o,n);A(x),o.splice(0,o.length)}var C=a(B)||H2;A(C,f!=="parallel")}}}}catch(O){e={error:O}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(o.length){var C=this.createMatrixTransform(o,n);A(C)}return HD.apply(void 0,Sc([],_c(s),!1))},t.prototype.createMatrixTransform=function(n,e){var r=El();return e&&n.reverse(),n.forEach(function(i){return NW(r,r,i)}),e&&LW(r,TW(r)),function(i){var a=[i[0],i[1],1];return _L(a,a,r),[a[0],a[1]]}},t})(),Fc=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,a=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return a},Mc=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))},xyt=function(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Cyt=(function(){function t(n){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:pyt,translate3D:vyt,scale3D:wyt,transpose3D:yyt},this.update(n)}return t.prototype.update=function(n){this.options=DD({},this.options,n),this.recoordinate()},t.prototype.clone=function(){return new t(this.options)},t.prototype.getOptions=function(){return this.options},t.prototype.clear=function(){this.update({transformations:[]})},t.prototype.getSize=function(){var n=this.options,e=n.width,r=n.height,i=n.depth;return[e,r,i]},t.prototype.getCenter=function(){var n=this.options,e=n.x,r=n.y,i=n.z,a=n.width,o=n.height,s=n.depth;return[(e*2+a)/2,(r*2+o)/2,(i*2+s)/2]},t.prototype.transform=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=this.options.transformations;return this.update({transformations:Mc(Mc([],Fc(r),!1),[Mc([],Fc(n),!1)],!1)}),this},t.prototype.map=function(n){return this.output(n)},t.prototype.invert=function(n){return this.input(n)},t.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},t.prototype.compose=function(n){var e,r;n===void 0&&(n=!1);var i=n?Mc([],Fc(this.options.transformations),!1).reverse():this.options.transformations,a=n?function(S){return S.untransform}:function(S){return S.transform},o=[],s=[],A=function(S,F){return F===void 0&&(F=!0),s.push(F?vvt(S):S)};try{for(var c=xyt(i),l=c.next();!l.done;l=c.next()){var u=Fc(l.value),f=u[0],d=u.slice(1),h=this.transformers[f];if(h){var p=this.options,v=p.x,y=p.y,m=p.z,b=p.width,B=p.height,x=p.depth,C=h(Mc([],Fc(d),!1),v,y,m,b,B,x);if(jD(C))o.push(C);else{if(o.length){var O=this.createMatrixTransform(o,n);A(O),o.splice(0,o.length)}var _=a(C)||H2;A(_,!0)}}}}catch(S){e={error:S}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(o.length){var _=this.createMatrixTransform(o,n);A(_)}return HD.apply(void 0,Mc([],Fc(s),!1))},t.prototype.createMatrixTransform=function(n,e){var r=Ne();return e&&n.reverse(),n.forEach(function(i){return CB(r,r,i)}),e&&ya(r,BB(r)),function(i){var a=[i[0],i[1],i[2],1];return Ga(a,a,r),[a[0],a[1],a[2]]}},t})(),Oyt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function vd(t){return(n,...e)=>at({},t(n,...e),n)}function tc(t){return(n,...e)=>at({},n,t(n,...e))}function Eyt(t){return t instanceof Date?!1:typeof t=="object"}function Rv(t,n){if(!t)return n;if(Array.isArray(t))return t;if(Eyt(t)){const{value:e=n}=t,r=Oyt(t,["value"]);return Object.assign(Object.assign({},r),{value:e})}return t}var _yt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const YD=()=>t=>{const{children:n}=t;if(!Array.isArray(n))return[];const{x:e=0,y:r=0,width:i,height:a,data:o}=t;return n.map(s=>{var{data:A,x:c,y:l,width:u,height:f}=s,d=_yt(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},d),{data:Rv(A,o),x:c??e,y:l??r,width:u??i,height:f??a})})};YD.props={};var Syt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const XD=()=>t=>{const{children:n}=t;if(!Array.isArray(n))return[];const{direction:e="row",ratio:r=n.map(()=>1),padding:i=0,data:a}=t,[o,s,A,c]=e==="col"?["y","height","width","x"]:["x","width","height","y"],l=r.reduce((p,v)=>p+v),u=t[s]-i*(n.length-1),f=r.map(p=>u*(p/l)),d=[];let h=t[o]||0;for(let p=0;p<f.length;p+=1){const v=n[p],{data:y}=v,m=Syt(v,["data"]),b=Rv(y,a);d.push(Object.assign({[o]:h,[s]:f[p],[c]:t[c]||0,[A]:t[A],data:b},m)),h+=f[p]+i}return d};XD.props={};var k1=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const qD=()=>t=>{const{children:n}=t,e=k1(t,["children"]);if(!Array.isArray(n))return[];const{data:r,scale:i={},axis:a={},legend:o={},encode:s={},transform:A=[],slider:c={}}=e,l=k1(e,["data","scale","axis","legend","encode","transform","slider"]),u=n.map(f=>{var{data:d,scale:h={},axis:p={},legend:v={},encode:y={},transform:m=[],slider:b={}}=f,B=k1(f,["data","scale","axis","legend","encode","transform","slider"]);return Object.assign({data:Rv(d,r),scale:at({},i,h),encode:at({},s,y),transform:[...A,...m],axis:p&&a?at({},a,p):!1,legend:v&&o?at({},o,v):!1,slider:at({},c,b)},B)});return[Object.assign(Object.assign({},l),{marks:u,type:"standardView",slider:c})]};qD.props={};var Fyt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const ZD=({static:t=!1}={})=>n=>{const{width:e,height:r,depth:i,paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:A,padding:c,inset:l,insetLeft:u,insetTop:f,insetRight:d,insetBottom:h,margin:p,marginLeft:v,marginBottom:y,marginTop:m,marginRight:b,data:B,coordinate:x,theme:C,component:O,interaction:_,x:S,y:F,z:M,key:T,frame:k,labelTransform:L,parentKey:U,clip:N,viewStyle:P,title:Q}=n,R=Fyt(n,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:S,y:F,z:M,key:T,width:e,height:r,depth:i,padding:c,paddingLeft:a,paddingRight:o,paddingTop:s,inset:l,insetLeft:u,insetTop:f,insetRight:d,insetBottom:h,paddingBottom:A,theme:C,coordinate:x,component:O,interaction:_,frame:k,labelTransform:L,margin:p,marginLeft:v,marginBottom:y,marginTop:m,marginRight:b,parentKey:U,clip:N,style:P},!t&&{title:Q}),{marks:[Object.assign(Object.assign(Object.assign({},R),{key:`${T}-0`,data:B}),t&&{title:Q})]})]};ZD.props={};class yd{constructor(n){this.$value=n}static of(n){return new yd(n)}call(n,...e){return this.$value=n(this.$value,...e),this}value(){return this.$value}}var Myt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const kyt=vd(t=>{const{encode:n,data:e,scale:r,shareSize:i=!1}=t,{x:a,y:o}=n,s=(A,c)=>{var l;if(A===void 0||!i)return{};const u=Je(e,h=>h[A]),f=((l=r?.[c])===null||l===void 0?void 0:l.domain)||Array.from(u.keys()),d=f.map(h=>u.has(h)?u.get(h).length:1);return{domain:f,flex:d}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),s(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),W2=tc(t=>{const{data:n,scale:e,legend:r}=t,i=[t];let a,o,s;for(;i.length;){const f=i.shift(),{children:d,encode:h={},scale:p={},legend:v={}}=f,{color:y}=h,{color:m}=p,{color:b}=v;y!==void 0&&(a=y),m!==void 0&&(o=m),b!==void 0&&(s=b),Array.isArray(d)&&i.push(...d)}const A=()=>{var f;const d=(f=e?.color)===null||f===void 0?void 0:f.domain;if(d!==void 0)return[d];if(a===void 0)return[void 0];const h=typeof a=="function"?a:v=>v[a],p=n.map(h);return p.some(v=>typeof v=="number")?[Io(p)]:[Array.from(new Set(p)),"ordinal"]},c=typeof a=="string"?a:"",[l,u]=A();return Object.assign({encode:{color:{type:"column",value:l??[]}},scale:{color:at({},o,{domain:l,type:u})}},r===void 0&&{legend:{color:at({title:c},s)}})}),V2=vd(()=>({animate:{enterType:"fadeIn"}})),Y2=tc(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),X2=tc(()=>({type:"cell"})),JD=tc(t=>{const{data:n}=t;return{data:{type:"inline",value:n,transform:[{type:"custom",callback:()=>{const{data:r,encode:i}=t,{x:a,y:o}=i,s=a?Array.from(new Set(r.map(l=>l[a]))):[],A=o?Array.from(new Set(r.map(l=>l[o]))):[];return(()=>{if(s.length&&A.length){const l=[];for(const u of s)for(const f of A)l.push({[a]:u,[o]:f});return l}if(s.length)return s.map(l=>({[a]:l}));if(A.length)return A.map(l=>({[o]:l}))})()}}]}}}),tH=tc((t,n=Tyt,e=Iyt,r=Lyt,i={})=>{const{data:a,encode:o,children:s,scale:A,x:c=0,y:l=0,shareData:u=!1,key:f}=t,{value:d}=a,{x:h,y:p}=o,{color:v}=A,{domain:y}=v;return{children:(b,B,x)=>{const{x:C,y:O}=B,{paddingLeft:_,paddingTop:S,marginLeft:F,marginTop:M}=x,{domain:T}=C.getOptions(),{domain:k}=O.getOptions(),L=XA(b),U=b.map(n),N=b.map(({x:K,y:W})=>[C.invert(K),O.invert(W)]),Q=N.map(([K,W])=>X=>{const{[h]:Y,[p]:et}=X;return(h!==void 0?Y===K:!0)&&(p!==void 0?et===W:!0)}).map(K=>d.filter(K)),R=u?He(Q,K=>K.length):void 0,H=N.map(([K,W])=>({columnField:h,columnIndex:T.indexOf(K),columnValue:K,columnValuesLength:T.length,rowField:p,rowIndex:k.indexOf(W),rowValue:W,rowValuesLength:k.length})),G=H.map(K=>Array.isArray(s)?s:[s(K)].flat(1));return L.flatMap(K=>{const[W,X,Y,et]=U[K],nt=H[K],Z=Q[K];return G[K].map(ct=>{var vt,ht,{scale:bt,key:Bt,facet:Ct=!0,axis:kt={},legend:Ot={}}=ct,_t=Myt(ct,["scale","key","facet","axis","legend"]);const Lt=((vt=bt?.y)===null||vt===void 0?void 0:vt.guide)||kt.y,de=((ht=bt?.x)===null||ht===void 0?void 0:ht.guide)||kt.x,qt={x:{tickCount:h?5:void 0},y:{tickCount:p?5:void 0}},Zt=Ct?Z:Z.length===0?[]:d,Me={color:{domain:y}},Ue={x:mT(de,e)(nt,Zt),y:mT(Lt,r)(nt,Zt)};return Object.assign(Object.assign({key:`${Bt}-${K}`,data:Zt,margin:0,x:W+_+c+F,y:X+S+l+M,parentKey:f,width:Y,height:et,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Zt.length,dataDomain:R,scale:at(qt,bt,Me),axis:at({},kt,Ue),legend:!1},_t),i)})})}}});function Tyt(t){const{points:n}=t;return Qx(n)}function Nv(t,n){return n.length?at({title:!1,tick:null,label:null},t):at({title:!1,tick:null,label:null,grid:null},t)}function Iyt(t){return(n,e)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:a,columnValuesLength:o}=n;if(r!==i-1)return Nv(t,e);const s=a!==o-1?!1:void 0,A=e.length?void 0:null;return at({title:s,grid:A},t)}}function Lyt(t){return(n,e)=>{const{rowIndex:r,columnIndex:i}=n;if(i!==0)return Nv(t,e);const a=r!==0?!1:void 0,o=e.length?void 0:null;return at({title:a,grid:o},t)}}function mT(t,n){return typeof t=="function"?t:t===null||t===!1?()=>null:n(t)}const eH=()=>t=>[yd.of(t).call(X2).call(W2).call(V2).call(kyt).call(Y2).call(JD).call(tH).value()];eH.props={};var Tb=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Qyt=vd(t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),Uyt=tc(t=>{const{data:n,children:e,x:r=0,y:i=0,key:a}=t;return{children:(s,A,c)=>{const{x:l,y:u}=A,{paddingLeft:f,paddingTop:d,marginLeft:h,marginTop:p}=c,{domain:v}=l.getOptions(),{domain:y}=u.getOptions(),m=XA(s),b=s.map(({points:O})=>Qx(O)),B=s.map(({x:O,y:_})=>[l.invert(O),u.invert(_)]),x=B.map(([O,_])=>({columnField:O,columnIndex:v.indexOf(O),columnValue:O,columnValuesLength:v.length,rowField:_,rowIndex:y.indexOf(_),rowValue:_,rowValuesLength:y.length})),C=x.map(O=>Array.isArray(e)?e:[e(O)].flat(1));return m.flatMap(O=>{const[_,S,F,M]=b[O],[T,k]=B[O],L=x[O];return C[O].map(N=>{var P,Q;const{scale:R,key:H,encode:G,axis:K,interaction:W}=N,X=Tb(N,["scale","key","encode","axis","interaction"]),Y=(P=R?.y)===null||P===void 0?void 0:P.guide,et=(Q=R?.x)===null||Q===void 0?void 0:Q.guide,nt={x:{facet:!1},y:{facet:!1}},Z={x:Ryt(et)(L,n),y:Nyt(Y)(L,n)},ot={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:n,parentKey:a,key:`${H}-${O}`,x:_+f+r+h,y:S+d+i+p,width:F,height:M,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:at(nt,R),axis:at(ot,K,Z),legend:!1,encode:at({},G,{x:T,y:k}),interaction:at({},W,{legendFilter:!1})},X)})})}}}),Pyt=tc(t=>{const{encode:n}=t,e=Tb(t,["encode"]),{position:r=[],x:i=r,y:a=[...r].reverse()}=n,o=Tb(n,["position","x","y"]),s=[];for(const A of[i].flat(1))for(const c of[a].flat(1))s.push({$x:A,$y:c});return Object.assign(Object.assign({},e),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function Ryt(t){return typeof t=="function"?t:t===null?()=>null:(n,e)=>{const{rowIndex:r,rowValuesLength:i}=n;if(r!==i-1)return Nv(t,e)}}function Nyt(t){return typeof t=="function"?t:t===null?()=>null:(n,e)=>{const{columnIndex:r}=n;if(r!==0)return Nv(t,e)}}const Dyt=()=>t=>[yd.of(t).call(X2).call(W2).call(Uyt).call(Pyt).call(V2).call(Y2).call(Qyt).value()];var Hyt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const jyt=vd(t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),$yt=vd(t=>({coordinate:{type:"polar"}})),Gyt=t=>{const{encode:n}=t,e=Hyt(t,["encode"]),{position:r}=n;return Object.assign(Object.assign({},e),{encode:{x:r}})};function wT(t){return n=>null}function Kyt(t){const{points:n}=t,[e,r,i,a]=n,o=bn(e,a),s=Tn(e,a),A=Tn(r,i),c=b3(s,A),l=1/Math.sin(c/2),u=o/(1+l),f=u*Math.sqrt(2),[d,h]=i,v=gl(s)+c/2,y=u*l,m=d+y*Math.sin(v),b=h-y*Math.cos(v);return[m-f/2,b-f/2,f,f]}const zyt=()=>t=>[yd.of(t).call(X2).call(Gyt).call(W2).call($yt).call(JD).call(tH,Kyt,wT,wT,{frame:!1}).call(V2).call(Y2).call(jyt).value()];function Wyt(t,n,e){const i=e,a=[0,i],o=[-i+1,1];if(t==="normal")return a;if(t==="reverse")return o;if(t==="alternate")return n%2===0?a:o;if(t==="reverse-alternate")return n%2===0?o:a}function Vyt(t,n,e){const r=[t];for(;r.length;){const i=r.pop();i.animate=at({enter:{duration:n},update:{duration:n,easing:e,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:n}},i.animate||{});const{children:a}=i;Array.isArray(a)&&r.push(...a)}return t}const nH=()=>t=>{const{children:n=[],duration:e=1e3,iterationCount:r=1,direction:i="normal",easing:a="ease-in-out-sine"}=t,o=n.length;if(!Array.isArray(n)||o===0)return[];const{key:s}=n[0],A=n.map(c=>Object.assign(Object.assign({},c),{key:s})).map(c=>Vyt(c,e,a));return function*(){let c=0,l;for(;r==="infinite"||c<r;){const[u,f]=Wyt(i,c,o);for(let d=u;d<f;d+=1){const h=Math.abs(d);l!==h&&(yield A[h]),l=h}c++}}};nH.props={};var Yyt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const rH=()=>t=>{const{type:n,data:e,scale:r,encode:i,style:a,animate:o,key:s,state:A,tooltip:c}=t,l=Yyt(t,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},l),{children:[{type:"geoPath",key:`${s}-0`,data:{value:e},scale:r,encode:i,style:a,animate:o,state:A,tooltip:c}]})]};rH.props={};var Gt=1e-6,iH=1e-12,be=Math.PI,Rn=be/2,bT=be/4,Bi=be*2,Fr=180/be,_n=be/180,Qe=Math.abs,Ll=Math.atan,Do=Math.atan2,pe=Math.cos,Sp=Math.ceil,aH=Math.exp,c0=Math.log,T1=Math.pow,oe=Math.sin,zi=Math.sign||function(t){return t>0?1:t<0?-1:0},ai=Math.sqrt,q2=Math.tan;function oH(t){return t>1?0:t<-1?be:Math.acos(t)}function Ji(t){return t>1?Rn:t<-1?-Rn:Math.asin(t)}function Wi(){}function l0(t,n){t&&xT.hasOwnProperty(t.type)&&xT[t.type](t,n)}var BT={Feature:function(t,n){l0(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)l0(e[r].geometry,n)}},xT={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ib(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ib(e[r],n,0)},Polygon:function(t,n){CT(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)CT(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)l0(e[r],n)}};function Ib(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function CT(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ib(t[e],n,1);n.polygonEnd()}function Uc(t,n){t&&BT.hasOwnProperty(t.type)?BT[t.type](t,n):l0(t,n)}function Lb(t){return[Do(t[1],t[0]),Ji(t[2])]}function wl(t){var n=t[0],e=t[1],r=pe(e);return[r*pe(n),r*oe(n),oe(e)]}function Fp(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function u0(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function I1(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Mp(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Qb(t){var n=ai(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Ub(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Pb(t,n){return Qe(t)>be&&(t-=Math.round(t/Bi)*Bi),[t,n]}Pb.invert=Pb;function sH(t,n,e){return(t%=Bi)?n||e?Ub(ET(t),_T(n,e)):ET(t):n||e?_T(n,e):Pb}function OT(t){return function(n,e){return n+=t,Qe(n)>be&&(n-=Math.round(n/Bi)*Bi),[n,e]}}function ET(t){var n=OT(t);return n.invert=OT(-t),n}function _T(t,n){var e=pe(t),r=oe(t),i=pe(n),a=oe(n);function o(s,A){var c=pe(A),l=pe(s)*c,u=oe(s)*c,f=oe(A),d=f*e+l*r;return[Do(u*i-d*a,l*e-f*r),Ji(d*i+u*a)]}return o.invert=function(s,A){var c=pe(A),l=pe(s)*c,u=oe(s)*c,f=oe(A),d=f*i-u*a;return[Do(u*i+f*a,l*e+d*r),Ji(d*e-l*r)]},o}function Xyt(t){t=sH(t[0]*_n,t[1]*_n,t.length>2?t[2]*_n:0);function n(e){return e=t(e[0]*_n,e[1]*_n),e[0]*=Fr,e[1]*=Fr,e}return n.invert=function(e){return e=t.invert(e[0]*_n,e[1]*_n),e[0]*=Fr,e[1]*=Fr,e},n}function qyt(t,n,e,r,i,a){if(e){var o=pe(n),s=oe(n),A=r*e;i==null?(i=n+r*Bi,a=n-A/2):(i=ST(o,i),a=ST(o,a),(r>0?i<a:i>a)&&(i+=r*Bi));for(var c,l=i;r>0?l>a:l<a;l-=A)c=Lb([o,-s*pe(l),-s*oe(l)]),t.point(c[0],c[1])}}function ST(t,n){n=wl(n),n[0]-=t,Qb(n);var e=oH(-n[1]);return((-n[2]<0?-e:e)+Bi-Gt)%Bi}function AH(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Wi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function eg(t,n){return Qe(t[0]-n[0])<Gt&&Qe(t[1]-n[1])<Gt}function kp(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function cH(t,n,e,r,i){var a=[],o=[],s,A;if(t.forEach(function(h){if(!((p=h.length-1)<=0)){var p,v=h[0],y=h[p],m;if(eg(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),s=0;s<p;++s)i.point((v=h[s])[0],v[1]);i.lineEnd();return}y[0]+=2*Gt}a.push(m=new kp(v,h,null,!0)),o.push(m.o=new kp(v,null,m,!1)),a.push(m=new kp(y,h,null,!1)),o.push(m.o=new kp(y,null,m,!0))}}),!!a.length){for(o.sort(n),FT(a),FT(o),s=0,A=o.length;s<A;++s)o[s].e=e=!e;for(var c=a[0],l,u;;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,A=l.length;s<A;++s)i.point((u=l[s])[0],u[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)i.point((u=l[s])[0],u[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function FT(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function L1(t){return Qe(t[0])<=be?t[0]:zi(t[0])*((Qe(t[0])+be)%Bi-be)}function Zyt(t,n){var e=L1(n),r=n[1],i=oe(r),a=[oe(e),-pe(e),0],o=0,s=0,A=new RA;i===1?r=Rn+Gt:i===-1&&(r=-Rn-Gt);for(var c=0,l=t.length;c<l;++c)if(f=(u=t[c]).length)for(var u,f,d=u[f-1],h=L1(d),p=d[1]/2+bT,v=oe(p),y=pe(p),m=0;m<f;++m,h=B,v=C,y=O,d=b){var b=u[m],B=L1(b),x=b[1]/2+bT,C=oe(x),O=pe(x),_=B-h,S=_>=0?1:-1,F=S*_,M=F>be,T=v*C;if(A.add(Do(T*S*oe(F),y*O+T*pe(F))),o+=M?_+S*Bi:_,M^h>=e^B>=e){var k=u0(wl(d),wl(b));Qb(k);var L=u0(a,k);Qb(L);var U=(M^_>=0?-1:1)*Ji(L[2]);(r>U||r===U&&(k[0]||k[1]))&&(s+=M^_>=0?1:-1)}}return(o<-Gt||o<Gt&&A<-iH)^s&1}function lH(t,n,e,r){return function(i){var a=n(i),o=AH(),s=n(o),A=!1,c,l,u,f={point:d,lineStart:p,lineEnd:v,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=b,l=[],c=[]},polygonEnd:function(){f.point=d,f.lineStart=p,f.lineEnd=v,l=d4(l);var B=Zyt(c,r);l.length?(A||(i.polygonStart(),A=!0),cH(l,tmt,B,e,i)):B&&(A||(i.polygonStart(),A=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),A&&(i.polygonEnd(),A=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(B,x){t(B,x)&&i.point(B,x)}function h(B,x){a.point(B,x)}function p(){f.point=h,a.lineStart()}function v(){f.point=d,a.lineEnd()}function y(B,x){u.push([B,x]),s.point(B,x)}function m(){s.lineStart(),u=[]}function b(){y(u[0][0],u[0][1]),s.lineEnd();var B=s.clean(),x=o.result(),C,O=x.length,_,S,F;if(u.pop(),c.push(u),u=null,!!O){if(B&1){if(S=x[0],(_=S.length-1)>0){for(A||(i.polygonStart(),A=!0),i.lineStart(),C=0;C<_;++C)i.point((F=S[C])[0],F[1]);i.lineEnd()}return}O>1&&B&2&&x.push(x.pop().concat(x.shift())),l.push(x.filter(Jyt))}}return f}}function Jyt(t){return t.length>1}function tmt(t,n){return((t=t.x)[0]<0?t[1]-Rn-Gt:Rn-t[1])-((n=n.x)[0]<0?n[1]-Rn-Gt:Rn-n[1])}const MT=lH(function(){return!0},emt,rmt,[-be,-Rn]);function emt(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?be:-be,A=Qe(a-n);Qe(A-be)<Gt?(t.point(n,e=(e+o)/2>0?Rn:-Rn),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),t.point(a,e),i=0):r!==s&&A>=be&&(Qe(n-r)<Gt&&(n-=r*Gt),Qe(a-s)<Gt&&(a-=s*Gt),e=nmt(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(s,e),i=0),t.point(n=a,e=o),r=s},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function nmt(t,n,e,r){var i,a,o=oe(t-e);return Qe(o)>Gt?Ll((oe(n)*(a=pe(r))*oe(e)-oe(r)*(i=pe(n))*oe(t))/(i*a*o)):(n+r)/2}function rmt(t,n,e,r){var i;if(t==null)i=e*Rn,r.point(-be,i),r.point(0,i),r.point(be,i),r.point(be,0),r.point(be,-i),r.point(0,-i),r.point(-be,-i),r.point(-be,0),r.point(-be,i);else if(Qe(t[0]-n[0])>Gt){var a=t[0]<n[0]?be:-be;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function imt(t){var n=pe(t),e=2*_n,r=n>0,i=Qe(n)>Gt;function a(l,u,f,d){qyt(d,t,e,f,l,u)}function o(l,u){return pe(l)*pe(u)>n}function s(l){var u,f,d,h,p;return{lineStart:function(){h=d=!1,p=1},point:function(v,y){var m=[v,y],b,B=o(v,y),x=r?B?0:c(v,y):B?c(v+(v<0?be:-be),y):0;if(!u&&(h=d=B)&&l.lineStart(),B!==d&&(b=A(u,m),(!b||eg(u,b)||eg(m,b))&&(m[2]=1)),B!==d)p=0,B?(l.lineStart(),b=A(m,u),l.point(b[0],b[1])):(b=A(u,m),l.point(b[0],b[1],2),l.lineEnd()),u=b;else if(i&&u&&r^B){var C;!(x&f)&&(C=A(m,u,!0))&&(p=0,r?(l.lineStart(),l.point(C[0][0],C[0][1]),l.point(C[1][0],C[1][1]),l.lineEnd()):(l.point(C[1][0],C[1][1]),l.lineEnd(),l.lineStart(),l.point(C[0][0],C[0][1],3)))}B&&(!u||!eg(u,m))&&l.point(m[0],m[1]),u=m,d=B,f=x},lineEnd:function(){d&&l.lineEnd(),u=null},clean:function(){return p|(h&&d)<<1}}}function A(l,u,f){var d=wl(l),h=wl(u),p=[1,0,0],v=u0(d,h),y=Fp(v,v),m=v[0],b=y-m*m;if(!b)return!f&&l;var B=n*y/b,x=-n*m/b,C=u0(p,v),O=Mp(p,B),_=Mp(v,x);I1(O,_);var S=C,F=Fp(O,S),M=Fp(S,S),T=F*F-M*(Fp(O,O)-1);if(!(T<0)){var k=ai(T),L=Mp(S,(-F-k)/M);if(I1(L,O),L=Lb(L),!f)return L;var U=l[0],N=u[0],P=l[1],Q=u[1],R;N<U&&(R=U,U=N,N=R);var H=N-U,G=Qe(H-be)<Gt,K=G||H<Gt;if(!G&&Q<P&&(R=P,P=Q,Q=R),K?G?P+Q>0^L[1]<(Qe(L[0]-U)<Gt?P:Q):P<=L[1]&&L[1]<=Q:H>be^(U<=L[0]&&L[0]<=N)){var W=Mp(S,(-F+k)/M);return I1(W,O),[L,Lb(W)]}}}function c(l,u){var f=r?t:be-t,d=0;return l<-f?d|=1:l>f&&(d|=2),u<-f?d|=4:u>f&&(d|=8),d}return lH(o,s,a,r?[0,-t]:[-be,t-be])}function amt(t,n,e,r,i,a){var o=t[0],s=t[1],A=n[0],c=n[1],l=0,u=1,f=A-o,d=c-s,h;if(h=e-o,!(!f&&h>0)){if(h/=f,f<0){if(h<l)return;h<u&&(u=h)}else if(f>0){if(h>u)return;h>l&&(l=h)}if(h=i-o,!(!f&&h<0)){if(h/=f,f<0){if(h>u)return;h>l&&(l=h)}else if(f>0){if(h<l)return;h<u&&(u=h)}if(h=r-s,!(!d&&h>0)){if(h/=d,d<0){if(h<l)return;h<u&&(u=h)}else if(d>0){if(h>u)return;h>l&&(l=h)}if(h=a-s,!(!d&&h<0)){if(h/=d,d<0){if(h>u)return;h>l&&(l=h)}else if(d>0){if(h<l)return;h<u&&(u=h)}return l>0&&(t[0]=o+l*f,t[1]=s+l*d),u<1&&(n[0]=o+u*f,n[1]=s+u*d),!0}}}}}var Ru=1e9,Tp=-Ru;function uH(t,n,e,r){function i(c,l){return t<=c&&c<=e&&n<=l&&l<=r}function a(c,l,u,f){var d=0,h=0;if(c==null||(d=o(c,u))!==(h=o(l,u))||A(c,l)<0^u>0)do f.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+u+4)%4)!==h);else f.point(l[0],l[1])}function o(c,l){return Qe(c[0]-t)<Gt?l>0?0:3:Qe(c[0]-e)<Gt?l>0?2:1:Qe(c[1]-n)<Gt?l>0?1:0:l>0?3:2}function s(c,l){return A(c.x,l.x)}function A(c,l){var u=o(c,1),f=o(l,1);return u!==f?u-f:u===0?l[1]-c[1]:u===1?c[0]-l[0]:u===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,u=AH(),f,d,h,p,v,y,m,b,B,x,C,O={point:_,lineStart:T,lineEnd:k,polygonStart:F,polygonEnd:M};function _(U,N){i(U,N)&&l.point(U,N)}function S(){for(var U=0,N=0,P=d.length;N<P;++N)for(var Q=d[N],R=1,H=Q.length,G=Q[0],K,W,X=G[0],Y=G[1];R<H;++R)K=X,W=Y,G=Q[R],X=G[0],Y=G[1],W<=r?Y>r&&(X-K)*(r-W)>(Y-W)*(t-K)&&++U:Y<=r&&(X-K)*(r-W)<(Y-W)*(t-K)&&--U;return U}function F(){l=u,f=[],d=[],C=!0}function M(){var U=S(),N=C&&U,P=(f=d4(f)).length;(N||P)&&(c.polygonStart(),N&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),P&&cH(f,s,U,a,c),c.polygonEnd()),l=c,f=d=h=null}function T(){O.point=L,d&&d.push(h=[]),x=!0,B=!1,m=b=NaN}function k(){f&&(L(p,v),y&&B&&u.rejoin(),f.push(u.result())),O.point=_,B&&l.lineEnd()}function L(U,N){var P=i(U,N);if(d&&h.push([U,N]),x)p=U,v=N,y=P,x=!1,P&&(l.lineStart(),l.point(U,N));else if(P&&B)l.point(U,N);else{var Q=[m=Math.max(Tp,Math.min(Ru,m)),b=Math.max(Tp,Math.min(Ru,b))],R=[U=Math.max(Tp,Math.min(Ru,U)),N=Math.max(Tp,Math.min(Ru,N))];amt(Q,R,t,n,e,r)?(B||(l.lineStart(),l.point(Q[0],Q[1])),l.point(R[0],R[1]),P||l.lineEnd(),C=!1):P&&(l.lineStart(),l.point(U,N),C=!1)}m=U,b=N,B=P}return O}}function kT(t,n,e){var r=Pc(t,n-Gt,e).concat(n);return function(i){return r.map(function(a){return[i,a]})}}function TT(t,n,e){var r=Pc(t,n-Gt,e).concat(n);return function(i){return r.map(function(a){return[a,i]})}}function omt(){var t,n,e,r,i,a,o,s,A=10,c=A,l=90,u=360,f,d,h,p,v=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return Pc(Sp(r/l)*l,e,l).map(h).concat(Pc(Sp(s/u)*u,o,u).map(p)).concat(Pc(Sp(n/A)*A,t,A).filter(function(b){return Qe(b%l)>Gt}).map(f)).concat(Pc(Sp(a/c)*c,i,c).filter(function(b){return Qe(b%u)>Gt}).map(d))}return y.lines=function(){return m().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(p(o).slice(1),h(e).reverse().slice(1),p(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],e=+b[1][0],s=+b[0][1],o=+b[1][1],r>e&&(b=r,r=e,e=b),s>o&&(b=s,s=o,o=b),y.precision(v)):[[r,s],[e,o]]},y.extentMinor=function(b){return arguments.length?(n=+b[0][0],t=+b[1][0],a=+b[0][1],i=+b[1][1],n>t&&(b=n,n=t,t=b),a>i&&(b=a,a=i,i=b),y.precision(v)):[[n,a],[t,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.stepMinor=function(b){return arguments.length?(A=+b[0],c=+b[1],y):[A,c]},y.precision=function(b){return arguments.length?(v=+b,f=kT(a,i,90),d=TT(n,t,v),h=kT(s,o,90),p=TT(r,e,v),y):v},y.extentMajor([[-180,-90+Gt],[180,90-Gt]]).extentMinor([[-180,-80-Gt],[180,80+Gt]])}function smt(){return omt()()}const Pf=t=>t;var Q1=new RA,Rb=new RA,fH,dH,Nb,Db,So={point:Wi,lineStart:Wi,lineEnd:Wi,polygonStart:function(){So.lineStart=Amt,So.lineEnd=lmt},polygonEnd:function(){So.lineStart=So.lineEnd=So.point=Wi,Q1.add(Qe(Rb)),Rb=new RA},result:function(){var t=Q1/2;return Q1=new RA,t}};function Amt(){So.point=cmt}function cmt(t,n){So.point=hH,fH=Nb=t,dH=Db=n}function hH(t,n){Rb.add(Db*t-Nb*n),Nb=t,Db=n}function lmt(){hH(fH,dH)}var bl=1/0,f0=bl,Rf=-bl,d0=Rf,h0={point:umt,lineStart:Wi,lineEnd:Wi,polygonStart:Wi,polygonEnd:Wi,result:function(){var t=[[bl,f0],[Rf,d0]];return Rf=d0=-(f0=bl=1/0),t}};function umt(t,n){t<bl&&(bl=t),t>Rf&&(Rf=t),n<f0&&(f0=n),n>d0&&(d0=n)}var Hb=0,jb=0,Nu=0,p0=0,g0=0,Nc=0,$b=0,Gb=0,Du=0,pH,gH,Ra,Na,$i={point:HA,lineStart:IT,lineEnd:LT,polygonStart:function(){$i.lineStart=hmt,$i.lineEnd=pmt},polygonEnd:function(){$i.point=HA,$i.lineStart=IT,$i.lineEnd=LT},result:function(){var t=Du?[$b/Du,Gb/Du]:Nc?[p0/Nc,g0/Nc]:Nu?[Hb/Nu,jb/Nu]:[NaN,NaN];return Hb=jb=Nu=p0=g0=Nc=$b=Gb=Du=0,t}};function HA(t,n){Hb+=t,jb+=n,++Nu}function IT(){$i.point=fmt}function fmt(t,n){$i.point=dmt,HA(Ra=t,Na=n)}function dmt(t,n){var e=t-Ra,r=n-Na,i=ai(e*e+r*r);p0+=i*(Ra+t)/2,g0+=i*(Na+n)/2,Nc+=i,HA(Ra=t,Na=n)}function LT(){$i.point=HA}function hmt(){$i.point=gmt}function pmt(){vH(pH,gH)}function gmt(t,n){$i.point=vH,HA(pH=Ra=t,gH=Na=n)}function vH(t,n){var e=t-Ra,r=n-Na,i=ai(e*e+r*r);p0+=i*(Ra+t)/2,g0+=i*(Na+n)/2,Nc+=i,i=Na*t-Ra*n,$b+=i*(Ra+t),Gb+=i*(Na+n),Du+=i*3,HA(Ra=t,Na=n)}function yH(t){this._context=t}yH.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Bi);break}}},result:Wi};var Kb=new RA,U1,mH,wH,Hu,ju,Nf={point:Wi,lineStart:function(){Nf.point=vmt},lineEnd:function(){U1&&bH(mH,wH),Nf.point=Wi},polygonStart:function(){U1=!0},polygonEnd:function(){U1=null},result:function(){var t=+Kb;return Kb=new RA,t}};function vmt(t,n){Nf.point=bH,mH=Hu=t,wH=ju=n}function bH(t,n){Hu-=t,ju-=n,Kb.add(ai(Hu*Hu+ju*ju)),Hu=t,ju=n}let QT,v0,UT,PT;class RT{constructor(n){this._append=n==null?BH:ymt(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==UT||this._append!==v0){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,UT=r,v0=this._append,PT=this._,this._=i}this._+=PT;break}}}result(){const n=this._;return this._="",n.length?n:null}}function BH(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ymt(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return BH;if(n!==QT){const e=10**n;QT=n,v0=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return v0}function xH(t,n){let e=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Uc(s,i(a))),a.result()}return o.area=function(s){return Uc(s,i(So)),So.result()},o.measure=function(s){return Uc(s,i(Nf)),Nf.result()},o.bounds=function(s){return Uc(s,i(h0)),h0.result()},o.centroid=function(s){return Uc(s,i($i)),$i.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Pf):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(n=null,new RT(e)):new yH(n=s),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const A=Math.floor(s);if(!(A>=0))throw new RangeError(`invalid digits: ${s}`);e=A}return n===null&&(a=new RT(e)),o},o.projection(t).digits(e).context(n)}function Dv(t){return function(n){var e=new zb;for(var r in t)e[r]=t[r];return e.stream=n,e}}function zb(){}zb.prototype={constructor:zb,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Z2(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Uc(e,t.stream(h0)),n(h0.result()),r!=null&&t.clipExtent(r),t}function Hv(t,n,e){return Z2(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,A=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,A])},e)}function J2(t,n,e){return Hv(t,[[0,0],n],e)}function tC(t,n,e){return Z2(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},e)}function eC(t,n,e){return Z2(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},e)}var NT=16,mmt=pe(30*_n);function DT(t,n){return+n?bmt(t,n):wmt(t)}function wmt(t){return Dv({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function bmt(t,n){function e(r,i,a,o,s,A,c,l,u,f,d,h,p,v){var y=c-r,m=l-i,b=y*y+m*m;if(b>4*n&&p--){var B=o+f,x=s+d,C=A+h,O=ai(B*B+x*x+C*C),_=Ji(C/=O),S=Qe(Qe(C)-1)<Gt||Qe(a-u)<Gt?(a+u)/2:Do(x,B),F=t(S,_),M=F[0],T=F[1],k=M-r,L=T-i,U=m*k-y*L;(U*U/b>n||Qe((y*k+m*L)/b-.5)>.3||o*f+s*d+A*h<mmt)&&(e(r,i,a,o,s,A,M,T,S,B/=O,x/=O,C,p,v),v.point(M,T),e(M,T,S,B,x,C,c,l,u,f,d,h,p,v))}}return function(r){var i,a,o,s,A,c,l,u,f,d,h,p,v={point:y,lineStart:m,lineEnd:B,polygonStart:function(){r.polygonStart(),v.lineStart=x},polygonEnd:function(){r.polygonEnd(),v.lineStart=m}};function y(_,S){_=t(_,S),r.point(_[0],_[1])}function m(){u=NaN,v.point=b,r.lineStart()}function b(_,S){var F=wl([_,S]),M=t(_,S);e(u,f,l,d,h,p,u=M[0],f=M[1],l=_,d=F[0],h=F[1],p=F[2],NT,r),r.point(u,f)}function B(){v.point=y,r.lineEnd()}function x(){m(),v.point=C,v.lineEnd=O}function C(_,S){b(i=_,S),a=u,o=f,s=d,A=h,c=p,v.point=b}function O(){e(u,f,l,d,h,p,a,o,i,s,A,c,NT,r),v.lineEnd=B,B()}return v}}var Bmt=Dv({point:function(t,n){this.stream.point(t*_n,n*_n)}});function xmt(t){return Dv({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Cmt(t,n,e,r,i){function a(o,s){return o*=r,s*=i,[n+t*o,e-t*s]}return a.invert=function(o,s){return[(o-n)/t*r,(e-s)/t*i]},a}function HT(t,n,e,r,i,a){if(!a)return Cmt(t,n,e,r,i);var o=pe(a),s=oe(a),A=o*t,c=s*t,l=o/t,u=s/t,f=(s*e-o*n)/t,d=(s*n+o*e)/t;function h(p,v){return p*=r,v*=i,[A*p-c*v+n,e-c*p-A*v]}return h.invert=function(p,v){return[r*(l*p-u*v+f),i*(d-u*p-l*v)]},h}function so(t){return nC(function(){return t})()}function nC(t){var n,e=150,r=480,i=250,a=0,o=0,s=0,A=0,c=0,l,u=0,f=1,d=1,h=null,p=MT,v=null,y,m,b,B=Pf,x=.5,C,O,_,S,F;function M(U){return _(U[0]*_n,U[1]*_n)}function T(U){return U=_.invert(U[0],U[1]),U&&[U[0]*Fr,U[1]*Fr]}M.stream=function(U){return S&&F===U?S:S=Bmt(xmt(l)(p(C(B(F=U)))))},M.preclip=function(U){return arguments.length?(p=U,h=void 0,L()):p},M.postclip=function(U){return arguments.length?(B=U,v=y=m=b=null,L()):B},M.clipAngle=function(U){return arguments.length?(p=+U?imt(h=U*_n):(h=null,MT),L()):h*Fr},M.clipExtent=function(U){return arguments.length?(B=U==null?(v=y=m=b=null,Pf):uH(v=+U[0][0],y=+U[0][1],m=+U[1][0],b=+U[1][1]),L()):v==null?null:[[v,y],[m,b]]},M.scale=function(U){return arguments.length?(e=+U,k()):e},M.translate=function(U){return arguments.length?(r=+U[0],i=+U[1],k()):[r,i]},M.center=function(U){return arguments.length?(a=U[0]%360*_n,o=U[1]%360*_n,k()):[a*Fr,o*Fr]},M.rotate=function(U){return arguments.length?(s=U[0]%360*_n,A=U[1]%360*_n,c=U.length>2?U[2]%360*_n:0,k()):[s*Fr,A*Fr,c*Fr]},M.angle=function(U){return arguments.length?(u=U%360*_n,k()):u*Fr},M.reflectX=function(U){return arguments.length?(f=U?-1:1,k()):f<0},M.reflectY=function(U){return arguments.length?(d=U?-1:1,k()):d<0},M.precision=function(U){return arguments.length?(C=DT(O,x=U*U),L()):ai(x)},M.fitExtent=function(U,N){return Hv(M,U,N)},M.fitSize=function(U,N){return J2(M,U,N)},M.fitWidth=function(U,N){return tC(M,U,N)},M.fitHeight=function(U,N){return eC(M,U,N)};function k(){var U=HT(e,0,0,f,d,u).apply(null,n(a,o)),N=HT(e,r-U[0],i-U[1],f,d,u);return l=sH(s,A,c),O=Ub(n,N),_=Ub(l,O),C=DT(O,x),L()}function L(){return S=F=null,M}return function(){return n=t.apply(this,arguments),M.invert=n.invert&&T,k()}}function rC(t){var n=0,e=be/3,r=nC(t),i=r(n,e);return i.parallels=function(a){return arguments.length?r(n=a[0]*_n,e=a[1]*_n):[n*Fr,e*Fr]},i}function Omt(t){var n=pe(t);function e(r,i){return[r*n,oe(i)/n]}return e.invert=function(r,i){return[r/n,Ji(i*n)]},e}function CH(t,n){var e=oe(t),r=(e+oe(n))/2;if(Qe(r)<Gt)return Omt(t);var i=1+e*(2*r-e),a=ai(i)/r;function o(s,A){var c=ai(i-2*r*oe(A))/r;return[c*oe(s*=r),a-c*pe(s)]}return o.invert=function(s,A){var c=a-A,l=Do(s,Qe(c))*zi(c);return c*r<0&&(l-=be*zi(s)*zi(c)),[l/r,Ji((i-(s*s+c*c)*r*r)/(2*r))]},o}function y0(){return rC(CH).scale(155.424).center([0,33.6442])}function OH(){return y0().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Emt(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function _mt(){var t,n,e=OH(),r,i=y0().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=y0().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,A,c={point:function(f,d){A=[f,d]}};function l(f){var d=f[0],h=f[1];return A=null,r.point(d,h),A||(a.point(d,h),A)||(s.point(d,h),A)}l.invert=function(f){var d=e.scale(),h=e.translate(),p=(f[0]-h[0])/d,v=(f[1]-h[1])/d;return(v>=.12&&v<.234&&p>=-.425&&p<-.214?i:v>=.166&&v<.234&&p>=-.214&&p<-.115?o:e).invert(f)},l.stream=function(f){return t&&n===f?t:t=Emt([e.stream(n=f),i.stream(f),o.stream(f)])},l.precision=function(f){return arguments.length?(e.precision(f),i.precision(f),o.precision(f),u()):e.precision()},l.scale=function(f){return arguments.length?(e.scale(f),i.scale(f*.35),o.scale(f),l.translate(e.translate())):e.scale()},l.translate=function(f){if(!arguments.length)return e.translate();var d=e.scale(),h=+f[0],p=+f[1];return r=e.translate(f).clipExtent([[h-.455*d,p-.238*d],[h+.455*d,p+.238*d]]).stream(c),a=i.translate([h-.307*d,p+.201*d]).clipExtent([[h-.425*d+Gt,p+.12*d+Gt],[h-.214*d-Gt,p+.234*d-Gt]]).stream(c),s=o.translate([h-.205*d,p+.212*d]).clipExtent([[h-.214*d+Gt,p+.166*d+Gt],[h-.115*d-Gt,p+.234*d-Gt]]).stream(c),u()},l.fitExtent=function(f,d){return Hv(l,f,d)},l.fitSize=function(f,d){return J2(l,f,d)},l.fitWidth=function(f,d){return tC(l,f,d)},l.fitHeight=function(f,d){return eC(l,f,d)};function u(){return t=n=null,l}return l.scale(1070)}function EH(t){return function(n,e){var r=pe(n),i=pe(e),a=t(r*i);return a===1/0?[2,0]:[a*i*oe(n),a*oe(e)]}}function md(t){return function(n,e){var r=ai(n*n+e*e),i=t(r),a=oe(i),o=pe(i);return[Do(n*a,r*o),Ji(r&&e*a/r)]}}var iC=EH(function(t){return ai(2/(1+t))});iC.invert=md(function(t){return 2*Ji(t/2)});function Smt(){return so(iC).scale(124.75).clipAngle(180-.001)}var aC=EH(function(t){return(t=oH(t))&&t/oe(t)});aC.invert=md(function(t){return t});function Fmt(){return so(aC).scale(79.4188).clipAngle(180-.001)}function wd(t,n){return[t,c0(q2((Rn+n)/2))]}wd.invert=function(t,n){return[t,2*Ll(aH(n))-Rn]};function Mmt(){return _H(wd).scale(961/Bi)}function _H(t){var n=so(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,s,A,c;n.scale=function(u){return arguments.length?(r(u),l()):r()},n.translate=function(u){return arguments.length?(i(u),l()):i()},n.center=function(u){return arguments.length?(e(u),l()):e()},n.clipExtent=function(u){return arguments.length?(u==null?o=s=A=c=null:(o=+u[0][0],s=+u[0][1],A=+u[1][0],c=+u[1][1]),l()):o==null?null:[[o,s],[A,c]]};function l(){var u=be*r(),f=n(Xyt(n.rotate()).invert([0,0]));return a(o==null?[[f[0]-u,f[1]-u],[f[0]+u,f[1]+u]]:t===wd?[[Math.max(f[0]-u,o),s],[Math.min(f[0]+u,A),c]]:[[o,Math.max(f[1]-u,s)],[A,Math.min(f[1]+u,c)]])}return l()}function Ip(t){return q2((Rn+t)/2)}function SH(t,n){var e=pe(t),r=t===n?oe(t):c0(e/pe(n))/c0(Ip(n)/Ip(t)),i=e*T1(Ip(t),r)/r;if(!r)return wd;function a(o,s){i>0?s<-Rn+Gt&&(s=-Rn+Gt):s>Rn-Gt&&(s=Rn-Gt);var A=i/T1(Ip(s),r);return[A*oe(r*o),i-A*pe(r*o)]}return a.invert=function(o,s){var A=i-s,c=zi(r)*ai(o*o+A*A),l=Do(o,Qe(A))*zi(A);return A*r<0&&(l-=be*zi(o)*zi(A)),[l/r,2*Ll(T1(i/c,1/r))-Rn]},a}function kmt(){return rC(SH).scale(109.5).parallels([30,30])}function Df(t,n){return[t,n]}Df.invert=Df;function Tmt(){return so(Df).scale(152.63)}function FH(t,n){var e=pe(t),r=t===n?oe(t):(e-pe(n))/(n-t),i=e/r+t;if(Qe(r)<Gt)return Df;function a(o,s){var A=i-s,c=r*o;return[A*oe(c),i-A*pe(c)]}return a.invert=function(o,s){var A=i-s,c=Do(o,Qe(A))*zi(A);return A*r<0&&(c-=be*zi(o)*zi(A)),[c/r,i-zi(r)*ai(o*o+A*A)]},a}function Imt(){return rC(FH).scale(131.154).center([0,13.9389])}var Ju=1.340264,tf=-.081106,ef=893e-6,nf=.003796,m0=ai(3)/2,Lmt=12;function oC(t,n){var e=Ji(m0*oe(n)),r=e*e,i=r*r*r;return[t*pe(e)/(m0*(Ju+3*tf*r+i*(7*ef+9*nf*r))),e*(Ju+tf*r+i*(ef+nf*r))]}oC.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,a=0,o,s,A;a<Lmt&&(s=e*(Ju+tf*r+i*(ef+nf*r))-n,A=Ju+3*tf*r+i*(7*ef+9*nf*r),e-=o=s/A,r=e*e,i=r*r*r,!(Qe(o)<iH));++a);return[m0*t*(Ju+3*tf*r+i*(7*ef+9*nf*r))/pe(e),Ji(oe(e)/m0)]};function Qmt(){return so(oC).scale(177.158)}function sC(t,n){var e=pe(n),r=pe(t)*e;return[e*oe(t)/r,oe(n)/r]}sC.invert=md(Ll);function Umt(){return so(sC).scale(144.049).clipAngle(60)}function Pmt(){var t=1,n=0,e=0,r=1,i=1,a=0,o,s,A=null,c,l,u,f=1,d=1,h=Dv({point:function(B,x){var C=b([B,x]);this.stream.point(C[0],C[1])}}),p=Pf,v,y;function m(){return f=t*r,d=t*i,v=y=null,b}function b(B){var x=B[0]*f,C=B[1]*d;if(a){var O=C*o-x*s;x=x*o+C*s,C=O}return[x+n,C+e]}return b.invert=function(B){var x=B[0]-n,C=B[1]-e;if(a){var O=C*o+x*s;x=x*o-C*s,C=O}return[x/f,C/d]},b.stream=function(B){return v&&y===B?v:v=h(p(y=B))},b.postclip=function(B){return arguments.length?(p=B,A=c=l=u=null,m()):p},b.clipExtent=function(B){return arguments.length?(p=B==null?(A=c=l=u=null,Pf):uH(A=+B[0][0],c=+B[0][1],l=+B[1][0],u=+B[1][1]),m()):A==null?null:[[A,c],[l,u]]},b.scale=function(B){return arguments.length?(t=+B,m()):t},b.translate=function(B){return arguments.length?(n=+B[0],e=+B[1],m()):[n,e]},b.angle=function(B){return arguments.length?(a=B%360*_n,s=oe(a),o=pe(a),m()):a*Fr},b.reflectX=function(B){return arguments.length?(r=B?-1:1,m()):r<0},b.reflectY=function(B){return arguments.length?(i=B?-1:1,m()):i<0},b.fitExtent=function(B,x){return Hv(b,B,x)},b.fitSize=function(B,x){return J2(b,B,x)},b.fitWidth=function(B,x){return tC(b,B,x)},b.fitHeight=function(B,x){return eC(b,B,x)},b}function AC(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(-.013791+r*(.003971*e-.001529*r))),n*(1.007226+e*(.015085+r*(-.044475+.028874*e-.005916*r)))]}AC.invert=function(t,n){var e=n,r=25,i;do{var a=e*e,o=a*a;e-=i=(e*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-n)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(Qe(i)>Gt&&--r>0);return[t/(.8707+(a=e*e)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),e]};function Rmt(){return so(AC).scale(175.295)}function cC(t,n){return[pe(n)*oe(t),oe(n)]}cC.invert=md(Ji);function Nmt(){return so(cC).scale(249.5).clipAngle(90+Gt)}function lC(t,n){var e=pe(n),r=1+pe(t)*e;return[e*oe(t)/r,oe(n)/r]}lC.invert=md(function(t){return 2*Ll(t)});function Dmt(){return so(lC).scale(250).clipAngle(142)}function uC(t,n){return[c0(q2((Rn+n)/2)),-t]}uC.invert=function(t,n){return[-n,2*Ll(aH(t))-Rn]};function Hmt(){var t=_H(uC),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}const jmt=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:OH,geoAlbersUsa:_mt,geoAzimuthalEqualArea:Smt,geoAzimuthalEqualAreaRaw:iC,geoAzimuthalEquidistant:Fmt,geoAzimuthalEquidistantRaw:aC,geoConicConformal:kmt,geoConicConformalRaw:SH,geoConicEqualArea:y0,geoConicEqualAreaRaw:CH,geoConicEquidistant:Imt,geoConicEquidistantRaw:FH,geoEqualEarth:Qmt,geoEqualEarthRaw:oC,geoEquirectangular:Tmt,geoEquirectangularRaw:Df,geoGnomonic:Umt,geoGnomonicRaw:sC,geoIdentity:Pmt,geoMercator:Mmt,geoMercatorRaw:wd,geoNaturalEarth1:Rmt,geoNaturalEarth1Raw:AC,geoOrthographic:Nmt,geoOrthographicRaw:cC,geoProjection:so,geoProjectionMutator:nC,geoStereographic:Dmt,geoStereographicRaw:lC,geoTransverseMercator:Hmt,geoTransverseMercatorRaw:uC},Symbol.toStringTag,{value:"Module"}));var $mt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Gmt(t){if(typeof t=="function")return t;const n=`geo${Qs(t)}`,e=jmt[n];if(!e)throw new Error(`Unknown coordinate: ${t}`);return e}function Kmt(t){return{type:"FeatureCollection",features:t.flatMap(n=>zmt(n).features)}}function zmt(t){const n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const e=n[t.type];if(!e)return null;if(e==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if(e==="feature")return{type:"FeatureCollection",features:[t]};if(e==="featureCollection")return t}function Wmt(t,n){var e;for(const[r,i]of Object.entries(n))(e=t[r])===null||e===void 0||e.call(t,i)}function Vmt(t,n,e,r){const i=()=>{const s=n.filter(MH);return s.find(c=>c.sphere)?{type:"Sphere"}:Kmt(s.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:a=i()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return Ymt(t,a,e);if(o==="fitWidth")return Xmt(t,a,e)}function Ymt(t,n,e){const{x:r,y:i,width:a,height:o}=e;t.fitExtent([[r,i],[a,o]],n)}function Xmt(t,n,e){const{width:r,height:i}=e,[[a,o],[s,A]]=xH(t.fitWidth(r,n)).bounds(n),c=Math.ceil(A-o),l=Math.min(Math.ceil(s-a),c),u=t.scale()*(l-1)/l,[f,d]=t.translate(),h=d+(i-c)/2;t.scale(u).translate([f,h]).precision(.2)}function qmt(t){const{data:n}=t;if(Array.isArray(n))return Object.assign(Object.assign({},t),{data:{value:n}});const{type:e}=n;return e==="graticule10"?Object.assign(Object.assign({},t),{data:{value:[smt()]}}):e==="sphere"?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function MH(t){return t.type==="geoPath"}const kH=()=>t=>{const{children:n,coordinate:e={}}=t;if(!Array.isArray(n))return[];const{type:r="equalEarth"}=e,i=$mt(e,["type"]),a=Gmt(r),o=n.map(u=>Object.assign(Object.assign({},u),{data:Rv(u.data,t.data)})).map(qmt);let s;function A(){return[["custom",(u,f,d,h)=>{const p=a();Vmt(p,o,{x:u,y:f,width:d,height:h},i),Wmt(p,i),s=xH(p);const y=new Ro({domain:[u,u+d]}),m=new Ro({domain:[f,f+h]}),b=x=>{const C=p(x);if(!C)return[null,null];const[O,_]=C;return[y.map(O),m.map(_)]},B=x=>{if(!x)return null;const[C,O]=x,_=[y.invert(C),m.invert(O)];return p.invert(_)};return{transform:x=>b(x),untransform:x=>B(x)}}]]}function c(u){const{style:f,tooltip:d={}}=u;return Object.assign(Object.assign({},u),{type:"path",tooltip:n0(d,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},f),{d:h=>s(h)||[]})})}const l=u=>MH(u)?c(u):u;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:A},children:o.flatMap(l)})]};kH.props={};function Zmt(t){return Bd(t,n=>n.className==="component")}function Jmt(t){return Bd(t,n=>n.className==="element")}function t1t(t){return Bd(t,n=>n.className==="label")}function hr(t,n,e,r=i=>!0){return i=>{if(!r(i))return;e.emit(`plot:${t}`,i);const{target:a}=i;if(!a)return;const{className:o}=a;if(o==="plot")return;const s=Jmt(a),A=Zmt(a),c=t1t(a),l=s||A||c;if(!l)return;const{className:u,markType:f}=l,d=Object.assign(Object.assign({},i),{nativeEvent:!0});u==="element"?(d.data={data:Sx(l,n)},e.emit(`element:${t}`,d),e.emit(`${f}:${t}`,d)):u==="label"?(d.data={data:l.attributes.datum},e.emit(`label:${t}`,d),o.split(/\s+/).filter(Boolean).forEach(p=>{e.emit(`${p}:${t}`,d)})):(e.emit(`component:${t}`,d),o.split(/\s+/).filter(Boolean).forEach(p=>{e.emit(`${p}:${t}`,d)}))}}function TH(){return(t,n,e)=>{const{container:r,view:i}=t,a=hr(Le.CLICK,i,e,O=>O.detail===1),o=hr(Le.DBLCLICK,i,e,O=>O.detail===2),s=hr(Le.POINTER_TAP,i,e),A=hr(Le.POINTER_DOWN,i,e),c=hr(Le.POINTER_UP,i,e),l=hr(Le.POINTER_OVER,i,e),u=hr(Le.POINTER_OUT,i,e),f=hr(Le.POINTER_MOVE,i,e),d=hr(Le.POINTER_ENTER,i,e),h=hr(Le.POINTER_LEAVE,i,e),p=hr(Le.POINTER_UPOUTSIDE,i,e),v=hr(Le.DRAG_START,i,e),y=hr(Le.DRAG,i,e),m=hr(Le.DRAG_END,i,e),b=hr(Le.DRAG_ENTER,i,e),B=hr(Le.DRAG_LEAVE,i,e),x=hr(Le.DRAG_OVER,i,e),C=hr(Le.DROP,i,e);return r.addEventListener("click",a),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",A),r.addEventListener("pointerup",c),r.addEventListener("pointerover",l),r.addEventListener("pointerout",u),r.addEventListener("pointermove",f),r.addEventListener("pointerenter",d),r.addEventListener("pointerleave",h),r.addEventListener("pointerupoutside",p),r.addEventListener("dragstart",v),r.addEventListener("drag",y),r.addEventListener("dragend",m),r.addEventListener("dragenter",b),r.addEventListener("dragleave",B),r.addEventListener("dragover",x),r.addEventListener("drop",C),()=>{r.removeEventListener("click",a),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",A),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",l),r.removeEventListener("pointerout",u),r.removeEventListener("pointermove",f),r.removeEventListener("pointerenter",d),r.removeEventListener("pointerleave",h),r.removeEventListener("pointerupoutside",p),r.removeEventListener("dragstart",v),r.removeEventListener("drag",y),r.removeEventListener("dragend",m),r.removeEventListener("dragenter",b),r.removeEventListener("dragleave",B),r.removeEventListener("dragover",x),r.removeEventListener("drop",C)}}}TH.props={reapplyWhenUpdate:!0};function e1t(){return{"component.axisRadar":QD,"component.axisLinear":$s,"component.axisArc":TD,"component.legendContinuousBlock":Y5,"component.legendContinuousBlockSize":X5,"component.legendContinuousSize":FC,"interaction.event":TH,"composition.mark":ZD,"composition.view":qD,"shape.label.label":XR,"shape.break":oN}}var n1t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function An(t,n){const e=Object.assign(Object.assign({},e1t()),n),r=a=>{if(typeof a!="string")return a;const o=`${t}.${a}`;return e[o]||hl(`Unknown Component: ${o}`)};return[(a,o)=>{const{type:s}=a,A=n1t(a,["type"]);s||hl("Plot type is required!");const c=r(s);return c?.(A,o)},r]}function IH(t){const{canvas:n,group:e}=t;return n?.document||e?.ownerDocument||hl("Cannot find library document")}var jT=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function r1t(t,n,e){const[r]=An("coordinate",e),{innerHeight:i,innerWidth:a,insetLeft:o,insetTop:s,insetRight:A,insetBottom:c}=t,{coordinates:l=[]}=n,u=A1t(l),f=u[0].type==="cartesian3D",d=Object.assign(Object.assign({},t),{x:o,y:s,width:a-o-A,height:i-c-s,transformations:u.flatMap(r)});return f?new Cyt(d):new Byt(d)}function LH(t,n){const{coordinate:e={},coordinates:r}=t,i=jT(t,["coordinate","coordinates"]);if(r)return t;const{type:a,transform:o=[]}=e,s=jT(e,["type","transform"]);if(!a)return Object.assign(Object.assign({},i),{coordinates:o});const[,A]=An("coordinate",n),{transform:c=!1}=A(a).props||{};if(c)throw new Error(`Unknown coordinate: ${a}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:a},s),...o]})}function Ba(t,n){return t.filter(e=>e.type===n)}function bA(t){return Ba(t,"polar").length>0}function i1t(t){return Ba(t,"helix").length>0}function Zc(t){return Ba(t,"transpose").length%2===1}function a1t(t){return Ba(t,"parallel").length>0}function QH(t){return Ba(t,"theta").length>0}function o1t(t){return Ba(t,"reflect").length>0}function rf(t){return Ba(t,"radial").length>0}function UH(t){return Ba(t,"radar").length>0}function s1t(t){return Ba(t,"reflectY").length>0}function A1t(t){return t.find(n=>n.type==="cartesian"||n.type==="cartesian3D")?t:[...t,{type:"cartesian"}]}function le(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const c1t=le("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),l1t=le("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),u1t=le("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),f1t=le("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),d1t=le("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),h1t=le("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),p1t=le("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),g1t=le("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),v1t=le("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),y1t=le("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),m1t=le("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function jv(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function fC(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ql(){}var jA=.7,Bl=1/jA,Jc="\\s*([+-]?\\d+)\\s*",Hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w1t=/^#([0-9a-f]{3,8})$/,b1t=new RegExp(`^rgb\\(${Jc},${Jc},${Jc}\\)$`),B1t=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),x1t=new RegExp(`^rgba\\(${Jc},${Jc},${Jc},${Hf}\\)$`),C1t=new RegExp(`^rgba\\(${qa},${qa},${qa},${Hf}\\)$`),O1t=new RegExp(`^hsl\\(${Hf},${qa},${qa}\\)$`),E1t=new RegExp(`^hsla\\(${Hf},${qa},${qa},${Hf}\\)$`),$T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jv(Ql,dC,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GT,formatHex:GT,formatHex8:_1t,formatHsl:S1t,formatRgb:KT,toString:KT});function GT(){return this.rgb().formatHex()}function _1t(){return this.rgb().formatHex8()}function S1t(){return RH(this).formatHsl()}function KT(){return this.rgb().formatRgb()}function dC(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=w1t.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?zT(n):e===3?new Ir(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Lp(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Lp(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=b1t.exec(t))?new Ir(n[1],n[2],n[3],1):(n=B1t.exec(t))?new Ir(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=x1t.exec(t))?Lp(n[1],n[2],n[3],n[4]):(n=C1t.exec(t))?Lp(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=O1t.exec(t))?YT(n[1],n[2]/100,n[3]/100,1):(n=E1t.exec(t))?YT(n[1],n[2]/100,n[3]/100,n[4]):$T.hasOwnProperty(t)?zT($T[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function zT(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function Lp(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ir(t,n,e,r)}function PH(t){return t instanceof Ql||(t=dC(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function jf(t,n,e,r){return arguments.length===1?PH(t):new Ir(t,n,e,r??1)}function Ir(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}jv(Ir,jf,fC(Ql,{brighter(t){return t=t==null?Bl:Math.pow(Bl,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jA:Math.pow(jA,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(FA(this.r),FA(this.g),FA(this.b),w0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WT,formatHex:WT,formatHex8:F1t,formatRgb:VT,toString:VT}));function WT(){return`#${BA(this.r)}${BA(this.g)}${BA(this.b)}`}function F1t(){return`#${BA(this.r)}${BA(this.g)}${BA(this.b)}${BA((isNaN(this.opacity)?1:this.opacity)*255)}`}function VT(){const t=w0(this.opacity);return`${t===1?"rgb(":"rgba("}${FA(this.r)}, ${FA(this.g)}, ${FA(this.b)}${t===1?")":`, ${t})`}`}function w0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function FA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function BA(t){return t=FA(t),(t<16?"0":"")+t.toString(16)}function YT(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ga(t,n,e,r)}function RH(t){if(t instanceof ga)return new ga(t.h,t.s,t.l,t.opacity);if(t instanceof Ql||(t=dC(t)),!t)return new ga;if(t instanceof ga)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,A=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=A<.5?a+i:2-a-i,o*=60):s=A>0&&A<1?0:o,new ga(o,s,A,t.opacity)}function M1t(t,n,e,r){return arguments.length===1?RH(t):new ga(t,n,e,r??1)}function ga(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}jv(ga,M1t,fC(Ql,{brighter(t){return t=t==null?Bl:Math.pow(Bl,t),new ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jA:Math.pow(jA,t),new ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ir(P1(t>=240?t-240:t+120,i,r),P1(t,i,r),P1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ga(XT(this.h),Qp(this.s),Qp(this.l),w0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=w0(this.opacity);return`${t===1?"hsl(":"hsla("}${XT(this.h)}, ${Qp(this.s)*100}%, ${Qp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XT(t){return t=(t||0)%360,t<0?t+360:t}function Qp(t){return Math.max(0,Math.min(1,t||0))}function P1(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const k1t=Math.PI/180,T1t=180/Math.PI;var NH=-.14861,hC=1.78277,pC=-.29227,$v=-.90649,$f=1.97294,qT=$f*$v,ZT=$f*hC,JT=hC*pC-$v*NH;function I1t(t){if(t instanceof MA)return new MA(t.h,t.s,t.l,t.opacity);t instanceof Ir||(t=PH(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(JT*r+qT*n-ZT*e)/(JT+qT-ZT),a=r-i,o=($f*(e-i)-pC*a)/$v,s=Math.sqrt(o*o+a*a)/($f*i*(1-i)),A=s?Math.atan2(o,a)*T1t-120:NaN;return new MA(A<0?A+360:A,s,i,t.opacity)}function io(t,n,e,r){return arguments.length===1?I1t(t):new MA(t,n,e,r??1)}function MA(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}jv(MA,io,fC(Ql,{brighter(t){return t=t==null?Bl:Math.pow(Bl,t),new MA(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jA:Math.pow(jA,t),new MA(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*k1t,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ir(255*(n+e*(NH*r+hC*i)),255*(n+e*(pC*r+$v*i)),255*(n+e*($f*r)),this.opacity)}}));function L1t(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function Q1t(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<n-1?t[r+2]:2*a-i;return L1t((e-r/n)*n,o,i,a,s)}}const gC=t=>()=>t;function DH(t,n){return function(e){return t+e*n}}function U1t(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function P1t(t,n){var e=n-t;return e?DH(t,e>180||e<-180?e-360*Math.round(e/360):e):gC(isNaN(t)?n:t)}function R1t(t){return(t=+t)==1?tl:function(n,e){return e-n?U1t(n,e,t):gC(isNaN(n)?e:n)}}function tl(t,n){var e=n-t;return e?DH(t,e):gC(isNaN(t)?n:t)}(function t(n){var e=R1t(n);function r(i,a){var o=e((i=jf(i)).r,(a=jf(a)).r),s=e(i.g,a.g),A=e(i.b,a.b),c=tl(i.opacity,a.opacity);return function(l){return i.r=o(l),i.g=s(l),i.b=A(l),i.opacity=c(l),i+""}}return r.gamma=t,r})(1);function N1t(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),o,s;for(o=0;o<e;++o)s=jf(n[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(A){return s.r=r(A),s.g=i(A),s.b=a(A),s+""}}}var D1t=N1t(Q1t);function HH(t){return(function n(e){e=+e;function r(i,a){var o=t((i=io(i)).h,(a=io(a)).h),s=tl(i.s,a.s),A=tl(i.l,a.l),c=tl(i.opacity,a.opacity);return function(l){return i.h=o(l),i.s=s(l),i.l=A(Math.pow(l,e)),i.opacity=c(l),i+""}}return r.gamma=n,r})(1)}HH(P1t);var vC=HH(tl);const cn=t=>D1t(t[t.length-1]);var jH=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(le);const H1t=cn(jH);var $H=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(le);const j1t=cn($H);var GH=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(le);const $1t=cn(GH);var KH=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(le);const G1t=cn(KH);var zH=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(le);const K1t=cn(zH);var WH=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(le);const z1t=cn(WH);var VH=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(le);const W1t=cn(VH);var YH=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(le);const V1t=cn(YH);var XH=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(le);const Y1t=cn(XH);var qH=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(le);const X1t=cn(qH);var ZH=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(le);const q1t=cn(ZH);var JH=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(le);const Z1t=cn(JH);var t5=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(le);const J1t=cn(t5);var e5=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(le);const twt=cn(e5);var n5=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(le);const ewt=cn(n5);var r5=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(le);const nwt=cn(r5);var i5=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(le);const rwt=cn(i5);var a5=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(le);const iwt=cn(a5);var o5=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(le);const awt=cn(o5);var s5=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(le);const owt=cn(s5);var A5=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(le);const swt=cn(A5);var c5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(le);const Awt=cn(c5);var l5=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(le);const cwt=cn(l5);var u5=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(le);const lwt=cn(u5);var f5=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(le);const uwt=cn(f5);var d5=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(le);const fwt=cn(d5);var h5=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(le);const dwt=cn(h5);function hwt(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const pwt=vC(io(300,.5,0),io(-240,.5,1));var gwt=vC(io(-100,.75,.35),io(80,1.5,.8)),vwt=vC(io(260,.75,.35),io(80,1.5,.8)),Up=io();function ywt(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Up.h=360*t-100,Up.s=1.5-1.5*n,Up.l=.8-.9*n,Up+""}var Pp=jf(),mwt=Math.PI/3,wwt=Math.PI*2/3;function bwt(t){var n;return t=(.5-t)*Math.PI,Pp.r=255*(n=Math.sin(t))*n,Pp.g=255*(n=Math.sin(t+mwt))*n,Pp.b=255*(n=Math.sin(t+wwt))*n,Pp+""}function Bwt(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Gv(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const xwt=Gv(le("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Cwt=Gv(le("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Owt=Gv(le("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ewt=Gv(le("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Wb=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:Awt,interpolateBrBG:H1t,interpolateBuGn:X1t,interpolateBuPu:q1t,interpolateCividis:hwt,interpolateCool:vwt,interpolateCubehelixDefault:pwt,interpolateGnBu:Z1t,interpolateGreens:cwt,interpolateGreys:lwt,interpolateInferno:Owt,interpolateMagma:Cwt,interpolateOrRd:J1t,interpolateOranges:dwt,interpolatePRGn:j1t,interpolatePiYG:$1t,interpolatePlasma:Ewt,interpolatePuBu:ewt,interpolatePuBuGn:twt,interpolatePuOr:G1t,interpolatePuRd:nwt,interpolatePurples:uwt,interpolateRainbow:ywt,interpolateRdBu:K1t,interpolateRdGy:z1t,interpolateRdPu:rwt,interpolateRdYlBu:W1t,interpolateRdYlGn:V1t,interpolateReds:fwt,interpolateSinebow:bwt,interpolateSpectral:Y1t,interpolateTurbo:Bwt,interpolateViridis:xwt,interpolateWarm:gwt,interpolateYlGn:awt,interpolateYlGnBu:iwt,interpolateYlOrBr:owt,interpolateYlOrRd:swt,schemeAccent:l1t,schemeBlues:c5,schemeBrBG:jH,schemeBuGn:qH,schemeBuPu:ZH,schemeCategory10:c1t,schemeDark2:u1t,schemeGnBu:JH,schemeGreens:l5,schemeGreys:u5,schemeObservable10:f1t,schemeOrRd:t5,schemeOranges:h5,schemePRGn:$H,schemePaired:d1t,schemePastel1:h1t,schemePastel2:p1t,schemePiYG:GH,schemePuBu:n5,schemePuBuGn:e5,schemePuOr:KH,schemePuRd:r5,schemePurples:f5,schemeRdBu:zH,schemeRdGy:WH,schemeRdPu:i5,schemeRdYlBu:VH,schemeRdYlGn:YH,schemeReds:d5,schemeSet1:g1t,schemeSet2:v1t,schemeSet3:y1t,schemeSpectral:XH,schemeTableau10:m1t,schemeYlGn:o5,schemeYlGnBu:a5,schemeYlOrBr:s5,schemeYlOrRd:A5},Symbol.toStringTag,{value:"Module"}));function _wt(t,n,e,r,i,a){const{guide:o={}}=e,s=Pwt(t,n,e);if(typeof s!="string")return e;const A=Rwt(s,t,n,e),c=Lwt(s,A,e);return Object.assign(Object.assign(Object.assign({},e),Dwt(s,t,n,e,r)),{domain:c,range:Nwt(s,t,n,e,c,i,a),expectedDomain:A,guide:o,name:t,type:s})}function Swt(t,n){const e={};for(const r of t){const{values:i,name:a}=r,o=n[a];for(const s of i){const{name:A,value:c}=s;e[A]=c.map(l=>o.map(l))}}return e}function Fwt(t,n){const e=Array.from(t.values()).flatMap(i=>i.channels);mx(e,i=>i.map(a=>n.get(a.scale.uid)),i=>i.name).filter(([,i])=>i.some(a=>typeof a.getOptions().groupTransform=="function")&&i.every(a=>a.getTicks)).map(i=>i[1]).forEach(i=>{const a=i.map(o=>o.getOptions().groupTransform)[0];a(i)})}function Mwt(t,n){var e;const{components:r=[]}=n,i=["scale","encode","axis","legend","data","transform"],a=Array.from(new Set(t.flatMap(s=>s.channels.map(A=>A.scale)))),o=new Map(a.map(s=>[s.name,s]));for(const s of r){const A=Iwt(s);for(const c of A){const l=o.get(c),u=((e=s.scale)===null||e===void 0?void 0:e[c])||{},{independent:f=!1}=u;if(l&&!f){const{guide:d}=l,h=typeof d=="boolean"?{}:d;l.guide=at({},h,s),Object.assign(l,u)}else{const d=Object.assign(Object.assign({},u),{expectedDomain:u.domain,name:c,guide:_B(s,i)});a.push(d)}}}return a}function kwt(t){if(!t||!Array.isArray(t))return[DA,DA];let n,e;return[a=>{var o;n=a.map.bind(a),e=(o=a.invert)===null||o===void 0?void 0:o.bind(a);const s=t.filter(([f])=>typeof f=="function"),A=t.filter(([f])=>typeof f!="function"),c=new Map(A);if(a.map=f=>{for(const[d,h]of s)if(d(f))return h;return c.has(f)?c.get(f):n(f)},!e)return a;const l=new Map(A.map(([f,d])=>[d,f])),u=new Map(s.map(([f,d])=>[d,f]));return a.invert=f=>u.has(f)?f:l.has(f)?l.get(f):e(f),a},a=>(n!==null&&(a.map=n),e!==null&&(a.invert=e),a)]}function tI(t,n){const e=Object.keys(t);for(const r of Object.values(n)){const{name:i}=r.getOptions();if(!(i in t))t[i]=r;else{const a=e.filter(A=>A.startsWith(i)).map(A=>+(A.replace(i,"")||0)),o=He(a)+1,s=`${i}${o}`;t[s]=r,r.getOptions().key=s}}return t}function eI(t,n){const[e]=An("scale",n),{relations:r}=t,[i]=kwt(r),a=e(t);return i(a)}function Twt(t){const n=t.flatMap(e=>Array.from(e.values())).flatMap(e=>e.channels.map(r=>r.scale));nI(n,"x"),nI(n,"y")}function Iwt(t){const{channels:n=[],type:e,scale:r={}}=t,i=["shape","color","opacity","size"];return n.length!==0?n:e==="axisX"?["x"]:e==="axisY"?["y"]:e==="legends"?Object.keys(r).filter(a=>i.includes(a)):[]}function nI(t,n){const e=t.filter(({name:a,facet:o=!0})=>o&&a===n),r=e.flatMap(a=>a.domain),i=e.every(p5)?Io(r):e.every(g5)?Array.from(new Set(r)):null;if(i!==null)for(const a of e)a.domain=i}function Lwt(t,n,e){const{ratio:r}=e;return r==null?n:p5({type:t})?Qwt(n,r,t):g5({type:t})?Uwt(n,r):n}function Qwt(t,n,e){const r=t.map(Number),i=new Ro({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*n]});return e==="time"?t.map(a=>new Date(i.map(a))):t.map(a=>i.map(a))}function Uwt(t,n){const e=Math.round(t.length*n);return t.slice(0,e)}function p5(t){const{type:n}=t;return typeof n!="string"?!1:["linear","log","pow","time"].includes(n)}function g5(t){const{type:n}=t;return typeof n!="string"?!1:["band","point","ordinal"].includes(n)}function Pwt(t,n,e){const{type:r,domain:i,range:a,quantitative:o,ordinal:s}=e;return r!==void 0?r:Zwt(n)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?R1(t,s):i!==void 0?oI([i])?R1(t,s):sI(n)?"time":iI(t,a,o):oI(n)?R1(t,s):sI(n)?"time":iI(t,a,o)}function Rwt(t,n,e,r){const{domain:i}=r;if(i!==void 0)return i;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return aI(Wwt(e,r),r);case"band":case"ordinal":case"point":return Vwt(e);case"quantile":return Ywt(e);case"sequential":return aI(Xwt(e),r);default:return[]}}function Nwt(t,n,e,r,i,a,o){const{range:s}=r;if(typeof s=="string")return Hwt(s);if(s!==void 0)return s;const{rangeMin:A,rangeMax:c}=r;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const l=rI(e,r,i,a,o),[u,f]=qwt(n,l);return[A??u,c??f]}case"band":case"point":return[A??(n==="size"?5:0),c??(n==="size"?10:1)];case"ordinal":return rI(e,r,i,a,o);case"sequential":return;case"constant":return[e[0][0]];default:return[]}}function Dwt(t,n,e,r,i){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return Gwt(i,r);case"band":case"point":return Kwt(t,n,i,r);case"sequential":return $wt(r);default:return r}}function rI(t,n,e,r,i){const[a]=An("palette",i),{category10:o,category20:s}=r,A=uft(e).length<=o.length?o:s,{palette:c=A,offset:l}=n;if(Array.isArray(c))return c;try{return a({type:c})}catch{const f=jwt(c,e,l);if(f)return f;throw new Error(`Unknown Component: ${c} `)}}function Hwt(t){return t.split("-")}function jwt(t,n,e=r=>r){if(!t)return null;const r=Qs(t),i=Wb[`scheme${r}`],a=Wb[`interpolate${r}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const o=i[n.length];if(o)return o}return n.map((o,s)=>a(e(s/n.length)))}function $wt(t){const{palette:n="ylGnBu",offset:e}=t,r=Qs(n),i=Wb[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:e?a=>i(e(a)):i}}function Gwt(t,n){const{interpolate:e=cd,nice:r=!1,tickCount:i=5}=n;return Object.assign(Object.assign({},n),{interpolate:e,nice:r,tickCount:i})}function Kwt(t,n,e,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const i=zwt(t,n,e),{paddingInner:a=i,paddingOuter:o=i}=r;return Object.assign(Object.assign({},r),{paddingInner:a,paddingOuter:o,padding:i,unknown:NaN})}function zwt(t,n,e){return n==="enterDelay"||n==="enterDuration"||n==="size"?0:t==="band"?QH(e)?0:.1:t==="point"?.5:0}function R1(t,n){return n||(Jwt(t)?"point":"ordinal")}function iI(t,n,e){return e||(t!=="color"||n?"linear":"sequential")}function aI(t,n){if(t.length===0)return t;const{domainMin:e,domainMax:r}=n,[i,a]=t;return[e??i,r??a]}function Wwt(t,n){const{zero:e=!1}=n;let r=1/0,i=-1/0;for(const a of t)for(const o of a)en(o)&&(r=Math.min(r,+o),i=Math.max(i,+o));return r===1/0?[]:e?[Math.min(0,r),i]:[r,i]}function Vwt(t){return Array.from(new Set(t.flat()))}function Ywt(t){return t.flat().sort()}function Xwt(t){let n=1/0,e=-1/0;for(const r of t)for(const i of r)en(i)&&(n=Math.min(n,+i),e=Math.max(e,+i));return n===1/0?[]:[n<0?-e:n,e]}function qwt(t,n){return t==="enterDelay"?[0,1e3]:t=="enterDuration"?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:t==="color"?[lft(n),j4(n)]:t==="opacity"?[0,1]:t==="size"?[1,10]:[0,1]}function oI(t){return yC(t,n=>{const e=typeof n;return e==="string"||e==="boolean"})}function sI(t){return yC(t,n=>n instanceof Date)}function Zwt(t){return yC(t,pl)}function yC(t,n){for(const e of t)if(e.some(n))return!0;return!1}function Jwt(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function tbt(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t==="enterDelay"||t==="enterDuration"||t==="updateDelay"||t==="updateDuration"||t==="exitDelay"||t==="exitDuration"}function ebt(t){if(!t||!t.type)return!1;if(typeof t.type=="function")return!0;const{type:n,domain:e,range:r,interpolator:i}=t,a=e&&e.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(n)&&a&&o||["sequential"].includes(n)&&a&&(o||i)||["constant","identity"].includes(n)&&o)}const nbt={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},rbt={threshold:"threshold",quantize:"quantize",quantile:"quantile"},ibt={ordinal:"ordinal",band:"band",point:"point"},abt={constant:"constant"};var Gs=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function obt(t,n,e){const{coordinates:r=[],title:i}=n,[,a]=An("component",e),o=t.filter(({guide:l})=>l!==null),s=[],A=gbt(n,t,e);if(s.push(...A),i){const{props:l}=a("title"),{defaultPosition:u,defaultOrientation:f,defaultOrder:d,defaultSize:h,defaultCrossPadding:p}=l,v=typeof i=="string"?{title:i}:i;s.push(Object.assign({type:"title",position:u,orientation:f,order:d,crossPadding:p[0],defaultSize:h},v))}return ubt(o,r).forEach(([l,u])=>{const{props:f}=a(l),{defaultPosition:d,defaultPlane:h="xy",defaultOrientation:p,defaultSize:v,defaultOrder:y,defaultLength:m,defaultPadding:b=[0,0],defaultCrossPadding:B=[0,0]}=f,x=at({},...u),{guide:C,field:O}=x,_=Array.isArray(C)?C:[C];for(const S of _){const[F,M]=hbt(l,d,p,S,u,o,r);if(!F&&!M)continue;const T=F==="left"||F==="right",k=T?b[1]:b[0],L=T?B[1]:B[0],{size:U,order:N=y,length:P=m,padding:Q=k,crossPadding:R=L}=S;s.push(Object.assign(Object.assign({title:O},S),{defaultSize:v,length:P,position:F,plane:h,orientation:M,padding:Q,order:N,crossPadding:R,size:U,type:l,scales:u}))}}),s}function AI(t,n,e,r,i){const[a]=An("component",r),{scaleInstances:o,scale:s,bbox:A}=t,c=Gs(t,["scaleInstances","scale","bbox"]),l={bbox:A,library:r};return a(c)({coordinate:n,library:r,markState:i,scales:o,theme:e,value:l,scale:s})}function sbt(t){return t.map(n=>{const e=at(n,n.style);return delete e.style,e})}function v5(t,n){const e=["left","right","bottom","top"];return vx(t,({type:a,position:o,group:s})=>e.includes(o)?s===void 0?a.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,a])=>{if(a.length===1)return a[0];if(n!==void 0){const l=a.filter(p=>p.length!==void 0).map(p=>p.length),u=Yi(l);if(u>n)return a.forEach(p=>p.group=Symbol("independent")),a;const f=n-u,d=a.length-l.length,h=f/d;a.forEach(p=>{p.length===void 0&&(p.length=h)})}const o=He(a,l=>l.size),s=He(a,l=>l.order),A=He(a,l=>l.crossPadding),c=a[0].position;return{type:"group",size:o,order:s,position:c,children:a,crossPadding:A}})}function Abt(t,n){const e=["shape","size","color","opacity"],r=(f,d)=>f==="constant"&&d==="size",i=t.filter(({type:f,name:d})=>typeof f=="string"&&e.includes(d)&&!r(f,d)),a=i.filter(({type:f})=>f==="constant"),o=i.filter(({type:f})=>f!=="constant"),A=vx(o,f=>f.field?f.field:Symbol("independent")).map(([f,d])=>[f,[...d,...a]]).filter(([,f])=>f.some(d=>d.type!=="constant")),c=new Map(A);if(c.size===0)return[];const l=f=>f.sort(([d],[h])=>d.localeCompare(h));return Array.from(c).map(([,f])=>{const h=fft(f).sort((p,v)=>v.length-p.length).map(p=>({combination:p,option:p.map(v=>[v.name,cbt(v)])}));for(const{option:p,combination:v}of h)if(!p.every(y=>y[1]==="constant")&&p.every(y=>y[1]==="discrete"||y[1]==="constant"))return["legendCategory",v];for(const[p,v]of c0t)for(const{option:y,combination:m}of h)if(v.some(b=>ff(l(b),l(y))))return[p,m];return null}).filter(en)}function cbt(t){const{type:n}=t;return typeof n!="string"?null:n in nbt?"continuous":n in ibt?"discrete":n in rbt?"distribution":n in abt?"constant":null}function lbt(t,n){return t.map(e=>{const{name:r}=e;if(i1t(n)||QH(n)||Zc(n)&&(bA(n)||rf(n)))return null;if(r.startsWith("x"))return bA(n)?["axisArc",[e]]:rf(n)?["axisLinear",[e]]:[Zc(n)?"axisY":"axisX",[e]];if(r.startsWith("y"))return bA(n)?["axisLinear",[e]]:rf(n)?["axisArc",[e]]:[Zc(n)?"axisX":"axisY",[e]];if(r.startsWith("z"))return["axisZ",[e]];if(r.startsWith("position")){if(UH(n))return["axisRadar",[e]];if(!bA(n))return["axisY",[e]]}return null}).filter(en)}function ubt(t,n){const e=t.filter(r=>ebt(r));return[...Abt(e),...lbt(e,n)]}function Vb(t){const n=Ba(t,"polar");if(n.length){const r=n[n.length-1],{startAngle:i,endAngle:a}=JP(r);return[i,a]}const e=Ba(t,"radial");if(e.length){const r=e[e.length-1],{startAngle:i,endAngle:a}=n4(r);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function fbt(t){const n=/position(\d*)/g.exec(t);return n?+n[1]:null}function dbt(t,n,e,r,i){const{name:a}=e[0];if(t==="axisRadar"){const o=r.filter(f=>f.name.startsWith("position")),s=fbt(a);if(s===null)return[null,null];const[A,c]=Vb(i),l=UH(i)?o.length:o.length-1;return["center",(c-A)/l*s+A]}if(t==="axisY"&&a1t(i))return Zc(i)?["center","horizontal"]:["center","vertical"];if(t==="axisLinear"){const[o]=Vb(i);return["center",o]}return t==="axisArc"?n[0]==="inner"?["inner",null]:["outer",null]:bA(i)?["center",null]:rf(i)?["center",null]:t==="axisX"&&o1t(i)||t==="axisX"&&s1t(i)?["top",null]:n}function hbt(t,n,e,r,i,a,o){const[s]=Vb(o),A=[r.position||n,s??e];return typeof t=="string"&&t.startsWith("axis")?dbt(t,A,i,a,o):typeof t=="string"&&t.startsWith("legend")&&bA(o)&&r.position==="center"?["center","vertical"]:A}function pbt(t,n,e=[]){return t==="x"?Zc(e)?`${n}Y`:`${n}X`:t==="y"?Zc(e)?`${n}X`:`${n}Y`:null}function gbt(t,n,e){const[,r]=An("component",e),{coordinates:i}=t;function a(o,s,A,c){const l=pbt(s,o,i);if(!c||!l)return;const{props:u}=r(l),{defaultPosition:f,defaultSize:d,defaultOrder:h,defaultCrossPadding:[p]}=u;return Object.assign(Object.assign({position:f,defaultSize:d,order:h,type:l,crossPadding:p},c),{scales:[A]})}return n.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:A,name:c}=o;return[a("slider",c,o,s),a("scrollbar",c,o,A)]}).filter(o=>!!o)}function y5(t,n,e,r,i,a){const{type:o}=t;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const A=o;return(A.startsWith("axis")?bbt:A.startsWith("group")?vbt:A.startsWith("legendContinuous")?Bbt:A==="legendCategory"?xbt:A.startsWith("slider")?wbt:A==="title"?mbt:A.startsWith("scrollbar")?ybt:()=>{})(t,n,e,r,i,a)}function vbt(t,n,e,r,i,a){const{children:o}=t,s=He(o,c=>c.crossPadding);o.forEach(c=>c.crossPadding=s),o.forEach(c=>y5(c,n,e,r,i,a));const A=He(o,c=>c.size);t.size=A,o.forEach(c=>c.size=A)}function ybt(t,n,e,r,i,a){const{trackSize:o=6}=at({},i.scrollbar,t);t.size=o}function mbt(t,n,e,r,i,a){const o=at({},i.title,t),{title:s,subtitle:A,spacing:c=0}=o,l=Gs(o,["title","subtitle","spacing"]);if(s){const u=wt(l,"title"),f=b0(s,u);t.size=f.height}if(A){const u=wt(l,"subtitle"),f=b0(A,u);t.size+=c+f.height}}function wbt(t,n,e,r,i,a){const o=()=>{const{slider:l}=i;return at({},l,t)},{trackSize:s,handleIconSize:A}=o(),c=Math.max(s,A*2.4);t.size=c}function bbt(t,n,e,r,i,a){var o,s;t.transform=t.transform||[{type:"hide"}];const A=r==="left"||r==="right",c=m5(t,r,i),{tickLength:l=0,labelSpacing:u=0,titleSpacing:f=0,labelAutoRotate:d}=c,h=Gs(c,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),p=Kv(t,a),v=Gf(h,p);let y=l;if(typeof t.tickLength=="function"){const x=(((o=p.getTicks)===null||o===void 0?void 0:o.call(p))||p.getOptions().domain).map((C,O,_)=>t.tickLength(C,O,_));y=Math.max(...x,0)}const m=y+u;if(v&&v.length){const B=He(v,C=>C.width),x=He(v,C=>C.height);if(A)t.size=B+m;else{const{tickFilter:C,labelTransform:O}=t;Ebt(p,v,n,e,C)&&!O&&d!==!1&&d!==null?(t.labelTransform="rotate(90)",t.size=B+m):(t.labelTransform=(s=t.labelTransform)!==null&&s!==void 0?s:"rotate(0)",t.size=x+m)}}else t.size=y;const b=zv(h);b&&(A?t.size+=f+b.width:t.size+=f+b.height)}function Bbt(t,n,e,r,i,a){const s=(()=>{const{legendContinuous:B}=i;return at({},B,t)})(),{labelSpacing:A=0,titleSpacing:c=0}=s,l=Gs(s,["labelSpacing","titleSpacing"]),u=r==="left"||r==="right",f=wt(l,"ribbon"),{size:d}=f,h=wt(l,"handleIcon"),{size:p}=h,v=Math.max(d,p*2.4);t.size=v;const y=Kv(t,a),m=Gf(l,y);if(m){const B=u?"width":"height",x=He(m,C=>C[B]);t.size+=x+A}const b=zv(l);b&&(u?t.size=Math.max(t.size,b.width):t.size+=c+b.height)}function xbt(t,n,e,r,i,a){const s=(()=>{const{legendCategory:Q}=i,{title:R}=t,[H,G]=Array.isArray(R)?[R,void 0]:[void 0,R];return at({title:H},Q,Object.assign(Object.assign({},t),{title:G}))})(),{focus:A,itemSpacing:c,focusMarkerSize:l,itemMarkerSize:u,titleSpacing:f,rowPadding:d,colPadding:h,maxCols:p=1/0,maxRows:v=1/0}=s,y=Gs(s,["focus","itemSpacing","focusMarkerSize","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:m,length:b}=t,B=Q=>Math.min(Q,v),x=Q=>Math.min(Q,p),C=r==="left"||r==="right",O=b===void 0?n+(C?0:e[0]+e[1]):b,_=Kv(t,a),{render:S}=t;if(S&&typeof document<"u"){const Q=_.getOptions().domain,{labelFormatter:R}=y,H=Z=>R?typeof R=="string"?Go(R)(Z):R(Z):`${Z}`,G=Q.map((Z,ot)=>({id:Z,index:ot,label:H(Z),value:Z,color:_.map(Z)})),K=S(G,y),W=document.createElement("div"),{width:X,height:Y}=t,et={position:"absolute",visibility:"hidden",top:"-9999px"};X?et.width=`${X}px`:C||(et.width=`${O}px`),Y?et.height=`${Y}px`:C&&(et.height=`${O}px`),Object.assign(W.style,et),typeof K=="string"?W.innerHTML=K:K instanceof HTMLElement&&W.appendChild(K),document.body.appendChild(W);const nt=W.getBoundingClientRect();document.body.removeChild(W),t.size=C?nt.width:nt.height;return}const F=zv(y),M=Gf(y,_,"itemLabel"),T=y.itemValueText!==void 0?Gf(y,_,"itemValue"):null,k=Math.max(M[0].height,u,...T?.[0]?[T[0].height]:[])+d,L=(Q,R=0)=>{let H=u+Q+c[0]+R;return T?.[0]&&(H+=T[0].width+c[1]),A&&(H+=l+c[2]),H};C?(()=>{let Q=-1/0,R=0,H=1,G=0,K=-1/0,W=-1/0;const X=F?F.height:0,Y=O-X;for(const{width:et}of M){const nt=L(et,h);Q=Math.max(Q,nt),R+k>Y?(H++,K=Math.max(K,G),W=Math.max(W,R),G=1,R=k):(R+=k,G++)}H<=1&&(K=G,W=R),t.size=Q*x(H),t.length=W+X,at(t,{cols:x(H),gridRow:K})})():typeof m=="number"?(()=>{const Q=Math.ceil(M.length/m),R=He(M,H=>L(H.width))*m;t.size=k*B(Q)-d,t.length=Math.min(R,O)})():(()=>{let Q=1,R=0,H=-1/0;for(const{width:G}of M){const K=L(G,h);R+K>O?(H=Math.max(H,R),R=K,Q++):R+=K}Q===1&&(H=R),t.size=k*B(Q)-d,t.length=H})(),F&&(C?t.size=Math.max(t.size,F.width):t.size+=f+F.height)}function Kv(t,n){const[e]=An("scale",n),{scales:r,tickCount:i,tickMethod:a}=t,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return i!==void 0&&(o.tickCount=i),a!==void 0&&(o.tickMethod=a),e(o)}function Gf(t,n,e="label"){const{labelFormatter:r,tickFilter:i,label:a=!0}=t,o=Gs(t,["labelFormatter","tickFilter","label"]);if(!a)return null;const s=Cbt(n,r,i),A=wt(o,e),c=s.map((f,d)=>Object.fromEntries(Object.entries(A).map(([h,p])=>[h,typeof p=="function"?p(f,d):p]))),l=s.map((f,d)=>{const h=c[d];return b0(f,h)});if(!c.some(f=>f.transform)){const f=s.map((d,h)=>h);t.indexBBox=new Map(f.map(d=>[d,[s[d],l[d]]]))}return l}function zv(t){const n=c=>c===!1||c===null,{title:e}=t,r=Gs(t,["title"]);if(n(e)||e===void 0)return null;const i=wt(r,"title"),{direction:a,transform:o}=i,s=Array.isArray(e)?e.join(","):e;return typeof s!="string"?null:b0(s,Object.assign(Object.assign({},i),{transform:o||(a==="vertical"?"rotate(-90)":"")}))}function m5(t,n,e){const{title:r}=t,[i,a]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${Mx(n)}`]:s}=e;return at({title:i},o,s,Object.assign(Object.assign({},t),{title:a}))}function w5(t,n){const e=t.getTicks?t.getTicks():t.getOptions().domain;return n?e.filter(n):e}function Cbt(t,n,e){const i=w5(t,e).map(o=>typeof o=="number"?Xg(o):o),a=n?typeof n=="string"?Go(n):n:t.getFormatter?t.getFormatter():o=>`${o}`;return i.map(a)}function Obt(t,n){return t.getBandWidth?t.getBandWidth(n)/2:0}function Ebt(t,n,e,r,i){if(Yi(n,d=>d.width)>e)return!0;const o=t.clone();o.update({range:[0,e]});const s=w5(t,i),A=s.map(d=>o.map(d)+Obt(o,d)),c=s.map((d,h)=>h),l=-r[0],u=e+r[1],f=(d,h)=>{const{width:p}=h;return[d-p/2,d+p/2]};for(let d=0;d<c.length;d++){const h=A[d],[p,v]=f(h,n[d]);if(p<l||v>u)return!0;const y=A[d+1];if(y){const[m]=f(y,n[d+1]);if(v>m)return!0}}return!1}function b0(t,n){const e=_bt(t),{filter:r}=n,i=Gs(n,["filter"]);return e.attr(Object.assign(Object.assign({},i),{visibility:"none"})),e.getBBox()}function _bt(t){return t instanceof an?t:new qi({style:{text:`${t}`}})}const cI=16;function Sbt(t){const n=t.find(({type:i})=>i==="axisX"),e=t.find(({type:i})=>i==="axisY"),r=t.find(({type:i})=>i==="axisZ");n&&e&&r&&(n.plane="xy",e.plane="xy",r.plane="yz",r.origin=[n.bbox.x,n.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=n.bbox.x,r.bbox.y=n.bbox.y,t.push(Object.assign(Object.assign({},n),{plane:"xz",showLabel:!1,showTitle:!1,origin:[n.bbox.x,n.bbox.y,0],eulerAngles:[-90,0,0]})),t.push(Object.assign(Object.assign({},e),{plane:"yz",showLabel:!1,showTitle:!1,origin:[e.bbox.x+e.bbox.width,e.bbox.y,0],eulerAngles:[0,-90,0]})),t.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function Fbt(t,n,e,r){var i,a,o,s;const{width:A,height:c,depth:l,x:u=0,y:f=0,z:d=0,inset:h=(i=e.inset)!==null&&i!==void 0?i:0,insetLeft:p=h,insetTop:v=h,insetBottom:y=h,insetRight:m=h,margin:b=(a=e.margin)!==null&&a!==void 0?a:0,marginLeft:B=b,marginBottom:x=b,marginTop:C=b,marginRight:O=b,padding:_=e.padding,paddingBottom:S=_,paddingLeft:F=_,paddingRight:M=_,paddingTop:T=_}=kbt(t,n,e,r),k=B===cI&&F==="auto",L=O===cI&&M==="auto",U=$t(n,"coordinates",[]).some(_t=>_t.type==="transpose"),N=t.find(({type:_t})=>_t==="axisX"),{size:P,labelTransform:Q}=N||{},R=1/4,H=(_t,Lt,de,qt,Zt)=>{const{marks:Me}=n;if(Me.length===0)return[qt,Zt];if(_t-qt-Zt-_t*R>0)return[qt,Zt];const ge=_t*(1-R);return[Lt==="auto"?ge*qt/(qt+Zt):qt,de==="auto"?ge*Zt/(qt+Zt):Zt]},G=_t=>_t==="auto"?20:_t??20,K=G(T),W=G(S),X=lI(t,c-K-W,[K+C,W+x],["left","right"],n,e,r),{paddingLeft:Y,paddingRight:et}=X,nt=A-B-O;let[Z,ot]=H(nt,F,M,Y,et),ct=nt-Z-ot;const vt=lI(t,ct,[Z+B,ot+O],["bottom","top"],n,e,r),{paddingTop:ht,paddingBottom:bt}=vt,Bt=c-x-C,[Ct,kt]=H(Bt,S,T,bt,ht),Ot=Bt-Ct-kt;if(P&&!U&&!Q){const{fontSize:_t=12,fontFamily:Lt="sans-serif",scales:de=[]}=N,qt=(s=(o=de?.[0])===null||o===void 0?void 0:o.domain)!==null&&s!==void 0?s:[];if(!qt.length)return;const Zt=(Me,Ue,Ee,ge)=>{const ve=lP(Ue,{fontSize:_t,fontFamily:Lt}),ke=ve/2-Ee-ge;ke>0&&(ct-=ke,Me==="left"?Z+=ve/2-Ee:ot+=ve/2-Ee)};k&&Zt("left",xV(qt),B,Z),L&&Zt("right",mi(qt),O,ot)}return{width:A,height:c,depth:l,insetLeft:p,insetTop:v,insetBottom:y,insetRight:m,innerWidth:ct,innerHeight:Ot,paddingLeft:Z,paddingRight:ot,paddingTop:kt,paddingBottom:Ct,marginLeft:B,marginBottom:x,marginTop:C,marginRight:O,x:u,y:f,z:d}}function Mbt(t){const{height:n,width:e,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:o=r,paddingBottom:s=r,margin:A=16,marginLeft:c=A,marginRight:l=A,marginTop:u=A,marginBottom:f=A,inset:d=0,insetLeft:h=d,insetRight:p=d,insetTop:v=d,insetBottom:y=d}=t,m=x=>x==="auto"?20:x,b=e-m(i)-m(a)-c-l-h-p,B=n-m(o)-m(s)-u-f-v-y;return{width:b,height:B}}function kbt(t,n,e,r){const{coordinates:i}=n;if(!bA(i)&&!rf(i))return n;const a=t.filter(y=>typeof y.type=="string"&&y.type.startsWith("axis"));if(a.length===0)return n;const o=a.map(y=>{const m=y.type==="axisArc"?"arc":"linear";return m5(y,m,e)}),s=He(o,y=>{var m;return(m=y.labelSpacing)!==null&&m!==void 0?m:0}),A=a.flatMap((y,m)=>{const b=o[m],B=Kv(y,r);return Gf(b,B)}).filter(en),c=He(A,y=>y.height)+s,l=a.flatMap((y,m)=>{const b=o[m];return zv(b)}).filter(y=>y!==null),u=l.length===0?0:He(l,y=>y.height),{inset:f=c,insetLeft:d=f,insetBottom:h=f,insetTop:p=f+u,insetRight:v=f}=n;return Object.assign(Object.assign({},n),{insetLeft:d,insetBottom:h,insetTop:p,insetRight:v})}function lI(t,n,e,r,i,a,o){const s=Je(t,h=>h.position),{padding:A=a.padding,paddingLeft:c=A,paddingRight:l=A,paddingBottom:u=A,paddingTop:f=A}=i,d={paddingBottom:u,paddingLeft:c,paddingTop:f,paddingRight:l};for(const h of r){const p=`padding${Mx(e2(h))}`,v=s.get(h)||[],y=d[p],m=S=>{S.size===void 0&&(S.size=S.defaultSize)},b=S=>{S.type==="group"?(S.children.forEach(m),S.size=He(S.children,F=>F.size)):S.size=S.defaultSize},B=S=>{S.size||(y!=="auto"?b(S):(y5(S,n,e,h,a,o),m(S)))},x=S=>{S.type.startsWith("axis")&&S.labelAutoHide===void 0&&(S.labelAutoHide=!0)},C=h==="bottom"||h==="top",O=bi(v,S=>S.order),_=v.filter(S=>S.type.startsWith("axis")&&S.order==O);if(_.length&&(_[0].crossPadding=0),typeof y=="number")v.forEach(m),v.forEach(x);else if(v.length===0)d[p]=0;else{const S=C?n+e[0]+e[1]:n,F=v5(v,S);F.forEach(B);const M=F.reduce((T,{size:k,crossPadding:L=12})=>T+k+L,0);d[p]=M}}return d}function Tbt(t,n,e){const r=Je(t,C=>`${C.plane||"xy"}-${C.position}`),{paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:A,marginTop:c,marginBottom:l,marginRight:u,innerHeight:f,innerWidth:d,insetBottom:h,insetLeft:p,insetRight:v,insetTop:y,height:m,width:b,depth:B}=e,x={xy:N1({width:b,height:m,paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:A,marginTop:c,marginBottom:l,marginRight:u,innerHeight:f,innerWidth:d,insetBottom:h,insetLeft:p,insetRight:v,insetTop:y}),yz:N1({width:B,height:m,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:B,innerHeight:m,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:N1({width:b,height:B,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:B,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[C,O]of r.entries()){const[_,S]=C.split("-"),F=x[_][S],[M,T]=$4(O,k=>typeof k.type!="string"?!1:!!(S==="center"||k.type.startsWith("axis")&&["inner","outer"].includes(S)));M.length&&Ibt(M,n,F,S),T.length&&jbt(O,n,F)}}function N1({width:t,height:n,paddingLeft:e,paddingRight:r,paddingTop:i,paddingBottom:a,marginLeft:o,marginTop:s,marginBottom:A,marginRight:c,innerHeight:l,innerWidth:u,insetBottom:f,insetLeft:d,insetRight:h,insetTop:p}){const v=e+o,y=i+s,m=r+c,b=a+A,B=t-o-c,x=[v+d,y+p,u-d-h,l-p-f,"center",null,null];return{top:[v,0,u,y,"vertical",!0,Sn,o,B],right:[t-m,y,m,l,"horizontal",!1,Sn],bottom:[v,n-b,u,b,"vertical",!1,Sn,o,B],left:[0,y,v,l,"horizontal",!0,Sn],"top-left":[v,0,u,y,"vertical",!0,Sn],"top-right":[v,0,u,y,"vertical",!0,Sn],"bottom-left":[v,n-b,u,b,"vertical",!1,Sn],"bottom-right":[v,n-b,u,b,"vertical",!1,Sn],center:x,inner:x,outer:x}}function Ibt(t,n,e,r){const[i,a]=$4(t,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));Lbt(i,n,e,r),$bt(a,n,e)}function Lbt(t,n,e,r){r==="center"?hdt(n)?Hbt(t,n,e):je(n)?Pbt(t,n,e):Ev(n)&&Rbt(t,n,e,t[0].orientation):r==="inner"?Qbt(t,n,e):r==="outer"&&Ubt(t,n,e)}function Qbt(t,n,e){const[r,i,,a]=e,[o,s]=n.getCenter(),[A]=_v(n),c=a/2,l=A*c,u=o-l,f=s-l;for(let d=0;d<t.length;d++){const h=t[d];h.bbox={x:r+u,y:i+f,width:l*2,height:l*2}}}function Ubt(t,n,e){const[r,i,a,o]=e;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function Pbt(t,n,e){const[r,i,a,o]=e;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function Rbt(t,n,e,r){r==="horizontal"?Dbt(t,n,e):r==="vertical"&&Nbt(t,n,e)}function Nbt(t,n,e){const[r,i,,a]=e,o=new Array(t.length).fill(0),A=n.map(o).filter((c,l)=>l%2===0).map(c=>c+r);for(let c=0;c<t.length;c++){const l=t[c],u=A[c],f=A[c+1]-u;l.bbox={x:u,y:i,width:f,height:a}}}function Dbt(t,n,e){const[r,i,a]=e,o=new Array(t.length).fill(0),A=n.map(o).filter((c,l)=>l%2===1).map(c=>c+i);for(let c=0;c<t.length;c++){const l=t[c],u=A[c],f=A[c+1]-u;l.bbox={x:r,y:u,width:a,height:f}}}function Hbt(t,n,e,r){const[i,a,o,s]=e;for(const A of t)A.bbox={x:i,y:a,width:o,height:s},A.radar={index:t.indexOf(A),count:t.length}}function jbt(t,n,e){const[r,i,a,o,s,A,c,l,u]=e,[f,d,h,p,v,y,m,b]=s==="vertical"?["y",i,"x",r,"height",o,"width",a]:["x",r,"y",i,"width",a,"height",o];t.sort((S,F)=>c?.(S.order,F.order));const B=S=>S==="title"||S==="group"||S.startsWith("legend"),x=(S,F,M)=>M===void 0?F:B(S)?M:F,C=(S,F,M)=>M===void 0?F:B(S)?M:F,O=A?d+y:d;for(let S=0,F=O;S<t.length;S++){const M=t[S],{crossPadding:T=0,type:k}=M,{size:L}=M;M.bbox={[f]:A?F-L-T:F+T,[h]:C(k,p,l),[v]:L,[m]:x(k,b,u)},F+=(L+T)*(A?-1:1)}const _=t.filter(S=>S.type==="group");for(const S of _){const{bbox:F,children:M}=S,T=F[m],k=T/M.length,L=M.reduce((R,H)=>{var G;const K=(G=H.layout)===null||G===void 0?void 0:G.justifyContent;return K||R},"flex-start"),U=M.map((R,H)=>{const{length:G=k,padding:K=0}=R;return G+(H===M.length-1?0:K)}),N=Yi(U),P=T-N,Q=L==="flex-start"?0:L==="center"?P/2:P;for(let R=0,H=F[h]+Q;R<M.length;R++){const G=M[R],{padding:K=0}=G,W=R===M.length-1?0:K;G.bbox={[v]:F[v],[f]:F[f],[h]:H,[m]:U[R]-W},at(G,{layout:{justifyContent:L}}),H+=U[R]}}}function $bt(t,n,e){if(t.length===0)return;const[r,i,a,o]=e,[s]=_v(n),A=o/2*s/Math.sqrt(2),c=r+a/2,l=i+o/2;for(let u=0;u<t.length;u++){const f=t[u];f.bbox={x:c-A,y:l-A,width:A*2,height:A*2}}}var Gbt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},xl=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const mC=Symbol("CALLBACK_ITEM");function Kbt(t,n,e){const{encode:r={},scale:i={},transform:a=[]}=n,o=xl(n,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},o),{encode:r,scale:i,transform:a})]}function b5(t,n,e){return Gbt(this,void 0,void 0,function*(){const{library:r}=e,{data:i}=n,[a]=An("data",r),o=aBt(i),{transform:s=[]}=o,l=[xl(o,["transform"]),...s].map(d=>a(d,e)),u=yield oft(l)(i),f=i&&!Array.isArray(i)&&!Array.isArray(u)?{value:u}:u;return[Array.isArray(u)?XA(u):[],Object.assign(Object.assign({},n),{data:f})]})}function zbt(t,n,e){const{encode:r}=n;if(!r)return[t,n];const i={};for(const[a,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const A=`${a}${s===0?"":s}`;i[A]=o[s]}else i[a]=o;return[t,Object.assign(Object.assign({},n),{encode:i})]}function Wbt(t,n,e){const{encode:r,data:i}=n;if(!r)return[t,n];const a=eo(r,o=>nBt(o)?o:{type:rBt(i,o),value:o});return[t,Object.assign(Object.assign({},n),{encode:a})]}function Vbt(t,n,e){const{encode:r}=n;if(!r)return[t,n];const i=eo(r,(a,o)=>{const{type:s}=a;return s!=="constant"||tbt(o)?a:Object.assign(Object.assign({},a),{constant:!0})});return[t,Object.assign(Object.assign({},n),{encode:i})]}function Ybt(t,n,e){const{encode:r,data:i}=n;if(!r)return[t,n];const{library:a}=e,o=ABt(a),s=eo(r,A=>o(i,A));return[t,Object.assign(Object.assign({},n),{encode:s})]}function Xbt(t,n,e){const{tooltip:r={}}=n;return No(r)?[t,n]:Array.isArray(r)?[t,Object.assign(Object.assign({},n),{tooltip:{items:r}})]:pl(r)&&ON(r)?[t,Object.assign(Object.assign({},n),{tooltip:r})]:[t,Object.assign(Object.assign({},n),{tooltip:{items:[r]}})]}function qbt(t,n,e){const{data:r,encode:i,tooltip:a={}}=n;if(No(a))return[t,n];const o=u=>{if(!u)return u;if(typeof u=="string")return t.map(f=>({name:u,value:r[f][u]}));if(pl(u)){const{field:f,channel:d,color:h,name:p=f,valueFormatter:v=C=>C}=u,y=typeof v=="string"?Go(v):v,m=d&&i[d],b=m&&i[d].field,B=p||b||d,x=[];for(const C of t){const O=f?r[C][f]:m?i[d].value[C]:null;x[C]={name:B,color:h,value:y(O)}}return x}if(typeof u=="function"){const f=[];for(const d of t){const h=u(r[d],d,r,i);pl(h)?f[d]=Object.assign(Object.assign({},h),{[mC]:!0}):f[d]={value:h}}return f}return u},{title:s,items:A=[]}=a,c=xl(a,["title","items"]),l=Object.assign({title:o(s),items:Array.isArray(A)?A.map(o):[]},c);return[t,Object.assign(Object.assign({},n),{tooltip:l})]}function Zbt(t,n,e){const{encode:r}=n,i=xl(n,["encode"]);if(!r)return[t,n];const a=Object.entries(r),o=a.filter(([,A])=>{const{value:c}=A;return Array.isArray(c[0])}).flatMap(([A,c])=>{const l=[[A,new Array(t.length).fill(void 0)]],{value:u}=c,f=xl(c,["value"]);for(let d=0;d<u.length;d++){const h=u[d];if(Array.isArray(h))for(let p=0;p<h.length;p++){const v=l[p]||[`${A}${p}`,new Array(t).fill(void 0)];v[1][d]=h[p],l[p]=v}}return l.map(([d,h])=>[d,Object.assign({type:"column",value:h},f)])}),s=Object.fromEntries([...a,...o]);return[t,Object.assign(Object.assign({},i),{encode:s})]}function Jbt(t,n,e){const{axis:r={},legend:i={},slider:a={},scrollbar:o={}}=n,s=(c,l)=>{if(typeof c=="boolean")return c?{}:null;const u=c[l];return u===void 0||u?u:null},A=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return at(n,{scale:Object.assign(Object.assign({},Object.fromEntries(A.map(c=>{const l=s(o,c);return[c,Object.assign({guide:s(r,c),slider:s(a,c),scrollbar:l},l&&{ratio:l.ratio===void 0?.5:l.ratio})]}))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[t,n]}function tBt(t,n,e){const{animate:r}=n;return r||r===void 0?[t,n]:(at(n,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,n])}function eBt(t,n,e){var r,i;return at(n,{scale:{series:Object.assign({key:`DEFAULT_${n.type}_SERIES_KEY`},(i=(r=n?.scale)===null||r===void 0?void 0:r.series)!==null&&i!==void 0?i:{})}}),[t,n]}function nBt(t){if(typeof t!="object"||t instanceof Date||t===null)return!1;const{type:n}=t;return en(n)}function rBt(t,n){return typeof n=="function"?"transform":typeof n=="string"&&iBt(t,n)?"field":"constant"}function iBt(t,n){return Array.isArray(t)?t.some(e=>e[n]!==void 0):!1}function aBt(t){if(rn(t))return{type:"inline",value:t};if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:n="inline"}=t,e=xl(t,["type"]);return Object.assign(Object.assign({},e),{type:n})}var B5=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},oBt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function sBt(t,n,e){return B5(this,void 0,void 0,function*(){const[r,i]=yield cBt(t,n,e),{encode:a,scale:o,data:s,tooltip:A,key:c}=i;if(Array.isArray(s)===!1)return null;const{channels:l}=n,u=mx(Object.entries(a).filter(([,d])=>en(d)),d=>d.map(([h,p])=>Object.assign({name:h},p)),([d])=>{var h;const p=(h=/([^\d]+)\d*$/.exec(d))===null||h===void 0?void 0:h[1],v=l.find(y=>y.name===p);return v?.independent?d:p}),f=l.filter(d=>{const{name:h,required:p}=d;if(u.find(([v])=>v===h))return!0;if(p)throw new Error(`Missing encoding for channel: ${h}.`);return!1}).flatMap(d=>{const{name:h,scale:p,scaleKey:v,range:y,quantitative:m,ordinal:b}=d;return u.filter(([x])=>x.startsWith(h)).map(([x,C],O)=>{const _=C.some(P=>P.visual),S=C.some(P=>P.constant),F=o[x]||{},{independent:M=!1,key:T=v||x,type:k=S?"constant":_?"identity":p}=F,L=oBt(F,["independent","key","type"]),U=k==="constant";return{name:x,values:C,scaleKey:M||U?Symbol("independent"):T,scale:Object.assign(Object.assign({type:k,markKey:c,range:U?void 0:y},L),{quantitative:m,ordinal:b})}})});return[i,Object.assign(Object.assign({},n),{index:r,channels:f,tooltip:A})]})}function ABt(t){const[n]=An("encode",t);return(e,r)=>r===void 0||e===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:n(r)(e),field:lBt(r)})}function cBt(t,n,e){return B5(this,void 0,void 0,function*(){const{library:r}=e,[i]=An("transform",r),{preInference:a=[],postInference:o=[]}=n,{transform:s=[]}=t,A=[Kbt,b5,zbt,Wbt,Vbt,Ybt,Zbt,tBt,Jbt,Xbt,eBt,...a.map(i),...s.map(i),...o.map(i),qbt];let c=[],l=t;for(const u of A)[c,l]=yield u(c,l,e);return[c,l]})}function lBt(t){const{type:n,value:e}=t;return n==="field"&&typeof e=="string"?e:null}var Lo=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},Ts=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function wC(t,n,e){return Lo(this,void 0,void 0,function*(){var r;const{library:i}=e,[a]=An("composition",i),[o]=An("interaction",i),s=new Set(Object.keys(i).map(k=>{var L;return(L=/mark\.(.*)/.exec(k))===null||L===void 0?void 0:L[1]}).filter(en)),A=new Set(Object.keys(i).map(k=>{var L;return(L=/component\.(.*)/.exec(k))===null||L===void 0?void 0:L[1]}).filter(en)),c=k=>{const{type:L}=k;if(typeof L=="function"){const{props:U={}}=L,{composite:N=!0}=U;if(N)return"mark"}return typeof L!="string"?L:s.has(L)||A.has(L)?"mark":L},l=k=>c(k)==="mark",u=k=>c(k)==="standardView",f=k=>{const{type:L}=k;return typeof L!="string"?!1:!!A.has(L)},d=k=>{if(u(k))return[k];const L=c(k);return a({type:L,static:f(k)})(k)},h=[],p=new Map,v=new Map,y=[t],m=[];for(;y.length;){const k=y.shift();if(u(k)){const L=v.get(k),[U,N]=L?O5(L,k,i):yield x5(k,e);p.set(U,k),h.push(U);const P=N.flatMap(d).map(Q=>LH(Q,i));if(y.push(...P),P.every(u)){const Q=yield Promise.all(P.map(R=>C5(R,e)));Twt(Q);for(let R=0;R<P.length;R++){const H=P[R],G=Q[R];v.set(H,G)}}}else{const L=l(k)?k:yield F5(k,e),U=d(L);Array.isArray(U)?y.push(...U):typeof U=="function"&&m.push(U())}}e.emitter.emit(Le.BEFORE_PAINT);const b=new Map,B=new Map,x=[];n.selectAll(Vi(Jg)).data(h,k=>k.key).join(k=>k.append("g").attr("className",Jg).attr("id",L=>L.key).call(uI).each(function(L,U,N){Xb(L,Nt(N),x,e),b.set(L,N)}),k=>k.call(uI).each(function(L,U,N){Xb(L,Nt(N),x,e),B.set(L,N)}),k=>k.each(function(L,U,N){const P=N.nameInteraction.values();for(const Q of P)Q.destroy()}).remove());const C=(k,L,U)=>Array.from(k.entries()).map(([N,P])=>{const Q=U||new Map,R=(W,X=Y=>Y)=>Q.set(W,X),H=p.get(N),G=fBt(Nt(P),H,e),K={view:N,container:P,options:H,setState:R,update:(W,X)=>Lo(this,void 0,void 0,function*(){const et=Fx(Array.from(Q.values()))(H);return yield G(et,W,()=>{Nn(X)&&L(k,X,Q)})})};return e.externals.update=K.update,e.externals.setState=R,K}),O=(k=B,L,U)=>{var N;const P=C(k,O,U);for(const Q of P){const{options:R,container:H}=Q,G=H.nameInteraction;let K=B0(R);L&&(K=K.filter(W=>L.includes(W[0])));for(const W of K){const[X,Y]=W,et=G.get(X);if(et&&((N=et.destroy)===null||N===void 0||N.call(et)),Y){const Z=Yb(Q.view,X,Y,o)(Q,P,e.emitter);G.set(X,{destroy:Z})}}}},_=C(b,O);for(const k of _){const{options:L}=k,U=new Map;k.container.nameInteraction=U;for(const N of B0(L)){const[P,Q]=N;if(Q){const H=Yb(k.view,P,Q,o)(k,_,e.emitter);U.set(P,{destroy:H})}}}O();const{width:S,height:F}=t,M=[];for(const k of m){const L=new Promise(U=>Lo(this,void 0,void 0,function*(){for(const N of k){const P=Object.assign({width:S,height:F},N);yield wC(P,n,e)}U()}));M.push(L)}e.views=h,(r=e.animations)===null||r===void 0||r.forEach(k=>k?.cancel()),e.animations=x,e.emitter.emit(Le.AFTER_PAINT);const T=x.filter(en).map(SBt).map(k=>k.finished);return Promise.all([...T,...M])})}function uI(t){t.style("transform",n=>`translate(${n.layout.x}, ${n.layout.y})`)}function uBt(t){const[,n]=An("interaction",t);return e=>{const[r,i]=e;try{return[r,n(r)]}catch{return[r,i.type]}}}function fBt(t,n,e){const{library:r}=e,i=uBt(r),a=A=>A[1]&&A[1].props&&A[1].props.reapplyWhenUpdate,s=B0(n).map(i).filter(a).map(A=>A[0]);return(A,c,l)=>Lo(this,void 0,void 0,function*(){const u=[],[f,d]=yield x5(A,e);Xb(f,t,u,e);for(const h of s.filter(p=>p!==c))dBt(h,t,A,f,e);for(const h of d)wC(h,t,e);return l(),{options:A,view:f}})}function dBt(t,n,e,r,i){var a;const{library:o}=i,[s]=An("interaction",o),c=n.node().nameInteraction,l=B0(e).find(([p])=>p===t),u=c.get(t);if(!u||((a=u.destroy)===null||a===void 0||a.call(u),!l[1]))return;const f=Yb(r,t,l[1],s),d={options:e,view:r,container:n.node(),update:p=>Promise.resolve(p)},h=f(d,[],i.emitter);c.set(t,{destroy:h})}function x5(t,n){return Lo(this,void 0,void 0,function*(){const{library:e}=n,r=yield pBt(t,n),i=hBt(r);t.interaction=i.interaction,t.coordinate=i.coordinate,t.marks=[...i.marks,...i.components];const a=LH(i,e),o=yield C5(a,n);return O5(o,a,e)})}function hBt(t){const{coordinate:n={},interaction:e={},style:r={},marks:i}=t,a=Ts(t,["coordinate","interaction","style","marks"]),o=i.map(f=>f.coordinate||{}),s=i.map(f=>f.interaction||{}),A=i.map(f=>f.viewStyle||{}),c=[...o,n].reduceRight((f,d)=>at(f,d),{}),l=[e,...s].reduce((f,d)=>at(f,d),{}),u=[...A,r].reduce((f,d)=>at(f,d),{});return Object.assign(Object.assign({},a),{marks:i,coordinate:c,interaction:l,style:u})}function pBt(t,n){return Lo(this,void 0,void 0,function*(){const{library:e}=n,[r,i]=An("mark",e),a=new Set(Object.keys(e).map(d=>{var h;return(h=/component\.(.*)/.exec(d))===null||h===void 0?void 0:h[1]}).filter(en)),{marks:o}=t,s=[],A=[],c=[...o],{width:l,height:u}=Mbt(t),f={options:t,width:l,height:u};for(;c.length;){const[d]=c.splice(0,1),h=yield F5(d,n),{type:p=hl("G2Mark type is required."),key:v}=h;if(a.has(p))A.push(h);else{const{props:y={}}=i(p),{composite:m=!0}=y;if(!m)s.push(h);else{const{data:b}=h,B=Object.assign(Object.assign({},h),{data:b&&(Array.isArray(b)?b:b.value)}),x=yield r(B,f),C=Array.isArray(x)?x:[x];c.unshift(...C.map((O,_)=>Object.assign(Object.assign({},O),{key:`${v}-${_}`})))}}}return Object.assign(Object.assign({},t),{marks:s,components:A})})}function C5(t,n){return Lo(this,void 0,void 0,function*(){const{library:e}=n,[r]=An("theme",e),[,i]=An("mark",e),{theme:a,marks:o,coordinates:s=[]}=t,A=r(S5(a)),c=new Map;for(const u of o){const{type:f}=u,{props:d={}}=i(f),h=yield sBt(u,d,n);if(h){const[p,v]=h;c.set(p,v)}}const l=Je(Array.from(c.values()).flatMap(u=>u.channels),({scaleKey:u})=>u);for(const u of l.values()){const f=u.reduce((B,{scale:x})=>at(B,x),{}),{scaleKey:d}=u[0],{values:h}=u[0],p=Array.from(new Set(h.map(B=>B.field).filter(en))),v=at({guide:{title:p.length===0?void 0:p},field:p[0]},f),{name:y}=u[0],m=u.flatMap(({values:B})=>B.map(x=>x.value)),b=Object.assign(Object.assign({},_wt(y,m,v,s,A,e)),{uid:Symbol("scale"),key:d});u.forEach(B=>B.scale=b)}return c})}function Yb(t,n,e,r){const i=t.theme,a=typeof n=="string"?i[n]||{}:{};return r(at(a,Object.assign({type:n},e)))}function O5(t,n,e){var r;const[i]=An("mark",e),[a]=An("theme",e),[o]=An("labelTransform",e),{key:s,frame:A=!1,theme:c,clip:l,style:u={},labelTransform:f=[]}=n,d=a(S5(c)),h=Array.from(t.values()),p=Mwt(h,n),v=sbt(obt(kBt(Array.from(p),h,t),n,e)),y=Fbt(v,n,d,e),m=r1t(y,n,e),b=A?at({mainLineWidth:1,mainStroke:"#000"},u):u;Tbt(v5(v),m,y),Sbt(v);const B=new Map(Array.from(t.values()).flatMap(S=>{const{channels:F}=S;return F.map(({scale:M})=>[M.uid,eI(M,e)])}));Fwt(t,B);const x={};for(const S of v){const{scales:F=[]}=S,M=[];for(const T of F){const{name:k,uid:L}=T,U=(r=B.get(L))!==null&&r!==void 0?r:eI(T,e);M.push(U),k==="y"&&U.update(Object.assign(Object.assign({},U.getOptions()),{xScale:x.x})),tI(x,{[k]:U})}S.scaleInstances=M}const C=[],O=new Map;for(const[S,F]of t.entries()){const{children:M,dataDomain:T,modifier:k,key:L,data:U}=S;O.set(L,U);const{index:N,channels:P,tooltip:Q}=F,R=Object.fromEntries(P.map(({name:ht,scale:bt})=>[ht,bt])),H=eo(R,({uid:ht})=>B.get(ht));tI(x,H);const G=Swt(P,H),K=i(S),[W,X,Y]=mBt(K(N,H,G,m)),et=T||W.length,nt=k?k(X,et,y):[],Z=ht=>{var bt,Bt;return(Bt=(bt=Q.title)===null||bt===void 0?void 0:bt[ht])===null||Bt===void 0?void 0:Bt.value},ot=ht=>Q.items.map(bt=>bt[ht]),ct=W.map((ht,bt)=>{const Bt=Object.assign({points:X[bt],transform:nt[bt],index:ht,markKey:L,viewKey:s,data:U[ht]},Q&&{title:Z(ht),items:ot(ht)});for(const[Ct,kt]of Object.entries(G))Bt[Ct]=kt[ht],Y&&(Bt[`series${Qs(Ct)}`]=Y[bt].map(Ot=>kt[Ot]));return Y&&(Bt.seriesIndex=Y[bt]),Y&&Q&&(Bt.seriesItems=Y[bt].map(Ct=>ot(Ct)),Bt.seriesTitle=Y[bt].map(Ct=>Z(Ct))),Bt});F.data=ct,F.index=W;const vt=M?.(ct,H,y);C.push(...vt||[])}return[{layout:y,theme:d,coordinate:m,markState:t,key:s,clip:l,scale:x,style:b,components:v,data:O,options:n,labelTransform:Fx(f.map(o))},C]}function Xb(t,n,e,r){return Lo(this,void 0,void 0,function*(){const{library:i}=r,{components:a,theme:o,layout:s,markState:A,coordinate:c,key:l,style:u,clip:f,scale:d}=t,{x:h,y:p,width:v,height:y}=s,m=Ts(s,["x","y","width","height"]),b=["view","plot","main","content"],B=b.map((Q,R)=>R),x=["a","margin","padding","inset"],C=b.map(Q=>D4(Object.assign({},o.view,u),Q)),O=x.map(Q=>wt(m,Q)),_=Q=>Q.style("x",R=>k[R].x).style("y",R=>k[R].y).style("width",R=>k[R].width).style("height",R=>k[R].height).each(function(R,H,G){TBt(Nt(G),C[R])});let S=0,F=0,M=v,T=y;const k=B.map(Q=>{const R=O[Q],{left:H=0,top:G=0,bottom:K=0,right:W=0}=R;return S+=H,F+=G,M-=H+W,T-=G+K,{x:S,y:F,width:M,height:T}});n.selectAll(Vi(ak)).data(B.filter(Q=>en(C[Q])),Q=>b[Q]).join(Q=>Q.append("rect").attr("className",ak).style("zIndex",-2).call(_),Q=>Q.call(_),Q=>Q.remove());const L=xBt(A),U=L?{duration:L[1]}:!1;for(const[,Q]of vx(a,R=>`${R.type}-${R.position}`))Q.forEach((R,H)=>R.index=H);const N=n.selectAll(Vi(ik)).data(a,Q=>`${Q.type}-${Q.position}-${Q.index}`).join(Q=>Q.append("g").style("zIndex",({zIndex:R})=>R||-1).attr("className",ik).append(R=>AI(at({animate:U,scale:d},R),c,o,i,A)),Q=>Q.transition(function(R,H,G){const{preserve:K=!1}=R;if(K)return;const W=AI(at({animate:U,scale:d},R),c,o,i,A),{attributes:X}=W,[Y]=G.childNodes;return Y.update(X,!1)})).transitions();e.push(...N.flat().filter(en));const P=n.selectAll(Vi(ks)).data([s],()=>l).join(Q=>Q.append("rect").style("zIndex",0).style("fill","transparent").attr("className",ks).call(fI).call(dI,Array.from(A.keys())).call(hI,f),Q=>Q.call(dI,Array.from(A.keys())).call(fI).call(hI,f)).transitions();e.push(...P.flat());for(const[Q,R]of A.entries()){const{data:H}=R,{key:G,class:K,type:W}=Q,X=n.select(`#${G}`),Y=EBt(Q,R,t,r),et=_Bt(Q,R,t,i),nt=FBt(Q,R,t,i),Z=MBt(Q,R,t,i),ot=CBt(n,X,K,"element"),ct=X.selectAll(Vi(Ua)).selectFacetAll(ot).data(H,vt=>vt.key,vt=>vt.groupKey).join(vt=>vt.append(Y).attr("className",Ua).attr("markType",W).transition(function(ht,bt,Bt){return et(ht,[Bt])}),vt=>vt.call(ht=>{const bt=ht.parent(),Bt=sft(Ct=>{const[kt,Ot]=Ct.getBounds().min;return[kt,Ot]});ht.transition(function(Ct,kt,Ot){OBt(Ot,bt,Bt);const _t=Y(Ct,kt),Lt=nt(Ct,[Ot],[_t]);return Lt?.length||(Ot.nodeName===_t.nodeName&&_t.nodeName!=="g"?vv(Ot,_t):(Ot.parentNode.replaceChild(_t,Ot),_t.className=Ua,_t.markType=W,_t.__data__=Ot.__data__)),Lt}).each(function(Ct,kt,Ot){Ot.__removed__&&(Ot.__removed__=!1)}).attr("markType",W).attr("className",Ua)}),vt=>vt.each(function(ht,bt,Bt){Bt.__removed__=!0}).transition(function(ht,bt,Bt){return Z(ht,[Bt])}).remove(),vt=>vt.append(Y).attr("className",Ua).attr("markType",W).transition(function(ht,bt,Bt){const{__fromElements__:Ct}=Bt,kt=nt(ht,Ct,[Bt]);return new Wn(Ct,null,Bt.parentNode).transition(kt).remove(),kt}),vt=>vt.transition(function(ht,bt,Bt){const kt=new Wn([],Bt.__toData__,Bt.parentNode).append(Y).attr("className",Ua).attr("markType",W).nodes();return nt(ht,[Bt],kt)}).remove()).transitions();e.push(...ct.flat())}gBt(t,n,e,i,r),yBt(t,n,i,r)})}function gBt(t,n,e,r,i){const[a]=An("labelTransform",r),{markState:o,labelTransform:s}=t,A=n.select(Vi(Cb)).node(),c=new Map,l=new Map,u=Array.from(o.entries()).flatMap(([y,m])=>{const{labels:b=[],key:B}=y,x=BBt(y,m,t,r,i),C=n.select(`#${B}`).selectAll(Vi(Ua)).nodes().filter(O=>{var _;return O.__removed__?!1:!(((_=O.style)===null||_===void 0?void 0:_.visibility)==="hidden"||O.children&&O.children.some(F=>{var M;return((M=F.style)===null||M===void 0?void 0:M.visibility)==="hidden"}))});return b.flatMap((O,_)=>{const{transform:S=[]}=O,F=Ts(O,["transform"]);return C.flatMap(M=>{const T=vBt(F,_,M);return T.forEach(k=>{c.set(k,L=>x(Object.assign(Object.assign({},L),{element:M}))),l.set(k,O)}),T})})}),f=Nt(A).selectAll(Vi(Ob)).data(u,y=>y.key).join(y=>y.append(m=>c.get(m)(m)).attr("className",Ob),y=>y.each(function(m,b,B){const C=c.get(m)(m);vv(B,C)}),y=>y.remove()).nodes(),d=Je(f,y=>l.get(y.__data__)),{coordinate:h,layout:p}=t,v={canvas:i.canvas,coordinate:h,layout:p};for(const[y,m]of d){const{transform:b=[]}=y;Fx(b.map(a))(m,v)}s&&s(f,v)}function vBt(t,n,e){const{seriesIndex:r,seriesKey:i,points:a,key:o,index:s}=e.__data__,A=bBt(e);if(!r)return[Object.assign(Object.assign({},t),{key:`${o}-${n}`,bounds:A,index:s,points:a,dependentElement:e})];const c=wBt(t),l=r.map((u,f)=>Object.assign(Object.assign({},t),{key:`${i[f]}-${n}`,bounds:[a[f]],index:u,points:a,dependentElement:e}));return c?c(l):l}function yBt(t,n,e,r){const i=t.scale,a=$t(i,"y.options.breaks",[]),{document:o}=r.canvas;if([m1,aN].forEach(l=>{o.getElementsByClassName(l).forEach(u=>{u.remove()})}),!a.length)return;const s=n.select(Vi(ks)).node(),[A]=An("shape",e),c=new Map;a.forEach((l,u)=>{c.set(l,A({type:"break"},{view:t,selection:n,context:r}))}),Nt(s).selectAll(Vi(m1)).data(a,l=>l.key).join(l=>l.append((u,f)=>c.get(u)(u,f)).attr("className",m1),l=>l.each(function(u,f,d){const p=c.get(u)(u,f);vv(d,p)}),l=>l.remove()).nodes()}function mBt([t,n,e]){if(e)return[t,n,e];const r=[],i=[];for(let a=0;a<t.length;a++){const o=t[a],s=n[a];s.every(([A,c])=>en(A)&&en(c))&&(r.push(o),i.push(s))}return[r,i]}function wBt(t){const{selector:n}=t;if(!n)return null;if(typeof n=="function")return n;if(n==="first")return e=>[e[0]];if(n==="last")return e=>[e[e.length-1]];throw new Error(`Unknown selector: ${n}`)}function bBt(t){const n=t.cloneNode(!0),e=t.getAnimations();n.style.visibility="hidden",e.forEach(o=>{const s=o.effect.getKeyframes();n.attr(s[s.length-1])}),t.parentNode.appendChild(n);const r=n.getLocalBounds();n.destroy();const{min:i,max:a}=r;return[i,a]}function BBt(t,n,e,r,i){const[a]=An("shape",r),{data:o,encode:s}=t,{data:A,defaultLabelShape:c}=n,l=A.map(p=>p.points),u=eo(s,p=>p.value),{theme:f,coordinate:d}=e,h=Object.assign(Object.assign({},i),{document:IH(i),theme:f,coordinate:d});return p=>{const{index:v,points:y}=p,m=o[v],{formatter:b=R=>`${R}`,transform:B,style:x,render:C,selector:O,element:_}=p,S=Ts(p,["formatter","transform","style","render","selector","element"]),F=eo(Object.assign(Object.assign({},S),x),R=>E5(R,m,v,o,{channel:u,element:_})),{shape:M=c,text:T}=F,k=Ts(F,["shape","text"]),L=typeof b=="string"?Go(b):b,U=Object.assign(Object.assign({},k),{text:L(T,m,v,o),datum:m}),N=Object.assign({type:`label.${M}`,render:C},k),P=a(N,h),Q=_5(f,"label",M,"label");return P(y,U,Q,l)}}function E5(t,n,e,r,i){return typeof t=="function"?t(n,e,r,i):typeof t!="string"?t:pl(n)&&n[t]!==void 0?n[t]:t}function xBt(t){let n=-1/0,e=1/0;for(const[r,i]of t){const{animate:a={}}=r,{data:o}=i,{enter:s={},update:A={},exit:c={}}=a,{type:l,duration:u=300,delay:f=0}=A,{type:d,duration:h=300,delay:p=0}=s,{type:v,duration:y=300,delay:m=0}=c;for(const b of o){const{updateType:B=l,updateDuration:x=u,updateDelay:C=f,enterType:O=d,enterDuration:_=h,enterDelay:S=p,exitDuration:F=y,exitDelay:M=m,exitType:T=v}=b;(B===void 0||B)&&(n=Math.max(n,x+C),e=Math.min(e,C)),(T===void 0||T)&&(n=Math.max(n,F+M),e=Math.min(e,M)),(O===void 0||O)&&(n=Math.max(n,_+S),e=Math.min(e,S))}}return n===-1/0?null:[e,n-e]}function CBt(t,n,e,r){const i=t.node().parentElement;return!i||typeof i.findAll!="function"?[]:i.findAll(a=>a.style.facet!==void 0&&a.style.facet===e&&a!==n.node()).flatMap(a=>a.getElementsByClassName(r))}function OBt(t,n,e){if(!t.__facet__)return;const r=t.parentNode.parentNode,i=n.parentNode,[a,o]=e(r),[s,A]=e(i),c=`translate(${a-s}, ${o-A})`;Aft(t,c),n.append(t)}function EBt(t,n,e,r){const{library:i}=r,[a]=An("shape",i),{data:o,encode:s}=t,{defaultShape:A,data:c,shape:l}=n,u=eo(s,m=>m.value),f=c.map(m=>m.points),{theme:d,coordinate:h}=e,{type:p,style:v={}}=t,y=Object.assign(Object.assign({},r),{document:IH(r),coordinate:h,theme:d});return m=>{const{shape:b=A}=v,{shape:B=b,points:x,seriesIndex:C,index:O}=m,_=Ts(m,["shape","points","seriesIndex","index"]),S=Object.assign(Object.assign({},_),{index:O}),F=C?C.map(U=>o[U]):o[O],M=C||O,T=eo(v,U=>E5(U,F,M,o,{channel:u})),k=l[B]?l[B](T,y):a(Object.assign(Object.assign({},T),{type:M5(t,B)}),y),L=_5(d,p,B,A);return k(x,S,L,f)}}function _5(t,n,e,r){if(typeof n!="string")return;const{color:i}=t,a=t[n]||{},o=a[e]||a[r];return Object.assign({color:i},o)}function bC(t,n,e,r,i){var a,o;const[,s]=An("shape",i),[A]=An("animation",i),{defaultShape:c,shape:l}=e,{theme:u,coordinate:f}=r,h=`default${Qs(t)}Animation`,{[h]:p}=((a=l[c])===null||a===void 0?void 0:a.props)||s(M5(n,c)).props,{[t]:v={}}=u,y=((o=n.animate)===null||o===void 0?void 0:o[t])||{},m={coordinate:f};return(b,B,x)=>{const{[`${t}Type`]:C,[`${t}Delay`]:O,[`${t}Duration`]:_,[`${t}Easing`]:S}=b,F=Object.assign({type:C||p},y);if(!F.type)return null;const k=A(F,m)(B,x,at(v,{delay:O,duration:_,easing:S}));let L=[];return Array.isArray(k)?L=k:L=[k],L.filter(Boolean)}}function _Bt(t,n,e,r){return bC("enter",t,n,e,r)}function SBt(t){return t.finished.then(()=>{t.cancel()}),t}function FBt(t,n,e,r){return bC("update",t,n,e,r)}function MBt(t,n,e,r){return bC("exit",t,n,e,r)}function S5(t={}){if(typeof t=="string")return{type:t};const{type:n="light"}=t,e=Ts(t,["type"]);return Object.assign(Object.assign({},e),{type:n})}function B0(t){const n={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:e={}}=t;return Object.entries(at(n,e)).reverse()}function F5(t,n){return Lo(this,void 0,void 0,function*(){const{data:e}=t,r=Ts(t,["data"]);if(e==null)return t;const[,{data:i}]=yield b5([],{data:e},n);return Object.assign({data:i},r)})}function fI(t){t.style("transform",n=>`translate(${n.paddingLeft+n.marginLeft}, ${n.paddingTop+n.marginTop})`).style("width",n=>n.innerWidth).style("height",n=>n.innerHeight)}function M5(t,n){const{type:e}=t;return typeof n=="string"?`${e}.${n}`:n}function dI(t,n){const e=a=>a.class!==void 0?`${a.class}`:"";t.nodes().length===0||(t.selectAll(Vi(rk)).data(n,a=>a.key).join(a=>a.append("g").attr("className",rk).attr("id",o=>o.key).style("facet",e).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.style("facet",e).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.remove()),t.select(Vi(Cb)).node())||t.append("g").attr("className",Cb).style("zIndex",0)}function Vi(...t){return t.map(n=>`.${n}`).join("")}function hI(t,n){t.node()&&t.style("clipPath",e=>{if(!n)return null;const{paddingTop:r,paddingLeft:i,marginLeft:a,marginTop:o,innerWidth:s,innerHeight:A}=e;return new Ps({style:{x:i+a,y:r+o,width:s,height:A}})})}function kBt(t,n,e){var r;for(const[c]of e.entries())if(c.type==="cell")return t.filter(l=>l.name!=="shape");if(n.length!==1||t.some(c=>c.name==="shape"))return t;const{defaultShape:i}=n[0];if(!["point","line","rect","hollow"].includes(i))return t;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},A={field:((r=t.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[i]]};return[...t,A]}function TBt(t,n){for(const[e,r]of Object.entries(n))t.style(e,r)}function IBt(...t){return n=>t.reduce((e,r)=>r(e),n)}function LBt(t){const{style:n,scale:e,type:r}=t,i={},a=$t(n,"columnWidthRatio");return a&&r==="interval"&&(i.x=Object.assign(Object.assign({},e?.x),{padding:1-a})),Object.assign(Object.assign({},t),{scale:Object.assign(Object.assign({},e),i)})}const QBt=t=>{if(!t||typeof t!="string")return t;const n=t.endsWith("%")?parseFloat(t.slice(0,-1))/100:parseFloat(t);if(isNaN(n)||n<0||n>1)throw new Error(`Invalid gap value: ${t}. It should be between 0 and 1.`);return n};function UBt(t){const{axis:n}=t,e=$t(n,"y.breaks");return e&&N0(t,"scale.y.breaks",e.map(r=>Object.assign(Object.assign({key:`break-${r.start}-${r.end}`},r),{gap:QBt(r.gap)}))),t}function k5(t){const n=PBt(t);return n.children&&Array.isArray(n.children)&&(n.children=n.children.map(e=>k5(e))),n}function PBt(t){return IBt(LBt,UBt)(t)}function RBt(t){const n=at({},t),e=new Map([[n,null]]),r=new Map([[null,-1]]),i=[n];for(;i.length;){const a=i.shift();if(a.key===void 0){const s=e.get(a),A=r.get(a),c=s===null?"0":`${s.key}-${A}`;a.key=c}const{children:o=[]}=a;if(Array.isArray(o))for(let s=0;s<o.length;s++){const A=at({},o[s]);o[s]=A,e.set(A,a),r.set(A,s),i.push(A)}}return n}function NBt(t,n){const e=new XU;return e.registerPlugin(new qP),new LQ({width:t,height:n,container:document.createElement("div"),renderer:e})}function DBt(t,n={},e=()=>{},r=i=>{throw i}){const i=Jp(t),{width:a=640,height:o=480,depth:s=0}=i,A=k5(i),c=RBt(A),{canvas:l=NBt(a,o),emitter:u=new JB,library:f}=n;n.canvas=l,n.emitter=u,n.externals={};const{width:d,height:h}=l.getConfig();(d!==a||h!==o)&&l.resize(a,o),u.emit(Le.BEFORE_RENDER);const p=Nt(l.document.documentElement);return l.ready.then(()=>wC(Object.assign(Object.assign({},c),{width:a,height:o,depth:s}),p,n)).then(()=>{if(s){const[v,y]=l.document.documentElement.getPosition();l.document.documentElement.setPosition(v,y,-s/2)}l.requestAnimationFrame(()=>{l.requestAnimationFrame(()=>{u.emit(Le.AFTER_RENDER),e?.()})})}).catch(v=>{r?.(v)}),jBt(l.getConfig().container)}function pI(t,n={},e=!1,r=!0){const{canvas:i,emitter:a}=n;i&&(HBt(i),e?i.destroy():i.destroyChildren()),r&&a.off()}function HBt(t){const n=t.getRoot().querySelectorAll(`.${Jg}`);n?.forEach(e=>{const{nameInteraction:r=new Map}=e;r?.size>0&&Array.from(r?.values()).forEach(i=>{i?.destroy()})})}function jBt(t){return typeof t=="string"?document.getElementById(t):t}function $Bt(t,n,e){return Math.min(e,Math.max(n,t))}function Qo(t){return!!t.getBandWidth}function Cl(t,n,e){if(!Qo(t))return t.invert(n);const{adjustedRange:r}=t;if(r.includes(n))return t.invert(n);const{domain:i}=t.getOptions(),a=e?-1:0,o=t.getStep(),s=e?r:r.map(l=>l+o),A=_lt(s,n),c=$Bt(A+a,0,i.length-1);return i[c]}function ys(t,n,e){if(!n)return t.getOptions().domain;if(!Qo(t)){const A=wa(n);if(!e)return A;const[c]=A,{range:l}=t.getOptions(),[u,f]=l,d=u>f?-1:1,h=t.invert(t.map(c)+d*e);return[c,h]}const{domain:r}=t.getOptions(),i=n[0],a=r.indexOf(i);if(e){const A=a+Math.round(r.length*e);return r.slice(a,A)}const o=n[n.length-1],s=r.indexOf(o);return r.slice(a,s+1)}function ng(t,n,e,r,i,a){const{x:o,y:s}=i,A=(d,h)=>{const[p,v]=a.invert(d);return[Cl(o,p,h),Cl(s,v,h)]},c=A([t,n],!0),l=A([e,r],!1),u=ys(o,[c[0],l[0]]),f=ys(s,[c[1],l[1]]);return[u,f]}function gI(t,n){const[e,r]=t,i=a=>a.getStep?a.getStep():0;return[n.map(e),n.map(r)+i(n)]}const vI=(t,n)=>{var e,r;const[i,a]=t,o=((r=(e=n.getOptions)===null||e===void 0?void 0:e.call(n))===null||r===void 0?void 0:r.domain)||[],s=o.indexOf(i),A=o.indexOf(a);if(s===-1||A===-1)return[n.map(i),n.map(a)];const c=o.length;return c<=1?[0,1]:[s/(c-1),A/(c-1)]};function GBt(t,n,e){const{x:r,y:i}=n,[a,o]=t,s=gI(a,r),A=gI(o,i),c=[s[0],A[0]],l=[s[1],A[1]],[u,f]=e.map(c),[d,h]=e.map(l);return[u,f,d,h]}function Kf(t,n){if(n(t))return!0;if(t.tagName==="g"){const{childNodes:e=[]}=t;for(const r of e)if(Kf(r,n))return!0}return!1}const KBt={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function zBt(t,n){let e;return Kf(t,r=>{var i;return r.tagName!=="g"&&((i=r.style)===null||i===void 0?void 0:i[n])!==void 0?(e=r.style[n],!0):!1}),e??KBt[n]}function BC(t,n,e,r){t.style[n]=e,t.children.forEach(i=>BC(i,n,e))}function xC(t){BC(t,"visibility","hidden")}function Wv(t){BC(t,"visibility","visible")}var af=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Ho(t){return Nt(t).selectAll(`.${Ua}`).nodes().filter(n=>!n.__removed__)}function T5(t,n){return qb(t,n).flatMap(({container:e})=>Ho(e))}function qb(t,n){return n.filter(e=>e!==t&&e.options.parentKey===t.options.key)}function ia(t){return Nt(t).select(`.${ks}`).node()}function zf(t){if(t.tagName==="g")return t.getRenderBounds();const n=t.getGeometryBounds(),e=new nr;return e.setFromTransformedAABB(n,t.getWorldTransform()),e}function $A(t,n){const{offsetX:e,offsetY:r}=n,i=zf(t),{min:[a,o],max:[s,A]}=i,c=e<a||e>s,l=r<o||r>A;return c||l?null:[e-a,r-o]}function D1(t,n){const{offsetX:e,offsetY:r}=n,[i,a,o,s]=WBt(t);return[Math.min(o,Math.max(i,e))-i,Math.min(s,Math.max(a,r))-a]}function WBt(t){const n=t.getRenderBounds(),{min:[e,r],max:[i,a]}=n;return[e,r,i,a]}function I5(t){return n=>n.__data__.color}function bd(t){return n=>n.__data__.x}function Is(t){const n=Array.isArray(t)?t:[t],e=new Map(n.flatMap(r=>Array.from(r.markState.keys()).map(a=>[x0(r.key,a.key),a.data])));return r=>{const{index:i,markKey:a,viewKey:o}=r.__data__;return e.get(x0(o,a))[i]}}const yI={selected:3,unselected:3,active:2,inactive:2,default:1},VBt={selection:["selected","unselected"],highlight:["active","inactive"]},L5=(t,n,e)=>{Kf(t,r=>{"setAttribute"in r&&typeof r.setAttribute=="function"&&r.setAttribute(n,e)})};function CC(t,n){return n.forEach(e=>{const r=e.__interactionStyle__;r?e.__interactionStyle__=Object.assign(Object.assign({},r),t):e.__interactionStyle__=t}),(e=(i,a)=>i,r=L5)=>Es(void 0,e,r)}function Es(t,n=(r,i)=>r,e=L5){const r="__states__",i="__ordinal__",a=d=>yI[d]||yI.default,o=d=>{var h;return(h=Object.entries(VBt).find(([p,v])=>v.includes(d)))===null||h===void 0?void 0:h[0]},s=d=>{var h;const{[r]:p=[],[i]:v={}}=d,y=[...p].sort((B,x)=>a(x)-a(B)),m=new Map;for(const B of y){const x=((h=t??d.__interactionStyle__)===null||h===void 0?void 0:h[B])||{};for(const[C,O]of Object.entries(x))m.has(C)||m.set(C,O)}const b=Object.assign({},v);for(const[B,x]of m.entries())b[B]=x;if(Object.keys(b).length!==0){for(const[B,x]of Object.entries(b)){const C=zBt(d,B),O=n(x,d);e(d,B,O),B in v||(v[B]=C)}d[i]=v}},A=d=>{d[r]||(d[r]=[])};return{setState:(d,...h)=>{A(d),d[r]=[...h],s(d)},updateState:(d,...h)=>{A(d);const p=d[r],v=new Set(h.map(m=>o(m)).filter(m=>m!==void 0)),y=p.filter(m=>!v.has(o(m)));d[r]=[...y,...h],s(d)},removeState:(d,...h)=>{A(d);for(const p of h){const v=d[r].indexOf(p);v!==-1&&d[r].splice(v,1)}s(d)},hasState:(d,h)=>(A(d),d[r].indexOf(h)!==-1)}}function YBt(t){return t===void 0?!0:typeof t!="object"?!1:Object.keys(t).length===0}function x0(t,n){return`${t},${n}`}function GA(t,n){const r=(Array.isArray(t)?t:[t]).flatMap(a=>a.marks.map(o=>[x0(a.key,o.key),o.state])),i={};for(const a of n){const[o,s]=Array.isArray(a)?a:[a,{}];i[o]=r.reduce((A,c)=>{const[l,u={}]=c,f=YBt(u[o])?s:u[o];for(const[d,h]of Object.entries(f)){const p=A[d],v=(y,m,b,B)=>{const x=x0(B.__data__.viewKey,B.__data__.markKey);return l!==x?p?.(y,m,b,B):typeof h!="function"?h:h(y,m,b,B)};A[d]=v}return A},{})}return i}function Ul(t,n){const e=new Map(t.map((i,a)=>[i,a])),r=n?t.map(n):t;return(i,a)=>{if(typeof i!="function")return i;const o=e.get(a),s=n?n(a):a;return i(s,o,r,a)}}function Q5(t){var{link:n=!1,valueof:e=(l,u)=>l,coordinate:r}=t,i=af(t,["link","valueof","coordinate"]);const a="element-link";if(!n)return[()=>{},()=>{}];const o=l=>l.__data__.points,s=(l,u)=>{const[,f,d]=l,[h,,,p]=u;return[f,h,p,d]};return[l=>{var u;if(l.length<=1)return;const f=wa(l,(d,h)=>{const{x:p}=d.__data__,{x:v}=h.__data__;return p-v});for(let d=1;d<f.length;d++){const h=na(),p=f[d-1],v=f[d],[y,m,b,B]=s(o(p),o(v));h.moveTo(...y),h.lineTo(...m),h.lineTo(...b),h.lineTo(...B),h.closePath();const x=eo(i,S=>e(S,p)),{fill:C=p.getAttribute("fill")}=x,O=af(x,["fill"]),_=new sr({className:a,style:Object.assign({d:h.toString(),fill:C,zIndex:-2},O)});(u=p.link)===null||u===void 0||u.remove(),p.parentNode.appendChild(_),p.link=_}},l=>{var u;(u=l.link)===null||u===void 0||u.remove(),l.link=null}]}function U5(t,n,e){const r=i=>{const{transform:a}=t.style;return a?`${a} ${i}`:i};if(je(e)){const{points:i}=t.__data__,[a,o]=nn(e)?Sv(i):i,s=e.getCenter(),A=Tn(a,s),c=Tn(o,s),l=Zi(A),u=b3(A,c),f=l+u/2,d=n*Math.cos(f),h=n*Math.sin(f);return r(`translate(${d}, ${h})`)}return nn(e)?r(`translate(${n}, 0)`):r(`translate(0, ${-n})`)}function P5(t){var{document:n,background:e,scale:r,coordinate:i,valueof:a}=t,o=af(t,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!e)return[()=>{},()=>{}];const A=(y,m,b)=>{const B=y.invert(m),x=m+y.getBandWidth(B)/2,C=y.getStep(B)/2,O=C*b;return[x-C+O,x+C-O]},c=(y,m)=>{const{x:b}=r;if(!Qo(b))return[0,1];const{__data__:B}=y,{x}=B,[C,O]=A(b,x,m);return[C,O]},l=(y,m)=>{const{y:b}=r;if(!Qo(b))return[0,1];const{__data__:B}=y,{y:x}=B,[C,O]=A(b,x,m);return[C,O]},u=(y,m)=>{const{padding:b}=m,[B,x]=c(y,b),[C,O]=l(y,b),_=[[B,C],[x,C],[x,O],[B,O]].map(T=>i.map(T)),{__data__:S}=y,{y:F,y1:M}=S;return X3(n,_,{y:F,y1:M},i,m)},f=(y,m)=>{const{transform:b="scale(1.2, 1.2)",transformOrigin:B="center center",stroke:x=""}=m,C=af(m,["transform","transformOrigin","stroke"]),O=Object.assign({transform:b,transformOrigin:B,stroke:x},C),_=y.cloneNode(!0);for(const[S,F]of Object.entries(O))_.style[S]=F;return _},d=()=>{const{x:y,y:m}=r;return[y,m].some(Qo)};return[y=>{y.background&&y.background.remove();const m=eo(o,T=>a(T,y)),{fill:b="#CCD6EC",fillOpacity:B=.3,zIndex:x=-2,padding:C=.001,lineWidth:O=0}=m,_=af(m,["fill","fillOpacity","zIndex","padding","lineWidth"]),S=Object.assign(Object.assign({},_),{fill:b,fillOpacity:B,zIndex:x,padding:C,lineWidth:O}),M=(d()?u:f)(y,S);M.className=s,y.parentNode.parentNode.appendChild(M),y.background=M},y=>{var m;(m=y.background)===null||m===void 0||m.remove(),y.background=null},y=>y.className===s]}function os(t,n){const r=t.getRootNode().defaultView.getContextService().getDomElement();r?.style&&(t.cursor=r.style.cursor,r.style.cursor=n)}function XBt(t){os(t,t.cursor)}function Vv(t,n,e){return t.find(r=>Object.entries(n).every(([i,a])=>e(r)[i]===a))}function C0(t,n){return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function gu(t,n=!1){const e=kL(t,r=>!!r).map((r,i)=>[i===0?"M":"L",...r]);return n&&e.push(["Z"]),e}function R5(t){return t.querySelectorAll(".element")}function qBt(t,n,e=0){const r=[["M",...n[1]]],i=C0(t,n[1]),a=C0(t,n[0]);return i===0?r.push(["L",...n[3]],["A",a,a,0,e,1,...n[0]],["Z"]):r.push(["A",i,i,0,e,0,...n[2]],["L",...n[3]],["A",a,a,0,e,1,...n[0]],["Z"]),r}function Bd(t,n){if(n(t))return t;let e=t.parent;for(;e&&!n(e);)e=e.parent;return e}const OC=["interval","point","density"];function N5({elementsof:t,root:n,coordinate:e,scale:r,validFindByXMarks:i=OC}){var a,o;let s=t(n);const A=l=>i.includes(l.markType);if(s.find(A)){s=s.filter(A);const l=r.x,u=r.series,f=(o=(a=l?.getBandWidth)===null||a===void 0?void 0:a.call(l))!==null&&o!==void 0?o:0,d=u?h=>{var p,v;const y=Math.round(1/((p=u.valueBandWidth)!==null&&p!==void 0?p:1));return h.__data__.x+((v=h.__data__.series)!==null&&v!==void 0?v:0)*f+f/(y*2)}:h=>h.__data__.x+f/2;return s.sort((h,p)=>d(h)-d(p)),h=>{const p=$A(n,h);if(!p)return;const[v]=e.invert(p),y=To(d).center,m=y(s,v);return s[m]}}return l=>{const{target:u}=l;return Bd(u,f=>f.classList?f.classList.includes("element"):!1)}}function ZBt(t){const a=.01/Math.max(t,1e-4);return Math.max(.1,Math.min(100,a))}function D5(t){return t===!1||t===null||t===void 0}function JBt(t){var n,e;const r=[],i=[],a=[],o=t.markState;if(o){for(const[s,A]of o.entries())if(A?.channels){const c={};for(const f of A.channels)if(f?.name==="x"&&((n=f.values)===null||n===void 0?void 0:n.length)>0){let d=[];for(const h of f.values)h?.value&&(d=d.concat(h.value),r.push(h.value));c.x=d}else if(f&&(f.name==="y"||f.name.startsWith("y"))&&((e=f.values)===null||e===void 0?void 0:e.length)>0){const d=f.name,h=[];for(const p of f.values)if(p?.value){const v=p.value;h.push(v),(d==="y"||d==="y1")&&(Array.isArray(v)?i.push(v.flat()):i.push([v]))}c[d]=h}const l=c.x||[],u=c.y||[];l.length>0&&u.length>0&&a.push({markKey:s.key||`mark_${a.length}`,channelData:c})}}return{xChannelValues:r.flat(),yChannelValues:i.flat(),markDataPairs:a}}function mI(t,n){const e=new Set;for(const r of n){const{scale:i}=r,a=i?.[t];if(!a)continue;if(a.independent)return!0;const o=a.key||"default";if(e.add(o),e.size>1)return!0}return!1}function txt(t,n,e,r,i){var a,o,s,A;const c={x:n.x||e.getOptions().domain||[],y:n.y||r.getOptions().domain||[]},l=i||H5(t),{hasIndependentX:u,hasIndependentY:f}=l;if(u||f){let d=1,h=1;for(const[p,v]of t.markState.entries())if(v?.channels){if(u){const y=v.channels.find(m=>m.name==="x");if(!((o=(a=p?.scale)===null||a===void 0?void 0:a.x)===null||o===void 0)&&o.independent){const m=`x${d}`;c[m]=y.scale.domain,d++}}if(f){const y=v.channels.find(m=>m.name==="y");if(!((A=(s=p?.scale)===null||s===void 0?void 0:s.y)===null||A===void 0)&&A.independent){const m=`y${h}`;c[m]=y.scale.domain,h++}}}}return c}function H5(t){var n,e,r,i,a,o,s,A;const c=Array.from(t.markState.keys()),l=mI("x",c),u=mI("y",c),f=[],d=[],h=[],p=[],v=new Map,y=new Map,m=new Map,b=new Map;let B=1,x=1;for(const[C]of t.markState.entries()){const O=C.key,_=((e=(n=C?.scale)===null||n===void 0?void 0:n.x)===null||e===void 0?void 0:e.key)||"x";if(!!(!((i=(r=C?.scale)===null||r===void 0?void 0:r.x)===null||i===void 0)&&i.independent)||l&&_!=="x"){d.push(O),m.has(_)||m.set(_,B++);const T=m.get(_);v.set(O,`x${T}`)}else f.push(O),v.set(O,"x");const F=((o=(a=C?.scale)===null||a===void 0?void 0:a.y)===null||o===void 0?void 0:o.key)||"y";if(!!(!((A=(s=C?.scale)===null||s===void 0?void 0:s.y)===null||A===void 0)&&A.independent)||u&&F!=="y"){p.push(O),b.has(F)||b.set(F,x++);const T=b.get(F);y.set(O,`y${T}`)}else h.push(O),y.set(O,"y")}return{hasIndependentX:l,hasIndependentY:u,marksWithSharedX:f,marksWithIndependentX:d,marksWithSharedY:h,marksWithIndependentY:p,markToXScaleMap:v,markToYScaleMap:y}}var Da=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})};const j5="legend-category",EC="legend-html-category",ext="legend-continuous",nxt="items-item",rxt="legend-category-item-marker",ixt="legend-category-item-label",axt="legend-category-item-focus-group";function $5(t){return t.getElementsByClassName(rxt)[0]}function G5(t){return t.getElementsByClassName(ixt)[0]}function wI(t){return t.getElementsByClassName(axt)[0]}function K5(t){return t.getElementsByClassName(nxt)}function _C(t){return t.getElementsByClassName(j5)}function oxt(t){return t.getElementsByClassName(EC)}function z5(t){return t.getElementsByClassName(ext)}function sxt(t,n){[..._C(t),...z5(t)].forEach(r=>{n(r,i=>i)})}function Zb(t){let n=t.parentNode;for(;n&&!n.__data__;)n=n.parentNode;return n.__data__}function Axt(t,n,e){var r;const i=Object.keys(t).find(a=>{if(a.startsWith(e)){const o=t[a].getOptions();return o.name===e&&o.markKey===n}});return(r=t[i])!==null&&r!==void 0?r:t[e]}function cxt(t,{legends:n,marker:e,label:r,datum:i,filter:a,defaultSelect:o,emitter:s,channel:A,state:c={}}){const l=new Map,u=new Map,f=new Map,d=new Map,{unselected:h={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=c,p={unselected:wt(h,"marker")},v={unselected:wt(h,"label")},{setState:y,removeState:m}=Es(p,void 0),{setState:b,removeState:B}=Es(v,void 0),x=Array.from(n(t));let C=x.map(i);const O=()=>{for(const M of x){const T=i(M),k=e(M),L=r(M);C.includes(T)?(m(k,"unselected"),B(L,"unselected")):(y(k,"unselected"),b(L,"unselected"))}};for(const M of x){const T=()=>{os(t,"pointer")},k=()=>{XBt(t)},L=N=>Da(this,void 0,void 0,function*(){const P=i(M),Q=C.indexOf(P);Q===-1?C.push(P):C.splice(Q,1),yield a(C),O();const{nativeEvent:R=!0}=N;R&&(C.length===x.length?s.emit("legend:reset",{nativeEvent:R}):s.emit("legend:filter",Object.assign(Object.assign({},N),{nativeEvent:R,data:{channel:A,values:C}})))});M.addEventListener("click",L),M.addEventListener("pointerenter",T),M.addEventListener("pointerout",k),l.set(M,L),u.set(M,T),f.set(M,k);const U=wI(M);if(U){const N=P=>Da(this,void 0,void 0,function*(){P.stopPropagation();const Q=i(M),R=C.indexOf(Q),{nativeEvent:H=!0}=P;if(R!==-1&&C.length===1){if(!H)return;C=x.map(i),yield a(C),O(),s.emit("legend:reset",{nativeEvent:H})}else{if(C=[Q],yield a(C),O(),!H)return;s.emit("legend:focus",Object.assign(Object.assign({},P),{nativeEvent:H,data:{channel:A,value:Q}}))}});U.addEventListener("click",N),d.set(M,N)}}const _=M=>Da(this,void 0,void 0,function*(){const{nativeEvent:T}=M;if(T)return;const{data:k}=M,{channel:L,value:U}=k;L===A&&(C=[U],yield a(C),O())}),S=M=>Da(this,void 0,void 0,function*(){const{nativeEvent:T}=M;if(T)return;const{data:k}=M,{channel:L,values:U}=k;L===A&&(C=U,yield a(C),O())}),F=M=>Da(this,void 0,void 0,function*(){const{nativeEvent:T}=M;T||(C=x.map(i),yield a(C),O())});return s.on("legend:filter",S),s.on("legend:focus",_),s.on("legend:reset",F),o&&s.emit("legend:filter",{data:{channel:A,values:o}}),()=>{for(const M of x){M.removeEventListener("click",l.get(M)),M.removeEventListener("pointerenter",u.get(M)),M.removeEventListener("pointerout",f.get(M));const T=wI(M);T&&T.removeEventListener("click",d.get(M))}s.off("legend:focus",_),s.off("legend:filter",S),s.off("legend:reset",F)}}function lxt(t,{domain:n,filter:e,defaultSelect:r,emitter:i,channel:a}){const o=new Map,s=new Map,A=new Map;let c=[...n];const l=()=>{var v;const y=(v=t.ownerDocument)===null||v===void 0?void 0:v.defaultView;return y&&y.getContextService().getDomElement().parentElement||document.body},u=()=>{const y=l().querySelector(".legend-html"),m=b=>Da(this,void 0,void 0,function*(){let B=b.target;for(;B&&!B.hasAttribute("legend-value")&&(B=B.parentElement,B!==y););if(!B||!B.hasAttribute("legend-value"))return;b.preventDefault(),b.stopPropagation();const x=B.getAttribute("legend-value");if(!x)return;const C=c.indexOf(x);C===-1?c.push(x):c.splice(C,1),yield e(c),f(),c.length===n.length?i.emit("legend:reset",{nativeEvent:!0}):i.emit("legend:filter",{nativeEvent:!0,data:{channel:a,values:c}})});y.addEventListener("click",m),o.set(y,m)},f=()=>{l().querySelectorAll("[legend-value]").forEach(m=>{const b=m.getAttribute("legend-value");if(!b||!n.includes(b))return;const B=c.includes(b),x=m;B?(x.style.opacity="1",x.classList.remove("legend-item-inactive")):(x.style.opacity="0.4",x.classList.add("legend-item-inactive"))})};u();const d=v=>Da(this,void 0,void 0,function*(){const{nativeEvent:y}=v;if(y)return;const{data:m}=v,{channel:b,value:B}=m;b===a&&(c=[B],yield e(c),f())}),h=v=>Da(this,void 0,void 0,function*(){const{nativeEvent:y}=v;if(y)return;const{data:m}=v,{channel:b,values:B}=m;b===a&&(c=B,yield e(c),f())}),p=v=>Da(this,void 0,void 0,function*(){const{nativeEvent:y}=v;y||(c=[...n],yield e(c),f())});return i.on("legend:filter",h),i.on("legend:focus",d),i.on("legend:reset",p),r&&i.emit("legend:filter",{data:{channel:a,values:r}}),()=>{l().querySelectorAll("[legend-value]").forEach(m=>{const b=m.getAttribute("legend-value");if(!b||!n.includes(b))return;const B=o.get(m),x=s.get(m),C=A.get(m);B&&m.removeEventListener("click",B),x&&m.removeEventListener("pointerenter",x),C&&m.removeEventListener("pointerout",C)}),o.clear(),s.clear(),A.clear(),i.off("legend:filter",h),i.off("legend:focus",d),i.off("legend:reset",p)}}function uxt(t,{legend:n,filter:e,emitter:r,channel:i}){const{attributes:a}=n,o=s=>{const{value:A}=s.detail,c=A.map(l=>{var u,f;const d=(u=a.data)===null||u===void 0?void 0:u.find(h=>h.value===l);return d&&(f=d.domainValue)!==null&&f!==void 0?f:l});e(c),r.emit({nativeEvent:!0,data:{channel:i,values:c}})};return n.addEventListener("valuechange",o),()=>{n.removeEventListener("valuechange",o)}}function W5(t,n){return Da(this,arguments,void 0,function*(e,{legend:r,channel:i,value:a,ordinal:o,channels:s,allChannels:A,facet:c=!1}){const{view:l,update:u,setState:f}=e;f(r,d=>{var h,p;const{marks:v}=d,y=(p=(h=r.attributes)===null||h===void 0?void 0:h.scales)===null||p===void 0?void 0:p.find(b=>b.name===i),m=v.map(b=>{var B,x;if(((B=b.scale[i].key)!==null&&B!==void 0?B:i)!==((x=y?.key)!==null&&x!==void 0?x:y?.name)||b.type==="legends"||P2.includes(b.type))return b;const{transform:C=[],data:O=[]}=b,_=C.findIndex(({type:M})=>M.startsWith("group")||M.startsWith("bin")),S=[...C];O.length&&S.splice(_+1,0,{type:"filter",[i]:{value:a,ordinal:o}});const F=Object.fromEntries(s.map(M=>{const T=Axt(l.scale,d.key,M);return[M,{domain:T.getOptions().domain}]}));return at({},b,Object.assign(Object.assign({transform:S,scale:F},!o&&{animate:!1}),{legend:c?!1:Object.fromEntries(A.map(M=>[M,{preserve:!0}]))}))});return Object.assign(Object.assign({},d),{marks:m})}),yield u()})}function fxt(t,n){for(const e of t)W5(e,Object.assign(Object.assign({},n),{facet:!0}))}function dxt(){return(t,n,e)=>{const{container:r}=t,i=n.filter(u=>u!==t),a=i.length>0,o=u=>Zb(u).scales.map(f=>f.name),s=[..._C(r),...oxt(r),...z5(r)],A=s.flatMap(o),c=a?TA(fxt,50,{trailing:!0}):TA(W5,50,{trailing:!0}),l=s.map(u=>{const{name:f,domain:d}=Zb(u).scales[0],h=o(u),p={legend:u,channel:f,channels:h,allChannels:A};return u.className===j5?cxt(u,{legends:K5,marker:$5,label:G5,datum:v=>{const{__data__:y}=v,{index:m}=y;return d[m]},filter:v=>{const y=Object.assign(Object.assign({},p),{value:v,ordinal:!0});c(a?i:t,y)},state:u.attributes.state,defaultSelect:u.attributes.defaultSelect,channel:f,emitter:e}):u.className===EC?lxt(r,{domain:d,filter:v=>{const y=Object.assign(Object.assign({},p),{value:v,ordinal:!0});c(a?i:t,y)},defaultSelect:u.attributes.defaultSelect,channel:f,emitter:e}):uxt(r,{legend:u,filter:v=>{const y=Object.assign(Object.assign({},p),{value:v,ordinal:!1});c(a?i:t,y)},emitter:e,channel:f})});return()=>{l.forEach(u=>u())}}}var hxt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function V5(t,n){const e=Xa(t,"shape"),r=Xa(t,"color"),i=e?e.clone():null,a=[];for(const[s,A]of n){const c=s.type,u=(r?.getOptions().domain.length>0?r?.getOptions().domain:A.data).map((f,d)=>{var h;return i?i.map(f||"point"):((h=s?.style)===null||h===void 0?void 0:h.shape)||A.defaultShape||"point"});typeof c=="string"&&a.push([c,u])}if(a.length===0)return["point",["point"]];if(a.length===1||!e)return a[0];const{range:o}=e.getOptions();return a.map(([s,A])=>{let c=0;for(let l=0;l<a.length;l++){const u=o[l%o.length];A[l]===u&&c++}return[c/A.length,[s,A]]}).sort((s,A)=>A[0]-s[0])[0][1]}function pxt(t,n){const{scales:e,library:r,markState:i}=n,[a,o]=V5(e,i),{itemMarker:s,itemMarkerSize:A}=t,c=(f,d)=>{var h,p,v;const y=((v=(p=(h=r[`mark.${a}`])===null||h===void 0?void 0:h.props)===null||p===void 0?void 0:p.shape[f])===null||v===void 0?void 0:v.props.defaultMarker)||mi(f.split(".")),m=typeof A=="function"?A(d):A;return()=>Mdt(y,{color:d.color})(0,0,m)},l=f=>`${o[f]}`;return Xa(e,"shape")&&!s?(f,d)=>c(l(d),f):typeof s=="function"?(f,d)=>{const h=s(f.id,d);return typeof h=="string"?c(h,f):h}:(f,d)=>c(s||l(d),f)}function gxt(t){const n=Xa(t,"opacity");if(n){const{range:e}=n.getOptions();return(r,i)=>e[i]}}function vxt(t,n){const e=Xa(t,"size");return e instanceof E4?e.map(NaN)*2:n}function yxt(t,n){const{scales:e,markState:r}=n,[i,a]=V5(e,r),{itemMarker:o,itemMarkerLineWidth:s}=t;if(s!==void 0)return s;const A=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if(typeof o=="string"&&A.includes(o))return 4;if(typeof o=="function")return(u,f)=>{const d=o(u.id,f);if(typeof d=="string"&&A.includes(d))return 4};if((Array.isArray(a)?a:[a]).some(u=>A.includes(u)))return 4}function mxt(t,n){const{labelFormatter:e=f=>`${f}`}=t,{scales:r,theme:i}=n,a=i.legendCategory.itemMarkerSize,o=vxt(r,a),s={itemMarker:pxt(Object.assign(Object.assign({},t),{itemMarkerSize:o}),n),itemMarkerSize:o,itemMarkerOpacity:gxt(r),itemMarkerLineWidth:yxt(t,n)},A=typeof e=="string"?Go(e):e,c=Xa(r,"color"),l=M0t(r),u=c?f=>c.map(f):()=>n.theme.color;return Object.assign(Object.assign({},s),{data:l.map(f=>({id:f,label:A(f),color:u(f)}))})}function wxt(t,n,e){const{position:r}=n;if(r==="center"){const{bbox:o}=t,{width:s,height:A}=o;return{width:s,height:A}}const{width:i,height:a}=ED(t,n,e);return{width:i,height:a}}function bxt(t){return Object.assign(Object.assign({},t),{data:t?.data.filter(n=>n.id!==""&&n.id!==void 0)||[]})}const SC=t=>{const{labelFormatter:n,layout:e,order:r,orientation:i,position:a,size:o,title:s,cols:A,itemMarker:c,render:l}=t,u=hxt(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker","render"]),{gridRow:f}=u;return d=>{const{value:h,theme:p}=d,{bbox:v}=h,{width:y,height:m}=wxt(h,t,SC),b=CD(a,e),B=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(a)?"vertical":"horizontal",width:y,height:m,layout:A!==void 0?"grid":"flex"},A!==void 0&&{gridCol:A}),f!==void 0&&{gridRow:f}),{titleText:Iv(s)}),mxt(t,d)),{legendCategory:x={}}=p,C=Lv(Object.assign({},x,bxt(B),u,{classNamePrefix:$o}));if(l)return new hM({className:EC,style:Object.assign(Object.assign({},C),{x:v.x,y:v.y,render:l})});const O=new _0t({style:Object.assign(Object.assign({x:v.x,y:v.y,width:v.width,height:v.height},b),{subOptions:C})});return O.appendChild(new hM({className:"legend-category",style:C})),O}};SC.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var Bxt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function xxt(t,n,e){return t.size=n,S0t(e)?t.height=n:t.width=n,t}function Cxt(t,n,e){const{size:r}=n,i=ED(t,n,e);return xxt(i,r,i.orientation)}function Oxt(t){return n=>({value:n/t,label:String(n),domainValue:n})}function Ext(t,n,e,r,i){const a=n.thresholds,o=Oxt(r);return Object.assign(Object.assign({},t),{color:i,data:[e,...a,r].map(o)})}function _xt(t,n,e){const i=[-1/0,...n.thresholds,1/0].map((a,o)=>({value:o,domainValue:a,label:a}));return Object.assign(Object.assign({},t),{data:i,color:e,labelFilter:(a,o)=>o>0&&o<i.length-1})}function Jb(t){const{domain:n}=t.getOptions(),[e,r]=[n[0],j4(n)];return[e,r]}function Sxt(t,n){const e=t.getOptions(),r=t.clone();return r.update(Object.assign(Object.assign({},e),{range:[xs(n).toString()]})),r}function Fxt(t,n,e,r,i,a){const{length:o}=t,s=e||r,A=i.color?a.legendContinuous.ribbonFill||"black":a.color,c=n||Sxt(s,A),[l,u]=Jb(c),[f,d]=Jb([n,e,r].filter(h=>h!==void 0).find(h=>!(h instanceof Ex)));return Object.assign(Object.assign({},t),{domain:[f,d],data:c.getTicks().map(h=>({value:h})),color:new Array(Math.floor(o)).fill(0).map((h,p)=>{const v=(u-l)/(o-1)*p+l,y=c.map(v)||A,m=r?r.map(v):1;return y.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(b,B,x,C)=>`rgba(${B}, ${x}, ${C}, ${m})`)})})}function Mxt(t,n,e,r,i,a){const o=Xa(t,"color"),s=Cxt(e,r,i);if(o instanceof pv){const{range:l}=o.getOptions(),[u,f]=Jb(o);return o instanceof Q4||o instanceof P4?Ext(s,o,u,f,l):_xt(s,o,l)}const A=Xa(t,"size"),c=Xa(t,"opacity");return Fxt(s,o,A,c,n,a)}const Ks=t=>{const{labelFormatter:n,layout:e,order:r,orientation:i,position:a,size:o,title:s,style:A,crossPadding:c,padding:l}=t,u=Bxt(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:f,value:d,theme:h,scale:p})=>{const{bbox:v}=d,{x:y,y:m,width:b,height:B}=v,x=CD(a,e),{legendContinuous:C={}}=h,O=Lv(Object.assign({},C,Object.assign(Object.assign(Object.assign({titleText:Iv(s),labelAlign:"value",labelFormatter:typeof n=="string"?S=>Go(n)(S.label):n},Mxt(f,p,d,t,Ks,h)),A),{classNamePrefix:$o}),u)),_=new OD({style:Object.assign(Object.assign({x:y,y:m,width:b,height:B},x),{subOptions:O})});return _.appendChild(new hlt({className:"legend-continuous",style:O})),_}};Ks.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const Y5=t=>(...n)=>Ks(Object.assign({},{block:!0},t))(...n);Y5.props=Object.assign(Object.assign({},Ks.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const FC=t=>n=>{const{scales:e}=n,r=Xa(e,"size");return Ks(Object.assign({},{type:"size",data:r.getTicks().map((i,a)=>({value:i,label:String(i)}))},t))(n)};FC.props=Object.assign(Object.assign({},Ks.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const X5=t=>FC(Object.assign({},{block:!0},t));X5.props=Object.assign(Object.assign({},Ks.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var kxt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function bI(t,n,e,r){switch(r){case"center":return{x:t+e/2,y:n,textAlign:"middle"};case"right":return{x:t+e,y:n,textAlign:"right"};default:return{x:t,y:n,textAlign:"left"}}}const Txt=E0t({render(t,n){const{width:e,title:r,subtitle:i,spacing:a=2,align:o="left",x:s,y:A}=t,c=kxt(t,["width","title","subtitle","spacing","align","x","y"]);n.style.transform=`translate(${s}, ${A})`;const l=wt(c,"title"),u=wt(c,"subtitle"),d=Jk(n,".title","text").attr("className","title").call(It,Object.assign(Object.assign(Object.assign({},bI(0,0,e,o)),{fontSize:14,textBaseline:"top",text:r}),l)).node().getLocalBounds();Jk(n,".sub-title","text").attr("className","sub-title").call(h=>{if(!i)return h.node().remove();h.node().attr(Object.assign(Object.assign(Object.assign({},bI(0,d.max[1]+a,e,o)),{fontSize:12,textBaseline:"top",text:i}),u))})}}),q5=t=>({value:n,theme:e})=>{const{x:r,y:i,width:a,height:o}=n.bbox;return new Txt({style:at({},e.title,Object.assign({x:r,y:i,width:a,height:o},t))})};q5.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};var Ixt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Lxt(t,n,e){const{x:r,y:i,width:a,height:o}=t;if(n==="left")return[r+a-e,i];if(n==="right")return[r,i];if(n==="bottom")return[r,i];if(n==="top")return[r,i+o-e]}const xd=t=>{const{orientation:n,labelFormatter:e,size:r,style:i={},position:a}=t,o=Ixt(t,["orientation","labelFormatter","size","style","position"]);return s=>{var A;const{scales:[c],value:l,theme:u,coordinate:f}=s,{bbox:d}=l,{width:h,height:p}=d,{slider:v={}}=u,y=((A=c.getFormatter)===null||A===void 0?void 0:A.call(c))||(_=>_+""),m=typeof e=="string"?Go(e):e,b=n==="horizontal",B=nn(f)&&b,{trackSize:x=v.trackSize}=i,[C,O]=Lxt(d,a,x);return new IP({className:"slider",style:Object.assign({},v,Object.assign(Object.assign({x:C,y:O,trackLength:b?h:p,orientation:n,formatter:_=>{const S=m||y,F=B?1-_:_,M=Cl(c,F,!0);return S(M)},sparklineData:Uxt(t,s)},i),o))})}};function Qxt(t,n){const[e]=Array.from(t.entries()).filter(([i])=>i.type==="line"||i.type==="area"||i.type==="interval").filter(([i])=>i.slider).map(([i])=>{const{encode:a,slider:o}=i;if(o?.x){const s=A=>{const c=a[A];return[A,c?c.value:void 0]};return Object.fromEntries(n.map(s))}});if(!e?.series)return e?.y;const r=e.series.reduce((i,a,o)=>(i[a]=i[a]||[],i[a].push(e.y[o]),i),{});return Object.values(r)}function Uxt(t,n){const{markState:e}=n;return Nn(t.sparklineData)?t.sparklineData:Qxt(e,["y","series"])}xd.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const Z5=t=>xd(Object.assign(Object.assign({},t),{orientation:"horizontal"}));Z5.props=Object.assign(Object.assign({},xd.props),{defaultPosition:"bottom"});const J5=t=>xd(Object.assign(Object.assign({},t),{orientation:"vertical"}));J5.props=Object.assign(Object.assign({},xd.props),{defaultPosition:"left"});var Pxt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Cd=t=>{const{orientation:n,labelFormatter:e,style:r}=t,i=Pxt(t,["orientation","labelFormatter","style"]);return({scales:[a],value:o,theme:s})=>{const{bbox:A}=o,{x:c,y:l,width:u,height:f}=A,{scrollbar:d={}}=s,{ratio:h,range:p}=a.getOptions(),v=n==="horizontal"?u:f,y=v/h,[m,b]=p,B=b>m?0:1;return new kAt({className:`${$o}scrollbar`,style:Object.assign({},d,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:l,trackLength:v,value:B}),i),{orientation:n,contentLength:y,viewportLength:v}))})}};Cd.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const t8=t=>Cd(Object.assign(Object.assign({},t),{orientation:"horizontal"}));t8.props=Object.assign(Object.assign({},Cd.props),{defaultPosition:"bottom"});const e8=t=>Cd(Object.assign(Object.assign({},t),{orientation:"vertical"}));e8.props=Object.assign(Object.assign({},Cd.props),{defaultPosition:"left"});const n8=t=>()=>new ur;n8.props={};const MC=(t,n)=>{const{coordinate:r}=n;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=nn(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],h=[{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.01},{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u}];return s.animate(h,Object.assign(Object.assign({},o),t))}},Rxt=(t,n)=>{const{coordinate:r}=n;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=nn(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],h=[{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.99},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(h,Object.assign(Object.assign({},o),t))}},r8=(t,n)=>{const{coordinate:r}=n;return RB.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:mt.NUMBER}),(i,a,o)=>{const[s]=i,A=l=>{const{__data__:u,style:f}=l,{fillOpacity:d=1,strokeOpacity:h=1,opacity:p=1}=f,{points:v,y,y1:m}=u,b=ZA(r,v,[y,m]),{innerRadius:B,outerRadius:x}=b,C=[{scaleInYRadius:B+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:B+1e-4,fillOpacity:d,strokeOpacity:h,opacity:p,offset:.01},{scaleInYRadius:x,fillOpacity:d,strokeOpacity:h,opacity:p}];return l.animate(C,Object.assign(Object.assign({},o),t))},c=l=>{const{style:u}=l,{transform:f="",fillOpacity:d=1,strokeOpacity:h=1,opacity:p=1}=u,[v,y]=nn(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],m=[{transform:`${f} ${y}`.trimStart(),transformOrigin:v,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${f} ${y}`.trimStart(),transformOrigin:v,fillOpacity:d,strokeOpacity:h,opacity:p,offset:.01},{transform:`${f} scale(1, 1)`.trimStart(),transformOrigin:v,fillOpacity:d,strokeOpacity:h,opacity:p}];return l.animate(m,Object.assign(Object.assign({},o),t))};return je(r)?A(s):c(s)}},Nxt=(t,n)=>{const{coordinate:r}=n;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=nn(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],h=[{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.99},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(h,Object.assign(Object.assign({},o),t))}},i8=t=>(n,e,r)=>{const[i]=n,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,A=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:a,strokeOpacity:o,opacity:s}];return i.animate(A,Object.assign(Object.assign({},r),t))};i8.props={};const a8=t=>(n,e,r)=>{const[i]=n,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,A=[{fillOpacity:a,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(A,Object.assign(Object.assign({},r),t))};a8.props={};const Dxt={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},Hxt={[it.CIRCLE]:["cx","cy","r"],[it.ELLIPSE]:["cx","cy","rx","ry"],[it.RECT]:["x","y","width","height"],[it.IMAGE]:["x","y","width","height"],[it.LINE]:["x1","y1","x2","y2"],[it.POLYLINE]:["points"],[it.POLYGON]:["points"]};function Ol(t,n,e=!1){const r={};for(const i of n){const a=t.style[i];a?r[i]=a:e&&(r[i]=Dxt[i])}return r}const Wf=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function tB(t){const{min:n,max:e}=t.getLocalBounds(),[r,i]=n,[a,o]=e,s=o-i,A=a-r;return[r,i,A,s]}function jxt(t){const[n,e,r,i]=t;return`
    M ${n} ${e}
    L ${n+r} ${e}
    L ${n+r} ${e+i}
    L ${n} ${e+i}
    Z
  `}function $xt(t,n){const[e,r,i,a]=tB(t),o=a/i,s=Math.ceil(Math.sqrt(n/o)),A=Math.ceil(n/s),c=[],l=a/A;let u=0,f=n;for(;f>0;){const d=Math.min(f,s),h=i/d;for(let p=0;p<d;p++){const v=e+p*h,y=r+u*l;c.push(jxt([v,y,h,l]))}f-=d,u+=1}return c}function Gxt(t="pack"){return typeof t=="function"?t:$xt}function Kxt(t,n,e){let{transform:r}=t.style;const{transform:i}=n.style;o8(n,t);let a=Wf;if(t.nodeName===it.GROUP){const[A,c,l,u]=tB(t),[f,d,h,p]=tB(n),v=A-f,y=c-d,m=l/h,b=u/p;r=`translate(${v}, ${y}) scale(${m}, ${b})`}else a=a.concat(Hxt[t.nodeName]||[]);const o=[Object.assign({transform:r??"none"},Ol(t,a,!0)),Object.assign({transform:i??"none"},Ol(n,a,!0))];return n.animate(o,e)}function o8(t,n){t.__data__=n.__data__,t.className=n.className,t.markType=n.markType,n.parentNode.replaceChild(t,n)}function zxt(t,n){const{nodeName:e}=t;if(e==="path")return t;const r=new sr({style:Object.assign(Object.assign({},Ol(t,Wf)),{d:n})});return o8(r,t),r}function BI(t,n){const e=t.indexOf(n),r=t.lastIndexOf(n);return e===r}function Wxt(t){return!BI(t,"m")||!BI(t,"M")}function xI(t){const n=eq(t);if(n&&!Wxt(n))return n}function CI(t){const{nodeName:n}=t;if(n==="path"){const e=$t(t,"attributes");return e.markerEnd||e.markerStart}return!1}function kC(t,n,e,r){const{nodeName:i}=n,{nodeName:a}=e,o=xI(n),s=xI(e),{opacity:A=1,strokeOpacity:c=1,fillOpacity:l=1}=n.style,{opacity:u=1,strokeOpacity:f=1,fillOpacity:d=1}=e.style,h=i===a&&i!=="path",p=o===void 0||s===void 0,v=CI(n)||CI(e);if(h||p||v)return Kxt(n,e,r);const y=zxt(t,o),m=Object.assign(Object.assign({},Ol(n,Wf)),{opacity:A,strokeOpacity:c,fillOpacity:l}),b=Object.assign(Object.assign({},Ol(e,Wf)),{opacity:u,strokeOpacity:f,fillOpacity:d}),B=[m,b];if(o!==s){B[0].d=o,B[1].d=s;const x=y.animate(B,r);return x.onfinish=()=>{vv(y,e),y.style.d=s,y.style.transform="none"},y.style.transform="none",x}return ff(m,b)?null:y.animate(B,r)}function Vxt(t,n,e,r){t.style.visibility="hidden";const i=r(t,n.length);return n.map((a,o)=>{const s=new sr({style:Object.assign({d:i[o]},Ol(t,Wf))});return kC(a,s,a,e)})}function Yxt(t,n,e,r){const i=r(n,t.length),{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=n.style,A=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:o,opacity:s}],c=n.animate(A,e);return[...t.map((u,f)=>{const d=new sr({style:{d:i[f],fill:n.style.fill}});return kC(u,u,d,e)}),c]}const s8=t=>(n,e,r)=>{const i=Gxt(t.split),a=Object.assign(Object.assign({},r),t),{length:o}=n,{length:s}=e;if(o===1&&s===1||o>1&&s>1){const[A]=n,[c]=e;return kC(A,A,c,a)}if(o===1&&s>1){const[A]=n;return Vxt(A,e,a,i)}if(o>1&&s===1){const[A]=e;return Yxt(n,A,a,i)}return null};s8.props={};const A8=(t,n)=>{RB.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:mt.NUMBER});const{coordinate:r}=n;return(i,a,o)=>{const[s]=i;if(!je(r))return MC(t,n)(i,a,o);const{__data__:A,style:c}=s,{radius:l=0,inset:u=0,fillOpacity:f=1,strokeOpacity:d=1,opacity:h=1}=c,{points:p,y:v,y1:y}=A,m=Nx().cornerRadius(l).padAngle(u*Math.PI/180),b=ZA(r,p,[v,y]),{startAngle:B,endAngle:x}=b,C=[{waveInArcAngle:B+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:B+1e-4,fillOpacity:f,strokeOpacity:d,opacity:h,offset:.01},{waveInArcAngle:x,fillOpacity:f,strokeOpacity:d,opacity:h}],O=s.animate(C,Object.assign(Object.assign({},o),t));return O.onframe=function(){s.style.d=m(Object.assign(Object.assign({},b),{endAngle:Number(s.style.waveInArcAngle)}))},O.onfinish=function(){s.style.d=m(Object.assign(Object.assign({},b),{endAngle:x}))},O}};A8.props={};const Xxt=t=>(e,r,i)=>{const[a]=e,{transform:o="",fillOpacity:s=1,strokeOpacity:A=1,opacity:c=1}=a.style,l="center center",u=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c}];return a.animate(u,Object.assign(Object.assign({},i),t))},qxt=t=>(e,r,i)=>{const[a]=e,{transform:o="",fillOpacity:s=1,strokeOpacity:A=1,opacity:c=1}=a.style,l="center center",u=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:l},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(u,Object.assign(Object.assign({},i),t))},c8=t=>(n,e,r)=>{var i,a;const[o]=n,s=((a=(i=o).getTotalLength)===null||a===void 0?void 0:a.call(i))||0,A=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(A,Object.assign(Object.assign({},r),t))};c8.props={};const l8=(t,n)=>(e,r,i)=>{const[a]=e,{min:[o,s],halfExtents:A}=a.getLocalBounds(),c=A[0]*2,l=A[1]*2,u=new sr({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+l}L${o},${s+l}Z`}});return a.appendChild(u),a.style.clipPath=u,MC(t,n)([u],r,i)};l8.props={};const u8=(t,n)=>(e,r,i)=>{const[a]=e,{min:[o,s],halfExtents:A}=a.getLocalBounds(),c=A[0]*2,l=A[1]*2,u=new sr({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+l}L${o},${s+l}Z`}});return a.appendChild(u),a.style.clipPath=u,r8(t,n)([u],r,i)};u8.props={};var Zxt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function Jxt(t,{elements:n,datum:e,groupKey:r=h=>h,regionGroupKey:i=h=>h,link:a=!1,background:o=!1,delay:s=60,scale:A,coordinate:c,emitter:l,state:u={},region:f=!1,regionEleFilter:d=h=>OC.includes(h.markType)}){var h,p;const v=(h=n(t))!==null&&h!==void 0?h:[],y=f?v.filter(d):v,m=new Set(y),b=f?i:r,B=Je(y,b),x=N5({elementsof:n,root:t,coordinate:c,scale:A}),C=Ul(y,e),[O,_]=Q5(Object.assign({elements:y,valueof:C,link:a,coordinate:c},wt(u.active,"link"))),[S,F,M]=P5(Object.assign({document:t.ownerDocument,scale:A,coordinate:c,background:o,valueof:C},wt(u.active,"background"))),T=at(u,{active:Object.assign({},((p=u.active)===null||p===void 0?void 0:p.offset)&&{transform:(...Y)=>{const et=u.active.offset(...Y),[,nt]=Y;return U5(y[nt],et,c)}})}),k=CC(T,y),{updateState:L,removeState:U,hasState:N}=k(C);let P;const Q=Y=>{const{nativeEvent:et=!0}=Y;let nt=Y.target;if(f&&(nt=x(Y)),!m.has(nt))return;P&&clearTimeout(P);const Z=b(nt),ot=B.get(Z),ct=new Set(ot);for(const vt of y)ct.has(vt)?N(vt,"active")||L(vt,"active"):(L(vt,"inactive"),_(vt)),vt!==nt&&F(vt);S(nt),O(ot),et&&l.emit("element:highlight",{nativeEvent:et,data:{data:e(nt),group:ot.map(e)}})},R=()=>{P&&clearTimeout(P),P=setTimeout(()=>{H(),P=null},s)},H=(Y=!0)=>{for(const et of y)U(et,"active","inactive"),F(et),_(et);Y&&l.emit("element:unhighlight",{nativeEvent:Y})},G=Y=>{let et=Y.target;if(f&&(et=x(Y)),!et){s>0?R():H();return}o&&!M(et)||!o&&!m.has(et)||(s>0?R():H())},K=()=>{H()};t.addEventListener("pointerover",Q),t.addEventListener("pointermove",Q),t.addEventListener("pointerout",G),t.addEventListener("pointerleave",K);const W=Y=>{const{nativeEvent:et}=Y;et||H(!1)},X=Y=>{const{nativeEvent:et}=Y;if(et)return;const{data:nt}=Y.data,Z=Vv(y,nt,e);Z&&Q({target:Z,nativeEvent:!1})};return l.on("element:highlight",X),l.on("element:unhighlight",W),()=>{t.removeEventListener("pointerover",Q),t.removeEventListener("pointermove",Q),t.removeEventListener("pointerout",G),t.removeEventListener("pointerleave",K),l.off("element:highlight",X),l.off("element:unhighlight",W);for(const Y of y)F(Y),_(Y)}}function Yv(t){var{delay:n,createGroup:e,createRegionGroup:r,background:i=!1,link:a=!1}=t,o=Zxt(t,["delay","createGroup","createRegionGroup","background","link"]);return(s,A,c)=>{const{container:l,view:u,options:f}=s,{scale:d,coordinate:h}=u,p=ia(l);return Jxt(p,Object.assign({elements:Ho,datum:Is(u),groupKey:e?e(u):void 0,regionGroupKey:r?r(u):bd(),coordinate:h,scale:d,state:GA(f,[["active",i?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:i,link:a,delay:n,emitter:c},o))}}Yv.props={reapplyWhenUpdate:!0};function f8(t){return Yv(Object.assign(Object.assign({},t),{createGroup:bd}))}f8.props={reapplyWhenUpdate:!0};function d8(t){return Yv(Object.assign(Object.assign({},t),{createGroup:I5}))}d8.props={reapplyWhenUpdate:!0};var t2t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function e2t(t,{elements:n,datum:e,groupKey:r=p=>p,scaleFactor:i=1.04,shadow:a=!0,shadowColor:o="rgba(0, 0, 0, 0.4)",shadowBlur:s=10,shadowOffsetX:A=0,shadowOffsetY:c=2,zIndex:l=10,delay:u=60,emitter:f,state:d={},coordinate:h}){const p=()=>{var Q;return(Q=n(t))!==null&&Q!==void 0?Q:[]},v=p(),y=Ul(v,e),m=at(d,{active:{}}),b=CC(m,v),{updateState:B,removeState:x,hasState:C}=b(y),O=new Map;let _;const S=Q=>{if(O.has(Q))return;const R=Q.style.transform||"",H=Q.style.transformOrigin||"",G=R==="none"?"":R;if(O.set(Q,{transform:R,transformOrigin:H,zIndex:Q.style.zIndex||0,shadowColor:Q.style.shadowColor||"",shadowBlur:Q.style.shadowBlur||0,shadowOffsetX:Q.style.shadowOffsetX||0,shadowOffsetY:Q.style.shadowOffsetY||0}),h&&je(h)&&!G){const W=h.getCenter();Q.style.transformOrigin=`${W[0]}px ${W[1]}px`}const K=`scale(${i})`;Q.style.transform=G?`${G} ${K}`:K,Q.style.zIndex=l,a&&(Q.style.shadowColor=o,Q.style.shadowBlur=s,Q.style.shadowOffsetX=A,Q.style.shadowOffsetY=c)},F=Q=>{const R=O.get(Q);R&&(Q.style.transform=R.transform,Q.style.transformOrigin=R.transformOrigin,Q.style.zIndex=R.zIndex,Q.style.shadowColor=R.shadowColor,Q.style.shadowBlur=R.shadowBlur,Q.style.shadowOffsetX=R.shadowOffsetX,Q.style.shadowOffsetY=R.shadowOffsetY,O.delete(Q))},M=Q=>{const{nativeEvent:R=!0}=Q,H=Q.target,G=p();if(!new Set(G).has(H))return;_&&clearTimeout(_);const W=Je(G,r),X=r(H),Y=W.get(X);if(!Y)return;const et=new Set(Y);for(const nt of G)et.has(nt)||(x(nt,"active"),F(nt));for(const nt of Y)C(nt,"active")||B(nt,"active"),S(nt);R&&f.emit("element:hoverscale",{nativeEvent:R,data:{data:e(H),group:Y.map(e)}})},T=()=>{_&&clearTimeout(_),_=setTimeout(()=>{k(),_=null},u)},k=(Q=!0)=>{const R=p();for(const H of R)x(H,"active"),F(H);Q&&f.emit("element:unhoverscale",{nativeEvent:Q})},L=()=>{u>0?T():k()},U=()=>{k()};t.addEventListener("pointerover",M),t.addEventListener("pointermove",M),t.addEventListener("pointerout",L),t.addEventListener("pointerleave",U);const N=Q=>{const{nativeEvent:R}=Q;R||k(!1)},P=Q=>{const{nativeEvent:R}=Q;if(R)return;const{data:H}=Q.data,G=p(),K=Vv(G,H,e);K&&M({target:K,nativeEvent:!1})};return f.on("element:hoverscale",P),f.on("element:unhoverscale",N),()=>{t.removeEventListener("pointerover",M),t.removeEventListener("pointermove",M),t.removeEventListener("pointerout",L),t.removeEventListener("pointerleave",U),f.off("element:hoverscale",P),f.off("element:unhoverscale",N);const Q=p();for(const R of Q)F(R);O.clear()}}function h8(t){var{delay:n,createGroup:e,scale:r,shadow:i,shadowColor:a,shadowBlur:o,shadowOffsetX:s,shadowOffsetY:A,zIndex:c}=t,l=t2t(t,["delay","createGroup","scale","shadow","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","zIndex"]);return(u,f,d)=>{const{container:h,view:p,options:v}=u,y=ia(h),m=Is(p),{coordinate:b}=p;return e2t(y,Object.assign({elements:Ho,datum:m,groupKey:e?B=>e(p)(m(B)):void 0,state:GA(v,["active"]),scaleFactor:r,shadow:i,shadowColor:a,shadowBlur:o,shadowOffsetX:s,shadowOffsetY:A,zIndex:c,delay:n,emitter:d,coordinate:b},l))}}h8.props={reapplyWhenUpdate:!0};var n2t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function r2t(t,{elements:n,datum:e,groupKey:r=p=>p,regionGroupKey:i=p=>p,link:a=!1,single:o=!1,multipleSelectHotkey:s,coordinate:A,background:c=!1,scale:l,emitter:u,state:f={},region:d=!1,regionEleFilter:h=p=>OC.includes(p.markType)}){var p;const v=n(t),y=new Set(v),m=N5({elementsof:n,root:t,coordinate:A,scale:l}),b=Je(v,r),B=Je(v,i),x=Ul(v,e),[C,O]=Q5(Object.assign({link:a,elements:v,valueof:x,coordinate:A},wt(f.selected,"link"))),[_,S]=P5(Object.assign({document:t.ownerDocument,background:c,coordinate:A,scale:l,valueof:x},wt(f.selected,"background"))),F=at(f,{selected:Object.assign({},((p=f.selected)===null||p===void 0?void 0:p.offset)&&{transform:(...Z)=>{const ot=f.selected.offset(...Z),[,ct]=Z;return U5(v[ct],ot,A)}})}),M=CC(F,v),{updateState:T,removeState:k,hasState:L}=M(x);let U=!o,N=null;const P=(Z=!0)=>{for(const ot of v)k(ot,"selected","unselected"),O(ot),S(ot);Z&&u.emit("element:unselect",{nativeEvent:!0})},Q=({event:Z,element:ot,nativeEvent:ct=!0,filter:vt=Bt=>!0,groupBy:ht=r,groupMap:bt=b})=>{const Bt=v.filter(vt);if(L(ot,"selected"))P();else{const Ct=ht(ot),kt=bt.get(Ct),Ot=new Set(kt);for(const _t of Bt)Ot.has(_t)?T(_t,"selected"):(T(_t,"unselected"),O(_t)),_t!==ot&&S(_t);if(C(kt),_(ot),!ct)return;u.emit("element:select",Object.assign(Object.assign({},Z),{nativeEvent:ct,data:{data:[e(ot),...kt.map(e)]}}))}},R=({event:Z,element:ot,nativeEvent:ct=!0,filter:vt=Bt=>!0,groupBy:ht=r,groupMap:bt=b})=>{const Bt=ht(ot),Ct=bt.get(Bt),kt=new Set(Ct),Ot=v.filter(vt);if(L(ot,"selected")){if(!v.some(Lt=>!kt.has(Lt)&&L(Lt,"selected")))return P();for(const Lt of Ct)T(Lt,"unselected"),O(Lt),S(Lt)}else{const _t=Ct.some(Lt=>L(Lt,"selected"));for(const Lt of Ot)kt.has(Lt)?T(Lt,"selected"):L(Lt,"selected")||T(Lt,"unselected");!_t&&a&&C(Ct),_(ot)}ct&&u.emit("element:select",Object.assign(Object.assign({},Z),{nativeEvent:ct,data:{data:v.filter(_t=>L(_t,"selected")).map(e)}}))},H=Z=>{if(y.has(Z))return!0;for(const ot of y)if(Kf(ot,vt=>vt===Z))return!0;return!1},G=Z=>{if(y.has(Z))return Z;for(const ot of y){let ct=null;if(Kf(ot,vt=>{vt===Z&&(ct=ot)}),ct)return ct}return Z},K=Z=>{const{target:ot,nativeEvent:ct=!0}=Z,vt=U?R:Q;let ht=ot;const bt=H(ot);return!d||bt?bt?vt({event:Z,element:G(ht),nativeEvent:ct,groupBy:r}):P():(ht=m(Z),y.has(ht)?vt({event:Z,element:ht,nativeEvent:ct,filter:h,groupBy:i,groupMap:B}):P())},W=Array.isArray(s)?s:[s],X=Z=>{W.includes(Z.code)&&!N&&(N=Z.code,U=!0)},Y=Z=>{Z.code===N&&(N=null,U=!1)};t.addEventListener("click",K),s&&(U=!1,document.addEventListener("keydown",X),document.addEventListener("keyup",Y));const et=Z=>{const{nativeEvent:ot,data:ct}=Z;if(ot)return;const vt=U?ct.data:ct.data.slice(0,1);for(const ht of vt){const bt=Vv(v,ht,e);K({target:bt,nativeEvent:!1})}},nt=()=>{P(!1)};return u.on("element:select",et),u.on("element:unselect",nt),()=>{for(const Z of v)O(Z);t.removeEventListener("click",K),s&&(document.removeEventListener("keydown",X),document.removeEventListener("keyup",Y)),u.off("element:select",et),u.off("element:unselect",nt)}}function Xv(t){var{createGroup:n,createRegionGroup:e,background:r=!1,link:i=!1}=t,a=n2t(t,["createGroup","createRegionGroup","background","link"]);return(o,s,A)=>{const{container:c,view:l,options:u}=o,{coordinate:f,scale:d}=l,h=ia(c);return r2t(h,Object.assign({elements:Ho,datum:Is(l),groupKey:n?n(l):void 0,regionGroupKey:e?e(l):bd(),coordinate:f,scale:d,state:GA(u,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:i,emitter:A},a))}}Xv.props={reapplyWhenUpdate:!0};function p8(t){return Xv(Object.assign(Object.assign({},t),{createGroup:bd}))}p8.props={reapplyWhenUpdate:!0};function g8(t){return Xv(Object.assign(Object.assign({},t),{createGroup:I5}))}g8.props={reapplyWhenUpdate:!0};var i2t=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},a2t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function o2t(t){const{transform:n=[]}=t,e=n.find(i=>i.type==="normalizeY");if(e)return e;const r={type:"normalizeY"};return n.push(r),t.transform=n,r}function s2t(t,n,e){const[r]=Array.from(t.entries()).filter(([i])=>i.type===n).map(([i])=>{const{encode:a}=i,o=s=>{const A=a[s];return[s,A?A.value:void 0]};return Object.fromEntries(e.map(o))});return r}function v8(t){var{wait:n=20,leading:e,trailing:r=!1,labelFormatter:i=o=>`${o}`}=t,a=a2t(t,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:A,update:c,setState:l}=o,{markState:u,scale:f,coordinate:d}=s,h=s2t(u,"line",["x","y","series"]);if(!h)return;const{y:p,x:v,series:y=[]}=h,m=p.map((P,Q)=>Q),b=wa(m.map(P=>v[P])),B=ia(A),x=A.getElementsByClassName(Ua),C=A.getElementsByClassName(Ob),_=Je(C,P=>P.__data__.key.split("-")[0]),S=new VA({style:Object.assign({x1:0,y1:0,x2:0,y2:B.getAttribute("height"),stroke:"black",lineWidth:1},wt(a,"rule"))}),F=new qi({style:Object.assign({x:0,y:B.getAttribute("height"),text:"",fontSize:10},wt(a,"label"))});S.append(F),B.appendChild(S);const M=(P,Q,R)=>{const[H]=P.invert(R),G=Q.invert(H);return b[Slt(b,G)]},T=(P,Q)=>{S.setAttribute("x1",P[0]),S.setAttribute("x2",P[0]),F.setAttribute("text",i(Q))};let k;const L=P=>i2t(this,void 0,void 0,function*(){const{x:Q}=f,R=M(d,Q,P);T(P,R),l("chartIndex",G=>{const K=at({},G),W=K.marks.find(Z=>Z.type==="line"),Y=He(yx(m,Z=>He(Z,ot=>+p[ot])/bi(Z,ot=>+p[ot]),Z=>y[Z]).values()),et=[1/Y,Y];at(W,{scale:{y:{domain:et}}});const nt=o2t(W);nt.groupBy="color",nt.basis=(Z,ot)=>{const ct=Z[To(vt=>v[+vt]).center(Z,R)];return ot[ct]};for(const Z of K.marks)Z.animate=!1;return K}),k=(yield c("chartIndex")).view}),U=P=>{const{scale:Q,coordinate:R}=k,{x:H,y:G}=Q,K=M(R,H,P);T(P,K);for(const W of x){const{seriesIndex:X,key:Y}=W.__data__,et=X[To(bt=>v[+bt]).center(X,K)],nt=[0,G.map(1)],Z=[0,G.map(p[et]/p[X[0]])],[,ot]=R.map(nt),[,ct]=R.map(Z),vt=ot-ct;W.setAttribute("transform",`translate(0, ${vt})`);const ht=_.get(Y)||[];for(const bt of ht)bt.setAttribute("dy",vt)}},N=TA(P=>{const Q=$A(B,P);Q&&U(Q)},n,{leading:e,trailing:r});return L([0,0]),B.addEventListener("pointerenter",N),B.addEventListener("pointermove",N),B.addEventListener("pointerleave",N),()=>{S.remove(),B.removeEventListener("pointerenter",N),B.removeEventListener("pointermove",N),B.removeEventListener("pointerleave",N)}}}v8.props={reapplyWhenUpdate:!0};function A2t(t){const{coordinate:n={}}=t,{transform:e=[]}=n,r=e.find(a=>a.type==="fisheye");if(r)return r;const i={type:"fisheye"};return e.push(i),n.transform=e,t.coordinate=n,i}function c2t({wait:t=30,leading:n,trailing:e=!1}){return r=>{const{options:i,update:a,setState:o,container:s}=r,A=ia(s),c=TA(l=>{const u=$A(A,l);if(!u){o("fisheye"),a();return}o("fisheye",f=>{const d=at({},f,{interaction:{tooltip:{preserve:!0}}});for(const y of d.marks)y.animate=!1;const[h,p]=u,v=A2t(d);return v.focusX=h,v.focusY=p,v.visual=!0,d}),a()},t,{leading:n,trailing:e});return A.addEventListener("pointerenter",c),A.addEventListener("pointermove",c),A.addEventListener("pointerleave",c),()=>{A.removeEventListener("pointerenter",c),A.removeEventListener("pointermove",c),A.removeEventListener("pointerleave",c)}}}var Ls=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const Mo="tooltipLocked";function O0(t,n){var e;if(n)return typeof n=="string"?document.querySelector(n):n;const r=(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return r?r.getContextService().getDomElement().parentElement:void 0}function l2t(t){const n=t.getRenderBounds(),{min:[e,r],max:[i,a]}=n;return{x:e,y:r,width:i-e,height:a-r}}function u2t(t,n){const e=t.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:e.x-r.x,y:e.y-r.y}}function f2t(t,n,e,r,i,a,o,s={},A=[10,10]){const c={[wA("tooltip")]:{},[wA("tooltip-title")]:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},l=new glt({className:"tooltip",style:{x:n,y:e,container:o,data:[],bounding:a,position:r,enterable:i,title:"",offset:A,template:{prefixCls:$o},style:at(c,s)}});return t.appendChild(l.HTMLTooltipElement),l}function y8({root:t,data:n,x:e,y:r,render:i,event:a,single:o,position:s="right-bottom",enterable:A=!1,css:c,mount:l,bounding:u,offset:f}){const d=O0(t,l),h=O0(t),p=o?h:t,v=u||l2t(t),y=u2t(h,d),{tooltipElement:m=f2t(d,e,r,s,A,v,y,c,f)}=p,{items:b,title:B=""}=n;m.update(Object.assign({x:e,y:r,data:b.map(x=>Object.assign(Object.assign({},x),{value:!x.value&&x.value!==0?"":x.value})),title:B,position:s,enterable:A,container:y},i!==void 0&&{content:i(a,{items:b,title:B})})),p.tooltipElement=m}function ls({root:t,single:n,emitter:e,nativeEvent:r=!0,event:i=null}){r&&e.emit("tooltip:hide",{nativeEvent:r});const a=O0(t),o=n?a:t,{tooltipElement:s}=o;s&&s.hide(i?.clientX,i?.clientY),w8(t),b8(t),B8(t)}function eB({root:t,single:n}){const e=O0(t),r=n?e:t;if(!r)return;const{tooltipElement:i}=r;i&&(i.destroy(),r.tooltipElement=void 0),w8(t),b8(t),B8(t)}function TC(t){const{value:n}=t;return Object.assign(Object.assign({},t),{value:n===void 0?"undefined":n})}function d2t(t){var n,e,r,i,a,o,s;const{__data__:A}=t,{title:c,items:l=[]}=A;if(l.some(C=>mC in C)){const C=l.filter(en).map(O=>{var{color:_=IC(t)}=O,S=Ls(O,["color"]);return Object.assign(Object.assign({},S),{color:_})}).map(TC);return Object.assign(Object.assign({},c&&{title:c}),{items:C})}const f=(e=(n=A?.normalized)===null||n===void 0?void 0:n.x)!==null&&e!==void 0?e:0,d=(r=t.parentNode)===null||r===void 0?void 0:r.__data__,h=(i=d?.encode)!==null&&i!==void 0?i:{},{x:p={},y:v={},color:y={}}=h,{value:m=[]}=p,{value:b=[]}=v,{value:B=[]}=y,x=Math.min(Math.round(m.length*f),m.length-1);return{title:`${m[x]}, ${b[x]}`,items:[{name:(a=y.field)!==null&&a!==void 0?a:"value",value:B[x],color:((o=t.style)===null||o===void 0?void 0:o.fill)||((s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"color"))||"#000"}]}}function h2t(t){const{__data__:n}=t;if(gv(t))return d2t(t);const{title:e,items:r=[]}=n,i=r.filter(en).map(a=>{var{color:o=IC(t)}=a,s=Ls(a,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(TC);return Object.assign(Object.assign({},e&&{title:e}),{items:i})}function IC(t){const n=t.getAttribute("fill"),e=t.getAttribute("stroke"),{__data__:r}=t,{color:i=n&&n!=="transparent"?n:e}=r;return i}function OI(t,n=e=>e){const e=new Map(t.map(r=>[n(r),r]));return Array.from(e.values())}function m8(t,n,e,r=t.map(a=>a.__data__),i={}){const a=A=>A instanceof Date?+A:A,o=OI(r.map(A=>A.title),a).filter(en),s=r.flatMap((A,c)=>{const l=A.element||t[c],{items:u=[],title:f}=A,d=u.filter(en),h=e!==void 0?e:u.length<=1;return d.map(p=>{var{color:v=IC(l)||i.color,name:y}=p,m=Ls(p,["color","name"]);const b=aft(n,A),B=h&&!(mC in m)?b||y:y||b;return Object.assign(Object.assign({},m),{color:v,name:B||f})})}).map(TC);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:OI(s,A=>`(${a(A.name)}, ${a(A.value)}, ${a(A.color)})`)})}function p2t(t,n,e,r){var{plotWidth:i,plotHeight:a,mainWidth:o,mainHeight:s,startX:A,startY:c,transposed:l,polar:u,insetLeft:f,insetTop:d}=r,h=Ls(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},h),v=(C,O,_)=>{const S=new to({style:Object.assign({cx:C,cy:O,r:_},p)});return t.appendChild(S),S},y=(C,O,_,S)=>{const F=new VA({style:Object.assign({x1:C,x2:O,y1:_,y2:S},p)});return t.appendChild(F),F},b=((C,O)=>{if(O.length===1)return O[0];const _=O.map(F=>bn(F,C)),S=Ad(_,F=>F);return O[S]})(e,n),B=()=>l?[A+b[0],A+b[0],c,c+a]:[A,A+i,b[1]+c,b[1]+c],x=()=>{const C=A+f+o/2,O=c+d+s/2,_=bn([C,O],b);return[C,O,_]};if(u){const[C,O,_]=x(),S=t.ruleX||v(C,O,_);S.style.cx=C,S.style.cy=O,S.style.r=_,t.ruleX=S}else{const[C,O,_,S]=B(),F=t.ruleX||y(C,O,_,S);F.style.x1=C,F.style.x2=O,F.style.y1=_,F.style.y2=S,t.ruleX=F}}function g2t(t,n,e){var{plotWidth:r,plotHeight:i,mainWidth:a,mainHeight:o,startX:s,startY:A,transposed:c,polar:l,insetLeft:u,insetTop:f}=e,d=Ls(e,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const h=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},d),p=n.map(S=>S[1]),v=n.map(S=>S[0]),y=Ef(p),m=Ef(v),b=()=>{if(l){const S=Math.min(a,o)/2,F=s+u+a/2,M=A+f+o/2,T=Zi(Tn([m,y],[F,M])),k=F+S*Math.cos(T),L=M+S*Math.sin(T);return[F,k,M,L]}return c?[s,s+r,y+A,y+A]:[m+s,m+s,A,A+i]},[B,x,C,O]=b(),_=()=>{const S=new VA({style:Object.assign({x1:B,x2:x,y1:C,y2:O},h)});return t.appendChild(S),S};if(v.length>0){const S=t.ruleY||_();S.style.x1=B,S.style.x2=x,S.style.y1=C,S.style.y2=O,t.ruleY=S}}function w8(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function b8(t){t.ruleX&&(t.ruleX.remove(),t.ruleX=void 0)}function v2t(t,{data:n,style:e,theme:r}){t.markers&&t.markers.forEach(o=>o.remove());const{type:i=""}=e,a=n.filter(o=>{const[{x:s,y:A}]=o;return en(s)&&en(A)}).map(o=>{const[{color:s,element:A},c]=o,l=s||A.style.fill||A.style.stroke||r.color,u=i==="hollow"?"transparent":l,f=i==="hollow"?l:"#fff";return new to({className:`${$o}tooltip-marker`,style:Object.assign({cx:c[0],cy:c[1],fill:u,r:4,stroke:f,lineWidth:2,pointerEvents:"none"},e)})});for(const o of a)t.appendChild(o);t.markers=a}function B8(t){t.markers&&(t.markers.forEach(n=>n.remove()),t.markers=[])}function EI(t,n){return Array.from(t.values()).some(e=>{var r;return(r=e.interaction)===null||r===void 0?void 0:r[n]})}function Qa(t,n){return t===void 0?n:t}function x8(t){const{title:n,items:e}=t;return e.length===0&&n===void 0}function y2t(t){return Array.from(t.values()).some(n=>{var e;return((e=n.interaction)===null||e===void 0?void 0:e.seriesTooltip)&&n.tooltip})}function m2t(t,n){const{innerWidth:e,innerHeight:r,marginLeft:i,paddingLeft:a,insetLeft:o,marginTop:s,paddingTop:A,insetTop:c}=t.getOptions();return{x:(n.x-i-a-o)/e,y:(n.y-s-A-c)/r}}function w2t(t){const{x:n}=t;if(!n||!n.valueBandWidth)return!0;const{valueBandWidth:e}=n;return rn(e)?!0:new Set(e.values()).size===1}function b2t(t,n){const{adjustedRange:e,valueBandWidth:r,valueStep:i}=t,a=Array.from(r.values()),o=Array.from(i.values()),A=e.map((c,l)=>{const u=(o[l]-a[l])/2;return[c-u,c+a[l]+u]}).findIndex(([c,l])=>c<=n&&n<=l);return A!==-1?A:n>.5?e.length-1:0}function C8({root:t,event:n,elements:e=[],coordinate:r,scale:i,shared:a}){var o,s;const A=b=>b.markType==="interval",c=b=>P2.includes(b.markType),l=e.filter(b=>!c(b)),u=l.length>0&&l.every(A)&&!je(r),f=i.x,d=w2t(i),h=i.series,p=(s=(o=f?.getBandWidth)===null||o===void 0?void 0:o.call(f))!==null&&s!==void 0?s:0,v=h&&h.valueBandWidth?b=>{const B=Math.round(1/h.valueBandWidth);return b.__data__.x+b.__data__.series*p+p/(B*2)}:b=>b.__data__.x+p/2;u&&l.sort((b,B)=>v(b)-v(B));const y=b=>{const{target:B=mi(e)}=b;return Bd(B,x=>x.classList?(gv(x)&&N0(x,"__data__.normalized",m2t(r,{x:b.offsetX,y:b.offsetY})),x.classList.includes("element")):!1)};return(u?b=>{const B=$A(t,b);if(!B)return;const[x]=r.invert(B),C=To(v).center,O=d?C(l,x):b2t(f,x),_=l[O];if(!a){const S=l.find(F=>F!==_&&v(F)===v(_));if(S)return y(b)||S}return _}:y)(n)}function O8({root:t,event:n,elements:e,coordinate:r,scale:i,startX:a,startY:o}){const s=nn(r),A=[],c=[];for(const P of e){if(P2.includes(P.markType))continue;const{__data__:Q}=P,{seriesX:R,title:H,items:G}=Q;R?A.push(P):(H||G)&&c.push(P)}const l=P=>P.markType==="interval",u=c.length&&c.every(l)&&!je(r),f=P=>P.__data__.x,h=!!i.x.getBandWidth&&c.length>0;A.sort((P,Q)=>{const R=s?0:1,H=G=>G.getBounds().min[R];return s?H(Q)-H(P):H(P)-H(Q)});const p=P=>{const Q=s?1:0,{min:R,max:H}=P.getLocalBounds();return wa([R[Q],H[Q]])};u?c.sort((P,Q)=>f(P)-f(Q)):c.sort((P,Q)=>{const[R,H]=p(P),[G,K]=p(Q),W=(R+H)/2,X=(G+K)/2;return s?X-W:W-X});const v=new Map(A.map(P=>{const{__data__:Q}=P,{seriesX:R}=Q,H=R.map((K,W)=>W),G=wa(H,K=>R[+K]);return[P,[G,R]]})),{x:y}=i,m=y?.getBandWidth?y.getBandWidth()/2:0,b=P=>{const[Q]=r.invert(P);return Q-m},B=(P,Q,R,H)=>{const{_x:G}=P,K=G!==void 0?y.map(G):b(Q),W=H.filter(en),[X,Y]=wa([W[0],W[W.length-1]]),et=X===Y;if(!h&&(K<X||K>Y)&&!et)return null;const nt=To(ot=>H[+ot]).center,Z=nt(R,K);return R[Z]},x=u?(P,Q)=>{const R=To(f).center,H=R(Q,b(P)),G=Q[H];return Je(Q,f).get(f(G))}:(P,Q)=>{const H=P[s?1:0],G=Q.filter(X=>{const[Y,et]=p(X);return H>=Y&&H<=et});if(!h||G.length>0)return G;const K=To(X=>{const[Y,et]=p(X);return(Y+et)/2}).center,W=K(Q,H);return[Q[W]].filter(en)},C=(P,Q)=>{const{__data__:R}=P;return Object.fromEntries(Object.entries(R).filter(([H])=>H.startsWith("series")&&H!=="series").map(([H,G])=>{const K=G[Q];return[UL(H.replace("series","")),K]}))},O=$A(t,n);if(!O)return;const _=[O[0]-a,O[1]-o];if(!_)return;const S=x(_,c),F=[],M=[];for(const P of A){const[Q,R]=v.get(P),H=B(n,_,Q,R);if(H!==null){F.push(P);const G=C(P,H),{x:K,y:W}=G,X=r.map([(K||0)+m,W||0]);M.push([Object.assign(Object.assign({},G),{element:P}),X])}}const T=Array.from(new Set(M.map(P=>P[0].x))),k=T[Ad(T,P=>Math.abs(P-b(_)))],L=M.filter(P=>P[0].x===k),U=[...L.map(P=>P[0]),...S.map(P=>P.__data__)];return{selectedElements:[...F,...S],selectedData:U,filteredSeriesData:L,abstractX:b}}function _I(t,n){var{elements:e,sort:r,filter:i,scale:a,coordinate:o,crosshairs:s,crosshairsX:A,crosshairsY:c,render:l,groupName:u,emitter:f,wait:d=50,leading:h=!0,trailing:p=!1,startX:v=0,startY:y=0,body:m=!0,single:b=!0,position:B,enterable:x,mount:C,bounding:O,theme:_,offset:S,disableNative:F=!1,marker:M=!0,preserve:T=!1,style:k={},css:L={},clickLock:U=!1,disableAutoHide:N=!1}=n,P=Ls(n,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css","clickLock","disableAutoHide"]);const Q=e(t),R=at(k,P),H=je(o),G=nn(o),{innerWidth:K,innerHeight:W,width:X,height:Y,insetLeft:et,insetTop:nt}=o.getOptions(),Z=TA(Lt=>{var de;if(U&&t.getAttribute(Mo))return;const qt=$A(t,Lt);if(!qt)return;const Zt=zf(t),Me=Zt.min[0],Ue=Zt.min[1],{selectedElements:Ee,selectedData:ge,filteredSeriesData:ve,abstractX:ke}=O8({root:t,event:Lt,elements:Q,coordinate:o,scale:a,startX:v,startY:y}),Jt=m8(Ee,a,u,ge,_);if(r&&Jt.items.sort((Ye,Jn)=>r(Ye)-r(Jn)),i&&(Jt.items=Jt.items.filter(i)),Ee.length===0||x8(Jt)){ot(Lt);return}if(m&&y8({root:t,data:Jt,x:qt[0]+Me,y:qt[1]+Ue,render:l,event:Lt,single:b,position:B,enterable:x,mount:C,bounding:O,css:L,offset:S}),s||A||c){const Ye=wt(R,"crosshairs"),Jn=Object.assign(Object.assign({},Ye),wt(R,"crosshairsX")),oi=Object.assign(Object.assign({},Ye),wt(R,"crosshairsY")),si=ve.map(aa=>aa[1]);A&&p2t(t,si,qt,Object.assign(Object.assign({},Jn),{plotWidth:K,plotHeight:W,mainWidth:X,mainHeight:Y,insetLeft:et,insetTop:nt,startX:v,startY:y,transposed:G,polar:H})),c&&g2t(t,si,Object.assign(Object.assign({},oi),{plotWidth:K,plotHeight:W,mainWidth:X,mainHeight:Y,insetLeft:et,insetTop:nt,startX:v,startY:y,transposed:G,polar:H}))}if(M){const Ye=wt(R,"marker");v2t(t,{data:ve,style:Ye,theme:_})}const Kt=(de=ve[0])===null||de===void 0?void 0:de[0].x,Bn=Kt??ke(focus);f.emit("tooltip:show",Object.assign(Object.assign({},Lt),{nativeEvent:!0,data:Object.assign(Object.assign({},Jt),{data:{x:Cl(a.x,Bn,!0)}})}))},d,{leading:h,trailing:p}),ot=Lt=>{U&&t.getAttribute(Mo)||N||ls({root:t,single:b,emitter:f,event:Lt})},ct=()=>{eB({root:t,single:b})},vt=Lt=>{var de,{nativeEvent:qt,data:Zt,offsetX:Me,offsetY:Ue}=Lt,Ee=Ls(Lt,["nativeEvent","data","offsetX","offsetY"]);if(qt)return;const ge=(de=Zt?.data)===null||de===void 0?void 0:de.x,ke=a.x.map(ge),[Jt,Kt]=o.map([ke,.5]),Bn=zf(t),Ye=Bn.min[0],Jn=Bn.min[1];Z(Object.assign(Object.assign({},Ee),{offsetX:Me!==void 0?Me:Ye+Jt,offsetY:Ue!==void 0?Ue:Jn+Kt,_x:ge}))},ht=()=>{ls({root:t,single:b,emitter:f,nativeEvent:!1})},bt=()=>{_t(),ct()},Bt=Lt=>{$A(t,Lt)||ot(Lt)},Ct=()=>{Ot()},kt=Lt=>{U&&t.setAttribute(Mo,!t.getAttribute(Mo)),Z(Lt)},Ot=()=>{F||(t.addEventListener("pointerdown",kt),t.addEventListener("pointerenter",Z),t.addEventListener("pointermove",Z),t.addEventListener("pointerleave",Bt),t.addEventListener("pointerup",ot))},_t=()=>{F||(t.removeEventListener("pointerdown",kt),t.removeEventListener("pointerenter",Z),t.removeEventListener("pointermove",Z),t.removeEventListener("pointerleave",Bt),t.removeEventListener("pointerup",ot))};return Ot(),f.on("tooltip:show",vt),f.on("tooltip:hide",ht),f.on("tooltip:disable",bt),f.on("tooltip:enable",Ct),()=>{_t(),f.off("tooltip:show",vt),f.off("tooltip:hide",ht),f.off("tooltip:disable",bt),f.off("tooltip:enable",Ct),T?ls({root:t,single:b,emitter:f,nativeEvent:!1}):ct()}}function B2t(t,{elements:n,coordinate:e,scale:r,render:i,groupName:a,sort:o,filter:s,emitter:A,wait:c=50,leading:l=!0,trailing:u=!1,groupKey:f=k=>k,single:d=!0,position:h,enterable:p,datum:v,view:y,mount:m,bounding:b,theme:B,offset:x,shared:C=!1,body:O=!0,disableNative:_=!1,preserve:S=!1,css:F={},clickLock:M=!1,disableAutoHide:T=!1}){const k=n(t),L=Je(k,f),U=TA(X=>{if(M&&t.getAttribute(Mo))return;const Y=C8({root:t,event:X,elements:k,coordinate:e,scale:r,shared:C});if(!Y){T||ls({root:t,single:d,emitter:A,event:X});return}const et=f(Y),nt=L.get(et);if(!nt)return;const Z=nt.length===1&&!C?h2t(nt[0]):m8(nt,r,a,void 0,B);if(o&&Z.items.sort((vt,ht)=>o(vt)-o(ht)),s&&(Z.items=Z.items.filter(s)),x8(Z)){T||ls({root:t,single:d,emitter:A,event:X});return}const{offsetX:ot,offsetY:ct}=X;O&&y8({root:t,data:Z,x:ot,y:ct,render:i,event:X,single:d,position:h,enterable:p,mount:m,bounding:b,css:F,offset:x}),A.emit("tooltip:show",Object.assign(Object.assign({},X),{nativeEvent:!0,data:Object.assign(Object.assign({},Z),{data:Sx(Y,y)})}))},c,{leading:l,trailing:u}),N=X=>{T||ls({root:t,single:d,emitter:A,event:X})},P=X=>{M&&t.setAttribute(Mo,!t.getAttribute(Mo)),U(X)},Q=()=>{_||(t.addEventListener("pointerdown",P),t.addEventListener("pointermove",U),t.addEventListener("pointerleave",N),t.addEventListener("pointerup",N))},R=()=>{_||(t.removeEventListener("pointerdown",P),t.removeEventListener("pointermove",U),t.removeEventListener("pointerleave",N),t.removeEventListener("pointerup",N))},H=({nativeEvent:X,offsetX:Y,offsetY:et,data:nt})=>{if(X)return;const{data:Z}=nt,ot=Vv(k,Z,v);if(!ot)return;const ct=ot.getBBox(),{x:vt,y:ht,width:bt,height:Bt}=ct,Ct=t.getBBox();U({target:ot,offsetX:Y!==void 0?Y+Ct.x:vt+bt/2,offsetY:et!==void 0?et+Ct.y:ht+Bt/2})},G=({nativeEvent:X}={})=>{X||ls({root:t,single:d,emitter:A,nativeEvent:!1})},K=()=>{R(),eB({root:t,single:d})},W=()=>{Q()};return A.on("tooltip:show",H),A.on("tooltip:hide",G),A.on("tooltip:enable",W),A.on("tooltip:disable",K),Q(),()=>{R(),A.off("tooltip:show",H),A.off("tooltip:hide",G),A.off("tooltip:enable",W),A.off("tooltip:disable",K),S?ls({root:t,single:d,emitter:A,nativeEvent:!1}):eB({root:t,single:d})}}function E8(t){const{shared:n,crosshairs:e,crosshairsX:r,crosshairsY:i,series:a,name:o,item:s=()=>({}),facet:A=!1}=t,c=Ls(t,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(l,u,f)=>{const{container:d,view:h}=l,{scale:p,markState:v,coordinate:y,theme:m}=h,b=EI(v,"seriesTooltip"),B=EI(v,"crosshairs"),x=ia(d),C=Qa(a,b),O=Qa(e,B);if(c.clickLock&&!A&&x.setAttribute(Mo,!1),C&&y2t(v)&&!A)return _I(x,Object.assign(Object.assign({},c),{theme:m,elements:Ho,scale:p,coordinate:y,crosshairs:O,crosshairsX:Qa(Qa(r,e),!1),crosshairsY:Qa(i,O),item:s,emitter:f}));if(C&&A){const _=u.filter(U=>U!==l&&U.options.parentKey===l.options.key),S=T5(l,u),F=_[0].view.scale,M=x.getBounds(),T=M.min[0],k=M.min[1];Object.assign(F,{facet:!0});const L=x.parentNode.parentNode;return c.clickLock&&L.setAttribute(Mo,!1),_I(L,Object.assign(Object.assign({},c),{theme:m,elements:()=>S,scale:F,coordinate:y,crosshairs:Qa(e,B),crosshairsX:Qa(Qa(r,e),!1),crosshairsY:Qa(i,O),item:s,startX:T,startY:k,emitter:f}))}return B2t(x,Object.assign(Object.assign({},c),{datum:Is(h),elements:Ho,scale:p,coordinate:y,groupKey:n?bd():void 0,item:s,emitter:f,view:h,theme:m,shared:n}))}}E8.props={reapplyWhenUpdate:!0};function x2t(){return(t,n,e)=>{const{container:r,view:i,options:a}=t,o=_C(r),s=Ho(r),A=d=>Zb(d).scales[0].name,c=d=>{const{scale:{[d]:h}}=i;return h},l=GA(a,["active","inactive"]),u=Ul(s,Is(i)),f=[];for(const d of o){const h=H=>{const{data:G}=d.attributes,{__data__:K}=H,{index:W}=K;return G[W].label},p=A(d),v=K5(d),y=c(p),m=Je(s,H=>y.invert(H.__data__[p])),{state:b={}}=d.attributes,{inactive:B={}}=b,{setState:x,removeState:C}=Es(l,u),O={inactive:wt(B,"marker")},_={inactive:wt(B,"label")},{setState:S,removeState:F}=Es(O),{setState:M,removeState:T}=Es(_),k=H=>{for(const G of v){const K=$5(G),W=G5(G);G===H||H===null?(F(K,"inactive"),T(W,"inactive")):(S(K,"inactive"),M(W,"inactive"))}},L=(H,G)=>{const K=h(G),W=new Set(m.get(K));for(const Y of s)W.has(Y)?x(Y,"active"):x(Y,"inactive");k(G);const{nativeEvent:X=!0}=H;X&&e.emit("legend:highlight",Object.assign(Object.assign({},H),{nativeEvent:X,data:{channel:p,value:K}}))},U=new Map;for(const H of v){const G=K=>{L(K,H)};H.addEventListener("pointerover",G),U.set(H,G)}const N=H=>{for(const K of s)C(K,"inactive","active");k(null);const{nativeEvent:G=!0}=H;G&&e.emit("legend:unhighlight",{nativeEvent:G})},P=H=>{const{nativeEvent:G,data:K}=H;if(G)return;const{channel:W,value:X}=K;if(W!==p)return;const Y=v.find(et=>h(et)===X);Y&&L({nativeEvent:!1},Y)},Q=H=>{const{nativeEvent:G}=H;G||N({nativeEvent:!1})};d.addEventListener("pointerleave",N),e.on("legend:highlight",P),e.on("legend:unhighlight",Q);const R=()=>{d.removeEventListener(N),e.off("legend:highlight",P),e.off("legend:unhighlight",Q);for(const[H,G]of U)H.removeEventListener(G)};f.push(R)}return()=>f.forEach(d=>d())}}var Ri=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function C2t(t,n){const[e,r,i,a]=t,[o,s,A,c]=n;return!(o>i||A<e||s>a||c<r)}function O2t(t,n,e,r,i){const[a,o,s,A]=i;return[Math.max(a,Math.min(t,e)),Math.max(o,Math.min(n,r)),Math.min(s,Math.max(t,e)),Math.min(A,Math.max(n,r))]}function E2t(t){const{width:n,height:e}=t.getBBox();return[0,0,n,e]}function Bo(t,n){for(const[e,r]of Object.entries(n))t.style(e,r)}const SI=yl(t=>{const n=t.attributes,{x:e,y:r,width:i,height:a,class:o,renders:s={},handleSize:A=10,document:c}=n,l=Ri(n,["x","y","width","height","class","renders","handleSize","document"]);if(!c||i===void 0||a===void 0||e===void 0||r===void 0)return;const u=A/2,f=(X,Y,et)=>{X.handle||(X.handle=et.createElement("rect"),X.append(X.handle));const{handle:nt}=X;return nt.attr(Y),nt},d=wt(Yp(l,"handleNW","handleNE"),"handleN"),{render:h=f}=d,p=Ri(d,["render"]),v=wt(l,"handleE"),{render:y=f}=v,m=Ri(v,["render"]),b=wt(Yp(l,"handleSE","handleSW"),"handleS"),{render:B=f}=b,x=Ri(b,["render"]),C=wt(l,"handleW"),{render:O=f}=C,_=Ri(C,["render"]),S=wt(l,"handleNW"),{render:F=f}=S,M=Ri(S,["render"]),T=wt(l,"handleNE"),{render:k=f}=T,L=Ri(T,["render"]),U=wt(l,"handleSE"),{render:N=f}=U,P=Ri(U,["render"]),Q=wt(l,"handleSW"),{render:R=f}=Q,H=Ri(Q,["render"]),G=(X,Y)=>{const{id:et}=X,nt=Y(X,X.attributes,c);nt.id=et,nt.style.draggable=!0},K=X=>()=>{const Y=yl(et=>G(et,X));return new Y({})},W=Nt(t).attr("className",o).style("transform",`translate(${e}, ${r})`).style("draggable",!0);W.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(Bo,Object.assign(Object.assign({width:i,height:a},Yp(l,"handle")),{transform:void 0})),W.maybeAppend("handle-n",K(h)).style("x",u).style("y",-u).style("width",i-A).style("height",A).style("fill","transparent").call(Bo,p),W.maybeAppend("handle-e",K(y)).style("x",i-u).style("y",u).style("width",A).style("height",a-A).style("fill","transparent").call(Bo,m),W.maybeAppend("handle-s",K(B)).style("x",u).style("y",a-u).style("width",i-A).style("height",A).style("fill","transparent").call(Bo,x),W.maybeAppend("handle-w",K(O)).style("x",-u).style("y",u).style("width",A).style("height",a-A).style("fill","transparent").call(Bo,_),W.maybeAppend("handle-nw",K(F)).style("x",-u).style("y",-u).style("width",A).style("height",A).style("fill","transparent").call(Bo,M),W.maybeAppend("handle-ne",K(k)).style("x",i-u).style("y",-u).style("width",A).style("height",A).style("fill","transparent").call(Bo,L),W.maybeAppend("handle-se",K(N)).style("x",i-u).style("y",a-u).style("width",A).style("height",A).style("fill","transparent").call(Bo,P),W.maybeAppend("handle-sw",K(R)).style("x",-u).style("y",a-u).style("width",A).style("height",A).style("fill","transparent").call(Bo,H)});function LC(t,n){var{brushed:e=()=>{},brushended:r=()=>{},brushcreated:i=()=>{},brushstarted:a=()=>{},brushupdated:o=()=>{},extent:s=E2t(t),brushRegion:A=(nt,Z,ot,ct,vt)=>[nt,Z,ot,ct],reverse:c=!1,fill:l="#777",fillOpacity:u="0.3",stroke:f="#fff",selectedHandles:d=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=n,h=Ri(n,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let p=null,v=null,y=null,m=null,b=null,B=!1;const[x,C,O,_]=s;os(t,"crosshair"),t.style.draggable=!0;const S=(nt,Z,ot)=>{if(a(ot),m&&m.remove(),b&&b.remove(),p=[nt,Z],c)return F();M()},F=()=>{b=new sr({style:Object.assign(Object.assign({},h),{fill:l,fillOpacity:u,stroke:f,pointerEvents:"none"})}),m=new SI({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(b),t.appendChild(m)},M=()=>{m=new SI({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},h),{fill:l,fillOpacity:u,stroke:f,draggable:!0}),className:"mask"}),t.appendChild(m)},T=(nt=!0)=>{m&&m.remove(),b&&b.remove(),p=null,v=null,y=null,B=!1,m=null,b=null,r(nt)},k=(nt,Z,ot=!0)=>{const[ct,vt,ht,bt]=O2t(nt[0],nt[1],Z[0],Z[1],s),[Bt,Ct,kt,Ot]=A(ct,vt,ht,bt,s);return c?U(Bt,Ct,kt,Ot):L(Bt,Ct,kt,Ot),e(Bt,Ct,kt,Ot,ot),[Bt,Ct,kt,Ot]},L=(nt,Z,ot,ct)=>{m.style.x=nt,m.style.y=Z,m.style.width=ot-nt,m.style.height=ct-Z},U=(nt,Z,ot,ct)=>{b.style.d=`
      M${x},${C}L${O},${C}L${O},${_}L${x},${_}Z
      M${nt},${Z}L${nt},${ct}L${ot},${ct}L${ot},${Z}Z
    `,m.style.x=nt,m.style.y=Z,m.style.width=ot-nt,m.style.height=ct-Z},N=nt=>{const Z=(Ct,kt,Ot,_t,Lt)=>Ct+kt<_t?_t-kt:Ct+Ot>Lt?Lt-Ot:Ct,ot=nt[0]-y[0],ct=nt[1]-y[1],vt=Z(ot,p[0],v[0],x,O),ht=Z(ct,p[1],v[1],C,_),bt=[p[0]+vt,p[1]+ht],Bt=[v[0]+vt,v[1]+ht];k(bt,Bt)},P={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},Q=nt=>H(nt)||R(nt),R=nt=>{const{id:Z}=nt;return d.indexOf(Z)===-1?!1:new Set(Object.keys(P)).has(Z)},H=nt=>nt===m.getElementById("selection"),G=nt=>{const{target:Z}=nt,[ot,ct]=D1(t,nt);if(!m||!Q(Z)){S(ot,ct,nt),B=!0;return}Q(Z)&&(y=[ot,ct])},K=nt=>{const{target:Z}=nt,ot=D1(t,nt);if(!p)return;if(!y)return k(p,ot);if(H(Z))return N(ot);const[ct,vt]=[ot[0]-y[0],ot[1]-y[1]],{id:ht}=Z;if(P[ht]){const[bt,Bt,Ct,kt]=P[ht].vector;return k([p[0]+ct*bt,p[1]+vt*Bt],[v[0]+ct*Ct,v[1]+vt*kt])}},W=nt=>{if(y){y=null;const{x:ht,y:bt,width:Bt,height:Ct}=m.style;p=[ht,bt],v=[ht+Bt,bt+Ct],o(ht,bt,ht+Bt,bt+Ct,nt);return}v=D1(t,nt);const[Z,ot,ct,vt]=k(p,v);B=!1,i(Z,ot,ct,vt,nt)},X=nt=>{const{target:Z}=nt;m&&!Q(Z)&&T()},Y=nt=>{const{target:Z}=nt;!m||!Q(Z)||B?os(t,"crosshair"):H(Z)?os(t,"move"):R(Z)&&os(t,P[Z.id].cursor)},et=()=>{os(t,"default")};return t.addEventListener("dragstart",G),t.addEventListener("drag",K),t.addEventListener("dragend",W),t.addEventListener("click",X),t.addEventListener("pointermove",Y),t.addEventListener("pointerleave",et),{mask:m,move(nt,Z,ot,ct,vt=!0){m||S(nt,Z,{}),p=[nt,Z],v=[ot,ct],k([nt,Z],[ot,ct],vt)},remove(nt=!0){m&&T(nt)},destroy(){m&&T(!1),os(t,"default"),t.removeEventListener("dragstart",G),t.removeEventListener("drag",K),t.removeEventListener("dragend",W),t.removeEventListener("click",X),t.removeEventListener("pointermove",Y),t.removeEventListener("pointerleave",et)}}}function QC(t,n,e){return n.filter(r=>{if(r===t)return!1;const{interaction:i={}}=r.options;return Object.values(i).find(a=>a.brushKey===e)})}function _2t(t,n,e){return QC(t,n,e).map(r=>ia(r.container))}function S2t(t,n,e){return QC(t,n,e).map(r=>r.options)}function FI(t,n){var{elements:e,selectedHandles:r,siblings:i=K=>[],datum:a,brushRegion:o,extent:s,reverse:A,scale:c,coordinate:l,series:u=!1,key:f=K=>K,bboxOf:d=K=>{const{x:W,y:X,width:Y,height:et}=K.style;return{x:W,y:X,width:Y,height:et}},state:h={},emitter:p}=n,v=Ri(n,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const y=e(t),m=i(t),b=m.flatMap(e),B=Ul(y,a),x=wt(v,"mask"),{setState:C,removeState:O}=Es(h,B),_=new Map,{width:S,height:F,x:M=0,y:T=0}=d(t),k=s||[0,0,S,F],L=()=>{for(const K of[...y,...b])O(K,"active","inactive")},U=(K,W,X,Y)=>{var et;for(const Z of m)(et=Z.brush)===null||et===void 0||et.remove();const nt=new Set;for(const Z of y){const{min:ot,max:ct}=Z.getLocalBounds(),[vt,ht]=ot,[bt,Bt]=ct;C2t([vt,ht,bt,Bt],[K,W,X,Y])?(C(Z,"active"),nt.add(f(Z))):C(Z,"inactive")}for(const Z of b)nt.has(f(Z))?C(Z,"active"):C(Z,"inactive")},N=()=>{for(const K of y)O(K,"inactive");for(const K of _.values())K.remove();_.clear()},P=(K,W,X,Y)=>{const et=Z=>{const ot=Z.cloneNode();return ot.__data__=Z.__data__,Z.parentNode.appendChild(ot),_.set(Z,ot),ot},nt=new Ps({style:{x:K+M,y:W+T,width:X-K,height:Y-W}});t.appendChild(nt);for(const Z of y){const ot=_.get(Z)||et(Z);ot.style.clipPath=nt,C(Z,"inactive"),C(ot,"active")}},Q=LC(t,Object.assign(Object.assign({},x),{extent:k,brushRegion:o,reverse:A,selectedHandles:r,brushended:K=>{const W=u?N:L;K&&p.emit("brush:remove",{nativeEvent:!0}),W()},brushed:(K,W,X,Y,et)=>{const nt=ng(K,W,X,Y,c,l);et&&p.emit("brush:highlight",{nativeEvent:!0,data:{selection:nt}}),(u?P:U)(K,W,X,Y)},brushcreated:(K,W,X,Y,et)=>{const nt=ng(K,W,X,Y,c,l);p.emit("brush:end",Object.assign(Object.assign({},et),{nativeEvent:!0,data:{selection:nt}}))},brushupdated:(K,W,X,Y,et)=>{const nt=ng(K,W,X,Y,c,l);p.emit("brush:end",Object.assign(Object.assign({},et),{nativeEvent:!0,data:{selection:nt}}))},brushstarted:K=>{p.emit("brush:start",K)}})),R=({nativeEvent:K,data:W})=>{if(K)return;const{selection:X}=W,[Y,et,nt,Z]=GBt(X,c,l);Q.move(Y,et,nt,Z,!1)};p.on("brush:highlight",R);const H=({nativeEvent:K}={})=>{K||Q.remove(!1)};p.on("brush:remove",H);const G=Q.destroy.bind(Q);return Q.destroy=()=>{p.off("brush:highlight",R),p.off("brush:remove",H),G()},Q}function qv(t){var{facet:n,brushKey:e}=t,r=Ri(t,["facet","brushKey"]);return(i,a,o)=>{const{container:s,view:A,options:c}=i,l=ia(s),u={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},f=["active",["inactive",{opacity:.5}]],{scale:d,coordinate:h}=A;if(n){const v=l.getBounds(),y=v.min[0],m=v.min[1],b=v.max[0],B=v.max[1];return FI(l.parentNode.parentNode,Object.assign(Object.assign({elements:()=>T5(i,a),datum:Is(qb(i,a).map(x=>x.view)),brushRegion:(x,C,O,_)=>[x,C,O,_],extent:[y,m,b,B],state:GA(qb(i,a).map(x=>x.options),f),emitter:o,scale:d,coordinate:h,selectedHandles:void 0},u),r))}const p=FI(l,Object.assign(Object.assign({elements:Ho,key:v=>v.__data__.key,siblings:()=>_2t(i,a,e),datum:Is([A,...QC(i,a,e).map(v=>v.view)]),brushRegion:(v,y,m,b)=>[v,y,m,b],extent:void 0,state:GA([c,...S2t(i,a,e)],f),emitter:o,scale:d,coordinate:h,selectedHandles:void 0},u),r));return l.brush=p,()=>p.destroy()}}qv.props={reapplyWhenUpdate:!0};function UC(t,n,e,r,i){const[,a,,o]=i;return[t,a,e,o]}function F2t(t){return qv(Object.assign(Object.assign({},t),{brushRegion:UC,selectedHandles:["handle-e","handle-w"]}))}function PC(t,n,e,r,i){const[a,,o]=i;return[a,n,o,r]}function M2t(t){return qv(Object.assign(Object.assign({},t),{brushRegion:PC,selectedHandles:["handle-n","handle-s"]}))}var RC=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const k2t="axis",T2t="axis-line",I2t="axis-main-group",_8="axis-hot-area";function L2t(t){return t.getElementsByClassName(k2t)}function S8(t){return t.getElementsByClassName(T2t)[0]}function Q2t(t){return t.getElementsByClassName(I2t)[0]}function F8(t){return Q2t(t).getLocalBounds()}function U2t(t,n){var{cross:e,offsetX:r,offsetY:i}=n,a=RC(n,["cross","offsetX","offsetY"]);const o=F8(t),s=S8(t),[A]=s.getLocalBounds().min,[c,l]=o.min,[u,f]=o.max,d=(u-c)*2;return{brushRegion:PC,hotZone:new Ps({className:_8,style:Object.assign({width:e?d/2:d,transform:`translate(${(e?c:A-d/2).toFixed(2)}, ${l})`,height:f-l},a)}),extent:e?(h,p,v,y)=>[-1/0,p,1/0,y]:(h,p,v,y)=>[Math.floor(c-r),p,Math.ceil(u-r),y]}}function P2t(t,n){var{offsetY:e,offsetX:r,cross:i=!1}=n,a=RC(n,["offsetY","offsetX","cross"]);const o=F8(t),s=S8(t),[,A]=s.getLocalBounds().min,[c,l]=o.min,[u,f]=o.max,d=f-l;return{brushRegion:UC,hotZone:new Ps({className:_8,style:Object.assign({width:u-c,height:i?d:d*2,transform:`translate(${c}, ${i?l:A-d})`},a)}),extent:i?(h,p,v,y)=>[h,-1/0,v,1/0]:(h,p,v,y)=>[h,Math.floor(l-e),v,Math.ceil(f-e)]}}function R2t(t,n){var{axes:e,elements:r,points:i,horizontal:a,datum:o,offsetY:s,offsetX:A,reverse:c=!1,state:l={},emitter:u,coordinate:f}=n,d=RC(n,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const h=r(t),p=e(t),v=Ul(h,o),{setState:y,removeState:m}=Es(l,v),b=new Map,B=wt(d,"mask"),x=R=>Array.from(b.values()).every(([H,G,K,W])=>R.some(([X,Y])=>X>=H&&X<=K&&Y>=G&&Y<=W)),C=p.map(R=>R.attributes.scale),O=R=>R.length>2?[R[0],R[R.length-1]]:R,_=new Map,S=()=>{_.clear();for(let R=0;R<p.length;R++){const H=C[R],{domain:G}=H.getOptions();_.set(R,O(G))}};S();const F=(R,H)=>{const G=[];for(const W of h){const X=i(W);x(X)?(y(W,"active"),G.push(W)):y(W,"inactive")}if(_.set(R,T(G,R)),!H)return;const K=()=>{if(!k)return Array.from(_.values());const W=[];for(const[X,Y]of _){const et=C[X],{name:nt}=et.getOptions();nt==="x"?W[0]=Y:W[1]=Y}return W};u.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:K()}})},M=R=>{for(const H of h)m(H,"active","inactive");S(),R&&u.emit("brushAxis:remove",{nativeEvent:!0})},T=(R,H)=>{const G=C[H],{name:K}=G.getOptions(),W=R.map(X=>{const Y=X.__data__;return G.invert(Y[K])});return O(ys(G,W))},k=p.some(a)&&p.some(R=>!a(R)),L=[];for(let R=0;R<p.length;R++){const H=p[R],G=a(H)?P2t:U2t,{hotZone:K,brushRegion:W,extent:X}=G(H,{offsetY:s,offsetX:A,cross:k,zIndex:999,fill:"transparent"});H.parentNode.appendChild(K);const Y=LC(K,Object.assign(Object.assign({},B),{reverse:c,brushRegion:W,brushended(et){b.delete(H),Array.from(b.entries()).length===0?M(et):F(R,et)},brushed(et,nt,Z,ot,ct){b.set(H,X(et,nt,Z,ot)),F(R,ct)}}));L.push(Y)}const U=(R={})=>{const{nativeEvent:H}=R;H||L.forEach(G=>G.remove(!1))},N=(R,H,G)=>{const[K,W]=R,X=nt=>nt.getStep?nt.getStep():0,Y=P(K,H,G),et=P(W,H,G)+X(H);return a(G)?[Y,-1/0,et,1/0]:[-1/0,Y,1/0,et]},P=(R,H,G)=>{const{height:K,width:W}=f.getOptions(),X=H.clone();return a(G)?X.update({range:[0,W]}):X.update({range:[K,0]}),X.map(R)},Q=R=>{const{nativeEvent:H}=R;if(H)return;const{selection:G}=R.data;for(let K=0;K<L.length;K++){const W=G[K],X=L[K],Y=p[K];if(W){const et=C[K];X.move(...N(W,et,Y),!1)}else X.remove(!1)}};return u.on("brushAxis:remove",U),u.on("brushAxis:highlight",Q),()=>{L.forEach(R=>R.destroy()),u.off("brushAxis:remove",U),u.off("brushAxis:highlight",Q)}}function N2t(t){return(n,e,r)=>{const{container:i,view:a,options:o}=n,s=ia(i),{x:A,y:c}=s.getBBox(),{coordinate:l}=a;return R2t(i,Object.assign({elements:Ho,axes:L2t,offsetY:c,offsetX:A,points:u=>u.__data__.points,horizontal:u=>{const{startPos:[f,d],endPos:[h,p]}=u.attributes;return f!==h&&d===p},datum:Is(a),state:GA(o,["active",["inactive",{opacity:.5}]]),coordinate:l,emitter:r},t))}}var D2t=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},M8=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function H2t(t=300){let n=null;return e=>{const{timeStamp:r}=e;return n!==null&&r-n<t?(n=r,!0):(n=r,!1)}}function j2t(t,n){var{filter:e,reset:r,brushRegion:i,extent:a,reverse:o,emitter:s,scale:A,coordinate:c,selection:l,series:u=!1}=n,f=M8(n,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const d=wt(f,"mask"),{width:h,height:p}=t.getBBox(),v=a||[0,0,h,p],y=H2t(),m=LC(t,Object.assign(Object.assign({},d),{extent:v,brushRegion:i,reverse:o,brushcreated:b}));t.addEventListener("click",B);function b(C,O,_,S,F){C===_&&O===S||(F.nativeEvent=!0,e(l(C,O,_,S),F),m.remove())}function B(C){y(C)&&(C.nativeEvent=!0,r(C))}const x=({nativeEvent:C,data:O})=>{if(C)return;const{selection:_}=O;e(_,{nativeEvent:!1})};return s.on("brush:filter",x),()=>{m.destroy(),s.off("brush:filter",x),t.removeEventListener("click",B)}}function NC(t){var{hideX:n=!0,hideY:e=!0}=t,r=M8(t,["hideX","hideY"]);return(i,a,o)=>{const{container:s,view:A,options:c,update:l,setState:u}=i,f=ia(s),d={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let h=!1,p=!1,v=A;const{scale:y,coordinate:m}=A;return j2t(f,Object.assign(Object.assign({brushRegion:(b,B,x,C)=>[b,B,x,C],selection:(b,B,x,C)=>{const{scale:O,coordinate:_}=v;return ng(b,B,x,C,O,_)},filter:(b,B)=>D2t(this,void 0,void 0,function*(){if(p)return;p=!0;const[x,C]=b;u("brushFilter",_=>{const{marks:S}=_,F=S.map(M=>at({axis:Object.assign(Object.assign({},n&&{x:{transform:[{type:"hide"}]}}),e&&{y:{transform:[{type:"hide"}]}})},M,{scale:{x:{domain:x,nice:!1},y:{domain:C,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:F,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},B),{data:{selection:[x,C]}})),v=(yield l()).view,p=!1,h=!0}),reset:b=>{if(p||!h)return;const{scale:B}=A,{x,y:C}=B,O=x.getOptions().domain,_=C.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},b),{data:{selection:[O,_]}})),h=!1,v=A,u("brushFilter"),l()},extent:void 0,emitter:o,scale:y,coordinate:m},d),r))}}function $2t(t){return NC(Object.assign(Object.assign({hideX:!0},t),{brushRegion:UC}))}function G2t(t){return NC(Object.assign(Object.assign({hideY:!0},t),{brushRegion:PC}))}function k8(t,n,e){const r=t?e:n,i=t?n:e,a=Qo(r),o=Qo(i),s=i.getOptions().domain,A=!o&&s&&s.length>=2&&s[0]===0;return{currentScale:r,targetScale:i,isSourceDiscrete:a,isTargetDiscrete:o,shouldPreserveZeroBaseline:A}}function K2t(t,n,e,r,i){const a=t?r:e,o=d=>{const h={};return Object.keys(i).forEach(p=>{(p===d||p.match(new RegExp(`^${d}\\d+$`)))&&(h[p]=i[p])}),h},s=o(t?"x":"y"),A=Object.keys(s),c=A.map(d=>n[d]),l=Qo(a),u=c.map(d=>Qo(d)),f=c.map((d,h)=>{const p=d.getOptions().domain;return!u[h]&&p&&p.length>=2&&p[0]===0});return{currentScale:a,targetScales:c,isSourceDiscrete:l,isTargetDiscrete:u,shouldPreserveZeroBaseline:f,targetScaleKeys:A}}function z2t(t){return Array.from(new Set(t)).sort((e,r)=>e-r)}function W2t({isTargetDiscrete:t,filteredValues:n,shouldPreserveZeroBaseline:e}){if(t)return z2t(n);{const r=Math.min(...n),i=Math.max(...n);return e?[0,i]:[r,i]}}function vu(t){return t instanceof Date?t.getTime():typeof t=="string"?parseFloat(t):Number(t)}function DC(t,n,e,r,i,a="filter",o=!1){if(D5(a))return[];const s=o?"y":"x",A=o?"x":"y",c=[];for(const l of t){const{channelData:u}=l,f=u[s]||[],d=u[A]||[],h=Array.isArray(f[0])?f[0]:f,p=Array.isArray(d[0]);if(h.length===0)continue;const v=h.length;for(let y=0;y<v;y++){const m=h[y];let b=!1;if(e)b=n.includes(m);else if(n.length>=2){const B=vu(m),x=vu(n[0]),C=vu(n[n.length-1]);!isNaN(B)&&!isNaN(x)&&!isNaN(C)&&(b=B>=x&&B<=C)}if(a==="filter"&&b){if(p){const B=d.length;for(let x=0;x<B;x++){const C=d[x];if(Array.isArray(C)&&y<C.length){const O=C[y],_=vu(O);isNaN(_)||c.push(_)}}}else if(y<d.length){const B=d[y],x=vu(B);isNaN(x)||c.push(x)}}}}return c.length>0?W2t({isTargetDiscrete:r,filteredValues:c,shouldPreserveZeroBaseline:i}):[]}function V2t({markDataPairs:t,domain:n,scaleInfo:e,adaptiveMode:r,shouldFilterXAxis:i=!1}){const{isSourceDiscrete:a,isTargetDiscrete:o,shouldPreserveZeroBaseline:s}=e;return DC(t,n,a,o,s,r,i)}function Y2t({markDataPairs:t,domain:n,scaleInfo:e,markToScaleMap:r,adaptiveMode:i,shouldFilterXAxis:a=!1}){const o=new Map,{isSourceDiscrete:s,isTargetDiscrete:A,shouldPreserveZeroBaseline:c,targetScaleKeys:l}=e;return t.forEach(u=>{const f=r.get(u.markKey);if(!f)return;const d=l.indexOf(f);if(d===-1)return;const h=A[d],p=c[d],v=DC([u],n,s,h,p,i,a);o.set(f,v)}),o}function X2t(t,n,e,r,i,a,o=!1,s){const A=new Map;if(t.length===0||n.length===0)return A;const{isSourceDiscrete:c,isTargetDiscrete:l,shouldPreserveZeroBaseline:u}=e,f=s?t.filter(h=>s.get(h.markKey)===i):t.filter(h=>h.markKey===r);if(f.length===0)return A;const d=DC(f,n,c,l,u,a,o);return A.set(i,d),A}function T8(t,n,e,r){r&&n instanceof Map?n.forEach((i,a)=>{i&&Array.isArray(i)&&i.length>0&&(t[a]=i)}):!r&&Array.isArray(n)&&n.length>0&&(t[e?"x":"y"]=n)}var q2t=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})};const I8="slider";function L8(t){var n,e,r,i;if(!t?.markState)return 0;let a=0;for(const[o,s]of t.markState.entries()){if(o.type!=="point"||!s?.channels)continue;const A=(n=s.channels)===null||n===void 0?void 0:n.find(c=>c.name==="size");if(A){if(((r=(e=A.scale)===null||e===void 0?void 0:e.range)===null||r===void 0?void 0:r.length)>0){const c=Math.max(...A.scale.range.filter(l=>typeof l=="number"));a=Math.max(a,c);continue}if(((i=A.values)===null||i===void 0?void 0:i.length)>0){const c=A.values.filter(l=>l.value!==void 0).flatMap(l=>Array.isArray(l.value)?l.value:[l.value]).filter(l=>typeof l=="number"&&!isNaN(l));c.length>0&&(a=Math.max(a,...c))}}}return a}function MI(t,n,e,r,i,a,o){if(o){const s=a?r:i.x,A=a?i.y:r;t.emit(n,Object.assign(Object.assign({},e),{nativeEvent:o,data:{selection:[E0(s),E0(A)]}}))}}function kI(t,n,e,r){const{domain0:i,filteredDomain:a,channel0:o,channel1:s,prefix:A,hasState:c,isMultiAxis:l,markToScaleMap:u,enableAdaptiveFiltering:f}=r;l&&a instanceof Map?t(n,d=>Object.assign({},J2t(d,e,{[o]:{domain:i,nice:!1}},A,c,o,s,u||new Map,a))):t(n,d=>Object.assign({},Z2t(d,e,Object.assign({[o]:{domain:i,nice:!1}},f&&Array.isArray(a)?{[s]:{domain:a,nice:!0}}:{}),A,c,o,s)))}function Z2t(t,n,e,r,i=!1,a="x",o="y"){const{marks:s}=t,A=L8(n),c=s.map(l=>{var u,f;return at({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:e,[r]:Object.assign(Object.assign({},((u=l[r])===null||u===void 0?void 0:u[a])&&{[a]:Object.assign({preserve:!0},i&&{ratio:null})}),((f=l[r])===null||f===void 0?void 0:f[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},t),{marks:c,insetLeft:A,insetRight:A,insetTop:A,insetBottom:A,clip:!0,animate:!1})}function J2t(t,n,e,r,i=!1,a="x",o="y",s=new Map,A=new Map){const{marks:c}=t,l=L8(n),u=c.map(f=>{var d,h;const p=typeof f?.key=="string"?f.key:String(f?.key||""),v=s.get(p),y=A.get(v),m=y&&{y:Object.assign({domain:y,nice:!0},v!=="y"?{independent:!0}:void 0)};return at({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},f,{scale:Object.assign(Object.assign({},e),m),[r]:Object.assign(Object.assign({},((d=f[r])===null||d===void 0?void 0:d[a])&&{[a]:Object.assign({preserve:!0},i&&{ratio:null})}),((h=f[r])===null||h===void 0?void 0:h[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},t),{marks:u,insetLeft:l,insetRight:l,insetTop:l,insetBottom:l,clip:!0,animate:!1})}function tCt(t,n,e){const[r,i]=t,a=e?A=>1-A:A=>A,o=Cl(n,a(r),!0),s=Cl(n,a(i),!1);return ys(n,[o,s])}function E0(t){return[t[0],t[t.length-1]]}function Q8({initDomain:t={},className:n=I8,prefix:e="slider",setValue:r=(l,u)=>l.setValues(u),hasState:i=!1,wait:a=50,leading:o=!0,trailing:s=!1,adaptiveMode:A="filter",getInitValues:c=l=>{var u;const f=(u=l?.attributes)===null||u===void 0?void 0:u.values;if(f[0]!==0||f[1]!==1)return f}}){return(l,u,f)=>{const{container:d,view:h,update:p,setState:v}=l,y=d.getElementsByClassName(n);if(!y.length)return()=>{};const{scale:m,coordinate:b}=h,{x:B,y:x}=m,C=nn(b),O=P=>{const Q=P==="vertical"?"y":"x",R=P==="vertical"?"x":"y";return C?[R,Q]:[Q,R]},_=new Map,S=new Set,F=H5(h),M=txt(h,t,B,x,F),T=Array.from(y),k=P=>T.some(Q=>{const{orientation:R}=Q.attributes,[H]=O(R);return H===P}),L=k("x")&&!k("y"),U=k("y")&&!k("x"),N=!D5(A)&&(L||U);for(const P of y){const{orientation:Q}=P.attributes,[R,H]=O(Q),G=`${e}${Qs(R)}:filter`,K=R==="x",{ratio:W}=B.getOptions(),{ratio:X}=x.getOptions(),Y=vt=>{if(vt.data){const{selection:kt}=vt.data,[Ot=E0(M.x),_t=E0(M.y)]=kt;return K?[ys(B,Ot,W),ys(x,_t,X)]:[ys(x,_t,X),ys(B,Ot,W)]}const{value:ht}=vt.detail,bt=m[R],Bt=tCt(ht,bt,C&&Q==="horizontal"),Ct=M[H];return[Bt,Ct]};let et=!1;const Z=iCt({getFiltering:()=>et,setFiltering:vt=>{et=vt},domainsOf:Y,view:h,independentScaleInfo:F,enableAdaptiveFiltering:N,hasOnlyXSlider:L,hasOnlyYSlider:U,adaptiveMode:A,scaleX:B,scaleY:x,scale:m,channelDomain:M,channel0:R,channel1:H,isX:K,emitter:f,eventName:G,setState:v,slider:P,prefix:e,hasState:i,update:p,wait:a,leading:o,trailing:s}),ot=vt=>{const{nativeEvent:ht}=vt;if(ht)return;const{data:bt}=vt,{selection:Bt}=bt,[Ct,kt]=Bt;P.dispatchEvent(new Ve("valuechange",{data:bt,nativeEvent:!1}));const Ot=K?vI(Ct,B):vI(kt,x);r(P,Ot)};f.on(G,ot),P.addEventListener("valuechange",Z),_.set(P,Z),S.add([G,ot]);const ct=c(P);ct&&P.dispatchEvent(new Ve("valuechange",{detail:{value:ct},nativeEvent:!1,initValue:!0}))}return()=>{for(const[P,Q]of _)P.removeEventListener("valuechange",Q);for(const[P,Q]of S)f.off(P,Q)}}}function eCt({view:t,domain0:n,shouldFilterXAxis:e,enableAdaptiveFiltering:r,markDataPairs:i,adaptiveMode:a,scaleX:o,scaleY:s,scale:A,channelDomain:c,independentScaleInfo:l,channel0:u}){const f=new Map,d=new Map;if(!r||i.length===0||!n?.length)return{filteredDomain:f,markToScaleMap:d};const h=$t(t,"options.slider");if(Object.keys(h).length>0&&Object.prototype.hasOwnProperty.call(h,u)){const v=K2t(e,A,o,s,c);(e?l.markToXScaleMap:l.markToYScaleMap).forEach((b,B)=>{d.set(B,b)});const m=Y2t({markDataPairs:i,domain:n,scaleInfo:v,markToScaleMap:d,adaptiveMode:a,shouldFilterXAxis:e});return T8(c,m,e,!0),{filteredDomain:m,markToScaleMap:d}}else{const v=nCt(t,u);if(v){const y=k8(e,o,s),m=e?l.markToXScaleMap:l.markToYScaleMap,b=m.get(v)||"";if(b)return d.set(v,b),{filteredDomain:X2t(i,n,y,v,b,a,e,m),markToScaleMap:d}}}return{filteredDomain:f,markToScaleMap:d}}function nCt(t,n){for(const[e]of t.markState.entries()){const r=$t(e,"slider");if(Object.keys(r||{}).length>0&&Object.prototype.hasOwnProperty.call(r,n))return String(e.key||"")}return null}function rCt({domain0:t,domain1:n,shouldFilterXAxis:e,enableAdaptiveFiltering:r,markDataPairs:i,adaptiveMode:a,scaleX:o,scaleY:s,channelDomain:A,hasOnlyXSlider:c,hasOnlyYSlider:l,isX:u}){let f=n;if(r&&i.length>0&&(c&&u||l&&!u)&&t?.length>0){const d=k8(e,o,s);f=V2t({markDataPairs:i,domain:t,scaleInfo:d,adaptiveMode:a,shouldFilterXAxis:e}),T8(A,f,e,!1)}return f}function iCt({getFiltering:t,setFiltering:n,domainsOf:e,view:r,independentScaleInfo:i,enableAdaptiveFiltering:a,hasOnlyXSlider:o,hasOnlyYSlider:s,adaptiveMode:A,scaleX:c,scaleY:l,scale:u,channelDomain:f,channel0:d,channel1:h,isX:p,emitter:v,eventName:y,setState:m,slider:b,prefix:B,hasState:x,update:C,wait:O,leading:_,trailing:S}){return TA(F=>q2t(this,void 0,void 0,function*(){const{initValue:M=!1}=F;if(t()&&!M)return;n(!0);const{nativeEvent:T=!0}=F,{markDataPairs:k}=JBt(r);if(i[`hasIndependent${h.toUpperCase()}`]){const[U]=e(F),N=s&&!p,{filteredDomain:P,markToScaleMap:Q}=eCt({view:r,domain0:U,shouldFilterXAxis:N,enableAdaptiveFiltering:a&&(o&&p||s&&!p),markDataPairs:k,adaptiveMode:A,scaleX:c,scaleY:l,scale:u,channelDomain:f,independentScaleInfo:i,channel0:d});f[d]=U,MI(v,y,F,U,f,p,T),kI(m,b,r,{domain0:U,filteredDomain:P,channel0:d,channel1:h,prefix:B,hasState:x,isMultiAxis:!0,markToScaleMap:Q,enableAdaptiveFiltering:a})}else{const[U,N]=e(F),Q=rCt({domain0:U,domain1:N,shouldFilterXAxis:s&&!p,enableAdaptiveFiltering:a,markDataPairs:k,adaptiveMode:A,scaleX:c,scaleY:l,channelDomain:f,hasOnlyXSlider:o,hasOnlyYSlider:s,isX:p});f[d]=U,MI(v,y,F,U,f,p,T),kI(m,b,r,{domain0:U,filteredDomain:Q,channel0:d,channel1:h,prefix:B,hasState:x,isMultiAxis:!1,markToScaleMap:void 0,enableAdaptiveFiltering:a})}yield C(),n(!1)}),O,{leading:_,trailing:S})}function aCt(t){var n;try{const e=(n=t.ownerDocument)===null||n===void 0?void 0:n.defaultView;if(!e||typeof e.getContextService!="function")return null;const r=e.getContextService().getDomElement();return r instanceof HTMLElement?r:null}catch{return null}}function U8({className:t=I8,setValue:n=(o,s)=>o.setValues(s),minRange:e=.01,wheelSensitivity:r=.05,x:i=!0,y:a=!0}={}){return o=>{const{container:s,view:A}=o,{coordinate:c}=A,l=nn(c),u=aCt(s),f=Math.max(1e-6,Math.min(1,e)),d=s.getElementsByClassName(t);if(!d.length)return()=>{};const h=(m,b)=>m===!0?!0:m===!1?!1:m==="shift"?b.shiftKey&&!b.ctrlKey&&!b.altKey:m==="ctrl"?b.ctrlKey&&!b.shiftKey&&!b.altKey:m==="alt"?b.altKey&&!b.shiftKey&&!b.ctrlKey:!1,p=(m,b)=>{n(m,b),m.dispatchEvent(new Ve("valuechange",{detail:{value:b},nativeEvent:!0}))},v=(m,b,B,x,C)=>{const _=(m-b)/B,S=Math.max(0,Math.min(1,_));return Math.max(x,Math.min(C,S))},y=m=>{if(!u)return;const b=m.target;if(!u.contains(b))return;const B=u.getBoundingClientRect(),x=m.clientX-B.left,C=m.clientY-B.top,O=[];for(const _ of d){const{values:S,orientation:F}=_.attributes;if(!S)continue;const M=F==="horizontal";h((l?M?"y":"x":M?"x":"y")==="x"?i:a,m)&&O.push(_)}if(O.length!==0){m.preventDefault(),m.stopPropagation();for(const _ of O){const{values:S,orientation:F,x:M,y:T,trackLength:k}=_.attributes,[L,U]=S,N=U-L,Q=F==="horizontal"?v(x,M,k,L,U):v(C,T,k,L,U),R=r*ZBt(N),G=1+m.deltaY*R,K=Math.max(f,Math.min(1,N*G)),W=(Q-L)/N,X=(U-Q)/N;let Y=Q-K*W,et=Q+K*X;Y<0?(Y=0,et=Math.min(1,K)):et>1&&(et=1,Y=Math.max(0,1-K)),p(_,[Y,et])}}};return u&&u.addEventListener("wheel",y,{passive:!1,capture:!0}),()=>{u&&u.removeEventListener("wheel",y,{capture:!0})}}}U8.props={reapplyWhenUpdate:!0};const TI=`${$o}scrollbar`;function oCt(t={}){return(n,e,r)=>{const{view:i,container:a}=n;if(!a.getElementsByClassName(TI).length)return()=>{};const{scale:s}=i,{x:A,y:c}=s,l={x:[...A.getOptions().domain],y:[...c.getOptions().domain]};return A.update({domain:A.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain}),Q8(Object.assign({initDomain:l,className:TI,prefix:"scrollbar",hasState:!0,setValue:(f,d)=>f.setValue(d[0]),getInitValues:f=>{const d=f.slider.attributes.values;if(d[0]!==0||d[1]!==1)return d},adaptiveMode:!1},t))(n,e,r)}}var sCt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function ACt(t,n,e){return`<${t} style="${Object.entries(e).map(([r,i])=>`${Tdt(r)}:${i}`).join(";")}">${n}</${t}>`}const cCt={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function II(t){return t.nodeName!=="text"?!1:!!t.isOverflowing()}function P8(t){var{offsetX:n=8,offsetY:e=8}=t,r=sCt(t,["offsetX","offsetY"]);return i=>{const{container:a}=i,[o,s]=a.getBounds().min,A=wt(r,"tip"),c=new Set,l=f=>{const{target:d}=f;if(!II(d)){f.stopPropagation();return}const{offsetX:h,offsetY:p}=f,v=h+n-o,y=p+e-s;if(d.tip){d.tip.style.x=v,d.tip.style.y=y;return}const{text:m}=d.style,b=new WA({className:"poptip",style:{innerHTML:ACt("div",m,Object.assign(Object.assign({},cCt),A)),x:v,y}});a.appendChild(b),d.tip=b,c.add(b)},u=f=>{const{target:d}=f;if(!II(d)){f.stopPropagation();return}d.tip&&(d.tip.remove(),d.tip=null,c.delete(d.tip))};return a.addEventListener("pointerover",l),a.addEventListener("pointerout",u),()=>{a.removeEventListener("pointerover",l),a.removeEventListener("pointerout",u),c.forEach(f=>f.remove())}}}P8.props={reapplyWhenUpdate:!0};var lCt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},uCt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function fCt(t){return Nt(t).select(`.${ks}`).node()}const dCt={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function hCt(t={}){const{originData:n=[],layout:e}=t,r=uCt(t,["originData","layout"]),i=at({},dCt,r),a=wt(i,"breadCrumb"),o=wt(i,"active");return s=>{const{update:A,setState:c,container:l,options:u}=s,f=fCt(l),d=u.marks[0],{state:h}=d,p=new ur;f.appendChild(p);const v=(C,O)=>lCt(this,void 0,void 0,function*(){if(p.removeChildren(),O){let _="",S=a.y,F=0;const M=[],T=f.getBBox().width,k=C.map((L,U)=>{_=`${_}${L}/`,M.push(L);const N=new qi({name:_.replace(/\/$/,""),style:Object.assign(Object.assign({text:L,x:F,path:[...M],depth:U},a),{y:S})});p.appendChild(N),F+=N.getBBox().width;const P=new qi({style:Object.assign(Object.assign({x:F,text:" / "},a),{y:S})});return p.appendChild(P),F+=P.getBBox().width,F>T&&(S=p.getBBox().height+a.y,F=0,N.attr({x:F,y:S}),F+=N.getBBox().width,P.attr({x:F,y:S}),F+=P.getBBox().width),U===df(C)-1&&P.remove(),N});k.forEach((L,U)=>{if(U===df(k)-1)return;const N=Object.assign({},L.attributes);L.attr("cursor","pointer"),L.addEventListener("mouseenter",()=>{L.attr(o)}),L.addEventListener("mouseleave",()=>{L.attr(N)}),L.addEventListener("click",()=>{v($t(L,["style","path"]),$t(L,["style","depth"]))})})}sxt(l,c),c("treemapDrillDown",_=>{const{marks:S}=_,F=C.join("/"),M=S.map(T=>{if(T.type!=="rect")return T;let k=n;if(O){const U=n.filter(H=>{const G=$t(H,["id"]);return G&&(G.match(`${F}/`)||F.match(G))}).map(H=>({value:H.height===0?$t(H,["value"]):void 0,name:$t(H,["id"])})),{paddingLeft:N,paddingBottom:P,paddingRight:Q}=e,R=Object.assign(Object.assign({},e),{paddingTop:(e.paddingTop||p.getBBox().height+10)/(O+1),paddingLeft:N/(O+1),paddingBottom:P/(O+1),paddingRight:Q/(O+1),path:H=>H.name,layer:H=>H.depth===O+1});k=NN(U,R,{value:"value"})[0]}else k=n.filter(U=>U.depth===1);const L=[];return k.forEach(({path:U})=>{L.push(mi(U))}),at({},T,{data:k,scale:{color:{domain:L}}})});return Object.assign(Object.assign({},_),{marks:M})}),yield A(void 0,["legendFilter"])}),y=C=>C.attributes.key.split("-")[0],m=C=>$t(C,["__data__","key"]),b=C=>{const O=C.target,{markType:_,nodeName:S,attributes:F}=O||{};if(_!=="rect"&&S!==it.TEXT)return;const M=S===it.TEXT&&$t(F,"isTreemapLabel")===!0?y(O):m(O),T=ol(n,k=>k.id===M);$t(T,"height")&&v($t(T,"path"),$t(T,"depth"))};f.addEventListener("click",b);const B=R0(Object.assign(Object.assign({},h.active),h.inactive)),x=()=>{R5(f).forEach(O=>{const _=$t(O,["style","cursor"]),S=ol(n,F=>F.id===$t(O,["__data__","key"]));if(_!=="pointer"&&S?.height){O.style.cursor="pointer";const F=Zf(O.attributes,B);O.addEventListener("mouseenter",()=>{O.attr(h.active)}),O.addEventListener("mouseleave",()=>{O.attr(at(F,h.inactive))})}})};return x(),f.addEventListener("mousemove",x),()=>{p.remove(),f.removeEventListener("click",b),f.removeEventListener("mousemove",x)}}}var pCt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})};const gCt=t=>t.querySelectorAll(".element").filter(n=>(n.style||{})[Q2]===Xc);function vCt(t){return Nt(t).select(`.${ks}`).node()}const yCt={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.6)",fontSize:11},y:4,active:{fill:"rgba(0, 0, 0, 0.4)"}};function mCt(t={}){const{breadCrumb:n={}}=t,e=at({},yCt,n);return r=>{const{update:i,setState:a,container:o,view:s,options:A}=r,c=o.ownerDocument,l=vCt(o),u=A.marks.find(({id:m})=>m===Xc);if(!u)return;const{state:f}=u,d=c.createElement("g");d.style.transform=`translate(${e.x||0}px, ${e.y||0}px)`,d.setAttribute("x","drilldown-breadcrumb"),l.appendChild(d);const h=m=>pCt(this,void 0,void 0,function*(){if(d.removeChildren(),m&&m.length>0){const b=c.createElement("text",{style:Object.assign({text:e.rootText},e.style)});d.appendChild(b);let B="";const x=m;let C=e.style.y,O=b.getBBox().width;const _=l.getBBox().width,S=x.map((M,T)=>{const k=c.createElement("text",{style:Object.assign(Object.assign({x:O,text:" / "},e.style),{y:C})});d.appendChild(k),O+=k.getBBox().width,B=`${B}${M} / `;const L=c.createElement("text",{name:B.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:M,x:O},e.style),{y:C})});return d.appendChild(L),O+=L.getBBox().width,O>_&&(C=d.getBBox().height,O=0,k.attr({x:O,y:C}),O+=k.getBBox().width,L.attr({x:O,y:C}),O+=L.getBBox().width),L});[b,...S].forEach((M,T)=>{if(T===S.length)return;const k=Object.assign({},M.attributes);M.attr("cursor","pointer"),M.addEventListener("mouseenter",()=>{M.attr(e.active)}),M.addEventListener("mouseleave",()=>{M.attr(k)}),M.addEventListener("click",()=>{h(m.slice(0,T))})})}a("drillDown",b=>{const{marks:B}=b,x=B.map(C=>{if(C.id!==Xc&&C.type!=="rect")return C;const{data:O}=C,_=O.filter(S=>{var F;const M=(F=S.path)!==null&&F!==void 0?F:[];if(m.length===0)return!0;if(!Array.isArray(M)||M.length<m.length)return!1;for(let T=0;T<m.length;T++)if(M[T]!==m[T])return!1;return!0});return at({},C,{data:_})});return Object.assign(Object.assign({},b),{marks:x})}),yield i()}),p=m=>{var b,B;const x=m.target,C=x.markType,O=x.style||{},_=O[Q2],S=O[r0],F=x.__data__;if(C!=="rect"||_!==Xc||!S)return;const M=(B=(b=F?.data)===null||b===void 0?void 0:b.path)!==null&&B!==void 0?B:[];h(M)};l.addEventListener("click",p);const v=R0(Object.assign(Object.assign({},f.active),f.inactive)),y=()=>{gCt(l).forEach(b=>{const B=$t(b,["style",r0]);if($t(b,["style","cursor"])!=="pointer"&&B){b.style.cursor="pointer";const C=Zf(b.attributes,v);b.addEventListener("mouseenter",()=>{b.attr(f.active)}),b.addEventListener("mouseleave",()=>{b.attr(at(C,f.inactive))})}})};return l.addEventListener("mousemove",y),()=>{d.remove(),l.removeEventListener("click",p),l.removeEventListener("mousemove",y)}}}var H1=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},wCt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const bCt={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},j1="movePoint",LI=t=>{const n=t.target,{markType:e}=n;e==="line"&&(n.attr("_lineWidth",n.attr("lineWidth")||1),n.attr("lineWidth",n.attr("_lineWidth")+3)),e==="interval"&&(n.attr("_opacity",n.attr("opacity")||1),n.attr("opacity",.7*n.attr("_opacity")))},QI=t=>{const n=t.target,{markType:e}=n;e==="line"&&n.attr("lineWidth",n.attr("_lineWidth")),e==="interval"&&n.attr("opacity",n.attr("_opacity"))},BCt=(t,n,e)=>n.map(r=>["x","color"].reduce((a,o)=>{const s=e[o];return s&&r[s]!==t[s]?!1:a},!0)?Object.assign(Object.assign({},r),t):r),xCt=t=>{const n=$t(t,["__data__","y"]),r=$t(t,["__data__","y1"])-n,{__data__:{data:i,encode:a,transform:o},childNodes:s}=t.parentNode,A=ol(o,({type:u})=>u==="normalizeY"),c=$t(a,["y","field"]),l=i[s.indexOf(t)][c];return(u,f=!1)=>A||f?u/(1-u)/(r/(1-r))*l:u},CCt=(t,n)=>{const e=$t(t,["__data__","seriesItems",n,"0","value"]),r=$t(t,["__data__","seriesIndex",n]),{__data__:{data:i,encode:a,transform:o}}=t.parentNode,s=ol(o,({type:l})=>l==="normalizeY"),A=$t(a,["y","field"]),c=i[r][A];return l=>s?e===1?l:l/(1-l)/(e/(1-e))*c:l},UI=(t,n,e)=>{t.forEach((r,i)=>{r.attr("stroke",n[1]===i?e.activeStroke:e.stroke)})},PI=(t,n,e,r)=>{const i=new sr({style:e}),a=new qi({style:r});return n.appendChild(a),t.appendChild(i),[i,a]},RI=(t,n)=>{if(!$t(t,["options","range","indexOf"]))return;const r=t.options.range.indexOf(n);return t.sortedDomain[r]},$1=(t,n,e)=>{const r=C0(t,n),a=C0(t,e)/r,o=t[0]+(n[0]-t[0])*a,s=t[1]+(n[1]-t[1])*a;return[o,s]};function OCt(t={}){const{selection:n=[],precision:e=2}=t,r=wCt(t,["selection","precision"]),i=Object.assign(Object.assign({},bCt),r||{}),a=wt(i,"path"),o=wt(i,"label"),s=wt(i,"point");return(A,c,l)=>{const{update:u,setState:f,container:d,view:h,options:{marks:p,coordinate:v}}=A,y=ia(d);let m=R5(y),b,B=n;const{transform:x=[],type:C}=v,O=!!ol(x,({type:Q})=>Q==="transpose"),_=C==="polar",S=C==="theta",F=!!ol(m,({markType:Q})=>Q==="area");F&&(m=m.filter(({markType:Q})=>Q==="area"));const M=new ur({style:{zIndex:2}});y.appendChild(M);const T=()=>{l.emit("element-point:select",{nativeEvent:!0,data:{selection:B}})},k=(Q,R)=>{l.emit("element-point:moved",{nativeEvent:!0,data:{changeData:Q,data:R}})},L=Q=>{const R=Q.target;B=[R.parentNode.childNodes.indexOf(R)],T(),N(R)},U=Q=>{const{data:{selection:R},nativeEvent:H}=Q;if(H)return;B=R;const G=$t(m,[B?.[0]]);G&&N(G)},N=Q=>{const{attributes:R,markType:H,__data__:G}=Q,{stroke:K}=R,{points:W,seriesTitle:X,color:Y,title:et,seriesX:nt,y1:Z}=G;if(O&&H!=="interval")return;const{scale:ot,coordinate:ct}=b?.view||h,{color:vt,y:ht,x:bt}=ot,Bt=ct.getCenter();M.removeChildren();let Ct;const kt=(Ot,_t,Lt,de)=>H1(this,void 0,void 0,function*(){return f("elementPointMove",qt=>{var Zt;const Me=(((Zt=b?.options)===null||Zt===void 0?void 0:Zt.marks)||p).map(Ue=>{if(!de.includes(Ue.type))return Ue;const{data:Ee,encode:ge}=Ue,ke=Object.keys(ge).reduce((Kt,Bn)=>{const Ye=ge[Bn];return Bn==="x"&&(Kt[Ye]=Ot),Bn==="y"&&(Kt[Ye]=_t),Bn==="color"&&(Kt[Ye]=Lt),Kt},{}),Jt=BCt(ke,Ee,ge);return k(ke,Jt),at({},Ue,{data:Jt,animate:!1})});return Object.assign(Object.assign({},qt),{marks:Me})}),yield u("elementPointMove")});if(["line","area"].includes(H))W.forEach((Ot,_t)=>{const Lt=bt.invert(nt[_t]);if(!Lt)return;const de=new to({name:j1,style:Object.assign({cx:Ot[0],cy:Ot[1],fill:K},s)}),qt=CCt(Q,_t);de.addEventListener("mousedown",Zt=>{const Me=ct.output([nt[_t],0]),Ue=X?.length;d.attr("cursor","move"),B[1]!==_t&&(B[1]=_t,T()),UI(M.childNodes,B,s);const[Ee,ge]=PI(M,de,a,o),ve=Jt=>{const Kt=Ot[1]+Jt.clientY-Ct[1];if(F)if(_){const Bn=Ot[0]+Jt.clientX-Ct[0],[Ye,Jn]=$1(Bt,Me,[Bn,Kt]),[,oi]=ct.output([1,ht.output(0)]),[,si]=ct.invert([Ye,oi-(W[_t+Ue][1]-Jn)]),aa=(_t+1)%Ue,zs=(_t-1+Ue)%Ue,ec=gu([W[zs],[Ye,Jn],X[aa]&&W[aa]]);ge.attr("text",qt(ht.invert(si)).toFixed(e)),Ee.attr("d",ec),de.attr("cx",Ye),de.attr("cy",Jn)}else{const[,Bn]=ct.output([1,ht.output(0)]),[,Ye]=ct.invert([Ot[0],Bn-(W[_t+Ue][1]-Kt)]),Jn=gu([W[_t-1],[Ot[0],Kt],X[_t+1]&&W[_t+1]]);ge.attr("text",qt(ht.invert(Ye)).toFixed(e)),Ee.attr("d",Jn),de.attr("cy",Kt)}else{const[,Bn]=ct.invert([Ot[0],Kt]),Ye=gu([W[_t-1],[Ot[0],Kt],W[_t+1]]);ge.attr("text",ht.invert(Bn).toFixed(e)),Ee.attr("d",Ye),de.attr("cy",Kt)}};Ct=[Zt.clientX,Zt.clientY],window.addEventListener("mousemove",ve);const ke=()=>H1(this,void 0,void 0,function*(){if(d.attr("cursor","default"),window.removeEventListener("mousemove",ve),d.removeEventListener("mouseup",ke),We(ge.attr("text")))return;const Jt=Number(ge.attr("text")),Kt=RI(vt,Y);b=yield kt(Lt,Jt,Kt,["line","area"]),ge.remove(),Ee.remove(),N(Q)});d.addEventListener("mouseup",ke)}),M.appendChild(de)}),UI(M.childNodes,B,s);else if(H==="interval"){let Ot=[(W[0][0]+W[1][0])/2,W[0][1]];O?Ot=[W[0][0],(W[0][1]+W[1][1])/2]:S&&(Ot=W[0]);const _t=xCt(Q),Lt=new to({name:j1,style:Object.assign(Object.assign({cx:Ot[0],cy:Ot[1],fill:K},s),{stroke:s.activeStroke})});Lt.addEventListener("mousedown",de=>{d.attr("cursor","move");const qt=RI(vt,Y),[Zt,Me]=PI(M,Lt,a,o),Ue=ge=>{if(O){const ve=Ot[0]+ge.clientX-Ct[0],[ke]=ct.output([ht.output(0),ht.output(0)]),[,Jt]=ct.invert([ke+(ve-W[2][0]),Ot[1]]),Kt=gu([[ve,W[0][1]],[ve,W[1][1]],W[2],W[3]],!0);Me.attr("text",_t(ht.invert(Jt)).toFixed(e)),Zt.attr("d",Kt),Lt.attr("cx",ve)}else if(S){const ve=Ot[1]+ge.clientY-Ct[1],ke=Ot[0]+ge.clientX-Ct[0],[Jt,Kt]=$1(Bt,[ke,ve],Ot),[Bn,Ye]=$1(Bt,[ke,ve],W[1]),Jn=ct.invert([Jt,Kt])[1],oi=Z-Jn;if(oi<0)return;const si=qBt(Bt,[[Jt,Kt],[Bn,Ye],W[2],W[3]],oi>.5?1:0);Me.attr("text",_t(oi,!0).toFixed(e)),Zt.attr("d",si),Lt.attr("cx",Jt),Lt.attr("cy",Kt)}else{const ve=Ot[1]+ge.clientY-Ct[1],[,ke]=ct.output([1,ht.output(0)]),[,Jt]=ct.invert([Ot[0],ke-(W[2][1]-ve)]),Kt=gu([[W[0][0],ve],[W[1][0],ve],W[2],W[3]],!0);Me.attr("text",_t(ht.invert(Jt)).toFixed(e)),Zt.attr("d",Kt),Lt.attr("cy",ve)}};Ct=[de.clientX,de.clientY],window.addEventListener("mousemove",Ue);const Ee=()=>H1(this,void 0,void 0,function*(){if(d.attr("cursor","default"),d.removeEventListener("mouseup",Ee),window.removeEventListener("mousemove",Ue),We(Me.attr("text")))return;const ge=Number(Me.attr("text"));b=yield kt(et,ge,qt,[H]),Me.remove(),Zt.remove(),N(Q)});d.addEventListener("mouseup",Ee)}),M.appendChild(Lt)}};m.forEach((Q,R)=>{B[0]===R&&N(Q),Q.addEventListener("click",L),Q.addEventListener("mouseenter",LI),Q.addEventListener("mouseleave",QI)});const P=Q=>{const R=Q?.target;(!R||R.name!==j1&&!m.includes(R))&&(B=[],T(),M.removeChildren())};return l.on("element-point:select",U),l.on("element-point:unselect",P),d.addEventListener("mousedown",P),()=>{M.remove(),l.off("element-point:select",U),l.off("element-point:unselect",P),d.removeEventListener("mousedown",P),m.forEach(Q=>{Q.removeEventListener("click",L),Q.removeEventListener("mouseenter",LI),Q.removeEventListener("mouseleave",QI)})}}}var NI={},G1={},K1=34,yu=10,z1=13;function R8(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function ECt(t,n){var e=R8(t);return function(r,i){return n(e(r),i,t)}}function DI(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function Jr(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function _Ct(t){return t<0?"-"+Jr(-t,6):t>9999?"+"+Jr(t,6):Jr(t,4)}function SCt(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":_Ct(t.getUTCFullYear())+"-"+Jr(t.getUTCMonth()+1,2)+"-"+Jr(t.getUTCDate(),2)+(i?"T"+Jr(n,2)+":"+Jr(e,2)+":"+Jr(r,2)+"."+Jr(i,3)+"Z":r?"T"+Jr(n,2)+":"+Jr(e,2)+":"+Jr(r,2)+"Z":e||n?"T"+Jr(n,2)+":"+Jr(e,2)+"Z":"")}function FCt(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(u,f){var d,h,p=i(u,function(v,y){if(d)return d(v,y-1);h=v,d=f?ECt(v,f):R8(v)});return p.columns=h||[],p}function i(u,f){var d=[],h=u.length,p=0,v=0,y,m=h<=0,b=!1;u.charCodeAt(h-1)===yu&&--h,u.charCodeAt(h-1)===z1&&--h;function B(){if(m)return G1;if(b)return b=!1,NI;var C,O=p,_;if(u.charCodeAt(O)===K1){for(;p++<h&&u.charCodeAt(p)!==K1||u.charCodeAt(++p)===K1;);return(C=p)>=h?m=!0:(_=u.charCodeAt(p++))===yu?b=!0:_===z1&&(b=!0,u.charCodeAt(p)===yu&&++p),u.slice(O+1,C-1).replace(/""/g,'"')}for(;p<h;){if((_=u.charCodeAt(C=p++))===yu)b=!0;else if(_===z1)b=!0,u.charCodeAt(p)===yu&&++p;else if(_!==e)continue;return u.slice(O,C)}return m=!0,u.slice(O,h)}for(;(y=B())!==G1;){for(var x=[];y!==NI&&y!==G1;)x.push(y),y=B();f&&(x=f(x,v++))==null||d.push(x)}return d}function a(u,f){return u.map(function(d){return f.map(function(h){return l(d[h])}).join(t)})}function o(u,f){return f==null&&(f=DI(u)),[f.map(l).join(t)].concat(a(u,f)).join(`
`)}function s(u,f){return f==null&&(f=DI(u)),a(u,f).join(`
`)}function A(u){return u.map(c).join(`
`)}function c(u){return u.map(l).join(t)}function l(u){return u==null?"":u instanceof Date?SCt(u):n.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:A,formatRow:c,formatValue:l}}function MCt(t){for(var n in t){var e=t[n].trim(),r,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(r=+e))e=r;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))kCt&&i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;t[n]=e}return t}const kCt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var TCt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})};const N8=t=>{const{value:n,format:e=n.split(".").pop(),delimiter:r=",",autoType:i=!0}=t;return()=>TCt(void 0,void 0,void 0,function*(){const a=yield fetch(n);if(e==="csv"){const o=yield a.text();return FCt(r).parse(o,i?MCt:DA)}if(e==="json")return yield a.json();throw new Error(`Unknown format: ${e}.`)})};N8.props={};function ICt(t){return!t||Object.keys(t).length===0}const D8=t=>{const{fields:n,key:e="key",value:r="value"}=t;return i=>ICt(n)?i:i.flatMap(a=>n.map(o=>Object.assign(Object.assign({},a),{[e]:o,[r]:a[o]})))};D8.props={};function LCt(t){return t!=null&&!Number.isNaN(t)}const H8=t=>{const{callback:n=LCt}=t;return e=>e.filter(n)};H8.props={};const j8=t=>{const{callback:n}=t;return e=>Array.isArray(e)?[...e].sort(n):e};j8.props={};function QCt(t,n=[]){return n.reduce((e,r)=>(r in t&&(e[r]=t[r]),e),{})}const $8=t=>{const{fields:n}=t;return e=>e.map(r=>QCt(r,n))};$8.props={};function UCt(t){return Object.keys(t).length===0}const G8=t=>n=>{if(!t||UCt(t))return n;const e=r=>Object.entries(r).reduce((i,[a,o])=>(i[t[a]||a]=o,i),{});return n.map(e)};G8.props={};function PCt(t,n){return t.map(e=>{if(Array.isArray(e)){const[r,i=n]=e;return[r,i]}return[e,n]})}const K8=t=>{const{fields:n=[]}=t,e=PCt(n,!0);return r=>{const i=(a,o)=>e.reduce((s,[A,c=!0])=>s!==0?s:c?a[A]<o[A]?-1:+(a[A]!==o[A]):a[A]>o[A]?-1:+(a[A]!==o[A]),0);return[...r].sort(i)}};K8.props={};const z8=t=>{const{value:n}=t;return()=>n};z8.props={};const W8=t=>{const{callback:n=DA}=t;return e=>n(e)};W8.props={};const V8=t=>{const{callback:n=DA}=t;return e=>Array.isArray(e)?e.map(n):e};V8.props={};var RCt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})};function NCt(t,n){return{set(e,r,i){if(n[e]===void 0)return this;const a=r?r.call(null,n[e]):n[e];return i?i.call(null,a):typeof t[e]=="function"?t[e](a):t[e]=a,this},setAsync(e,r,i){return RCt(this,void 0,void 0,function*(){if(n[e]===void 0)return this;const a=r?yield r.call(null,n[e]):n[e];return i?i.call(null,a):typeof t[e]=="function"?t[e](a):t[e]=a,this})}}}const W1=Math.PI/180,$u=64,rg=2048;function DCt(t){return t.text}function HCt(){return"serif"}function HI(){return"normal"}function jCt(t){return t.value}function $Ct(){return~~(Math.random()*2)*90}function GCt(){return 1}function KCt(){}function zCt(t,n,e,r){if(n.sprite)return;const i=t.context,a=t.ratio;i.clearRect(0,0,($u<<5)/a,rg/a);let o=0,s=0,A=0;const c=e.length;for(--r;++r<c;){n=e[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font;let f=i.measureText(n.text+"m").width*a,d=n.size<<1;if(n.rotate){const h=Math.sin(n.rotate*W1),p=Math.cos(n.rotate*W1),v=f*p,y=f*h,m=d*p,b=d*h;f=Math.max(Math.abs(v+b),Math.abs(v-b))+31>>5<<5,d=~~Math.max(Math.abs(y+m),Math.abs(y-m))}else f=f+31>>5<<5;if(d>A&&(A=d),o+f>=$u<<5&&(o=0,s+=A,A=0),s+d>=rg)break;i.translate((o+(f>>1))/a,(s+(d>>1))/a),n.rotate&&i.rotate(n.rotate*W1),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=f,n.height=d,n.xoff=o,n.yoff=s,n.x1=f>>1,n.y1=d>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,o+=f}const l=i.getImageData(0,0,($u<<5)/a,rg/a).data,u=[];for(;--r>=0;){if(n=e[r],!n.hasText)continue;const f=n.width,d=f>>5;let h=n.y1-n.y0;for(let y=0;y<h*d;y++)u[y]=0;if(o=n.xoff,o==null)return;s=n.yoff;let p=0,v=-1;for(let y=0;y<h;y++){for(let m=0;m<f;m++){const b=d*y+(m>>5),B=l[(s+y)*($u<<5)+(o+m)<<2]?1<<31-m%32:0;u[b]|=B,p|=B}p?v=y:(n.y0++,h--,y--,s++)}n.y1=n.y0+v,n.sprite=u.slice(0,(n.y1-n.y0)*d)}}function WCt(t,n,e){e>>=5;const r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,A=t.y1-t.y0;let c=(t.y+t.y0)*e+(a>>5),l;for(let u=0;u<A;u++){l=0;for(let f=0;f<=i;f++)if((l<<s|(f<i?(l=r[u*i+f])>>>o:0))&n[c+f])return!0;c+=e}return!1}function VCt(t,n){const e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function YCt(t,n){return t.x+t.x1>n[0].x&&t.x+t.x0<n[1].x&&t.y+t.y1>n[0].y&&t.y+t.y0<n[1].y}function Y8(t){const n=t[0]/t[1];return function(e){return[n*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function XCt(t){const e=4*t[0]/t[1];let r=0,i=0;return function(a){const o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=e;break;case 1:i+=4;break;case 2:r-=e;break;default:i-=4;break}return[r,i]}}function jI(t){const n=[];let e=-1;for(;++e<t;)n[e]=0;return n}function qCt(){return document.createElement("canvas")}function xo(t){return typeof t=="function"?t:function(){return t}}const ZCt={archimedean:Y8,rectangular:XCt};function JCt(){let t=[256,256],n=DCt,e=HCt,r=jCt,i=HI,a=$Ct,o=GCt,s=Y8,A=Math.random,c=KCt,l=[],u=null,f=1/0,d=qCt;const h=HI,p={};p.start=function(){const[m,b]=t,B=v(d()),x=p.board?p.board:jI((t[0]>>5)*t[1]),C=l.length,O=[],_=l.map(function(T,k,L){return T.text=n.call(this,T,k,L),T.font=e.call(this,T,k,L),T.style=h.call(this,T,k,L),T.weight=i.call(this,T,k,L),T.rotate=a.call(this,T,k,L),T.size=~~r.call(this,T,k,L),T.padding=o.call(this,T,k,L),T}).sort(function(T,k){return k.size-T.size});let S=-1,F=p.board?[{x:0,y:0},{x:m,y:b}]:void 0;u&&clearInterval(u),u=setInterval(M,0),M();function M(){const T=Date.now();for(;Date.now()-T<f&&++S<C;){const k=_[S];k.x=m*(A()+.5)>>1,k.y=b*(A()+.5)>>1,zCt(B,k,_,S),k.hasText&&y(x,k,F)&&(c.call(null,"word",{cloud:p,word:k}),O.push(k),F?p.hasImage||VCt(F,k):F=[{x:k.x+k.x0,y:k.y+k.y0},{x:k.x+k.x1,y:k.y+k.y1}],k.x-=t[0]>>1,k.y-=t[1]>>1)}p._tags=O,p._bounds=F,S>=C&&(p.stop(),c.call(null,"end",{cloud:p,words:O,bounds:F}))}return p},p.stop=function(){return u&&(clearInterval(u),u=null),p};function v(m){m.width=m.height=1;const b=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=($u<<5)/b,m.height=rg/b;const B=m.getContext("2d");return B.fillStyle=B.strokeStyle="red",B.textAlign="center",B.textBaseline="middle",{context:B,ratio:b}}function y(m,b,B){const x=b.x,C=b.y,O=Math.sqrt(t[0]*t[0]+t[1]*t[1]),_=s(t),S=A()<.5?1:-1;let F,M=-S,T,k;for(;(F=_(M+=S))&&(T=~~F[0],k=~~F[1],!(Math.min(Math.abs(T),Math.abs(k))>=O));)if(b.x=x+T,b.y=C+k,!(b.x+b.x0<0||b.y+b.y0<0||b.x+b.x1>t[0]||b.y+b.y1>t[1])&&(!B||!WCt(b,m,t[0]))&&(!B||YCt(b,B))){const L=b.sprite,U=b.width>>5,N=t[0]>>5,P=b.x-(U<<4),Q=P&127,R=32-Q,H=b.y1-b.y0;let G,K=(b.y+b.y0)*N+(P>>5);for(let W=0;W<H;W++){G=0;for(let X=0;X<=U;X++)m[K+X]|=G<<R|(X<U?(G=L[W*U+X])>>>Q:0);K+=N}return delete b.sprite,!0}return!1}return p.createMask=m=>{const b=document.createElement("canvas"),[B,x]=t;if(!B||!x)return;const C=B>>5,O=jI((B>>5)*x);b.width=B,b.height=x;const _=b.getContext("2d");_.drawImage(m,0,0,m.width,m.height,0,0,B,x);const S=_.getImageData(0,0,B,x).data;for(let F=0;F<x;F++)for(let M=0;M<B;M++){const T=C*F+(M>>5),k=F*B+M<<2,U=S[k]>=250&&S[k+1]>=250&&S[k+2]>=250?1<<31-M%32:0;O[T]|=U}p.board=O,p.hasImage=!0},p.timeInterval=function(m){f=m??1/0},p.words=function(m){l=m},p.size=function(m=[]){t=[+m[0],+m[1]]},p.text=function(m){n=xo(m)},p.font=function(m){e=xo(m)},p.fontWeight=function(m){i=xo(m)},p.rotate=function(m){a=xo(m)},p.canvas=function(m){d=xo(m)},p.spiral=function(m){s=ZCt[m]||m},p.fontSize=function(m){r=xo(m)},p.padding=function(m){o=xo(m)},p.random=function(m){A=xo(m)},p.on=function(m){c=xo(m)},p}var tOt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},eOt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const nOt={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function rOt(t){return new Promise((n,e)=>{if(t instanceof HTMLImageElement){n(t);return}if(typeof t=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>n(r),r.onerror=()=>{console.error(`'image ${t} load failed !!!'`),e()};return}e()})}function iOt(t,n){if(typeof t=="function")return t;if(Array.isArray(t)){const[e,r]=t;if(!n)return()=>(r+e)/2;const[i,a]=n;return a===i?()=>(r+e)/2:({value:o})=>(r-e)/(a-i)*(o-i)+e}return()=>t}const X8=(t,n)=>e=>tOt(void 0,void 0,void 0,function*(){const r=Object.assign({},nOt,t,{canvas:n.createCanvas}),i=JCt();yield NCt(i,r).set("fontSize",m=>{const b=e.map(B=>B.value);return iOt(m,[bi(b),He(b)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",rOt,i.createMask),i.words([...e]);const a=i.start(),[o,s]=r.size,A=[{x:0,y:0},{x:o,y:s}],{_bounds:c=A,_tags:l,hasImage:u}=a,f=l.map(m=>{var{x:b,y:B,font:x}=m,C=eOt(m,["x","y","font"]);return Object.assign(Object.assign({},C),{x:b+o/2,y:B+s/2,fontFamily:x})}),[{x:d,y:h},{x:p,y:v}]=c,y={text:"",value:0,opacity:0,fontSize:0};return f.push(Object.assign(Object.assign({},y),{x:u?0:d,y:u?0:h}),Object.assign(Object.assign({},y),{x:u?o:p,y:u?s:v})),f});X8.props={};function $I(t){return typeof t=="string"?n=>n[t]:t}const q8=t=>{const{join:n,on:e,select:r=[],as:i=r,unknown:a=NaN}=t,[o,s]=e,A=$I(s),c=$I(o),l=yx(n,([u])=>u,u=>A(u));return u=>u.map(f=>{const d=l.get(c(f));return Object.assign(Object.assign({},f),r.reduce((h,p,v)=>(h[i[v]]=d?d[p]:a,h),{}))})};q8.props={};const Z8=t=>{const{start:n,end:e}=t;return r=>r.slice(n,e)};Z8.props={};var V1={exports:{}},Y1={exports:{}},GI;function aOt(){return GI||(GI=1,(function(t){var n=t.exports;t.exports.isNumber=function(e){return typeof e=="number"},t.exports.findMin=function(e){if(e.length===0)return 1/0;for(var r=e[0],i=1;i<e.length;i++)r=Math.min(r,e[i]);return r},t.exports.findMax=function(e){if(e.length===0)return-1/0;for(var r=e[0],i=1;i<e.length;i++)r=Math.max(r,e[i]);return r},t.exports.findMinMulti=function(e){for(var r=n.findMin(e[0]),i=1;i<e.length;i++)r=Math.min(r,n.findMin(e[i]));return r},t.exports.findMaxMulti=function(e){for(var r=n.findMax(e[0]),i=1;i<e.length;i++)r=Math.max(r,n.findMax(e[i]));return r},t.exports.inside=function(e,r,i){return e<=i&&i<=r}})(Y1)),Y1.exports}var KI;function oOt(){return KI||(KI=1,(function(t){var n=50,e=2,r=Math.log(2),i=t.exports,a=aOt();function o(A){return 1-Math.abs(A)}t.exports.getUnifiedMinMax=function(A,c){return i.getUnifiedMinMaxMulti([A],c)},t.exports.getUnifiedMinMaxMulti=function(A,c){c=c||{};var l=!1,u=!1,f=a.isNumber(c.width)?c.width:e,d=a.isNumber(c.size)?c.size:n,h=a.isNumber(c.min)?c.min:(l=!0,a.findMinMulti(A)),p=a.isNumber(c.max)?c.max:(u=!0,a.findMaxMulti(A)),v=p-h,y=v/(d-1);return l&&(h=h-2*f*y),u&&(p=p+2*f*y),{min:h,max:p}},t.exports.create=function(A,c){if(c=c||{},!A||A.length===0)return[];var l=a.isNumber(c.size)?c.size:n,u=a.isNumber(c.width)?c.width:e,f=i.getUnifiedMinMax(A,{size:l,width:u,min:c.min,max:c.max}),d=f.min,h=f.max,p=h-d,v=p/(l-1);if(p===0)return[{x:d,y:1}];for(var y=[],m=0;m<l;m++)y.push({x:d+m*v,y:0});var b=function(M){return Math.floor((M-d)/v)},B=s(o,u),x=B[u],C=B[u-1]-B[u-2],O=0;A.forEach(function(M){var T=b(M);if(!(T+u<0||T-u>=y.length)){var k=Math.max(T-u,0),L=T,U=Math.min(T+u,y.length-1),N=k-(T-u),P=T+u-U,Q=B[-u-1+N]||0,R=B[-u-1+P]||0,H=x/(x-Q-R);N>0&&(O+=H*(N-1)*C);var G=Math.max(0,T-u+1);a.inside(0,y.length-1,G)&&(y[G].y+=H*1*C),a.inside(0,y.length-1,L+1)&&(y[L+1].y-=H*2*C),a.inside(0,y.length-1,U+1)&&(y[U+1].y+=H*1*C)}});var _=O,S=0,F=0;return y.forEach(function(M){S+=M.y,_+=S,M.y=_,F+=_}),F>0&&y.forEach(function(M){M.y/=F}),y};function s(A,c){for(var l={},u=0,f=-c;f<=c;f++)u+=A(f/c),l[f]=u;return l}t.exports.getExpectedValueFromPdf=function(A){if(!(!A||A.length===0)){var c=0;return A.forEach(function(l){c+=l.x*l.y}),c}},t.exports.getXWithLeftTailArea=function(A,c){if(!(!A||A.length===0)){for(var l=0,u=0,f=0;f<A.length&&(u=f,l+=A[f].y,!(l>=c));f++);return A[u].x}},t.exports.getPerplexity=function(A){if(!(!A||A.length===0)){var c=0;return A.forEach(function(l){var u=Math.log(l.y);isFinite(u)&&(c+=l.y*u)}),c=-c/r,Math.pow(2,c)}}})(V1)),V1.exports}var sOt=oOt();const AOt=bB(sOt),J8=t=>{const{field:n,groupBy:e,as:r=["y","size"],min:i,max:a,size:o=10,width:s}=t,[A,c]=r;return l=>Array.from(Je(l,f=>e.map(d=>f[d]).join("-")).values()).map(f=>{const d=AOt.create(f.map(v=>v[n]),{min:i,max:a,size:o,width:s}),h=d.map(v=>v.x),p=d.map(v=>v.y);return Object.assign(Object.assign({},f[0]),{[A]:h,[c]:p})})};J8.props={};function cOt(t,n,e,r){r=r||{};const i=r.maxIterations||100,a=r.tolerance||1e-10,o=t(n),s=t(e);let A=e-n;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return n;if(s===0)return e;for(let c=0;c<i;++c){A/=2;const l=n+A,u=t(l);if(u*o>=0&&(n=l),Math.abs(A)<a||u===0)return l}return n+A}function nB(t){const n=new Array(t);for(let e=0;e<t;++e)n[e]=0;return n}function zI(t,n){return nB(t).map(()=>nB(n))}function el(t,n){let e=0;for(let r=0;r<t.length;++r)e+=t[r]*n[r];return e}function rB(t){return Math.sqrt(el(t,t))}function iB(t,n,e){for(let r=0;r<n.length;++r)t[r]=n[r]*e}function Fo(t,n,e,r,i){for(let a=0;a<t.length;++a)t[a]=n*e[a]+r*i[a]}function lOt(t,n,e){e=e||{};const r=e.maxIterations||n.length*200,i=e.nonZeroDelta||1.05,a=e.zeroDelta||.001,o=e.minErrorDelta||1e-6,s=e.minErrorDelta||1e-5,A=e.rho!==void 0?e.rho:1,c=e.chi!==void 0?e.chi:2,l=e.psi!==void 0?e.psi:-.5,u=e.sigma!==void 0?e.sigma:.5;let f;const d=n.length,h=new Array(d+1);h[0]=n,h[0].fx=t(n),h[0].id=0;for(let x=0;x<d;++x){const C=n.slice();C[x]=C[x]?C[x]*i:a,h[x+1]=C,h[x+1].fx=t(C),h[x+1].id=x+1}function p(x){for(let C=0;C<x.length;C++)h[d][C]=x[C];h[d].fx=x.fx}const v=(x,C)=>x.fx-C.fx,y=n.slice(),m=n.slice(),b=n.slice(),B=n.slice();for(let x=0;x<r;++x){if(h.sort(v),e.history){const O=h.map(_=>{const S=_.slice();return S.fx=_.fx,S.id=_.id,S});O.sort((_,S)=>_.id-S.id),e.history.push({x:h[0].slice(),fx:h[0].fx,simplex:O})}f=0;for(let O=0;O<d;++O)f=Math.max(f,Math.abs(h[0][O]-h[1][O]));if(Math.abs(h[0].fx-h[d].fx)<o&&f<s)break;for(let O=0;O<d;++O){y[O]=0;for(let _=0;_<d;++_)y[O]+=h[_][O];y[O]/=d}const C=h[d];if(Fo(m,1+A,y,-A,C),m.fx=t(m),m.fx<h[0].fx)Fo(B,1+c,y,-c,C),B.fx=t(B),B.fx<m.fx?p(B):p(m);else if(m.fx>=h[d-1].fx){let O=!1;if(m.fx>C.fx?(Fo(b,1+l,y,-l,C),b.fx=t(b),b.fx<C.fx?p(b):O=!0):(Fo(b,1-l*A,y,l*A,C),b.fx=t(b),b.fx<m.fx?p(b):O=!0),O){if(u>=1)break;for(let _=1;_<h.length;++_)Fo(h[_],1-u,h[0],u,h[_]),h[_].fx=t(h[_])}}else p(m)}return h.sort(v),{fx:h[0].fx,x:h[0]}}function uOt(t,n,e,r,i,a,o){const s=e.fx,A=el(e.fxprime,n);let c=s,l=s,u=A,f=0;i=i||1,a=a||1e-6,o=o||.1;function d(h,p,v){for(let y=0;y<16;++y)if(i=(h+p)/2,Fo(r.x,1,e.x,i,n),c=r.fx=t(r.x,r.fxprime),u=el(r.fxprime,n),c>s+a*i*A||c>=v)p=i;else{if(Math.abs(u)<=-o*A)return i;u*(p-h)>=0&&(p=h),h=i,v=c}return 0}for(let h=0;h<10;++h){if(Fo(r.x,1,e.x,i,n),c=r.fx=t(r.x,r.fxprime),u=el(r.fxprime,n),c>s+a*i*A||h&&c>=l)return d(f,i,l);if(Math.abs(u)<=-o*A)return i;if(u>=0)return d(i,f,c);l=c,f=i,i*=2}return i}function fOt(t,n,e){let r={x:n.slice(),fx:0,fxprime:n.slice()},i={x:n.slice(),fx:0,fxprime:n.slice()};const a=n.slice();let o,s=1;e=e||{};const A=e.maxIterations||n.length*20;r.fx=t(r.x,r.fxprime);const c=r.fxprime.slice();iB(c,r.fxprime,-1);for(let l=0;l<A;++l){if(s=uOt(t,c,r,i,s),e.history&&e.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),!s)iB(c,r.fxprime,-1);else{Fo(a,1,i.fxprime,-1,r.fxprime);const u=el(r.fxprime,r.fxprime),f=Math.max(0,el(a,i.fxprime)/u);Fo(c,f,c,-1,i.fxprime),o=r,r=i,i=o}if(rB(r.fxprime)<=1e-5)break}return e.history&&e.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),r}const t6=1e-10;function e6(t,n){const e=hOt(t),r=e.filter(function(A){return dOt(A,t)});let i=0,a=0,o;const s=[];if(r.length>1){const A=pOt(r);for(o=0;o<r.length;++o){const l=r[o];l.angle=Math.atan2(l.x-A.x,l.y-A.y)}r.sort(function(l,u){return u.angle-l.angle});let c=r[r.length-1];for(o=0;o<r.length;++o){const l=r[o];a+=(c.x+l.x)*(l.y-c.y);const u={x:(l.x+c.x)/2,y:(l.y+c.y)/2};let f=null;for(let d=0;d<l.parentIndex.length;++d)if(c.parentIndex.indexOf(l.parentIndex[d])>-1){const h=t[l.parentIndex[d]],p=Math.atan2(l.x-h.x,l.y-h.y),v=Math.atan2(c.x-h.x,c.y-h.y);let y=v-p;y<0&&(y+=2*Math.PI);const m=v-y/2;let b=Vf(u,{x:h.x+h.radius*Math.sin(m),y:h.y+h.radius*Math.cos(m)});b>h.radius*2&&(b=h.radius*2),(f===null||f.width>b)&&(f={circle:h,width:b,p1:l,p2:c})}f!==null&&(s.push(f),i+=aB(f.circle.radius,f.width),c=l)}}else{let A=t[0];for(o=1;o<t.length;++o)t[o].radius<A.radius&&(A=t[o]);let c=!1;for(o=0;o<t.length;++o)if(Vf(t[o],A)>Math.abs(A.radius-t[o].radius)){c=!0;break}c?i=a=0:(i=A.radius*A.radius*Math.PI,s.push({circle:A,p1:{x:A.x,y:A.y+A.radius},p2:{x:A.x-t6,y:A.y+A.radius},width:A.radius*2}))}return a/=2,n&&(n.area=i+a,n.arcArea=i,n.polygonArea=a,n.arcs=s,n.innerPoints=r,n.intersectionPoints=e),i+a}function dOt(t,n){for(let e=0;e<n.length;++e)if(Vf(t,n[e])>n[e].radius+t6)return!1;return!0}function hOt(t){const n=[];for(let e=0;e<t.length;++e)for(let r=e+1;r<t.length;++r){const i=r6(t[e],t[r]);for(let a=0;a<i.length;++a){const o=i[a];o.parentIndex=[e,r],n.push(o)}}return n}function aB(t,n){return t*t*Math.acos(1-n/t)-(t-n)*Math.sqrt(n*(2*t-n))}function Vf(t,n){return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}function n6(t,n,e){if(e>=t+n)return 0;if(e<=Math.abs(t-n))return Math.PI*Math.min(t,n)*Math.min(t,n);const r=t-(e*e-n*n+t*t)/(2*e),i=n-(e*e-t*t+n*n)/(2*e);return aB(t,r)+aB(n,i)}function r6(t,n){const e=Vf(t,n),r=t.radius,i=n.radius;if(e>=r+i||e<=Math.abs(r-i))return[];const a=(r*r-i*i+e*e)/(2*e),o=Math.sqrt(r*r-a*a),s=t.x+a*(n.x-t.x)/e,A=t.y+a*(n.y-t.y)/e,c=-(n.y-t.y)*(o/e),l=-(n.x-t.x)*(o/e);return[{x:s+c,y:A-l},{x:s-c,y:A+l}]}function pOt(t){const n={x:0,y:0};for(let e=0;e<t.length;++e)n.x+=t[e].x,n.y+=t[e].y;return n.x/=t.length,n.y/=t.length,n}function gOt(t,n){n=n||{},n.maxIterations=n.maxIterations||500;const e=n.initialLayout||wOt,r=n.lossFunction||HC;t=vOt(t);const i=e(t,n),a=[],o=[];let s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));const c=lOt(function(l){const u={};for(let f=0;f<o.length;++f){const d=o[f];u[d]={x:l[2*f],y:l[2*f+1],radius:i[d].radius}}return r(u,t)},a,n).x;for(let l=0;l<o.length;++l)s=o[l],i[s].x=c[2*l],i[s].y=c[2*l+1];return i}const i6=1e-10;function oB(t,n,e){return Math.min(t,n)*Math.min(t,n)*Math.PI<=e+i6?Math.abs(t-n):cOt(function(r){return n6(t,n,r)-e},0,t+n)}function vOt(t){t=t.slice();const n=[],e={};let r,i,a,o;for(r=0;r<t.length;++r){const s=t[r];s.sets.length==1?n.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],e[[a,o]]=!0,e[[o,a]]=!0)}for(n.sort((s,A)=>s>A?1:-1),r=0;r<n.length;++r)for(a=n[r],i=r+1;i<n.length;++i)o=n[i],[a,o]in e||t.push({sets:[a,o],size:0});return t}function yOt(t,n,e){const r=zI(n.length,n.length),i=zI(n.length,n.length);return t.filter(function(a){return a.sets.length==2}).map(function(a){const o=e[a.sets[0]],s=e[a.sets[1]],A=Math.sqrt(n[o].size/Math.PI),c=Math.sqrt(n[s].size/Math.PI),l=oB(A,c,a.size);r[o][s]=r[s][o]=l;let u=0;a.size+1e-10>=Math.min(n[o].size,n[s].size)?u=1:a.size<=1e-10&&(u=-1),i[o][s]=i[s][o]=u}),{distances:r,constraints:i}}function mOt(t,n,e,r){let i=0,a;for(a=0;a<n.length;++a)n[a]=0;for(a=0;a<e.length;++a){const o=t[2*a],s=t[2*a+1];for(let A=a+1;A<e.length;++A){const c=t[2*A],l=t[2*A+1],u=e[a][A],f=r[a][A],d=(c-o)*(c-o)+(l-s)*(l-s),h=Math.sqrt(d),p=d-u*u;f>0&&h<=u||f<0&&h>=u||(i+=2*p*p,n[2*a]+=4*p*(o-c),n[2*a+1]+=4*p*(s-l),n[2*A]+=4*p*(c-o),n[2*A+1]+=4*p*(l-s))}}return i}function wOt(t,n){let e=BOt(t,n);const r=n.lossFunction||HC;if(t.length>=8){const i=bOt(t,n),a=r(i,t),o=r(e,t);a+1e-8<o&&(e=i)}return e}function bOt(t,n){n=n||{};const e=n.restarts||10,r=[],i={};let a;for(a=0;a<t.length;++a){const p=t[a];p.sets.length==1&&(i[p.sets[0]]=r.length,r.push(p))}const o=yOt(t,r,i);let s=o.distances;const A=o.constraints,c=rB(s.map(rB))/s.length;s=s.map(function(p){return p.map(function(v){return v/c})});const l=function(p,v){return mOt(p,v,s,A)};let u,f;for(a=0;a<e;++a){const p=nB(s.length*2).map(Math.random);f=fOt(l,p,n),(!u||f.fx<u.fx)&&(u=f)}const d=u.x,h={};for(a=0;a<r.length;++a){const p=r[a];h[p.sets[0]]={x:d[2*a]*c,y:d[2*a+1]*c,radius:Math.sqrt(p.size/Math.PI)}}if(n.history)for(a=0;a<n.history.length;++a)iB(n.history[a].x,c);return h}function BOt(t,n){const e=n&&n.lossFunction?n.lossFunction:HC,r={},i={};let a;for(let u=0;u<t.length;++u){const f=t[u];f.sets.length==1&&(a=f.sets[0],r[a]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:f.size,radius:Math.sqrt(f.size/Math.PI)},i[a]=[])}t=t.filter(function(u){return u.sets.length==2});for(let u=0;u<t.length;++u){const f=t[u];let d=f.hasOwnProperty("weight")?f.weight:1;const h=f.sets[0],p=f.sets[1];f.size+i6>=Math.min(r[h].size,r[p].size)&&(d=0),i[h].push({set:p,size:f.size,weight:d}),i[p].push({set:h,size:f.size,weight:d})}const o=[];for(a in i)if(i.hasOwnProperty(a)){let u=0;for(let f=0;f<i[a].length;++f)u+=i[a][f].size*i[a][f].weight;o.push({set:a,size:u})}function s(u,f){return f.size-u.size}o.sort(s);const A={};function c(u){return u.set in A}function l(u,f){r[f].x=u.x,r[f].y=u.y,A[f]=!0}l({x:0,y:0},o[0].set);for(let u=1;u<o.length;++u){const f=o[u].set,d=i[f].filter(c);if(a=r[f],d.sort(s),d.length===0)throw"ERROR: missing pairwise overlap information";const h=[];for(let y=0;y<d.length;++y){const m=r[d[y].set],b=oB(a.radius,m.radius,d[y].size);h.push({x:m.x+b,y:m.y}),h.push({x:m.x-b,y:m.y}),h.push({y:m.y+b,x:m.x}),h.push({y:m.y-b,x:m.x});for(let B=y+1;B<d.length;++B){const x=r[d[B].set],C=oB(a.radius,x.radius,d[B].size),O=r6({x:m.x,y:m.y,radius:b},{x:x.x,y:x.y,radius:C});for(let _=0;_<O.length;++_)h.push(O[_])}}let p=1e50,v=h[0];for(let y=0;y<h.length;++y){r[f].x=h[y].x,r[f].y=h[y].y;const m=e(r,t);m<p&&(p=m,v=h[y])}l(v,f)}return r}function HC(t,n){let e=0;function r(i){return i.map(function(a){return t[a]})}for(let i=0;i<n.length;++i){const a=n[i];let o;if(a.sets.length==1)continue;if(a.sets.length==2){const A=t[a.sets[0]],c=t[a.sets[1]];o=n6(A.radius,c.radius,Vf(A,c))}else o=e6(r(a.sets));const s=a.hasOwnProperty("weight")?a.weight:1;e+=s*(o-a.size)*(o-a.size)}return e}function xOt(t){const n=function(e){const r=Math.max.apply(null,t.map(function(a){return a[e]+a.radius})),i=Math.min.apply(null,t.map(function(a){return a[e]-a.radius}));return{max:r,min:i}};return{xRange:n("x"),yRange:n("y")}}function COt(t,n,e,r){const i=[],a=[];for(const p in t)t.hasOwnProperty(p)&&(a.push(p),i.push(t[p]));n-=2*r,e-=2*r;const o=xOt(i),s=o.xRange,A=o.yRange;if(s.max==s.min||A.max==A.min)return console.log("not scaling solution: zero size detected"),t;const c=n/(s.max-s.min),l=e/(A.max-A.min),u=Math.min(l,c),f=(n-(s.max-s.min)*u)/2,d=(e-(A.max-A.min)*u)/2,h={};for(let p=0;p<i.length;++p){const v=i[p];h[a[p]]={radius:u*v.radius,x:r+f+(v.x-s.min)*u,y:r+d+(v.y-A.min)*u}}return h}function OOt(t,n,e){const r=[],i=t-e,a=n;return r.push("M",i,a),r.push("A",e,e,0,1,0,i+2*e,a),r.push("A",e,e,0,1,0,i,a),r.join(" ")}function EOt(t){const n={};e6(t,n);const e=n.arcs;if(e.length===0)return"M 0 0";if(e.length==1){const r=e[0].circle;return OOt(r.x,r.y,r.radius)}else{const r=[`
M`,e[0].p2.x,e[0].p2.y];for(let i=0;i<e.length;++i){const a=e[i],o=a.circle.radius,s=a.width>o;r.push(`
A`,o,o,0,s?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}}const a6=t=>{const{sets:n="sets",size:e="size",as:r=["key","path"],padding:i=0}=t,[a,o]=r;return s=>{const A=s.map(u=>Object.assign(Object.assign({},u),{sets:u[n],size:u[e],[a]:u.sets.join("&")}));A.sort((u,f)=>u.sets.length-f.sets.length);const c=gOt(A);let l;return A.map(u=>{const f=u[n],d=({width:h,height:p})=>{l=l||COt(c,h,p,i);const v=f.map(m=>l[m]);let y=EOt(v);return/[zZ]$/.test(y)||(y+=" Z"),y};return Object.assign(Object.assign({},u),{[o]:d})})}};a6.props={};const o6=()=>t=>(console.log("G2 data section:",t),t);o6.props={};function _Ot(t,n){if(n<0||n>1)throw new Error("alpha must be between 0 and 1.");if(t.length===0)return[];let e=t[0];const r=[];for(const i of t){if(i==null){r.push(i),console.warn("EMAThe value is null or undefined",t);continue}e==null&&(e=i);const a=e*n+(1-n)*i;r.push(a),e=a}return r}const s6=t=>{const{field:n="y",alpha:e=.6,as:r=n}=t;return i=>{const a=i.map(s=>s[n]),o=_Ot(a,e);return i.map((s,A)=>Object.assign(Object.assign({},s),{[r]:o[A]}))}};s6.props={};const A6=.01;function Yf(t){const{min:n,max:e}=t;return[[n[0],n[1]],[e[0],e[1]]]}function WI(t,n,e=A6){const[r,i]=t,[a,o]=n;return r>=a[0]-e&&r<=o[0]+e&&i>=a[1]-e&&i<=o[1]+e}function c6(t,n,e=A6){const[r,i]=t;return!(WI(r,n,e)&&WI(i,n,e))}function SOt(t,n){const[e,r]=t,[i,a]=n;return e[0]<a[0]&&r[0]>i[0]&&e[1]<a[1]&&r[1]>i[1]}const FOt=t=>{const{priority:n}=t;return e=>{const r=[];return n&&e.sort(n),e.forEach(i=>{Wv(i);const a=i.getLocalBounds();r.some(s=>SOt(Yf(a),Yf(s.getLocalBounds())))?xC(i):r.push(i)}),e}};function MOt([t,n],[e,r]){return r>t&&n>e}function Rp(){const t=new Map;return[r=>t.get(r),(r,i)=>t.set(r,i)]}function kOt(t){const n=t.cloneNode(!0),e=n.getElementById("connector");e&&n.removeChild(e);const{min:r,max:i}=n.getRenderBounds();return n.destroy(),{min:r,max:i}}const TOt=t=>{const{maxIterations:n=10,maxError:e=.1,padding:r=1}=t;return i=>{const a=i.length;if(a<=1)return i;const[o,s]=Rp(),[A,c]=Rp(),[l,u]=Rp(),[f,d]=Rp();for(const h of i){const{min:p,max:v}=kOt(h),[y,m]=p,[b,B]=v;s(h,m),c(h,m),u(h,B-m),d(h,[y,b])}for(let h=0;h<n;h++){i.sort((v,y)=>Sn(A(v),A(y)));let p=0;for(let v=0;v<a-1;v++){const y=i[v];let m=v+1,b;for(;(b=i[m])&&!MOt(f(y),f(b));)m+=1;if(b){const B=A(y),x=l(y),C=A(b),O=C-(B+x);if(O<r){const _=(r-O)/2;p=Math.max(p,_),c(y,B-_),c(b,C+_)}}}if(p<e)break}for(const h of i)h.style.y+=A(h)-o(h);return i}};function l6(t){return typeof t=="object"?t:xs(t)}function X1(t){let n=t/255;return n=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),n}function VI(t,n,e){return .2126*X1(t)+.7152*X1(n)+.0722*X1(e)}function u6(t,n){if(!t||!n||t===n)return 1;const{r:e,g:r,b:i}=t,{r:a,g:o,b:s}=n,A=VI(e,r,i),c=VI(a,o,s);return(Math.max(A,c)+.05)/(Math.min(A,c)+.05)}function f6(t,n){const e=Fl(n,r=>u6(t,l6(r)));return n[e]}const IOt=t=>{const{threshold:n=4.5,palette:e=["#000","#fff"]}=t;return r=>(r.forEach(i=>{const a=i.attr("dependentElement").parsedStyle.fill,o=i.parsedStyle.fill;u6(o,a)<n&&i.attr("fill",f6(a,e))}),r)},LOt=()=>t=>(t.forEach(n=>{Wv(n);const e=n.attr("bounds"),r=n.getLocalBounds();c6(Yf(r),e)&&xC(n)}),t),QOt=(t,n)=>{const[[e,r],[i,a]]=n,[[o,s],[A,c]]=t;let l=0,u=0;return o<e?l=e-o:A>i&&(l=i-A),s<r?u=r-s:c>a&&(u=a-c),[l,u]},UOt=(t,n)=>!t||!t.min||!t.max?!n||!n.min||!n.max?{min:[0,0],max:[0,0]}:n:!n||!n.min||!n.max?t:{min:[Math.min(t.min[0],n.min[0]),Math.min(t.min[1],n.min[1])],max:[Math.max(t.max[0],n.max[0]),Math.max(t.max[1],n.max[1])]},POt=(t={})=>(n,{canvas:e,layout:r})=>{const{bounds:i="view",offsetX:a=0,offsetY:o=0}=t,A=(()=>{if(i==="main"){const{x:c=0,y:l=0,width:u=0,height:f=0,marginLeft:d=0,marginRight:h=0,marginTop:p=0,marginBottom:v=0,paddingLeft:y=0,paddingRight:m=0,paddingTop:b=0,paddingBottom:B=0}=r;return[[c+d+y+a,l+p+b+o],[c+u-h-m-a,l+f-v-B-o]]}else{const{x:c=0,y:l=0,width:u=0,height:f=0}=r;return[[c+a,l+o],[c+u-a,l+f-o]]}})();return n.forEach(c=>{Wv(c);const{max:l,min:u}=UOt(c.getRenderBounds(),c.getBounds());if(!l||!u||l[0]===0&&l[1]===0&&u[0]===0&&u[1]===0)return;const[f,d]=l,[h,p]=u,v=QOt([[h,p],[f,d]],A);c.style.connector&&c.style.connectorPoints&&(c.style.connectorPoints[0][0]-=v[0],c.style.connectorPoints[0][1]-=v[1]),c.style.x+=v[0],c.style.y+=v[1]}),n};function YI(t){var n;const e=t.getAnimations();if(!e||e.length===0)return zf(t);const r=t.cloneNode(!0);r.style.visibility="hidden",e.forEach(a=>{const o=a.effect.getKeyframes();o&&o.length>0&&r.attr(o[o.length-1])}),(n=t.parentNode)===null||n===void 0||n.appendChild(r);const i=zf(r);return r.destroy(),i}const ROt=t=>{const{palette:n=["#000","#fff"],threshold:e=2}=t;return r=>(r.forEach(i=>{var a,o;const s=i.attr("dependentElement"),A=(o=(a=i.attributes.fill)!==null&&a!==void 0?a:i.parsedStyle.fill)!==null&&o!==void 0?o:"#fff",c=Yf(YI(i)),l=Yf(YI(s));if(c6(c,l,e)){const u=f6(l6(A),n);i.attr("stroke",u)}else i.removeAttribute("stroke")}),r)};function NOt(){return{"data.fetch":N8,"data.inline":z8,"data.sortBy":K8,"data.sort":j8,"data.filter":H8,"data.pick":$8,"data.rename":G8,"data.fold":D8,"data.slice":Z8,"data.custom":W8,"data.map":V8,"data.join":q8,"data.kde":J8,"data.log":o6,"data.wordCloud":X8,"data.ema":s6,"transform.stackY":V4,"transform.binX":C3,"transform.bin":Ux,"transform.dodgeX":i3,"transform.jitter":s3,"transform.jitterX":A3,"transform.jitterY":c3,"transform.symmetryY":l3,"transform.diffY":u3,"transform.stackEnter":a3,"transform.normalizeY":o3,"transform.select":Bv,"transform.selectX":f3,"transform.selectY":d3,"transform.groupX":h3,"transform.groupY":p3,"transform.groupColor":g3,"transform.group":dd,"transform.sortX":v3,"transform.sortY":m3,"transform.sortColor":y3,"transform.flexX":w3,"transform.pack":x3,"transform.sample":O3,"transform.filter":E3,"coordinate.cartesian":ZP,"coordinate.polar":ad,"coordinate.transpose":hx,"coordinate.theta":e4,"coordinate.parallel":gx,"coordinate.fisheye":r4,"coordinate.radial":px,"coordinate.radar":i4,"coordinate.helix":t4,"encode.constant":a4,"encode.field":s4,"encode.transform":o4,"encode.column":A4,"mark.interval":sN,"mark.rect":AN,"mark.line":cN,"mark.point":lN,"mark.text":uN,"mark.cell":fN,"mark.area":dN,"mark.link":F2,"mark.image":hN,"mark.polygon":pN,"mark.box":gN,"mark.vector":vN,"mark.lineX":mN,"mark.lineY":yN,"mark.connector":wN,"mark.range":bN,"mark.rangeX":BN,"mark.rangeY":xN,"mark.path":SN,"mark.shape":KN,"mark.density":ZN,"mark.heatmap":JN,"mark.wordCloud":L2,"mark.beeswarm":eD,"palette.category10":iD,"palette.category20":aD,"scale.linear":sD,"scale.ordinal":AD,"scale.band":oD,"scale.identity":cD,"scale.point":lD,"scale.time":uD,"scale.log":fD,"scale.pow":dD,"scale.sqrt":vD,"scale.threshold":hD,"scale.quantile":pD,"scale.quantize":gD,"scale.sequential":yD,"scale.constant":mD,"theme.classic":wD,"theme.classicDark":BD,"theme.academy":xD,"theme.light":N2,"theme.dark":bD,"component.axisX":ID,"component.axisY":LD,"component.legendCategory":SC,"component.legendContinuous":Ks,"component.legends":n8,"component.title":q5,"component.sliderX":Z5,"component.sliderY":J5,"component.scrollbarX":t8,"component.scrollbarY":e8,"animation.scaleInX":MC,"animation.scaleOutX":Rxt,"animation.scaleInY":r8,"animation.scaleOutY":Nxt,"animation.waveIn":A8,"animation.fadeIn":i8,"animation.fadeOut":a8,"animation.zoomIn":Xxt,"animation.zoomOut":qxt,"animation.pathIn":c8,"animation.morphing":s8,"animation.growInX":l8,"animation.growInY":u8,"interaction.elementHighlight":Yv,"interaction.elementHighlightByX":f8,"interaction.elementHighlightByColor":d8,"interaction.elementHoverScale":h8,"interaction.elementSelect":Xv,"interaction.elementSelectByX":p8,"interaction.elementSelectByColor":g8,"interaction.fisheye":c2t,"interaction.chartIndex":v8,"interaction.tooltip":E8,"interaction.legendFilter":dxt,"interaction.legendHighlight":x2t,"interaction.brushHighlight":qv,"interaction.brushXHighlight":F2t,"interaction.brushYHighlight":M2t,"interaction.brushAxisHighlight":N2t,"interaction.brushFilter":NC,"interaction.brushXFilter":$2t,"interaction.brushYFilter":G2t,"interaction.sliderFilter":Q8,"interaction.sliderWheel":U8,"interaction.scrollbarFilter":oCt,"interaction.poptip":P8,"interaction.treemapDrillDown":hCt,"interaction.drillDown":mCt,"interaction.elementPointMove":OCt,"composition.spaceLayer":YD,"composition.spaceFlex":XD,"composition.facetRect":eH,"composition.repeatMatrix":Dyt,"composition.facetCircle":zyt,"composition.timingKeyframe":nH,"labelTransform.overlapHide":FOt,"labelTransform.overlapDodgeY":TOt,"labelTransform.overflowHide":LOt,"labelTransform.contrastReverse":IOt,"labelTransform.overflowStroke":ROt,"labelTransform.exceedAdjust":POt}}function DOt(){return{"composition.geoView":kH,"composition.geoPath":rH}}function HOt(){return{"data.arc":k2,"data.cluster":VN,"mark.forceGraph":zN,"mark.tree":XN,"mark.pack":HN,"mark.sankey":EN,"mark.chord":_N,"mark.treemap":DN,"mark.partition":rD}}function jOt(){return{"data.venn":a6,"mark.boxplot":GN,"mark.gauge":qN,"mark.wordCloud":L2,"mark.liquid":tD}}function d6(){return Object.assign(Object.assign(Object.assign(Object.assign({},DOt()),HOt()),jOt()),NOt())}function $Ot(t,n){class e extends t{constructor(i){super(Object.assign(Object.assign({},i),{lib:n}))}}return e}const h6={};function p6(t,n){t.startsWith("symbol.")?kdt(t.split(".").pop(),n):Object.assign(h6,{[t]:n})}const kc=t=>t?parseInt(t):0;function GOt(t){const n=getComputedStyle(t),e=t.clientWidth||kc(n.width),r=t.clientHeight||kc(n.height),i=kc(n.paddingLeft)+kc(n.paddingRight),a=kc(n.paddingTop)+kc(n.paddingBottom);return{width:e-i,height:r-a}}function q1(t,n){const e=[t];for(;e.length;){const r=e.shift();n&&n(r);const i=r.children||[];for(const a of i)e.push(a)}}let jC=class{constructor(n={},e){this.parentNode=null,this.children=[],this.index=0,this.type=e,this.value=n}map(n=e=>e){const e=n(this.value);return this.value=e,this}attr(n,e){return arguments.length===1?this.value[n]:this.map(r=>(r[n]=e,r))}append(n){const e=new n({});return e.children=[],this.push(e),e}push(n){return n.parentNode=this,n.index=this.children.length,this.children.push(n),this}remove(){const n=this.parentNode;if(n){const{children:e}=n,r=e.findIndex(i=>i===this);e.splice(r,1)}return this}getNodeByKey(n){let e=null;return q1(this,i=>{n===i.attr("key")&&(e=i)}),e}getNodesByType(n){const e=[];return q1(this,i=>{n===i.type&&e.push(i)}),e}getNodeByType(n){let e=null;return q1(this,r=>{e||n===r.type&&(e=r)}),e}call(n,...e){return n(this.map(),...e),this}getRoot(){let n=this;for(;n&&n.parentNode;)n=n.parentNode;return n}};var g6=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const sB=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],v6="__remove__",y6="__callback__",XI=1,qI=1;function KOt(t){if(t===void 0){const n=document.createElement("div");return n[v6]=!0,n}return typeof t=="string"?document.getElementById(t):t}function zOt(t){const n=t.parentNode;n&&n.removeChild(t)}function WOt(t){if(t.type!==null)return t;const n=t.children[t.children.length-1];for(const e of sB)n.attr(e,t.attr(e));return n}function ZI(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function Z1(t,n){const{width:e,height:r,autoFit:i,depth:a=0}=t;let o=640,s=480;if(i){const{width:A,height:c}=GOt(n);o=A||o,s=c||s}return o=e||o,s=r||s,{width:Math.max(rn(o)?o:XI,XI),height:Math.max(rn(s)?s:qI,qI),depth:a}}function VOt(t){const n=WOt(t),e=[n],r=new Map;for(r.set(n,ZI(n));e.length;){const i=e.pop(),a=r.get(i),{children:o=[]}=i;for(const s of o)if(s.type===y6)a.children=s.value;else{const A=ZI(s),{children:c=[]}=a;c.push(A),e.push(s),r.set(s,A),a.children=c}}return r.get(n)}function YOt(t,n){return typeof t=="function"?!0:new Set(Object.keys(n)).has(t)}function XOt(t,n){return typeof t!="function"&&new Set(Object.keys(n)).has(t)}function qOt(t,n,e,r,i){const{type:a}=t,{type:o=e||a}=n;if(XOt(o,i)){for(const s of sB)t.attr(s)!==void 0&&n[s]===void 0&&(n[s]=t.attr(s));return n}if(YOt(o,r)){const s={type:"view"},A=Object.assign({},n);for(const c of sB)A[c]!==void 0&&(s[c]=A[c],delete A[c]);return Object.assign(Object.assign({},s),{children:[A]})}return n}function ZOt(t,n,e){if(typeof t=="function")return n.mark;const i=Object.assign(Object.assign({},n),e)[t];if(!i)throw new Error(`Unknown mark: ${t}.`);return i}function JOt(t,n,e){if(typeof t=="function"){const A=new jC;return A.value=t,A.type=y6,A}const{type:r,children:i}=t,a=g6(t,["type","children"]),o=ZOt(r,n,e),s=new o;return s.value=a,s.type=r,s}function tEt(t,n){const{type:e,children:r}=n,i=g6(n,["type","children"]);t.type===e||e===void 0?H4(t.value,i):typeof e=="string"&&(t.type=e,t.value=i)}function eEt(t,n,e,r){if(!t)return;const i=[[t,n]];for(;i.length;){const[a,o]=i.shift(),s=JOt(o,e,r);Array.isArray(a.children)&&a.push(s);const{children:A}=o;if(Array.isArray(A))for(const c of A)i.push([s,c]);else typeof A=="function"&&i.push([s,A])}}function nEt(t,n,e,r,i){const a=qOt(t,n,e,r,i),o=[[null,t,a]];for(;o.length;){const[s,A,c]=o.shift();if(!A)eEt(s,c,r,i);else if(!c)A.remove();else{tEt(A,c);const{children:l}=c,{children:u}=A;if(Array.isArray(l)&&Array.isArray(u)){const f=Math.max(l.length,u.length);for(let d=0;d<f;d++){const h=l[d],p=u[d];o.push([A,p,h])}}else typeof l=="function"&&o.push([A,null,l])}}}function rEt(){let t,n;return[new Promise((r,i)=>{n=r,t=i}),n,t]}function iEt(t,n,{key:e=n}){t.prototype[n]=function(r){return arguments.length===0?this.attr(e):this.attr(e,r)}}function aEt(t,n,{key:e=n}){t.prototype[n]=function(r){if(arguments.length===0)return this.attr(e);if(Array.isArray(r))return this.attr(e,r);const i=[...this.attr(e)||[],r];return this.attr(e,i)}}function oEt(t,n,{key:e=n}){t.prototype[n]=function(r,i){if(arguments.length===0)return this.attr(e);if(arguments.length===1&&typeof r!="string")return this.attr(e,r);const a=this.attr(e)||{};return a[r]=arguments.length===1?!0:i,this.attr(e,a)}}function sEt(t,n,e){t.prototype[n]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,{items:r});if(pl(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(n,r);if(r===null||r===!1)return this.attr(n,r);const i=this.attr(n)||{},{items:a=[]}=i;return a.push(r),i.items=a,this.attr(n,i)}}function AEt(t,n,{ctor:e}){t.prototype[n]=function(r){const i=this.append(e);return n==="mark"&&(i.type=r),i}}function cEt(t,n,{ctor:e}){t.prototype[n]=function(){return this.type=null,this.append(e)}}function _0(t){return n=>{for(const[e,r]of Object.entries(t)){const{type:i}=r;i==="value"?iEt(n,e,r):i==="array"?aEt(n,e,r):i==="object"?oEt(n,e,r):i==="node"?AEt(n,e,r):i==="container"?cEt(n,e,r):i==="mix"&&sEt(n,e)}return n}}function JI(t){return Object.fromEntries(Object.entries(t).map(([n,e])=>[n,{type:"node",ctor:e}]))}const m6={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},lEt=Object.assign(Object.assign({},m6),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),uEt=Object.assign(Object.assign({},m6),{labelTransform:{type:"array"}});var fEt=function(t,n,e,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,n,e,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(n,e,a):o(n,e))||a);return i>3&&a&&Object.defineProperty(n,e,a),a};let S0=class extends jC{changeData(n){var e;const r=this.getRoot();if(r)return this.attr("data",n),!((e=this.children)===null||e===void 0)&&e.length&&this.children.forEach(i=>{i.attr("data",n)}),r?.render()}getView(){const n=this.getRoot(),{views:e}=n.getContext();if(e?.length)return e.find(r=>r.key===this._key)}getScale(){var n;return(n=this.getView())===null||n===void 0?void 0:n.scale}getScaleByChannel(n){const e=this.getScale();if(e)return e[n]}getCoordinate(){var n;return(n=this.getView())===null||n===void 0?void 0:n.coordinate}getTheme(){var n;return(n=this.getView())===null||n===void 0?void 0:n.theme}getGroup(){const n=this._key;return n?this.getRoot().getContext().canvas.getRoot().getElementById(n):void 0}show(){const n=this.getGroup();n&&!n.isVisible()&&Wv(n)}hide(){const n=this.getGroup();n&&n.isVisible()&&xC(n)}};S0=fEt([_0(uEt)],S0);var dEt=function(t,n,e,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,n,e,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(n,e,a):o(n,e))||a);return i>3&&a&&Object.defineProperty(n,e,a),a};let AB=class extends jC{changeData(n){const e=this.getRoot();if(e)return this.attr("data",n),e?.render()}getMark(){var n;const e=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(!e)return;const{markState:r}=e,i=Array.from(r.keys()).find(a=>a.key===this.attr("key"));return r.get(i)}getScale(){var n;const e=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(e)return e?.scale}getScaleByChannel(n){var e,r;const i=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(i)return(r=i?.scale)===null||r===void 0?void 0:r[n]}getGroup(){const n=this.attr("key");return n?this.getRoot().getContext().canvas.getRoot().getElementById(n):void 0}};AB=dEt([_0(lEt)],AB);var hEt=function(t,n,e,r){var i=arguments.length,a=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,n,e,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(n,e,a):o(n,e))||a);return i>3&&a&&Object.defineProperty(n,e,a),a},pEt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const gEt="G2_CHART_KEY";class vEt extends S0{constructor(n){const{container:e,canvas:r,renderer:i,plugins:a,lib:o,createCanvas:s}=n,A=pEt(n,["container","canvas","renderer","plugins","lib","createCanvas"]);super(A,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailingClear=null,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=NL(()=>{this.forceFit()},300),this._renderer=i||new XU,this._plugins=a||[],this._container=KOt(e),this._emitter=new JB,this._context={library:Object.assign(Object.assign({},o),h6),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const n=new Promise((a,o)=>DBt(this._computedOptions(),this._context,this._createResolve(a),this._createReject(o))),[e,r,i]=rEt();return n.then(r).then(()=>{if(this._trailingClear){const a=this.options();this._trailingClear(),this._trailing&&this.options(a)}}).catch(i).then(()=>{this._trailingClear=null,this._renderTrailing()}),e}options(n){if(arguments.length===0)return VOt(this);const{type:e}=n;return e&&(this._previousDefinedType=e),nEt(this,n,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(n,e,r){return this._emitter.on(n,e,r),this}once(n,e){return this._emitter.once(n,e),this}emit(n,...e){return this._emitter.emit(n,...e),this}off(n,e){return this._emitter.off(n,e),this}clear(n=!0){if(this._rendering){this._trailingClear=()=>{this.clear(n)},this._reset();return}const e=this.options();this.emit(Le.BEFORE_CLEAR),this._reset(),pI(e,this._context,!1,n),this.emit(Le.AFTER_CLEAR)}destroy(){const n=this.options();this.emit(Le.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),pI(n,this._context,!0),this._container[v6]&&zOt(this._container),this.emit(Le.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:n,height:e}=Z1(this.options(),this._container);if(n===this._width&&e===this._height)return Promise.resolve(this);this.emit(Le.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(Le.AFTER_CHANGE_SIZE)}),r}changeSize(n,e){if(n===this._width&&e===this._height)return Promise.resolve(this);this.emit(Le.BEFORE_CHANGE_SIZE),this.attr("width",n),this.attr("height",e);const r=this.render();return r.then(()=>{this.emit(Le.AFTER_CHANGE_SIZE)}),r}getDataByXY(n,e={}){const{shared:r=!1,series:i,facet:a=!1,startX:o=0,startY:s=0}=e,{canvas:A,views:c}=this._context,{document:l}=A,{x:u,y:f}=n,{coordinate:d,scale:h,markState:p,data:v,key:y}=c[0],m=l.getElementsByClassName(Ua),b=r?M=>M.__data__.x:M=>M,B=Je(m,b),x=l.getElementsByClassName(Jg)[0],C=ia(x),O=M=>Array.from(M.values()).some(T=>{var k,L;return((k=T.interaction)===null||k===void 0?void 0:k.seriesTooltip)||((L=T.channels)===null||L===void 0?void 0:L.some(U=>U.name==="series"&&U.values!==void 0))}),_=Qa(i,O(p)),S=M=>$t(M,"__data__.data",null),F=M=>M.map(S);try{if(_&&O(p)&&!a){const{selectedData:L}=O8({root:C,event:{offsetX:u,offsetY:f},elements:m,coordinate:d,scale:h,startX:o,startY:s}),U=v.get(`${y}-0`);return L.map(({index:N})=>U[N])}const M=C8({root:C,event:{offsetX:u,offsetY:f},elements:m,coordinate:d,scale:h,shared:r});if(gv(M))return Sx(M,v.get(y));const T=b(M),k=B.get(T);return k?F(k):[]}catch{const T=A.document.elementFromPointSync(u,f);return T?S(T):[]}}_create(){const{library:n}=this._context,e=a=>a.startsWith("mark.")||a==="component.axisX"||a==="component.axisY"||a==="component.legends",r=["mark.mark",...Object.keys(n).filter(e)];this._marks={};for(const a of r){const o=a.split(".").pop();class s extends AB{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(A){const c=this.append(s);return o==="mark"&&(c.type=A),c}}const i=["composition.view",...Object.keys(n).filter(a=>a.startsWith("composition.")&&a!=="composition.mark")];this._compositions=Object.fromEntries(i.map(a=>{const o=a.split(".").pop();let s=class extends S0{constructor(){super({},o)}};return s=hEt([_0(JI(this._marks))],s),[o,s]}));for(const a of Object.values(this._compositions))_0(JI(this._compositions))(a);for(const a of i){const o=a.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const n=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([e])=>e.startsWith("margin")||e.startsWith("padding")||e.startsWith("inset")||n.includes(e))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const n=this._trailingResolve.bind(this);this._trailingResolve=null,n(this)}).catch(n=>{const e=this._trailingReject.bind(this);this._trailingReject=null,e(n)}))}_createResolve(n){return()=>{this._rendering=!1,n(this)}}_createReject(n){return e=>{this._rendering=!1,n(e)}}_computedOptions(){const n=this.options(),{key:e=gEt}=n,{width:r,height:i,depth:a}=Z1(n,this._container);return this._width=r,this._height=i,this._key=e,Object.assign(Object.assign({key:this._key},n),{width:r,height:i,depth:a})}_createCanvas(){var n,e;const{width:r,height:i}=Z1(this.options(),this._container);this._plugins.push(new qP),this._plugins.forEach(o=>this._renderer.registerPlugin(o)),this._context.canvas=new LQ({container:this._container,width:r,height:i,renderer:this._renderer});const a=(e=(n=this._context.canvas)===null||n===void 0?void 0:n.getContextService())===null||e===void 0?void 0:e.getDomElement();a&&(a.style.display="block")}_addToTrailing(){var n;return(n=this._trailingResolve)===null||n===void 0||n.call(this,this),this._trailing=!0,new Promise((r,i)=>{this._trailingResolve=r,this._trailingReject=i})}_bindAutoFit(){const n=this.options(),{autoFit:e}=n;if(this._hasBindAutoFit){e||this._unbindAutoFit();return}e&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}Object.assign({},d6());var w6=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})},b6=function(t,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return A([c,l])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(e=0)),e;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){e.label=c[1];break}if(c[0]===6&&e.label<a[1]){e.label=a[1],a=c;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(c);break}a[2]&&e.ops.pop(),e.trys.pop();continue}c=n.call(t,e)}catch(l){c=[6,l],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},J1="__rc_react_root__",$C,cB,tL=!1;function yEt(){return w6(this,void 0,void 0,function(){var t,n,e,r,i;return b6(this,function(a){switch(a.label){case 0:if(tL)return[2];tL=!0,a.label=1;case 1:return a.trys.push([1,6,,7]),t=Pn.version||"",n=parseInt(t.split(".")[0],10),n>=18?[4,m_(()=>import("./index-DvoX4KWS.js").then(o=>o.c),__vite__mapDeps([0,1]))]:[3,3];case 2:return e=a.sent(),$C=e.createRoot,[3,5];case 3:return[4,m_(()=>import("./index-DvoX4KWS.js").then(o=>o.R),__vite__mapDeps([0,1]))];case 4:r=a.sent(),cB=r.render,r.unmountComponentAtNode,a.label=5;case 5:return[3,7];case 6:return i=a.sent(),console.warn("[react-render] Failed to load ReactDOM API:",i),[3,7];case 7:return[2]}})})}function mEt(t,n){n[J1]||(n[J1]=$C(n)),n[J1].render(t)}function wEt(t,n){if(!cB)throw new Error("ReactDOM.render not available");cB(t,n)}function bEt(t,n){return w6(this,void 0,void 0,function(){return b6(this,function(e){switch(e.label){case 0:return[4,yEt()];case 1:return e.sent(),$C?mEt(t,n):wEt(t,n),[2]}})})}var ig=new Map;typeof document<"u"&&ig.set("tooltip",document.createElement("div"));var BEt=function(t,n){n===void 0&&(n=!1);var e=null;if(n)e=ig.get("tooltip");else if(e=document.createElement("div"),t?.key){var r=ig.get(t.key);r?e=r:ig.set(t.key,e)}return bEt(t,e),e},lB=function(){return lB=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lB.apply(this,arguments)},xEt=function(t,n){if(n===void 0&&(n={}),typeof document>"u")return"loading";var e="";n&&Object.keys(n).forEach(function(o){e+="".concat(o,": ").concat(n[o],`;
`)});var r=t.attachShadow({mode:"open"}),i=document.createElement("div"),a=document.createElement("style");a.innerHTML=`.loading {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 80px;
  }
  .loading div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #ccc;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
    `.concat(e,`
  }
  .loading div:nth-child(1) {
    left: 8px;
    animation: loading1 0.6s infinite;
  }
  .loading div:nth-child(2) {
    left: 8px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(3) {
    left: 32px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(4) {
    left: 56px;
    animation: loading3 0.6s infinite;
  }
  @keyframes loading1 {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes loading3 {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes loading2 {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(24px, 0);
    }
  }
  `),i.classList.add("loading"),i.innerHTML="<div></div><div></div><div></div><div></div>",r.appendChild(a),r.appendChild(i)},CEt=function(t){var n=t.loadingTemplate,e=t.theme,r=e===void 0?"light":e,i=t.loading,a=va.useRef(null),o=typeof i=="object"?i:{},s=o.container,A=s===void 0?{}:s,c=o.icon,l=c===void 0?{}:c;va.useEffect(function(){!n&&a.current&&xEt(a.current,l)},[]);var u=function(){return n||va.createElement("div",{ref:a})};return va.createElement("div",{className:"charts-loading-container",style:lB({position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,background:r==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"},A)},u())},OEt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),EEt=(function(t){OEt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.state={hasError:!1},e.renderError=function(r){var i=e.props.errorTemplate;return typeof i=="function"?i(r):i||va.createElement("h5",null," ",r.message)},e}return n.getDerivedStateFromError=function(e){return{hasError:!0,error:e}},n.getDerivedStateFromProps=function(e,r){return r.children!==e.children?{children:e.children,hasError:!1,error:void 0}:null},n.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):va.createElement(Pn.Fragment,null,this.props.children)},n})(va.Component),tw,_Et=function(){return tw||(tw=document.createElement("canvas").getContext("2d")),tw},SEt=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))};J.memoize(function(t,n){n===void 0&&(n={});var e=n.fontSize,r=n.fontFamily,i=r===void 0?"sans-serif":r,a=n.fontWeight,o=n.fontStyle,s=n.fontVariant,A=_Et();return A.font=[o,a,s,"".concat(e,"px"),i].join(" "),A.measureText(J.isString(t)?t:"")},function(t,n){return n===void 0&&(n={}),SEt([t],J.values(n),!0).join("")});var FEt=function(t){var n=[/\breact\b/i,/\.jsx/,/children:\s*\[/,/\*\s*[#@]__PURE__\s*\*/],e=/(\w+)?\.createElement\(\s*(['"`])([^'"`]+)\2/g,r=new Set(["g","circle","ellipse","image","rect","line","polyline","polygon","text","path","html","mesh"]);if(n.some(function(a){return a.test(t)}))return!0;var i=t.match(e);return i?i.some(function(a){var o=a.match(/\.createElement\(\s*(['"`])([^'"`]+)\1/);return o&&!r.has(o[2].toLowerCase())}):!1},uB=function(){return uB=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uB.apply(this,arguments)};function MEt(t,n){var e=Pn.useRef(null),r=Pn.useRef(null),i=Pn.useRef(null),a=n.onReady,o=n.onEvent,s=function(l,u){var f;l===void 0&&(l="image/png");var d=(f=i.current)===null||f===void 0?void 0:f.getElementsByTagName("canvas")[0];return d?.toDataURL(l,u)},A=function(l,u,f){l===void 0&&(l="download"),u===void 0&&(u="image/png");var d=l;l.indexOf(".")===-1&&(d="".concat(l,".").concat(u.split("/")[1]));var h=s(u,f),p=document.createElement("a");return p.href=h,p.download=d,document.body.appendChild(p),p.click(),document.body.removeChild(p),p=null,d},c=function(l,u){if(u===void 0&&(u=!1),!!J.isObject(l)){var f=Object.keys(l),d=u;f.forEach(function(h){var p=l[h];h==="tooltip"&&(d=!0),J.isFunction(p)&&FEt("".concat(p))?l[h]=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return BEt(p.apply(void 0,v),d)}:J.isArray(p)?p.forEach(function(v){c(v,d)}):J.isObject(p)?c(p,d):d=u})}};return Pn.useEffect(function(){e.current&&!J.isEqual(r.current,n)&&(r.current=J.cloneDeep(n),c(n),e.current.update(n),e.current.render())},[n]),Pn.useEffect(function(){if(!i.current)return function(){return null};r.current||(r.current=J.cloneDeep(n)),c(n);var l=new t(i.current,uB({},n));l.toDataURL=s,l.downloadImage=A,l.render(),e.current=l,a&&a(l);var u=function(f){o&&o(l,f)};return l.on("*",u),function(){e.current&&(e.current.destroy(),e.current.off("*",u),e.current=void 0)}},[]),{chart:e,container:i}}const kEt={field:"value",size:[1,1],round:!1,padding:0,sort:(t,n)=>n.value-t.value,as:["x","y"],ignoreParentValue:!0},TEt="nodeIndex",Xf="childNodeCount",IEt="nodeAncestor",ew="Invalid field: it must be a string!";function LEt(t,n){const{field:e,fields:r}=t;if(sn(e))return e;if(Nn(e))return console.warn(ew),e[0];if(console.warn(`${ew} will try to get fields instead.`),sn(r))return r;if(Nn(r)&&r.length)return r[0];throw new TypeError(ew)}function QEt(t){const n=[];if(t&&t.each){let e,r;t.each(i=>{var a,o;i.parent!==e?(e=i.parent,r=0):r+=1;const s=kL((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(A=>n.find(c=>c.name===A.name)||A),({depth:A})=>A>0&&A<i.depth);i[IEt]=s,i[Xf]=((o=i.children)===null||o===void 0?void 0:o.length)||0,i[TEt]=r,n.push(i)})}else t&&t.eachNode&&t.eachNode(e=>{n.push(e)});return n}function UEt(t,n){n=RL({},kEt,n);const e=n.as;if(!Nn(e)||e.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');let r;try{r=LEt(n)}catch(A){console.warn(A)}const a=(A=>egt().size(n.size).round(n.round).padding(n.padding)(Il(A).sum(c=>df(c.children)?n.ignoreParentValue?0:c[r]-IL(c.children,(l,u)=>l+u[r],0):c[r]).sort(n.sort)))(t),o=e[0],s=e[1];return a.each(A=>{var c,l;A[o]=[A.x0,A.x1,A.x1,A.x0],A[s]=[A.y1,A.y1,A.y0,A.y0],A.name=A.name||((c=A.data)===null||c===void 0?void 0:c.name)||((l=A.data)===null||l===void 0?void 0:l.label),A.data.name=A.name,["x0","x1","y0","y1"].forEach(u=>{e.indexOf(u)===-1&&delete A[u]})}),QEt(a)}var PEt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};const nl="sunburst",GC="markType",B6="path",F0="ancestor-node";function REt(t){const{data:n,encode:e}=t,{color:r,value:i}=e,o=UEt(n,{field:i,type:"hierarchy.partition",as:["x","y"]}),s=[];return o.forEach(A=>{var c,l,u,f;if(A.depth===0)return null;let d=A.data.name;const h=[d];let p=Object.assign({},A);for(;p.depth>1;)d=`${(c=p.parent.data)===null||c===void 0?void 0:c.name} / ${d}`,h.unshift((l=p.parent.data)===null||l===void 0?void 0:l.name),p=p.parent;const v=Object.assign(Object.assign(Object.assign({},Zf(A.data,[i])),{[B6]:d,[F0]:p.data.name}),A);r&&r!==F0&&(v[r]=A.data[r]||((f=(u=A.parent)===null||u===void 0?void 0:u.data)===null||f===void 0?void 0:f[r])),s.push(v)}),s.map(A=>{const c=A.x.slice(0,2),l=[A.y[2],A.y[0]];return c[0]===c[1]&&(l[0]=l[1]=(A.y[2]+A.y[0])/2),Object.assign(Object.assign({},A),{x:c,y:l,fillOpacity:Math.pow(.85,A.depth)})})}const eL={id:nl,encode:{x:"x",y:"y",key:B6,color:F0,value:"value"},axis:{x:!1,y:!1},style:{[GC]:nl,stroke:"#fff",lineWidth:.5,fillOpacity:"fillOpacity",[Xf]:Xf,depth:"depth"},state:{active:{zIndex:2,stroke:"#000"},inactive:{zIndex:1,stroke:"#fff"}},legend:!1,interaction:{drillDown:!0},coordinate:{type:"polar",innerRadius:.2}},x6=t=>{const{encode:n,data:e=[]}=t,r=PEt(t,["encode","data"]),i=Object.assign(Object.assign({},r.coordinate),{innerRadius:Math.max($t(r,["coordinate","innerRadius"],.2),1e-5)}),a=Object.assign(Object.assign({},eL.encode),n),{value:o}=a,s=REt({encode:a,data:e});return[at({},eL,Object.assign(Object.assign({type:"rect",data:s,encode:a,tooltip:{title:"path",items:[A=>({name:o,value:A[o]})]}},r),{coordinate:i}))]};x6.props={};var NEt=function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,n||[])).next())})};const DEt=t=>t.querySelectorAll(".element").filter(n=>$t(n,["style",GC])===nl);function HEt(t){return Nt(t).select(`.${ks}`).node()}const jEt={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.85)",fontSize:12,y:1},active:{fill:"rgba(0, 0, 0, 0.5)"}};function $Et(t={}){const{breadCrumb:n={},isFixedColor:e=!1}=t,r=at({},jEt,n);return i=>{const{update:a,setState:o,container:s,view:A,options:c}=i,l=s.ownerDocument,u=HEt(s),f=c.marks.find(({id:b})=>b===nl),{state:d}=f,h=l.createElement("g");u.appendChild(h);const p=(b,B)=>NEt(this,void 0,void 0,function*(){if(h.removeChildren(),b){const x=l.createElement("text",{style:Object.assign({x:0,text:r.rootText,depth:0},r.style)});h.appendChild(x);let C="";const O=b?.split(" / ");let _=r.style.y,S=h.getBBox().width;const F=u.getBBox().width,M=O.map((T,k)=>{const L=l.createElement("text",{style:Object.assign(Object.assign({x:S,text:" / "},r.style),{y:_})});h.appendChild(L),S+=L.getBBox().width,C=`${C}${T} / `;const U=l.createElement("text",{name:C.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:T,x:S,depth:k+1},r.style),{y:_})});return h.appendChild(U),S+=U.getBBox().width,S>F&&(_=h.getBBox().height,S=0,L.attr({x:S,y:_}),S+=L.getBBox().width,U.attr({x:S,y:_}),S+=U.getBBox().width),U});[x,...M].forEach((T,k)=>{if(k===M.length)return;const L=Object.assign({},T.attributes);T.attr("cursor","pointer"),T.addEventListener("mouseenter",()=>{T.attr(r.active)}),T.addEventListener("mouseleave",()=>{T.attr(L)}),T.addEventListener("click",()=>{p(T.name,$t(T,["style","depth"]))})})}o("drillDown",x=>{const{marks:C}=x,O=C.map(_=>{if(_.id!==nl&&_.type!=="rect")return _;const{data:S}=_,F=Object.fromEntries(["color"].map(T=>[T,{domain:A.scale[T].getOptions().domain}])),M=S.filter(T=>{const k=T.path;return e||(T[F0]=k.split(" / ")[B]),b?new RegExp(`^${b}.+`).test(k):!0});return at({},_,e?{data:M,scale:F}:{data:M})});return Object.assign(Object.assign({},x),{marks:O})}),yield a()}),v=b=>{const B=b.target;if($t(B,["style",GC])!==nl||$t(B,["markType"])!=="rect"||!$t(B,["style",Xf]))return;const x=$t(B,["__data__","key"]),C=$t(B,["style","depth"]);B.style.cursor="pointer",p(x,C)};u.addEventListener("click",v);const y=R0(Object.assign(Object.assign({},d.active),d.inactive)),m=()=>{DEt(u).forEach(B=>{const x=$t(B,["style",Xf]);if($t(B,["style","cursor"])!=="pointer"&&x){B.style.cursor="pointer";const O=Zf(B.attributes,y);B.addEventListener("mouseenter",()=>{B.attr(d.active)}),B.addEventListener("mouseleave",()=>{B.attr(at(O,d.inactive))})}})};return u.addEventListener("mousemove",m),()=>{h.remove(),u.removeEventListener("click",v),u.removeEventListener("mousemove",m)}}}function GEt(){return{"interaction.drillDown":$Et,"mark.sunburst":x6}}var M0=function(){return M0=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},M0.apply(this,arguments)},KEt=$Ot(vEt,M0(M0({},d6()),GEt())),of=function(){return of=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},of.apply(this,arguments)},$e=function(t){var n=WEt(t),e=n.children,r=e===void 0?[]:e,i=J.omit(n,[].concat(C6,T0.map(function(c){return c.key}))),a=function(c){var l;return(l=ZEt.find(function(u){return u.key===c}))===null||l===void 0?void 0:l.callback},o=function(c,l,u){var f=a(l);f?f(c,l,u):c[l]=ms({},c[l],u)},s=function(c){Object.keys(c).forEach(function(l){if(c[l]){var u=T0.find(function(m){return m.key===l});if(u){var f=u.type,d=u.extendedProperties,h=u.defaultShapeConfig,p=h===void 0?{}:h;if(f){var v=c[l].tooltip;r.push(A(ms({},J.pick(c,d),p,{type:f},c[l],{tooltip:v||!1})))}else if(J.isArray(c[l])){var y=c[l].some(function(m){return m.type==="text"});c[l].forEach(function(m){r.push(A(of(of(of({},y?{data:[]}:{}),{tooltip:!1}),m)))})}}}})},A=function(c){return s(c),Object.keys(fB).forEach(function(l){var u=fB[l];if(!J.isUndefined(c[l]))if(J.isObject(u)){var f=u.value,d=u.target,h=f(c[l]);o(c,d,h)}else J.set(c,u,c[l])}),c};return r.forEach(function(c){var l=ms({},i,c);A(ms(c,l))}),s(n),zEt(n),t},nL=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))},zEt=function(t){var n=t.children,e=n===void 0?[]:n,r=Object.keys(fB).concat(T0.map(function(i){return i.key}));return r.forEach(function(i){delete t[i]}),e.forEach(function(i){Object.keys(i).forEach(function(a){r.includes(a)&&delete i[a]})}),Object.keys(t).forEach(function(i){nL(nL([],C6,!0),dB.map(function(a){return a.key}),!0).includes(i)||delete t[i]}),t},WEt=function(t){var n=t.options,e=n.children,r=e===void 0?[]:e;return r.forEach(function(i){Object.keys(i).forEach(function(a){J.isArray(i[a])&&a!=="data"&&(i[a]=i[a].filter(function(o){return!o[ag]}))})}),n},rL=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))},VEt=function(t,n){if(J.isArray(n))return n},ms=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return J.mergeWith.apply(void 0,rL(rL([],t,!1),[VEt],!1))};function k0(t){switch(typeof t){case"function":return t;case"string":return function(n){return J.get(n,[t])};default:return function(){return t}}}var Zv=function(t){var n=t.options,e=n.data;return J.get(e,"value")||J.get(e,"type")!=="fetch"&&J.isPlainObject(e)&&J.set(n,"data.value",e),t},rl=function(){return rl=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rl.apply(this,arguments)},YEt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},XEt=["renderer","plugins"],C6=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction","plugins"],ag="__transform__",qEt="__skipDelCustomKeys__",ts=function(t,n){return J.isBoolean(n)?{type:t,available:n}:rl({type:t},n)},fB={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",y1Field:"encode.y1",sizeField:"encode.size",setsField:"encode.sets",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",coordinateType:"coordinate.type",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(t){return ts("stackY",t)}},normalize:{target:"transform",value:function(t){return ts("normalizeY",t)}},percent:{target:"transform",value:function(t){return ts("normalizeY",t)}},group:{target:"transform",value:function(t){return ts("dodgeX",t)}},sort:{target:"transform",value:function(t){return ts("sortX",t)}},symmetry:{target:"transform",value:function(t){return ts("symmetryY",t)}},diff:{target:"transform",value:function(t){return ts("diffY",t)}},meta:{target:"scale",value:function(t){return t}},label:{target:"labels",value:function(t){return t}},shape:"style.shape",connectNulls:{target:"style",value:function(t){return J.isBoolean(t)?{connect:t}:t}},transpose:{target:"transpose",value:function(t){return ts("transpose",t)}}},nw=["xField","yField","seriesField","colorField","shapeField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],T0=[{key:"annotations",extendedProperties:[]},{key:"line",type:"line",extendedProperties:nw},{key:"connector",type:"connector",extendedProperties:[]},{key:"point",type:"point",extendedProperties:nw,defaultShapeConfig:{shapeField:"circle"}},{key:"area",type:"area",extendedProperties:nw}],ZEt=[{key:"transform",callback:function(t,n,e){var r;t[n]=t[n]||[];var i=e.available,a=i===void 0?!0:i,o=YEt(e,["available"]);if(a)t[n].push(rl((r={},r[ag]=!0,r),o));else{var s=t[n].indexOf(function(A){return A.type===e.type});s!==-1&&t[n].splice(s,1)}}},{key:"labels",callback:function(t,n,e){var r;if(!e||J.isArray(e)){t[n]=e||[];return}e.text||(e.text=t.yField),t[n]=t[n]||[],t[n].push(rl((r={},r[ag]=!0,r),e))}},{key:"transpose",callback:function(t,n,e){var r;e.available?t.coordinate={transform:[rl((r={},r[ag]=!0,r),e)]}:t.coordinate={}}}],dB=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],JEt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),I0=function(){return I0=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},I0.apply(this,arguments)},t_t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},O6=(function(t){JEt(n,t);function n(e){e===void 0&&(e={});var r=e.style,i=t_t(e,["style"]);return t.call(this,I0({style:I0({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},r)},i))||this}return n})(qi),e_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),L0=function(){return L0=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L0.apply(this,arguments)},n_t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},r_t=(function(t){e_t(n,t);function n(e){e===void 0&&(e={});var r=e.style,i=n_t(e,["style"]);return t.call(this,L0({style:L0({fill:"#eee"},r)},i))||this}return n})(YA),i_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),E6=(function(t){i_t(n,t);function n(e,r,i){var a=t.call(this,{style:ms(i,r)})||this;return a.chart=e,a}return n.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},n.prototype.disconnectedCallback=function(){},n.prototype.attributeChangedCallback=function(e){},n.prototype.update=function(e,r){var i;return this.attr(ms({},this.attributes,e||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},n.prototype.clear=function(){this.removeChildren()},n.prototype.getElementsLayout=function(){var e=this.chart.getContext().canvas,r=e.document.getElementsByClassName("element"),i=[];return r.forEach(function(a){var o=a.getBBox(),s=o.x,A=o.y,c=o.width,l=o.height,u=a.__data__;i.push({bbox:o,x:s,y:A,width:c,height:l,key:u.key,data:u})}),i},n.prototype.bindEvents=function(e,r){},n})(zA),a_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Q0=function(){return Q0=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Q0.apply(this,arguments)},o_t=(function(t){a_t(n,t);function n(e,r){return t.call(this,e,r,{type:n.tag})||this}return n.prototype.getConversionTagLayout=function(){var e=this.direction==="vertical",r=Array.from(this.getElementsLayout()).sort(function(x,C){return e?x.y-C.y:x.x-C.x}),i=r[0],a=i.x,o=i.y,s=i.height,A=i.width,c=i.data,l=["items",0,"value"],u=J.get(c,l),f=e?r[1].y-o-s:r[1].x-a-A,d=[],h=this.attributes,p=h.size,v=p===void 0?40:p,y=h.arrowSize,m=y===void 0?20:y,b=h.spacing,B=b===void 0?4:b;return r.forEach(function(x,C){if(C>0){var O=x.x,_=x.y,S=x.height,F=x.width,M=x.data,T=x.key,k=J.get(M,l),L=v/2;if(e){var U=O+F/2,N=_;d.push({points:[[U+L,N-f+B],[U+L,N-m-B],[U,N-B],[U-L,N-m-B],[U-L,N-f+B]],center:[U,N-f/2],width:f,value:[u,k],key:T})}else{var U=O,N=_+S/2;d.push({points:[[O-f+B,N-L],[O-m-B,N-L],[U-B,N],[O-m-B,N+L],[O-f+B,N+L]],center:[U-f/2,N],width:f,value:[u,k],key:T})}u=k}}),d},n.prototype.render=function(){this.setDirection(),this.drawConversionTag()},n.prototype.setDirection=function(){var e=this.chart.getCoordinate(),r=J.get(e,"options.transformations"),i="horizontal";r.forEach(function(a){a.includes("transpose")&&(i="vertical")}),this.direction=i},n.prototype.drawConversionTag=function(){var e=this,r=this.getConversionTagLayout(),i=this.attributes,a=i.style,o=i.text,s=o.style,A=o.formatter;r.forEach(function(c){var l=c.points,u=c.center,f=c.value,d=c.key,h=f[0],p=f[1],v=u[0],y=u[1],m=new r_t({style:Q0({points:l,fill:"#eee"},a),id:"polygon-".concat(d)}),b=new O6({style:Q0({x:v,y,text:J.isFunction(A)?A(h,p):(p/h*100).toFixed(2)+"%"},s),id:"text-".concat(d)});e.appendChild(m),e.appendChild(b)})},n.prototype.update=function(){this.clear(),this.drawConversionTag()},n.prototype.destroy=function(){this.clear()},n.tag="ConversionTag",n})(E6),hB=32,iL=16,aL=48,s_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),sf=function(){return sf=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sf.apply(this,arguments)},A_t=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},c_t=(function(t){s_t(n,t);function n(e,r){return t.call(this,e,r,{type:n.tag})||this}return n.prototype.render=function(){this.drawText()},n.prototype.getBidirectionalBarAxisTextLayout=function(){var e=this.attributes.layout,r=e==="vertical",i=this.getElementsLayout(),a=r?J.uniqBy(i,"x"):J.uniqBy(i,"y"),o=["title"],s=[],A=this.chart.getContext().views,c=J.get(A,[0,"layout"]),l=c.width,u=c.height;return a.forEach(function(f){var d=f.x,h=f.y,p=f.height,v=f.width,y=f.data,m=f.key,b=J.get(y,o);r?s.push({x:d+v/2,y:u,text:b,key:m}):s.push({x:l,y:h+p/2,text:b,key:m})}),J.uniqBy(s,"text").length!==s.length&&(s=Object.values(J.groupBy(s,"text")).map(function(f){var d,h=f.reduce(function(p,v){return p+(r?v.x:v.y)},0);return sf(sf({},f[0]),(d={},d[r?"x":"y"]=h/f.length,d))})),s},n.prototype.transformLabelStyle=function(e){var r={},i=/^label[A-Z]/;return Object.keys(e).forEach(function(a){i.test(a)&&(r[a.replace("label","").replace(/^[A-Z]/,function(o){return o.toLowerCase()})]=e[a])}),r},n.prototype.drawText=function(){var e=this,r=this.getBidirectionalBarAxisTextLayout(),i=this.attributes,a=i.layout,o=i.labelFormatter,s=A_t(i,["layout","labelFormatter"]);r.forEach(function(A){var c=A.x,l=A.y,u=A.text,f=A.key,d=new O6({style:sf({x:c,y:l,text:J.isFunction(o)?o(u):u,wordWrap:!0,wordWrapWidth:a==="horizontal"?hB*2:120,maxLines:2,textOverflow:"ellipsis"},e.transformLabelStyle(s)),id:"text-".concat(f)});e.appendChild(d)})},n.prototype.destroy=function(){this.clear()},n.prototype.update=function(){this.destroy(),this.drawText()},n.tag="BidirectionalBarAxisText",n})(E6),l_t={ConversionTag:o_t,BidirectionalBarAxisText:c_t},u_t=(function(){function t(n,e){this.container=new Map,this.chart=n,this.config=e,this.init()}return t.prototype.init=function(){var n=this;dB.forEach(function(e){var r,i=e.key,a=e.shape,o=n.config[i];if(o){var s=new l_t[a](n.chart,o),A=n.chart.getContext().canvas;A.appendChild(s),n.container.set(i,s)}else(r=n.container.get(i))===null||r===void 0||r.clear()})},t.prototype.update=function(){var n=this;this.container.size&&dB.forEach(function(e){var r=e.key,i=n.container.get(r);i?.update()})},t.prototype.destroy=function(){this.container.forEach(function(n){n.destroy()}),this.container.clear()},t})(),f_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Dc=function(){return Dc=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dc.apply(this,arguments)},oL="data-chart-source-type",Ie=(function(t){f_t(n,t);function n(e,r){var i=t.call(this)||this;return i.eventListeners=[],i.bindedEvents=!1,i.container=typeof e=="string"?document.getElementById(e):e,i.options=i.mergeOption(r),i.createG2(),i.bindEvents(),i}return n.prototype.getChartOptions=function(){return Dc(Dc({},J.pick(this.options,XEt)),{container:this.container})},n.prototype.getSpecOptions=function(){return this.type==="base"||this[qEt]?Dc(Dc({},this.options),this.getChartOptions()):this.options},n.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new KEt(this.getChartOptions()),this.container.setAttribute(oL,"Ant Design Charts")},n.prototype.bindEvents=function(){var e=this;if(this.chart){var r=function(i){i?.type&&e.emit(i.type,i)};this.chart.on("*",r),this.eventListeners.push(function(){var i;(i=e.chart)===null||i===void 0||i.off("*",r)})}},n.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},n.prototype.getDefaultOptions=function(){},n.prototype.render=function(){var e=this;this.type!=="base"&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){e.annotation?e.annotation.update():e.annotation=new u_t(e.chart,e.options),e.bindSizeSensor()})},n.prototype.update=function(e){this.options=this.mergeOption(e)},n.prototype.mergeOption=function(e){return ms({},this.getBaseOptions(),this.getDefaultOptions(),e)},n.prototype.changeData=function(e){this.chart.changeData(e)},n.prototype.changeSize=function(e,r){this.chart.changeSize(e,r)},n.prototype.destroy=function(){this.eventListeners.forEach(function(e){return e()}),this.eventListeners=[],this.annotation&&typeof this.annotation.destroy=="function"&&this.annotation.destroy(),this.annotation=null,this.chart.destroy(),this.off(),this.bindedEvents=!1,this.container.removeAttribute(oL)},n.prototype.execAdaptor=function(){var e=this.getSchemaAdaptor();e({chart:this.chart,options:this.options})},n.prototype.triggerResize=function(){this.chart.forceFit()},n.prototype.bindSizeSensor=function(){var e=this;if(!this.bindedEvents){var r=this.options.autoFit,i=r===void 0?!0:r;if(i){var a=function(){e.annotation&&e.annotation.update()};this.chart.on(Le.AFTER_CHANGE_SIZE,a),this.eventListeners.push(function(){var o;(o=e.chart)===null||o===void 0||o.off(Le.AFTER_CHANGE_SIZE,a)}),this.bindedEvents=!0}}},n})(JB),d_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),h_t=(function(t){d_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="base",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return function(e){return e}},n})(Ie),pB=function(){return pB=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pB.apply(this,arguments)};function p_t(t){var n=t.options,e=n.stack,r=n.tooltip,i=n.xField;if(!e)return t;var a=T0.map(function(s){return s.type}).filter(function(s){return!!s}),o=!1;return a.forEach(function(s){n[s]&&(o=!0,J.set(n,[s,"stack"],pB({y1:"y"},typeof e=="object"?e:{})))}),o&&!J.isBoolean(r)&&!r&&J.set(n,"tooltip",{title:i,items:[{channel:"y"}]}),t}function Qn(t){return J.flow(p_t)(t)}function g_t(t){var n=t.options.layout,e=n===void 0?"horizontal":n;return t.options.coordinate.transform=e!=="horizontal"?void 0:[{type:"transpose"}],t}function v_t(t){g_t(t);var n=t.options.layout,e=n===void 0?"horizontal":n;return t.options.children.forEach(function(r){var i;!((i=r?.coordinate)===null||i===void 0)&&i.transform&&(r.coordinate.transform=e!=="horizontal"?void 0:[{type:"transpose"}])}),t}function y_t(t){return J.flow(Qn,$e)(t)}var m_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),w_t=(function(t){m_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="area",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return y_t},n})(Ie),Hc=function(){return Hc=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hc.apply(this,arguments)};function _6(t){var n=function(e){var r=e.options;J.get(r,"children.length")>1&&J.set(r,"children",[{type:"interval"}]);var i=r.scale,a=r.markBackground,o=r.data,s=r.children,A=r.yField,c=J.get(i,"y.domain",[]);if(a&&c.length&&J.isArray(o)){var l="domainMax",u=o.map(function(f){var d;return Hc(Hc({originData:Hc({},f)},J.omit(f,A)),(d={},d[l]=c[c.length-1],d))});s.unshift(Hc({type:"interval",data:u,yField:l,tooltip:!1,style:{fill:"#eee"},label:!1},a))}return e};return J.flow(n,Qn,$e)(t)}var b_t=function(){var t=function(n,e){return function(r){var i=n.fill,a=i===void 0?"#2888FF":i,o=n.stroke,s=n.fillOpacity,A=s===void 0?1:s,c=n.strokeOpacity,l=c===void 0?.2:c,u=n.pitch,f=u===void 0?8:u,d=r[0],h=r[1],p=r[2],v=r[3],y=(h[1]-d[1])/2,m=e.document,b=m.createElement("g",{}),B=m.createElement("polygon",{style:{points:[d,[d[0]-f,d[1]+y],[p[0]-f,d[1]+y],v],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l,inset:30}}),x=m.createElement("polygon",{style:{points:[[d[0]-f,d[1]+y],h,p,[p[0]-f,d[1]+y]],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l}}),C=m.createElement("polygon",{style:{points:[d,[d[0]-f,d[1]+y],h,[d[0]+f,d[1]+y]],fill:a,fillOpacity:A-.2}});return b.appendChild(B),b.appendChild(x),b.appendChild(C),b}};p6("shape.interval.bar25D",t)},B_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();b_t();var x_t=(function(t){B_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="Bar",e}return n.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return _6},n})(Ie),C_t=function(){var t=function(n,e){return function(r){var i=n.fill,a=i===void 0?"#2888FF":i,o=n.stroke,s=n.fillOpacity,A=s===void 0?1:s,c=n.strokeOpacity,l=c===void 0?.2:c,u=n.pitch,f=u===void 0?8:u,d=r[1][0]-r[0][0],h=d/2+r[0][0],p=e.document,v=p.createElement("g",{}),y=p.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[h,r[1][1]+f],[h,r[3][1]+f],[r[3][0],r[3][1]]],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l,inset:30}}),m=p.createElement("polygon",{style:{points:[[h,r[1][1]+f],[r[1][0],r[1][1]],[r[2][0],r[2][1]],[h,r[2][1]+f]],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l}}),b=p.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[h,r[1][1]-f],[r[1][0],r[1][1]],[h,r[1][1]+f]],fill:a,fillOpacity:A-.2}});return v.appendChild(m),v.appendChild(y),v.appendChild(b),v}};p6("shape.interval.column25D",t)},O_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();C_t();var E_t=(function(t){O_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="column",e}return n.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return _6},n})(Ie);function __t(t){var n=function(r){var i=r.options,a=i.children,o=a===void 0?[]:a,s=i.legend;return s&&o.forEach(function(A){if(!J.get(A,"colorField")){var c=J.get(A,"yField");J.set(A,"colorField",function(){return c})}}),r},e=function(r){var i=r.options,a=i.annotations,o=a===void 0?[]:a,s=i.children,A=s===void 0?[]:s,c=i.scale,l=!1;return J.get(c,"y.key")||A.forEach(function(u,f){if(!J.get(u,"scale.y.key")){var d="child".concat(f,"Scale");J.set(u,"scale.y.key",d);var h=u.annotations,p=h===void 0?[]:h;p.length>0&&(J.set(u,"scale.y.independent",!1),p.forEach(function(v){J.set(v,"scale.y.key",d)})),!l&&o.length>0&&J.get(u,"scale.y.independent")===void 0&&(l=!0,J.set(u,"scale.y.independent",!1),o.forEach(function(v){J.set(v,"scale.y.key",d)}))}}),r};return J.flow(n,e,Qn,$e)(t)}var S_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),sL=(function(t){S_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="DualAxes",e}return n.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return __t},n})(Ie);function F_t(t){var n=function(a){var o=a.options,s=o.xField,A=o.colorField;return A||J.set(o,"colorField",s),a},e=function(a){var o=a.options,s=o.compareField,A=o.transform,c=o.isTransposed,l=c===void 0?!0:c,u=o.coordinate;return A||(s?J.set(o,"transform",[]):J.set(o,"transform",[{type:"symmetryY"}])),!u&&l&&J.set(o,"coordinate",{transform:[{type:"transpose"}]}),a},r=function(a){var o=a.options,s=o.compareField,A=o.seriesField,c=o.data,l=o.children,u=o.yField,f=o.isTransposed,d=f===void 0?!0:f;if(s||A){var h=Object.values(J.groupBy(c,function(p){return p[s||A]}));l[0].data=h[0],l.push({type:"interval",data:h[1],yField:function(p){return-p[u]}}),delete o.compareField,delete o.data}return A&&(J.set(o,"type","spaceFlex"),J.set(o,"ratio",[1,1]),J.set(o,"direction",d?"row":"col"),delete o.seriesField),a},i=function(a){var o=a.options,s=o.tooltip,A=o.xField,c=o.yField;return s||J.set(o,"tooltip",{title:!1,items:[function(l){return{name:l[A],value:l[c]}}]}),a};return J.flow(n,e,r,i,Qn,$e)(t)}var M_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),k_t=(function(t){M_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="column",e}return n.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return F_t},n})(Ie);function T_t(t){return J.flow(Qn,$e)(t)}var I_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),L_t=(function(t){I_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="line",e}return n.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return T_t},n})(Ie),Ui=function(){return Ui=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ui.apply(this,arguments)};function Q_t(t){var n=function(e){var r=e.options,i=r.angleField,a=r.data,o=r.label,s=r.tooltip,A=r.colorField,c=k0(A);if(J.isArray(a)&&a.length>0){var l=a.reduce(function(d,h){return d+h[i]},0);if(l===0){var u=a.map(function(d){var h;return Ui(Ui({},d),(h={},h[i]=1,h))});if(J.set(r,"data",u),o){var f=A===J.get(o,"text");J.set(r,"label",Ui(Ui({},o),f?{}:{formatter:function(){return 0}}))}s!==!1&&(J.isFunction(s)?J.set(r,"tooltip",function(d,h,p){var v;return s(Ui(Ui({},d),(v={},v[i]=0,v)),h,p.map(function(y){var m;return Ui(Ui({},y),(m={},m[i]=0,m))}))}):J.set(r,"tooltip",Ui(Ui({},s),{items:[function(d,h,p){return{name:c(d,h,p),value:0}}]})))}else J.set(r,"tooltip",s),J.set(r,"label",o)}return e};return J.flow(n,$e)(t)}var U_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),P_t=(function(t){U_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="pie",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Q_t},n})(Ie);function R_t(t){return J.flow(Qn,$e)(t)}var N_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),D_t=(function(t){N_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="scatter",e}return n.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return R_t},n})(Ie);function H_t(t){var n=function(e){return J.set(e,"options.coordinate",{type:J.get(e,"options.coordinateType","polar")}),e};return J.flow(n,$e)(t)}var j_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),$_t=(function(t){j_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="radar",e}return n.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return H_t},n})(Ie);function G_t(t){var n=function(e){var r=e.options,i=r.yField,a=r.children,o=r.style,s=o===void 0?{}:o,A=r.lineStyle,c=A===void 0?{}:A,l=i[0],u=i[1],f=i[2],d=i[3];return J.set(a,[0,"yField"],[f,d]),J.set(a,[0,"style"],c),J.set(a,[1,"yField"],[l,u]),J.set(a,[1,"style"],s),delete r.yField,delete r.lineStyle,delete r.style,e};return J.flow(n,$e)(t)}var K_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),z_t=["#26a69a","#999999","#ef5350"],W_t=(function(t){K_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="stock",e}return n.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:z_t},y:{nice:!0}},children:[{type:"link"},{type:"interval"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return G_t},n})(Ie);function V_t(t){return J.flow(Qn,$e)(t)}var Y_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),X_t=(function(t){Y_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="TinyLine",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],padding:0,margin:0,tooltip:!1}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return V_t},n})(Ie);function q_t(t){return J.flow(Qn,$e)(t)}var Z_t=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),J_t=(function(t){Z_t(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="TinyArea",e}return n.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return q_t},n})(Ie);function tSt(t){return J.flow(Qn,$e)(t)}var eSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),nSt=(function(t){eSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="TinyColumn",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return tSt},n})(Ie),gB=function(){return gB=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gB.apply(this,arguments)};function rSt(t){var n=function(e){var r=e.options,i=r.percent,a=r.color,o=a===void 0?[]:a;if(!i)return e;var s={scale:{color:{range:o.length?o:[]}},data:[1,i]};return Object.assign(r,gB({},s)),e};return J.flow(n,Qn,$e)(t)}var iSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),aSt=(function(t){iSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="TinyProgress",e}return n.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(e){return e},color:function(e,r){return r}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return rSt},n})(Ie),vB=function(){return vB=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vB.apply(this,arguments)};function oSt(t){var n=function(r){var i=r.options,a=i.radius,o=a===void 0?.8:a;return J.set(r,"options.coordinate.innerRadius",o),r},e=function(r){var i=r.options,a=i.percent,o=i.color,s=o===void 0?[]:o;if(!a)return r;var A={scale:{color:{range:s.length?s:[]}},data:[1,a]};return Object.assign(i,vB({},A)),r};return J.flow(n,e,Qn,$e)(t)}var sSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ASt=(function(t){sSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="TinyRing",e}return n.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(e){return e},color:function(e,r){return r}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return oSt},n})(Ie);function cSt(t){return J.flow($e)(t)}var lSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),uSt=(function(t){lSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="rose",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return cSt},n})(Ie),rw="__start__",es="__end__",yB="__waterfall_value__",U0=function(){return U0=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},U0.apply(this,arguments)},fSt=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))};function dSt(t){var n=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,A=a.yField;return s.length&&(s.reduce(function(c,l,u){var f,d=k0(A),h=d(l,u,s);if(u===0||l.isTotal)l[rw]=0,l[es]=h,l[yB]=h;else{var p=(f=c[es])!==null&&f!==void 0?f:d(c,u,s);l[rw]=p,l[es]=p+h,l[yB]=c[es]}return l},[]),Object.assign(a,{yField:[rw,es]})),i},e=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,A=a.xField,c=a.children,l=a.linkStyle,u=fSt([],s,!0);return u.reduce(function(f,d,h){return h>0&&(d.x1=f[A],d.x2=d[A],d.y1=f[es]),d},[]),u.shift(),c.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:u,style:U0({stroke:"#697474"},l),label:!1,tooltip:!1}),i},r=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,A=a.connector;return A&&J.set(a,"connector",U0({xField:A.reverse?["x2","x1"]:["x1","x2"],yField:A.reverse?["y2","y1"]:["y1","y2"],data:[{x1:s[0].x,y1:s[0][es],x2:s[s.length-1].x,y2:s[s.length-1][es]}]},J.isObject(A)?A:{})),i};return J.flow(n,e,Qn,r,$e)(t)}var hSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),pSt=(function(t){hSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="waterfall",e}return n.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:yB,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return dSt},n})(Ie);function gSt(t){var n=function(e){var r=e.options,i=r.data,a=r.binNumber,o=r.binWidth,s=r.children,A=r.channel,c=A===void 0?"count":A,l=J.get(s,"[0].transform[0]",{});return J.isNumber(o)?(J.assign(l,{thresholds:J.ceil(J.divide(i.length,o)),y:c}),e):(J.isNumber(a)&&J.assign(l,{thresholds:a,y:c}),e)};return J.flow(n,Qn,$e)(t)}var vSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ySt=(function(t){vSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="Histogram",e}return n.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return gSt},n})(Ie);function mSt(t){var n=function(r){var i=r.options,a=i.tooltip,o=a===void 0?{}:a,s=i.colorField,A=i.sizeField;return o&&!o.field&&(o.field=s||A),r},e=function(r){var i=r.options,a=i.mark,o=i.children;return a&&(o[0].type=a),r};return J.flow(n,e,Qn,$e)(t)}var wSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),bSt=(function(t){wSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="heatmap",e}return n.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return mSt},n})(Ie);function BSt(t){var n=function(e){var r=e.options.boxType,i=r===void 0?"box":r;return e.options.children[0].type=i,e};return J.flow(n,Qn,$e)(t)}var xSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),CSt=(function(t){xSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="box",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return BSt},n})(Ie),OSt=function(t){var n=t.options,e=n.data,r=[{type:"custom",callback:function(a){return{links:a}}}];if(J.isArray(e))e.length>0?J.set(n,"data",{value:e,transform:r}):delete n.children;else if(J.get(e,"type")==="fetch"&&J.get(e,"value")){var i=J.get(e,"transform");J.isArray(i)||J.set(e,"transform",r)}return t};function ESt(t){return J.flow(Zv,OSt,Qn,$e)(t)}var _St=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),SSt=(function(t){_St(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="sankey",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return ESt},n})(Ie),xA=function(){return xA=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xA.apply(this,arguments)},og=["#f0efff","#5B8FF9","#3D76DD"];function iw(t,n,e,r){r===void 0&&(r=!0);var i=0,a=!1,o=J.map(t,function(s){var A,c,l=J.get(s,[n]);if(J.isNil(l))return[];if(J.isString(l)){var u=Number(l);return isNaN(u)?[]:(A={},A[e]=s[e],A[n]=u,A)}return J.isArray(l)?(a=!0,i=Math.max(i,l.length),J.map(r?l.sort(function(f,d){return d-f}):l,function(f,d){var h;return h={},h[e]=s[e],h[n]=f,h.index=d,h})):(i=Math.max(1,i),c={},c[e]=s[e],c[n]=l,c)}).flat();return a?[o.map(function(s){return xA({index:0},s)}),i]:[o,i]}function aw(t,n){return new Array(t).fill("").map(function(e,r){return J.isArray(n)?n[r%n.length]:n})}function FSt(t){var n=function(i){var a=i.options,o=a.color,s=a.rangeField,A=s===void 0?"ranges":s,c=a.measureField,l=c===void 0?"measures":c,u=a.targetField,f=u===void 0?"targets":u,d=a.xField,h=d===void 0?"title":d,p=a.mapField,v=a.data,y=iw(v,A,h),m=y[0],b=y[1],B=iw(v,l,h,!1),x=B[0],C=B[1],O=iw(v,f,h,!1),_=O[0],S=O[1],F=J.get(o,[A],og[0]),M=J.get(o,[l],og[1]),T=J.get(o,[f],og[2]),k=[aw(b,F),aw(C,M),aw(S,T)].flat();return a.children=J.map(a.children,function(L,U){var N=[m,x,_][U],P=[A,l,f][U];return xA(xA({},L),{data:N,encode:xA(xA({},L.encode||{}),{x:h,y:P,color:function(Q){var R=Q.index,H=J.isNumber(R)?"".concat(P,"_").concat(R):P;return p?J.get(p,[P,R],H):H}})})}),J.set(a,"scale.color.range",k),J.get(a,"legend.color")&&J.isNil(J.get(a,"legend.color.itemMarker"))&&(a.legend.color.itemMarker=function(L){return p&&J.includes(p?.[f],L)||L?.replace(/\_\d$/,"")===f?"line":"square"}),i},e=function(i){var a=i.options.transpose,o=a===void 0?!0:a;return o||J.set(i,"options.children[2].shapeField","hyphen"),i},r=function(i){var a=i.options,o=a.range,s=o===void 0?{}:o,A=a.measure,c=A===void 0?{}:A,l=a.target,u=l===void 0?{}:l,f=a.children;return a.children=[s,c,u].map(function(d,h){return ms(f[h],d)}),i};return J.flow(n,e,r,v_t,$e)(t)}var MSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),kSt=(function(t){MSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="bullet",e}return n.getDefaultOptions=function(){return{type:"view",scale:{color:{range:og}},legend:{color:{itemMarker:function(e){return e==="targets"?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30,zIndex:-2},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20,zIndex:-1},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return FSt},n})(Ie);function TSt(t){var n=function(e){var r=e.options.data;return e.options.data={value:r},e};return J.flow(n,Qn,$e)(t)}var ISt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),LSt=(function(t){ISt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="Gauge",e}return n.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return TSt},n})(Ie);function QSt(t){var n=function(e){var r=e.options.percent;return J.isNumber(r)&&(J.set(e,"options.data",r),delete e.options.percent),e};return J.flow(n,Qn,$e)(t)}var USt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),PSt=(function(t){USt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="Liquid",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return QSt},n})(Ie);function RSt(t){return J.flow(Qn,$e)(t)}var NSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),DSt=(function(t){NSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="WordCloud",e}return n.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return RSt},n})(Ie);function HSt(t){return J.flow(Zv,Qn,$e)(t)}var jSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),$St=(function(t){jSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="treemap",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return HSt},n})(Ie),ss=function(){return ss=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ss.apply(this,arguments)},GSt=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e};function KSt(t){var n=function(i){var a=i.options,o=a.startAngle,s=a.maxAngle,A=a.coordinate,c=J.isNumber(o)?o/(2*Math.PI)*360:-90,l=J.isNumber(s)?(Number(s)+c)/180*Math.PI:Math.PI;return J.set(i,["options","coordinate"],ss(ss({},A),{endAngle:l,startAngle:o??-Math.PI/2})),i},e=function(i){var a=i.options,o=a.tooltip,s=a.xField,A=a.yField,c=k0(s),l=k0(A);return o||J.set(a,"tooltip",{title:!1,items:[function(u,f,d){return{name:c(u,f,d),value:l(u,f,d)}}]}),i},r=function(i){var a=i.options,o=a.markBackground,s=a.children,A=a.scale,c=a.coordinate,l=a.xField,u=J.get(A,"y.domain",[]);if(o){var f=o.style,d=GSt(o,["style"]);s.unshift(ss({type:"interval",xField:l,yField:u[u.length-1],style:ss({fillOpacity:.4,fill:"#e0e4ee"},f),coordinate:ss(ss({},c),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},d))}return i};return J.flow(n,e,r,Qn,$e)(t)}var zSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),WSt=(function(t){zSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="radial",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return KSt},n})(Ie);function VSt(t){return J.flow(Zv,$e)(t)}var YSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),XSt=(function(t){YSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="CirclePacking",e}return n.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack",encode:{color:"depth"}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return VSt},n})(Ie),P0=function(){return P0=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},P0.apply(this,arguments)};function ow(t,n){return t||n}function qSt(t){var n=function(e){var r=e.options,i=r.xField,a=r.yField,o=r.colorField,s=r.seriesField,A=r.children,c=A?.map(function(l){return P0(P0({},l),{xField:i,yField:a,seriesField:ow(s,o),colorField:ow(o,s),data:l.type==="density"?{transform:[{type:"kde",field:a,groupBy:[i,ow(s,o)]}]}:l.data})}).filter(function(l){return r.box||l.type==="density"});return J.set(r,"children",c),delete r.box,e};return J.flow(n,Qn,$e)(t)}var ZSt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),JSt=(function(t){ZSt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="violin",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return qSt},n})(Ie),Af=function(){return Af=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Af.apply(this,arguments)},tFt=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return t.concat(a||Array.prototype.slice.call(n))};function eFt(t){var n=function(a){var o=a.options,s=o.yField,A=o.children;return A.forEach(function(c,l){J.set(c,"yField",s[l])}),a},e=function(a){var o=a.options,s=o.yField,A=o.children,c=o.data;if(J.isPlainObject(c))return a;var l=J.isArray(J.get(c,[0]))?c:[c,c];return A.forEach(function(u,f){J.set(u,"data",tFt([],l[f].map(function(d){return Af({groupKey:s[f]},d)}),!0))}),a},r=function(a){var o=a.options,s=o.yField,A=s[0],c=s[1],l=o.tooltip;return l||J.set(o,"tooltip",{items:[{field:A,value:A},{field:c,value:c}]}),a},i=function(a){var o=a.options,s=o.children,A=o.layout,c=o.coordinate.transform,l=o.paddingBottom,u=l===void 0?aL:l,f=o.paddingLeft,d=f===void 0?aL:f,h=o.axis;J.set(o,"axisText",Af(Af({},h?.x||{}),{layout:A}));var p=s[0],v=s[1];if(A==="vertical")J.set(o,"direction","col"),J.set(o,"paddingLeft",d),J.set(o,"coordinate.transform",c.filter(function(x){return x.type!=="transpose"})),J.set(p,"paddingBottom",iL),J.set(v,"paddingTop",iL),J.set(v,"axis.x.position","top"),J.set(v,"scale.y.range",[0,1]);else{J.set(o,"paddingBottom",u),J.set(p,"scale.y.range",[0,1]);var y=p.paddingRight,m=y===void 0?hB:y,b=v.paddingLeft,B=b===void 0?hB:b;J.set(p,"paddingRight",m),J.set(p,"axis.x.position","right"),J.set(v,"paddingLeft",B)}return a};return J.flow(n,e,r,i,Qn,$e)(t)}var nFt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),rFt=(function(t){nFt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="BidirectionalBar",e}return n.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return eFt},n})(Ie),ws;(function(t){t.color="key",t.d="path"})(ws||(ws={}));function iFt(t){var n=function(e){var r=e.options,i=r.data,a=r.setsField,o=r.sizeField;return J.isArray(i)&&(J.set(r,"data",{type:"inline",value:i,transform:[{type:"venn",sets:a,size:o,as:[ws.color,ws.d]}]}),J.set(r,"colorField",ws.color),J.set(r,["children","0","encode","d"],ws.d)),e};return J.flow(n,$e)(t)}var aFt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),oFt=(function(t){aFt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="venn",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:ws.color,d:ws.d}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return iFt},n})(Ie);function sFt(t){return J.flow(Zv,$e)(t)}var AFt=(function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),cFt=(function(t){AFt(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="Sunburst",e}return n.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return sFt},n})(Ie),lFt={Base:h_t,Line:L_t,Column:E_t,Pie:P_t,Area:w_t,Bar:x_t,DualAxes:sL,Funnel:k_t,Scatter:D_t,Radar:$_t,Rose:uSt,Stock:W_t,TinyLine:X_t,TinyArea:J_t,TinyColumn:nSt,TinyProgress:aSt,TinyRing:ASt,Waterfall:pSt,Histogram:ySt,Heatmap:bSt,Box:CSt,Sankey:SSt,Bullet:kSt,Gauge:LSt,Liquid:PSt,WordCloud:DSt,Treemap:$St,RadialBar:WSt,CirclePacking:XSt,Violin:JSt,BidirectionalBar:rFt,Venn:oFt,Mix:sL,Sunburst:cFt},cf=function(){return cf=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cf.apply(this,arguments)},AL=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},uFt=Pn.forwardRef(function(t,n){var e=t.chartType,r=e===void 0?"Base":e,i=AL(t,["chartType"]),a=i.containerStyle,o=a===void 0?{height:"inherit",flex:1}:a,s=i.containerAttributes,A=s===void 0?{}:s,c=i.className,l=i.loading,u=i.loadingTemplate,f=i.errorTemplate,d=i.onReady,h=AL(i,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate","onReady"]),p=MEt(lFt[r],cf(cf({},h),{onReady:function(y){n&&(typeof n=="function"?n(y):n.current=y),d?.(y)}})),v=p.container;return va.createElement(EEt,{errorTemplate:f},l&&va.createElement(CEt,{loadingTemplate:u,theme:i.theme,loading:l}),va.createElement("div",cf({className:c,style:o,ref:v},A)))}),fFt=Pn.createContext({});function dFt(){return Pn.useContext(fFt)}var mB=function(){return mB=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mB.apply(this,arguments)};function hFt(t){var n=t.yField,e=t.data,r=J.isArray(e)&&e.length>0&&J.isString(n)&&!J.get(t,"scale.y.domainMax"),i=Object.isFrozen(t)?mB({},t):t;return r&&e.reduce(function(a,o){return a+o[n]},0)===0?J.set(i,"scale.y.domainMax",1):r&&e.reduce(function(a,o){return a+o[n]},0)!==0&&J.set(i,"scale.y.domainMax",void 0),i}var lf=function(){return lf=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lf.apply(this,arguments)};function pFt(t){return t.charAt(0).toLowerCase()+t.slice(1),Pn.forwardRef(function(n,e){var r,i,a=dFt(),o=Pn.useMemo(function(){return t.charAt(0).toLowerCase()+t.slice(1)},[t]),s=J.flow([hFt])(n),A=lf(lf({},(r=a?.common)!==null&&r!==void 0?r:{}),(i=a?.[o])!==null&&i!==void 0?i:{});return va.createElement(uFt,lf({},A,s,{chartType:t,ref:e}))})}var gFt=pFt("Pie");function vFt(){return cL.get("/api/v1/admin/dashboard/stats")}function yFt(t=10){return cL.get("/api/v1/admin/dashboard/recent-orders",{params:{limit:t}})}function GFt(){const t=cW(),[n,e]=Pn.useState(!0),[r,i]=Pn.useState(null),[a,o]=Pn.useState([]);Pn.useEffect(()=>{s()},[]);const s=async()=>{e(!0);try{const[h,p]=await Promise.all([vFt(),yFt(5)]);i(h),o(p.items)}catch(h){console.error(":",h),i({total_users:128,total_orders:56,total_revenue:8960,total_courses:12,today_orders:3,today_revenue:480,course_status_distribution:[{status:"enrolling",count:5},{status:"ongoing",count:4},{status:"completed",count:3}]})}finally{e(!1)}},A=h=>h>=1e4?(h/1e4).toFixed(1)+"":h.toLocaleString(),c=[{title:"",value:r?.total_users||0,icon:Ft.jsx(lW,{}),gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",lightBg:"rgba(102, 126, 234, 0.1)",onClick:()=>t("/user/list")},{title:"",value:r?.total_orders||0,icon:Ft.jsx(uW,{}),gradient:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",lightBg:"rgba(17, 153, 142, 0.1)",onClick:()=>t("/order/list")},{title:"",value:r?.total_courses||0,icon:Ft.jsx(fW,{}),gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",lightBg:"rgba(245, 87, 108, 0.1)",onClick:()=>t("/course/list")},{title:"",value:r?.total_revenue||0,prefix:"",icon:Ft.jsx(C_,{}),gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",lightBg:"rgba(250, 112, 154, 0.1)",onClick:()=>t("/order/list")}],l={:"#667eea",:"#11998e",:"#f5576c"},u={data:r?.course_status_distribution?.map(h=>({type:b_[h.status]||h.status,value:h.count}))||[],angleField:"value",colorField:"type",radius:.85,innerRadius:.65,color:({type:h})=>l[h]||"#8884d8",label:{text:"value",style:{fontWeight:600,fill:"#fff"}},legend:{color:{title:!1,position:"bottom",rowPadding:8,itemMarker:"circle"}},annotations:[{type:"text",style:{text:"",x:"50%",y:"46%",textAlign:"center",fontSize:14,fontWeight:400,fill:"#86909c"}},{type:"text",style:{text:String(r?.total_courses||0),x:"50%",y:"54%",textAlign:"center",fontSize:24,fontWeight:700,fill:"#1d2129"}}]},f=[{title:"",key:"order_info",render:(h,p)=>Ft.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[Ft.jsx("a",{onClick:()=>t(`/order/detail/${p.id}`),style:{fontWeight:500,color:"#1d2129"},children:p.order_no}),Ft.jsx("span",{style:{fontSize:12,color:"#86909c"},children:p.user?.nickname||p.user?.phone||"-"})]})},{title:"",dataIndex:["course","name"],key:"course",render:(h,p)=>Ft.jsx("span",{style:{color:"#4e5969",maxWidth:150,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},children:p.course?.name||"-"})},{title:"",dataIndex:"pay_amount",key:"pay_amount",render:h=>Ft.jsxs("span",{style:{fontWeight:600,color:"#1d2129"},children:["",Number(h).toFixed(2)]})},{title:"",dataIndex:"status",key:"status",render:h=>Ft.jsx(mW,{color:pW[h],style:{borderRadius:4,fontWeight:500},children:hW[h]})},{title:"",dataIndex:"created_at",key:"created_at",render:h=>Ft.jsx("span",{style:{color:"#86909c",fontSize:13},children:B_(h).format("MM-DD HH:mm")})}],d=r?.course_status_distribution?.reduce((h,p)=>h+p.count,0)||0;return Ft.jsx(dW,{spinning:n,children:Ft.jsxs("div",{className:"fade-in",style:{maxWidth:1400,margin:"0 auto"},children:[Ft.jsxs("div",{style:{marginBottom:28},children:[Ft.jsx("h1",{style:{fontSize:26,fontWeight:700,color:"#1d2129",marginBottom:8,letterSpacing:"-0.5px"},children:""}),Ft.jsxs("p",{style:{color:"#86909c",fontSize:14,display:"flex",alignItems:"center",gap:6},children:[Ft.jsx(gW,{}),": ",B_().format("YYYYMMDD HH:mm")]})]}),Ft.jsx(fm,{gutter:[20,20],style:{marginBottom:28},children:c.map((h,p)=>Ft.jsx(Zl,{xs:24,sm:12,lg:6,children:Ft.jsx(Jl,{bordered:!1,hoverable:!0,onClick:h.onClick,style:{borderRadius:16,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.04)",cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden"},bodyStyle:{padding:0},children:Ft.jsxs("div",{style:{padding:"24px 20px",display:"flex",alignItems:"center",gap:16},children:[Ft.jsx("div",{style:{width:56,height:56,borderRadius:14,background:h.gradient,display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,color:"#fff",flexShrink:0,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:h.icon}),Ft.jsxs("div",{style:{flex:1,minWidth:0},children:[Ft.jsx("div",{style:{color:"#86909c",fontSize:13,marginBottom:6,fontWeight:500},children:h.title}),Ft.jsxs("div",{style:{fontSize:28,fontWeight:700,color:"#1d2129",lineHeight:1.2,letterSpacing:"-0.5px"},children:[h.prefix,A(h.value)]})]})]})})},p))}),Ft.jsxs(fm,{gutter:[20,20],style:{marginBottom:28},children:[Ft.jsx(Zl,{xs:24,md:12,children:Ft.jsx(Jl,{bordered:!1,style:{borderRadius:16,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.04)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",overflow:"hidden"},bodyStyle:{padding:0},children:Ft.jsxs("div",{style:{padding:"28px 24px",color:"#fff"},children:[Ft.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:20},children:[Ft.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[Ft.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:Ft.jsx(_W,{style:{fontSize:20}})}),Ft.jsx("span",{style:{fontSize:15,fontWeight:500,opacity:.95},children:""})]}),Ft.jsxs("div",{onClick:()=>t("/order/list"),style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",opacity:.8,fontSize:13},children:[" ",Ft.jsx(x_,{})]})]}),Ft.jsx("div",{style:{fontSize:48,fontWeight:700,lineHeight:1,letterSpacing:"-1px"},children:r?.today_orders||0}),Ft.jsx("div",{style:{marginTop:12,fontSize:13,opacity:.8,display:"flex",alignItems:"center",gap:4},children:Ft.jsxs("span",{children:[" ",r?.total_orders||0," "]})})]})})}),Ft.jsx(Zl,{xs:24,md:12,children:Ft.jsx(Jl,{bordered:!1,style:{borderRadius:16,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.04)",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",overflow:"hidden"},bodyStyle:{padding:0},children:Ft.jsxs("div",{style:{padding:"28px 24px",color:"#fff"},children:[Ft.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:20},children:[Ft.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[Ft.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:Ft.jsx(C_,{style:{fontSize:20}})}),Ft.jsx("span",{style:{fontSize:15,fontWeight:500,opacity:.95},children:""})]}),Ft.jsxs("div",{onClick:()=>t("/order/list"),style:{display:"flex",alignItems:"center",gap:4,cursor:"pointer",opacity:.8,fontSize:13},children:[" ",Ft.jsx(x_,{})]})]}),Ft.jsxs("div",{style:{fontSize:48,fontWeight:700,lineHeight:1,letterSpacing:"-1px"},children:["",A(r?.today_revenue||0)]}),Ft.jsx("div",{style:{marginTop:12,fontSize:13,opacity:.8,display:"flex",alignItems:"center",gap:4},children:Ft.jsxs("span",{children:[" ",A(r?.total_revenue||0)]})})]})})})]}),Ft.jsxs(fm,{gutter:[20,20],children:[Ft.jsx(Zl,{xs:24,lg:8,children:Ft.jsx(Jl,{bordered:!1,style:{borderRadius:16,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.04)",height:"100%"},styles:{header:{border:"none",paddingBottom:0},body:{paddingTop:12}},title:Ft.jsx("span",{style:{fontSize:16,fontWeight:600,color:"#1d2129"},children:""}),extra:Ft.jsx("span",{onClick:()=>t("/course/list"),style:{color:"#667eea",cursor:"pointer",fontSize:13,fontWeight:500},children:""}),children:r?.course_status_distribution?.length?Ft.jsxs("div",{children:[Ft.jsx(gFt,{...u,height:200}),Ft.jsx("div",{style:{marginTop:16},children:r.course_status_distribution.map((h,p)=>{const v=b_[h.status]||h.status,y=d>0?Math.round(h.count/d*100):0,m=l[v]||"#8884d8";return Ft.jsxs("div",{style:{marginBottom:12},children:[Ft.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[Ft.jsx("span",{style:{color:"#4e5969",fontSize:13},children:v}),Ft.jsxs("span",{style:{color:"#1d2129",fontWeight:600,fontSize:13},children:[h.count,"  (",y,"%)"]})]}),Ft.jsx(vW,{percent:y,showInfo:!1,strokeColor:m,trailColor:"#f2f3f5",size:"small"})]},p)})})]}):Ft.jsx(w_,{description:"",imageSize:100})})}),Ft.jsx(Zl,{xs:24,lg:16,children:Ft.jsx(Jl,{bordered:!1,style:{borderRadius:16,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.04)",height:"100%"},styles:{header:{border:"none",paddingBottom:0},body:{paddingTop:12}},title:Ft.jsx("span",{style:{fontSize:16,fontWeight:600,color:"#1d2129"},children:""}),extra:Ft.jsx("span",{onClick:()=>t("/order/list"),style:{color:"#667eea",cursor:"pointer",fontSize:13,fontWeight:500},children:""}),children:Ft.jsx(yW,{columns:f,dataSource:a,rowKey:"id",pagination:!1,size:"middle",style:{borderRadius:8},locale:{emptyText:Ft.jsx(w_,{description:"",imageSize:80})}})})})]})]})})}export{GFt as default};
