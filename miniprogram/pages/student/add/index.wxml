<!-- æ–°å¢/ç¼–è¾‘å­¦å‘˜é¡µé¢ -->
<view class="page-container">
  <!-- è¡¨å• -->
  <view class="form-section">
    <!-- è¯ä»¶ç±»å‹ -->
    <view class="form-item">
      <view class="form-label">è¯ä»¶ç±»å‹</view>
      <picker 
        class="form-picker"
        mode="selector"
        range="{{idTypes}}"
        range-key="label"
        value="{{idTypeIndex}}"
        bindchange="onIdTypeChange"
      >
        <view class="picker-value">
          {{idTypes[idTypeIndex].label}}
          <text class="picker-arrow">â€º</text>
        </view>
      </picker>
    </view>
    
    <!-- å§“å -->
    <view class="form-item {{errors.name ? 'error' : ''}}">
      <view class="form-label required">è¯ä»¶å§“å</view>
      <input 
        class="form-input"
        placeholder="è¯·è¾“å…¥çœŸå®å§“å"
        value="{{form.name}}"
        bindinput="onNameInput"
      />
      <view class="error-text" wx:if="{{errors.name}}">{{errors.name}}</view>
    </view>
    
    <!-- è¯ä»¶å·ç  -->
    <view class="form-item {{errors.id_number ? 'error' : ''}}">
      <view class="form-label required">è¯ä»¶å·ç </view>
      <input 
        class="form-input"
        placeholder="è¯·è¾“å…¥è¯ä»¶å·ç "
        value="{{form.id_number}}"
        bindinput="onIdNumberInput"
      />
      <view class="error-text" wx:if="{{errors.id_number}}">{{errors.id_number}}</view>
    </view>
    
    <!-- ç…§ç‰‡ -->
    <view class="form-item photo-item">
      <view class="form-label">ç…§ç‰‡</view>
      <view class="photo-upload">
        <view class="photo-preview" wx:if="{{form.photo}}">
          <image src="{{form.photo}}" mode="aspectFill"/>
          <view class="photo-delete" catchtap="onDeletePhoto">âœ•</view>
        </view>
        <view class="photo-add" wx:else bindtap="onChoosePhoto">
          <text class="add-icon">ğŸ“·</text>
          <text class="add-text">æ·»åŠ ç…§ç‰‡</text>
        </view>
      </view>
    </view>
    
    <!-- å‡ºç”Ÿæ—¥æœŸ -->
    <view class="form-item {{errors.birthday ? 'error' : ''}}">
      <view class="form-label required">å‡ºç”Ÿæ—¥æœŸ</view>
      <picker 
        class="form-picker"
        mode="date"
        start="{{startDate}}"
        end="{{endDate}}"
        value="{{form.birthday}}"
        bindchange="onBirthdayChange"
      >
        <view class="picker-value {{form.birthday ? '' : 'placeholder'}}">
          {{form.birthday || 'è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ'}}
          <text class="picker-arrow">â€º</text>
        </view>
      </picker>
      <view class="error-text" wx:if="{{errors.birthday}}">{{errors.birthday}}</view>
    </view>
    
    <!-- æ€§åˆ« -->
    <view class="form-item">
      <view class="form-label required">æ€§åˆ«</view>
      <picker 
        class="form-picker"
        mode="selector"
        range="{{genders}}"
        range-key="label"
        value="{{genderIndex}}"
        bindchange="onGenderChange"
      >
        <view class="picker-value">
          {{genders[genderIndex].label}}
          <text class="picker-arrow">â€º</text>
        </view>
      </picker>
    </view>
  </view>
  
  <!-- æç¤º -->
  <view class="notice-section">
    <view class="notice-icon">âš ï¸</view>
    <view class="notice-content">
      <text class="notice-title">é‡è¦æç¤º</text>
      <text class="notice-text">ä¸ªäººä¿¡æ¯ä»…ç”¨äºè´­ä¹°ä¿é™©ä½¿ç”¨ï¼Œè¯·å¡«å†™çœŸå®èº«ä»½ä¿¡æ¯ã€‚ä¿¡æ¯æœ‰è¯¯å°†å½±å“ä¿é™©ç”Ÿæ•ˆï¼Œç”±æ­¤äº§ç”Ÿçš„æŸå¤±è‡ªè´Ÿå…¨è´£ã€‚</text>
    </view>
  </view>
  
  <!-- åº•éƒ¨å ä½ -->
  <view class="bottom-placeholder"></view>
</view>

<!-- åº•éƒ¨æŒ‰é’® -->
<view class="bottom-bar">
  <button 
    class="submit-btn {{submitting ? 'loading' : ''}}"
    bindtap="onSubmit"
    disabled="{{submitting}}"
  >
    {{submitting ? 'æäº¤ä¸­...' : 'æäº¤'}}
  </button>
</view>
