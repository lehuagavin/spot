<!-- 支付页面 -->
<view class="page-container">
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
  </view>
  
  <block wx:elif="{{order}}">
    <!-- 状态提示 -->
    <view class="status-section">
      <view class="status-icon">⏳</view>
      <view class="status-text">等待支付</view>
      <view class="countdown">
        <text>订单将在 </text>
        <text class="time">{{countdownText}}</text>
        <text> 后自动取消</text>
      </view>
    </view>
    
    <!-- 订单信息 -->
    <view class="order-card">
      <view class="order-title">{{order.course_name}}</view>
      <view class="order-info">
        <text class="info-label">订单编号</text>
        <text class="info-value">{{order.id}}</text>
      </view>
    </view>
    
    <!-- 支付金额 -->
    <view class="amount-section">
      <text class="amount-label">支付金额</text>
      <view class="amount-value">
        <text class="amount-symbol">¥</text>
        <text class="amount-number">{{order.pay_amount || '80.00'}}</text>
      </view>
    </view>
    
    <!-- 退款说明 -->
    <view class="notice-section">
      <view class="notice-item">如遇到拼班未成功的情况，相应的金额会自动原路退回</view>
      <view class="notice-item">退款时间可能有几秒延迟，请耐心等候</view>
      <view class="notice-item">支付时如网络状态不佳可退出查看拼班记录</view>
      <view class="notice-item">请勿多次支付以免造成损失</view>
    </view>
  </block>
</view>

<view class="bottom-bar" wx:if="{{order}}">
  <button class="cancel-btn" bindtap="onCancel">取消订单</button>
  <button class="pay-btn" bindtap="onPay" disabled="{{paying}}">
    {{paying ? '支付中...' : '立即支付'}}
  </button>
</view>
